;/*FB_PKG_DELIM*/

__d("WebBloksDummy",[],(function(a,b,c,d,e,f){function a(){}f["default"]=a}),66);
__d("WebBloksFetchAsyncComponent",[],(function(a,b,c,d,e,f){function a(a,b,c,d,e){a.objectSet.componentQueryStore.fetch(b,c,d,"FETCH")}f["default"]=a}),66);
__d("WebBloksInvalidateCachedAsyncComponents",[],(function(a,b,c,d,e,f){function a(a,b,c){a.bloksContext.objectSet.componentQueryStore.invalidate(b,c)}f["default"]=a}),66);
__d("ACQWebBloksPrimitives",["WebBloksDummy","WebBloksFetchAsyncComponent","WebBloksInvalidateCachedAsyncComponents"],(function(a,b,c,d,e,f,g){a={};d={"bk.action.bloks.FetchAsyncComponents":c("WebBloksFetchAsyncComponent"),"bk.action.bloks.InvalidateCachedAsyncComponents":c("WebBloksInvalidateCachedAsyncComponents"),"bk.versioning.bloks.AsyncComponentAppIdExpression":b=c("WebBloksDummy"),"bk.versioning.bloks.AsyncComponentCacheTtlExpression":b,"bk.versioning.bloks.AsyncComponentClientParams":b,"bk.versioning.bloks.AsyncComponentReleaseV1":b,"bk.versioning.bloks.AsyncComponentScoping":b};e={};g.COMPONENTS=a;g.ACTIONS=d;g.EXTENSION_HANDLERS=e}),98);
__d("acqTraversalKeys",[],(function(a,b,c,d,e,f){"use strict";a={};b=a;f["default"]=b}),66);
__d("ACQWebBloksEnvironmentConfig",["ACQWebBloksPrimitives","acqTraversalKeys"],(function(a,b,c,d,e,f,g){a={actions:d("ACQWebBloksPrimitives").ACTIONS,components:d("ACQWebBloksPrimitives").COMPONENTS,extensionHandlers:d("ACQWebBloksPrimitives").EXTENSION_HANDLERS,traversalKeys:c("acqTraversalKeys")};g.ACQ_ENVIRONMENT_CONFIG=a}),98);
__d("ClientAjaxIdsUpdater",["CurrentUserInitialData","MRequestConfig","cr:8959","cr:8960"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a){if(!a.ajaxUpdateAfterLogin)return;a=a.ajaxUpdateAfterLogin;(h||(h=c("CurrentUserInitialData"))).USER_ID=a.currentUser;b("cr:8959").setToken(a.dtsgToken);b("cr:8960").setToken(a.dtsgAsyncGetToken);c("MRequestConfig").ajaxResponseToken=a.ajaxResponseToken}g["default"]=a}),98);
__d("WebBloksErrors",[],(function(a,b,c,d,e,f){a=function(a){babelHelpers.inheritsLoose(b,a);function b(b,c,d){var e;e=a.call(this)||this;e.message=(d===!0?"[DEV Only]":"")+"[WebBloks] "+b+(c?": "+c.toString():"");e.name=e.constructor.name;c&&(e.cause=c,c.stack&&(e.stack=c.stack));e.stack||(typeof process==="undefined"||process.env.JEST_WORKER_ID===void 0)&&(e.stack=new Error(e.message).stack);return e}return b}(babelHelpers.wrapNativeSuper(Error));b=function(a){babelHelpers.inheritsLoose(b,a);function b(b,c){return a.call(this,"Unable to find component with id="+b,null,c)||this}return b}(a);c=function(a){babelHelpers.inheritsLoose(b,a);function b(b,c,d){return a.call(this,"Error while fetching data: "+b,c,d)||this}return b}(a);d=function(a){babelHelpers.inheritsLoose(b,a);function b(b,c,d){b=a.call(this,"Script error: "+b,null,d)||this;b.stackFrame=c==null?void 0:(d=c.getSourceMapNode())==null?void 0:d.getBloksStackFrame();return b}return b}(a);e=function(a){babelHelpers.inheritsLoose(b,a);function b(b,c,d){return a.call(this,"Script parse error at position "+b+": "+c,null,d)||this}return b}(a);var g=function(b){babelHelpers.inheritsLoose(a,b);function a(a,c){return b.call(this,'Action for "'+a+'" was not registered.',null,c)||this}return a}(a),h=function(b){babelHelpers.inheritsLoose(a,b);function a(a,c){return b.call(this,'Component for "'+a+'" was not registered.',null,c)||this}return a}(a),i=function(b){babelHelpers.inheritsLoose(a,b);function a(a,c){return b.call(this,"Unsupported feature: "+a,null,c)||this}return a}(a),j=function(b){babelHelpers.inheritsLoose(a,b);function a(a,c){return b.call(this,'Container config for "'+a+'" was not registered.',null,c)||this}return a}(a);f.WebBloksError=a;f.WebBloksComponentIdNotFoundError=b;f.WebBloksNetworkError=c;f.WebBloksScriptError=d;f.WebBloksScriptParseError=e;f.WebBloksUnknownActionError=g;f.WebBloksUnknownComponentError=h;f.WebBloksUnsupportedFeatureError=i;f.WebBloksUnknownContainerConfigError=j}),66);
__d("WebBloksIsUnitTest",[],(function(a,b,c,d,e,f){"use strict";function a(){var a;return typeof process!=="undefined"&&((a=process)==null?void 0:(a=a.env)==null?void 0:a.NODE_ENV)==="test"}f["default"]=a}),66);
__d("WebBloksFalcoPolicyData",[],(function(a,b,c,d,e,f){"use strict";var g={};function a(a){Object.keys(a).forEach(function(b){g[b]==null&&(g[b]=a[b])})}function b(a){a=g[a];return a==null?{r:1}:a}c={add:a,get:b};f["default"]=c}),66);
__d("WebBloksServerData",["WebBloksFalcoPolicyData"],(function(a,b,c,d,e,f,g){"use strict";function a(a){(a==null?void 0:a.falco_log_policy_map)!=null&&c("WebBloksFalcoPolicyData").add(a.falco_log_policy_map)}g.handleWebBloksServerData=a}),98);
__d("AbstractWebBloksAppLoader",["ClientAjaxIdsUpdater","WebBloksErrors","WebBloksIsUnitTest","WebBloksServerData","regeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(){}var e=a.prototype;e.fetchAppByUrl=function(a){return b("regeneratorRuntime").async(function(c){while(1)switch(c.prev=c.next){case 0:this.$1(a);c.t0=h;c.next=4;return b("regeneratorRuntime").awrap(this.$2(a,this.makePostRequest(a,{type:"app"})));case 4:c.t1=c.sent;return c.abrupt("return",c.t0(c.t1));case 6:case"end":return c.stop()}},null,this)};e.fetchApp=function(a,c){return b("regeneratorRuntime").async(function(d){while(1)switch(d.prev=d.next){case 0:d.t0=h;d.next=3;return b("regeneratorRuntime").awrap(this.$3(a,c,"app"));case 3:d.t1=d.sent;return d.abrupt("return",d.t0(d.t1));case 5:case"end":return d.stop()}},null,this)};e.fetchAction=function(a,c){return b("regeneratorRuntime").async(function(d){while(1)switch(d.prev=d.next){case 0:d.t0=h;d.next=3;return b("regeneratorRuntime").awrap(this.$3(a,c,"action"));case 3:d.t1=d.sent;return d.abrupt("return",d.t0(d.t1));case 5:case"end":return d.stop()}},null,this)};e.fetchComponentQuery=function(a,c){var d;return b("regeneratorRuntime").async(function(e){while(1)switch(e.prev=e.next){case 0:e.next=2;return b("regeneratorRuntime").awrap(this.$3(a,c,"app"));case 2:d=e.sent;return e.abrupt("return",{components:d.components,prefetchScript:d.prefetchScript});case 4:case"end":return e.stop()}},null,this)};e.$3=function(a,b,c){this.$1(a,b);var d=this.getAsyncFetchData(a,b,c);return this.$2(a,this.makePostRequest(this.getAsyncFetchURI(a,b,c),d))};e.$2=function(a,e){var f,g,h,i;return b("regeneratorRuntime").async(function(j){while(1)switch(j.prev=j.next){case 0:j.prev=0;j.next=3;return b("regeneratorRuntime").awrap(e);case 3:g=j.sent;this.$4(a,g);c("ClientAjaxIdsUpdater")(g);h=(f=g.payload)!=null?f:g;d("WebBloksServerData").handleWebBloksServerData(h.server_data);return j.abrupt("return",h);case 11:j.prev=11;j.t0=j["catch"](0);this.$5(a,j.t0);throw j.t0 instanceof d("WebBloksErrors").WebBloksError?j.t0:(i=j.t0.toError==null?void 0:j.t0.toError())!=null?i:new(d("WebBloksErrors").WebBloksError)("Fetch failed: "+j.t0,j.t0);case 15:case"end":return j.stop()}},null,this,[[0,11]])};e.makePostRequest=function(a,b){throw new(d("WebBloksErrors").WebBloksError)("Abstract")};e.getAsyncFetchURI=function(a,b,c){throw new(d("WebBloksErrors").WebBloksError)("Abstract")};e.getAsyncFetchData=function(a,b,c){throw new(d("WebBloksErrors").WebBloksError)("Abstract")};e.$1=function(a,b){};e.$4=function(a,b){};e.$5=function(a,b){};return a}();function h(a){var b,c=a.server_data;if(((b=a.layout)==null?void 0:b.bloks_payload)!=null)return babelHelpers["extends"]({},a.layout.bloks_payload,{serverData:c});a.layout;b=a.data;var d=babelHelpers.objectWithoutPropertiesLoose(a,["layout","data"]);return babelHelpers["extends"]({data:b||[],tree:a.layout,serverData:c},d)}g.AbstractWebBloksAppLoader=a}),98);
__d("ComponentMountUnmountSubspanLogger.react",["InteractionTracingMetrics","hero-tracing-placeholder","performanceNow","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i;b=i||d("react");var j=b.useContext,k=b.useEffect;function a(a){var b=a.description,e=j(d("hero-tracing-placeholder").HeroInteractionIDContext);k(function(){var a=(h||(h=c("performanceNow")))();return function(){if(e!=null){var d=(h||(h=c("performanceNow")))();c("InteractionTracingMetrics").addSubspan(e,b,"AppTiming",a,d,{})}}},[b,e])}g["default"]=a}),98);
__d("WebBloksAccessibilityAnnouncement",[],(function(a,b,c,d,e,f){function a(a,b){var c=document.createElement("div");c.setAttribute("aria-live","polite");c.style.position="absolute";c.style.top="-10000px";c.style.left="-10000px";c.style.width="500px";c.textContent=b;(a=document.body)==null?void 0:a.appendChild(c);window.setTimeout(function(){var a;(a=document.body)==null?void 0:a.removeChild(c)},100)}f["default"]=a}),66);
__d("WebBloksAccessibilityUtils",["react"],(function(a,b,c,d,e,f,g){var h,i=h||c("react");b={Button:"button",Header:null,"Image Button":"button",Image:"img","Selected Button":"button",Text:null,Link:"link",Radio:"radio",Checkbox:"checkbox","Radio Group":"radiogroup",Region:"region",Status:"status","Tab Panel":"tabpanel",List:"list","List Item":"listitem",Alert:"alert"};var j=["button","link","checkbox","radio"];d=function(a){return j.includes(a)?{tabIndex:0}:{}};function a(a,b,c){var d={};b!=null&&(d["aria-label"]=b);switch(a){case 1:return i.jsx("h1",babelHelpers["extends"]({},d,{children:c}));case 2:return i.jsx("h2",babelHelpers["extends"]({},d,{children:c}));case 3:return i.jsx("h3",babelHelpers["extends"]({},d,{children:c}));case 4:return i.jsx("h4",babelHelpers["extends"]({},d,{children:c}));case 5:return i.jsx("h5",babelHelpers["extends"]({},d,{children:c}));case 6:return i.jsx("h6",babelHelpers["extends"]({},d,{children:c}))}return c}a.displayName=a.name+" [from "+f.id+"]";g.WEBBLOKS_ACCESSIBILITY_ROLE_MAPPING=b;g.WEBBLOKS_ACCESSIBILITY_FOCUSABLE_ROLES=j;g.getFocusPropsForRole=d;g.getHeading=a}),98);
__d("WebBloksBooleanUtils",[],(function(a,b,c,d,e,f){function a(a){return a===!0||a===1}function b(a){return a===!1||a===0}f.isTrue=a;f.isFalse=b}),66);
__d("WebBloksAccessibilityExtensionHandler",["WebBloksAccessibilityUtils","WebBloksBooleanUtils"],(function(a,b,c,d,e,f,g){var h={Button:"button",Header:"heading","Image Button":"button",Image:"img","Selected Button":"button",Text:"",Link:"link"};a={getProps:function(a){a=a.getValues();var b=a.enabled,c=a.disabled,e=a.role;a=a.label;var f={};d("WebBloksBooleanUtils").isFalse(b)||(e&&(f.role=h[e]),a!=null&&(f["aria-label"]=a));f=babelHelpers["extends"]({},d("WebBloksAccessibilityUtils").getFocusPropsForRole(f.role),f);d("WebBloksBooleanUtils").isTrue(c)&&(f.disabled=!0,f["aria-disabled"]=!0);return f}};g.WebBloksAccessibilityExtensionHandler=a}),98);
__d("WebBloksAccessibilitySetFocus",[],(function(a,b,c,d,e,f){function a(a,b){a=(a=b.uiMutableContainer)==null?void 0:(b=a.domNode)==null?void 0:b.current;b=a==null?void 0:a.getAttribute("tabindex");b==null&&(a==null?void 0:a.setAttribute("tabindex","-1"));a==null?void 0:a.focus()}f["default"]=a}),66);
__d("WebBloksAsyncActions",["WebBloksScriptDebuggingUtils","WebBloksUtils","regeneratorRuntime"],(function(a,b,c,d,e,f,g){function h(a,c,e,f){var g;return b("regeneratorRuntime").async(function(h){while(1)switch(h.prev=h.next){case 0:f=d("WebBloksUtils").nullthrows(a.bloksContext.objectSet.environment.appLoader);h.next=4;return b("regeneratorRuntime").awrap(f.fetchAction(c,e));case 4:g=h.sent;return h.abrupt("return",a.executeActionPayload(g));case 6:case"end":return h.stop()}},null,this)}function a(a,c,e,f){return b("regeneratorRuntime").async(function(g){while(1)switch(g.prev=g.next){case 0:g.prev=0;g.next=3;return b("regeneratorRuntime").awrap(h(a,c,e,f));case 3:return g.abrupt("return",g.sent);case 6:g.prev=6,g.t0=g["catch"](0),d("WebBloksScriptDebuggingUtils").logScriptError(a.objectSet,g.t0,null,a);case 9:case"end":return g.stop()}},null,this,[[0,6]])}g.executeAsyncAction=h;g.executeAsyncActionCatch=a}),98);
__d("WebBloksScript",[],(function(a,b,c,d,e,f){a=function(){function a(a,b){this.$1=a,this.$2=b}var b=a.prototype;b.getValue=function(){return this.$1};b.getSourceMapNode=function(){return this.$2};return a}();f.WebBloksScript=a}),66);
__d("WebBloksComponentContext",["Promise","WebBloksInterpreterEnvironment","WebBloksScript","WebBloksScriptDebuggingUtils","WebBloksScriptExecutor","WebBloksUtils","react"],(function(a,b,c,d,e,f,g){var h,i,j=i||(i=d("react"));e=i;f=e.createContext;var k=e.useContext;e=function(a,e,f){var g=this;e===void 0&&(e=null);f===void 0&&(f=!1);this.execute=function(a,b,e){var f=new(c("WebBloksInterpreterEnvironment"))(g.bloksContext);f.scope=(a=a.keyPath)!=null?a:d("WebBloksUtils").EMPTY_KEY_PATH;try{g.bloksContext.treeManager.beginUpdates();if(b instanceof d("WebBloksScript").WebBloksScript){a=b==null?void 0:b.getSourceMapNode();a!=null&&f.setBaseSourceMapNode(a);return d("WebBloksScriptExecutor").execute(f,b.getValue(),e)}else return d("WebBloksScriptExecutor").execute(f,b,e)}finally{f.setBaseSourceMapNode(null),g.bloksContext.treeManager.endUpdates()}};this.executeCatch=function(a,b,e){try{return g.execute(a,b,e)}catch(f){e=new(c("WebBloksInterpreterEnvironment"))(g.bloksContext);e.scope=(a=a.keyPath)!=null?a:d("WebBloksUtils").EMPTY_KEY_PATH;d("WebBloksScriptDebuggingUtils").logScriptError(g.objectSet,f,b.getValue(),e)}};this.executeOnNextTickCatch=function(a,c,e){(h||(h=b("Promise"))).resolve().then(function(){g.execute(a,c,e)})["catch"](function(a){d("WebBloksScriptDebuggingUtils").logScriptError(g.objectSet,a,c==null?void 0:c.getValue())})};this.renderNode=function(a,b){if(!a)return null;var c=g.objectSet.getComponentForName(a.styleId),d=a.get("visibility");return d==="gone"?null:j.jsx(c,{node:a,externalStyle:b},a.clientId)};this.renderChildren=function(a){return a?a.map(function(a){return g.renderNode(a)}):null};this.bloksContext=a;this.ownerContext=e;this.isLoadingNode=f};Object.defineProperties(e.prototype,{objectSet:{get:function(){return this.bloksContext.objectSet},enumerable:!1},treeManager:{get:function(){return this.bloksContext.treeManager},enumerable:!1}});var l=f(null);function a(){return d("WebBloksUtils").nullthrows(k(l))}g.WebBloksComponentContext=e;g.WebBloksComponentContextContext=l;g.useWebBloksContext=a}),98);
__d("WebBloksEnvironmentContext",["WebBloksUtils","react"],(function(a,b,c,d,e,f,g){var h,i=h||(h=d("react")),j=h.useContext,k=i.createContext(null);function a(a){var b=a.children;a=a.environment;return i.jsx(k.Provider,{value:a,children:b})}a.displayName=a.name+" [from "+f.id+"]";function b(){var a=j(k);return d("WebBloksUtils").nullthrows(a)}g.WebBloksEnvironmentContext=k;g.WebBloksEnvironmentProvider=a;g.useWebBloksEnvironment=b}),98);
__d("WebBloksSourceMapNodeTypes",[],(function(a,b,c,d,e,f){b=function(){function a(a,b,c){this.offset="",this.offset=a,this.nextFrame=b,this.loggingID=c}var b=a.prototype;b.toArray=function(){var a=[],b=this;while(b!=null){var c;a.push(b.offset);b=(c=b)==null?void 0:c.nextFrame}return a};return a}();function a(a){var b=null;a=a;while(a!=null){var c;b==null&&(b=[]);(c=b)==null?void 0:c.push(a.offset);a=a.nextFrame}return b}f.WebBloksStackFrame=b;f.getBloksStackTrace=a}),66);
__d("WebBloksSourceMapNode",["WebBloksSourceMapNodeTypes"],(function(a,b,c,d,e,f,g){a=function(){function a(a,b){b===void 0&&(b=[]),this.$1=a,this.$2=b}var b=a.prototype;b.getLoggingID=function(){var a;return(a=this.$1)==null?void 0:a.getLoggingID()};b.getSourceMapID=function(){var a;return(a=this.$1)==null?void 0:a.getSourceMapID()};b.getParent=function(){return this.$1};b.getTreePath=function(){return this.$2};b.makeCopyWithNewParent=function(b){return new a(b,this.$2)};b.getBloksStackFrame=function(){var a;a=(a=this.getParent())==null?void 0:a.getBloksStackFrame();if(a==null)return null;var b=this.getTreePath();b!=null&&(b==null?void 0:b.length)>0?b=[a.offset].concat(b).join(":"):b=a.offset;return new(d("WebBloksSourceMapNodeTypes").WebBloksStackFrame)(b,a.nextFrame)};b.getBloksStackTrace=function(){return d("WebBloksSourceMapNodeTypes").getBloksStackTrace(this.getBloksStackFrame())};b.addToTreePath=function(a){var b;this.$2=(b=this.$2)==null?void 0:b.concat([a]);return this};return a}();g["default"]=a}),98);
__d("WebBloksSourceMapPayloadMetadata",[],(function(a,b,c,d,e,f){a=function(a,b,c){this.payloadPath=(a=a)!=null?a:[];this.sourceMapID=b;this.loggingID=c};f["default"]=a}),66);
__d("WebBloksSourceMapRootNode",["WebBloksSourceMapNodeTypes"],(function(a,b,c,d,e,f,g){var h="null";a=function(){function a(a,b){this.$1=a,this.$2=b}var b=a.prototype;b.getLoggingID=function(){var a;return(a=(a=this.$2)==null?void 0:a.loggingID)!=null?a:(a=this.getParent())==null?void 0:a.getLoggingID()};b.getSourceMapID=function(){var a;return(a=(a=this.$2)==null?void 0:a.sourceMapID)!=null?a:(a=this.getParent())==null?void 0:a.getSourceMapID()};b.getParent=function(){return this.$1.getParent==null?void 0:this.$1.getParent()};b.getTreePath=function(){var a;return(a=this.$1)==null?void 0:a.getTreePath()};b.makeCopyWithNewParent=function(b){return new a(this.$1.makeCopyWithNewParent(b),this.$2)};b.getBloksStackFrame=function(){var a,b=[],c=this.getTreePath();a=(a=this.$2)==null?void 0:a.payloadPath;a!=null&&b.push.apply(b,a);c!=null&&c.length&&b.push.apply(b,c);a=((c=(a=this.$2)==null?void 0:a.sourceMapID)!=null?c:h)+"|"+b.join(":");c=this.getParent();return new(d("WebBloksSourceMapNodeTypes").WebBloksStackFrame)(a,c!=null?c.getBloksStackFrame():null)};b.getBloksStackTrace=function(){return d("WebBloksSourceMapNodeTypes").getBloksStackTrace(this.getBloksStackFrame())};b.addToTreePath=function(a){this.$1=this.$1.addToTreePath(a);return this};return a}();g["default"]=a}),98);
__d("WebBloksFunctionTableManager",["WebBloksScriptParser","WebBloksSourceMapNode","WebBloksSourceMapPayloadMetadata","WebBloksSourceMapRootNode","WebBloksUtils"],(function(a,b,c,d,e,f,g){a=function(){a.getKnownFt=function(a){a=this.$2.get(a);return a!=null&&this.$3.has(a)?a:null};a.cacheFunctionTable=function(a,b){var c=a.split(":"),d=c[0];c=c[1];if(c==null)return;this.$2.set(d,a);this.$3.set(a,b)};a.getFunctionTableFromCache=function(a){return this.$3.get(a)};function a(a){a===void 0&&(a=d("WebBloksUtils").EMPTY_OBJECT);this.$1=new Map();for(var b in a)this.$1.set(b,a[b])}var b=a.prototype;b.get=function(a){var b=this.$1.get(a);if(typeof b==="string"){var c=d("WebBloksScriptParser").parse(b),e=function(b){var d=h(b,a);b.setBaseSourceMapNode(d);for(var e=arguments.length,f=new Array(e>1?e-1:0),g=1;g<e;g++)f[g-1]=arguments[g];var i=b.execute(c,f);b.setBaseSourceMapNode(null);return i};this.$1.set(a,e);return e}return d("WebBloksUtils").nullthrows(b,"Script not found in FunctionTable: "+a)};b.entries=function(){return this.$1.entries()};b.isEmpty=function(){return this.$1.size===0};b.combine=function(b){return new a().loadEntries(b.$1).loadEntries(this.$1)};b.loadEntries=function(a){var b=this;a.forEach(function(a,c){b.$1.set(c,a)});return this};b.equalsTo=function(a){return d("WebBloksUtils").deepEquals(Array.from(this.$1.keys()),Array.from(a.$1.keys()))};return a}();a.$2=new Map();a.$3=new Map();function h(a,b){a=a.getSourceMapNode();b=new(c("WebBloksSourceMapRootNode"))(new(c("WebBloksSourceMapNode"))(a,[b]),new(c("WebBloksSourceMapPayloadMetadata"))(["ft"],a==null?void 0:a.getSourceMapID(),a==null?void 0:a.getLoggingID()));return b}g.WebBloksFunctionTableManager=a}),98);
__d("WebBloksConstants",[],(function(a,b,c,d,e,f){a="bk.components.internal.Merge";b="bk.components.internal.MergeWithBind";c="bk.components.internal.Shadow";d="bk.components.internal.Action";e="bk.components.Flexbox";var g="flex",h="bk.components.Image",i="bk.components.Collection",j="bk.components.Slider",k="_style",l="child_templates",m="$DESCENDANT_HAS_BIND",n="on_bind",o="on_reflow",p=13,q=32,r=37,s=39,t="bk_context_key_controller_associated_object",u="text_input_associated_object",v='system-ui,-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Helvetica,Arial,sans-serif';f.BK_INTERNAL_MERGE=a;f.BK_INTERNAL_MERGE_WITH_BIND=b;f.BK_INTERNAL_SHADOW=c;f.BK_INTERNAL_ACTION=d;f.BK_FLEXBOX=e;f.BK_FLEX=g;f.BK_IMAGE=h;f.BK_COLLECTION=i;f.BK_SLIDER=j;f.BK_STYLE_ATTR=k;f.CHILD_TEMPLATES=l;f.DESCENDANT_HAS_BIND=m;f.ON_BIND=n;f.ON_REFLOW=o;f.KEY_RETURN=p;f.KEY_SPACE=q;f.KEY_LEFT=r;f.KEY_RIGHT=s;f.CONTROLLER_ASSOCIATED_OBJECT=t;f.TEXT_INPUT_ASSOCIATED_OBJECT=u;f.WEBBLOKS_DEFAULT_FONT_FAMILY=v}),66);
__d("WebBloksInterpreterEnvironment",["Promise","WebBloksConstants","WebBloksErrors","WebBloksPayloadParser","WebBloksScopedIds","WebBloksScriptDebuggingUtils","WebBloksScriptExecutor","WebBloksUtils"],(function(a,b,c,d,e,f,g){var h;a=function(){function a(a,c,e){var f=this;this.callArgsStack=[];this.splicesStack=[];this.scope=d("WebBloksUtils").EMPTY_KEY_PATH;this.execute=function(a,b){try{f.bloksContext.treeManager.beginUpdates();return d("WebBloksScriptExecutor").execute(f,a,b)}finally{f.bloksContext.treeManager.endUpdates()}};this.executeCatch=function(a,b){try{return f.execute(a,b)}catch(b){d("WebBloksScriptDebuggingUtils").logScriptError(f.objectSet,b,a,f)}};this.executeOnNextTick=function(a,c){(h||(h=b("Promise"))).resolve().then(function(){f.execute(a,c)})["catch"](function(b){return d("WebBloksScriptDebuggingUtils").logScriptError(f.objectSet,b,a)})};this.bloksContext=a;this.$2=c;this.$4=e}var c=a.prototype;c.getResources=function(){var a;return(a=this.resources)!=null?a:this.bloksContext.treeManager.getCommittedTreeResources()};c.getScriptMode=function(){return this.$4};c.requireResources=function(){return d("WebBloksUtils").nullthrows(this.getResources())};c.readVariable=function(a){var b,c=this.requireResources().variables.get(a);(b=this.variableAccessLog)==null?void 0:b.add(a);return c};c.readExpandedVariable=function(a){var b,c=this.getExpandedVariablesFromEnvOrTree();c=c.get(a);(b=this.variableAccessLog)==null?void 0:b.add(a);return c};c.readParameter=function(a){return this.requireResources().parameters[a]};c.readValue=function(a){var b=this.requireResources().values.get(a);if(!b)throw new(d("WebBloksErrors").WebBloksError)("Value for referenced id "+a+" not found!");return this.execute(b.expression,d("WebBloksUtils").EMPTY_ARRAY)};c.getExpandedVariablesFromEnvOrTree=function(){var a;return(a=this.expandedVariablesOverride)!=null?a:this.bloksContext.treeManager.getExpandedVariables()};c.readManifestEntry=function(a){var b=this.requireResources().variableDefinitions.get(a);if(b==null)throw new(d("WebBloksErrors").WebBloksError)("Data manifest for referenced internal variable id "+a+" not found!");return b};c.readPayload=function(a){var b=this.requireResources().payloads.get(a);if(b==null)throw new(d("WebBloksErrors").WebBloksError)("Payload for referenced embedded payload id "+a+" not found!");return b};c.executeActionPayload=function(a){var b=this.bloksContext,c=b.objectSet;b=b.treeManager;var e=a.action,f=a.tree;a={layout:{bloks_payload:a}};b.beginUpdates();try{var g;if(e!=null)e=e,g=d("WebBloksPayloadParser").parseAction(a,c.environment.traversalKeys,this.getBaseSourceMapNode());else if(f!=null){f=f[d("WebBloksConstants").BK_INTERNAL_ACTION];e=f.handler;g=d("WebBloksPayloadParser").parseTree(a,c.environment.traversalKeys)}else throw new(d("WebBloksErrors").WebBloksError)("No bloks action found in response");b.synchronouslyAddTreeResources(g);return this.execute(e,[this.bloksContext])}finally{b.endUpdates()}};c.$5=function(){var b=new a(this.bloksContext,this.getBaseSourceMapNode());b.callArgsStack=this.callArgsStack;b.resources=this.resources;b.expandedVariablesOverride=this.expandedVariablesOverride;b.variableAccessLog=this.variableAccessLog;return b};c.createBloksModelScopedContext=function(a){if(a===this.scope)return this;var b=this.$5();b.scope=(a=a)!=null?a:d("WebBloksUtils").EMPTY_KEY_PATH;return b};c.createScopedContext=function(){var a=this.$5();a.scope=d("WebBloksScopedIds").extendKeyPath(this.scope);return a};c.getBaseSourceMapNode=function(){var a;return(a=this.$2)==null?void 0:a.makeCopyWithNewParent((a=this.$2)==null?void 0:a.getParent())};c.setBaseSourceMapNode=function(a){this.$2=a};c.getSourceMapNode=function(){return this.$3};c.setSourceMapNode=function(a){this.$3=a};return a}();Object.defineProperties(a.prototype,{actions:{get:function(){return this.bloksContext.objectSet.environment.actions},enumerable:!1},objectSet:{get:function(){return this.bloksContext.objectSet},enumerable:!1},treeManager:{get:function(){return this.bloksContext.treeManager},enumerable:!1}});g["default"]=a}),98);
__d("WebBloksLegacyTraverser",["WebBloksConstants","WebBloksErrors","WebBloksMutations","WebBloksUpdateTraversal","WebBloksUtils"],(function(a,b,c,d,e,f,g){function a(a,b,c){return h(a.snapshotPendingComponent(),new(d("WebBloksMutations").ServerIdTarget)(b),c)}function h(a,b,c){var d;a.traverse(function(a){if(b.targets(a)){d=a;return!0}return!1},c);return d}function b(a,b,c,e){a=a.snapshotPendingComponent();var f=null;e=d("WebBloksUpdateTraversal").runUpdateTraversal(a,{apply:function(a){a.getId()===b&&(f=a);i(a,b)&&(f=a);if(f){var e=a.get(d("WebBloksConstants").ON_REFLOW);e!=null&&c(e,[a])}return a},onUpdatesApplied:function(a){f===a&&(f=null)}},e);if(e!==a)throw new(d("WebBloksErrors").WebBloksError)("Reflow traversal produced an updated componnent")}function c(a,b,c,e){a=a.snapshotPendingComponent();var f=null;e=d("WebBloksUpdateTraversal").runUpdateTraversal(a,{apply:function(a){a.getId()===b&&(f=a);if(a.shadowParents)for(var e=a.shadowParents,g=Array.isArray(e),h=0,e=g?e:e[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var i;if(g){if(h>=e.length)break;i=e[h++]}else{h=e.next();if(h.done)break;i=h.value}i=i;i.id===b&&(f=a);f&&i.reduce&&c(i.reduce,d("WebBloksUtils").EMPTY_ARRAY)}return a},onUpdatesApplied:function(a){f===a&&(f=null)}},e);if(e!==a)throw new(d("WebBloksErrors").WebBloksError)("Reduce traversal produced an updated componnent")}function i(a,b){return(a=(a=a.shadowParents)==null?void 0:a.find(function(a){return a.id===b}))!=null?a:null}function e(a,b,c){var d;b.snapshotPendingComponent().traverse(function(a){a=i(a,c);if(a){d=a.init_state;return!0}return!1},a);return d}g.findComponentByServerId=a;g.findComponent=h;g.reflow=b;g.reduce=c;g.getStateInitializer=e}),98);
__d("WebBloksExpressionParser",["WebBloksScript","WebBloksSourceMapNode","WebBloksSourceMapPayloadMetadata","WebBloksSourceMapRootNode"],(function(a,b,c,d,e,f,g){function a(a,b,e){var f=null;(b==null?void 0:b.sourceMapNode)!=null&&(f=new(c("WebBloksSourceMapNode"))(b.sourceMapNode,e),f=h(f));return new(d("WebBloksScript").WebBloksScript)(a,f)}function h(a){var b=a==null?void 0:a.getSourceMapID(),d=a==null?void 0:a.getLoggingID(),e=a,f=[];while(e!=null){f.push(e.getTreePath());if(e instanceof c("WebBloksSourceMapRootNode"))break;e=e.getParent()}e=f.toReversed().flat(1);return new(c("WebBloksSourceMapRootNode"))(new(c("WebBloksSourceMapNode"))(a,e),new(c("WebBloksSourceMapPayloadMetadata"))(["tree"],b,d))}g.makeWebBloksExpression=a}),98);
__d("WebBloksScriptString",[],(function(a,b,c,d,e,f){function a(a){return a}function b(a){return a}function c(a){return typeof a==="string"}f.castWebBloksScriptStringFromString=a;f.castWebBloksScriptStringToString=b;f.isWebBloksScriptString=c}),66);
__d("WebBloksModel",["WebBloksConstants","WebBloksErrors","WebBloksExpressionParser","WebBloksScript","WebBloksScriptParser","WebBloksScriptString","WebBloksUpdateTraversal","WebBloksUtils"],(function(a,b,c,d,e,f,g){a=function(){function a(a,b,c){c===void 0&&(c=d("WebBloksUtils").getNextGlobalBloksClientId()),this.$isBloksModel=!0,this.clientId=c,this.styleId=a,this.$1=b,this.uiMutableContainer={}}var b=a.prototype;b.getId=function(){var a=this.$1.id;return a==null?null:String(a)};b.get=function(a){return this.$1[a]};b.set=function(a,b){this.$1[a]=b};b.getSubNode=function(a){a=this.get(a);return a};b.getExpression=function(a){var b=this.get(a),c=b;if(b==null)return b;if(b instanceof d("WebBloksScript").WebBloksScript)return b;d("WebBloksScriptString").isWebBloksScriptString(b)&&(b=d("WebBloksScriptParser").parse(b));if(Array.isArray(b)||typeof b==="function"){b=d("WebBloksExpressionParser").makeWebBloksExpression(b,this,[this.styleId,a]);this.set(a,b);if(this.sourceModel&&c===this.sourceModel.get(a)){(c=this.sourceModel)==null?void 0:c.set(a,b)}return b}return null};b.getSubNodes=function(a){return(a=this.get(a))!=null?a:d("WebBloksUtils").EMPTY_ARRAY};b.getChildren_DEPRECATED=function(a){a===void 0&&(a="children");a=this.getSubNodes(a);return a};b.getStyle=function(a){var b=this.getSubNode(d("WebBloksConstants").BK_STYLE_ATTR);return h(b)&&(b==null?void 0:b.styleId)===a?b:null};b.getValues=function(){return this.$1};b.cloneValues=function(){var a=babelHelpers["extends"]({},this.$1),b=this.getSubNodes("children");Array.isArray(b)&&b.length!==0&&(a.children=b.slice());return a};b.makeCopy=function(b){var c=new a(this.styleId,this.cloneValues(),this.clientId);b&&Object.assign(c.$1,b);c.uiMutableContainer=this.uiMutableContainer;c.shadowParents=this.shadowParents;c.keyPath=this.keyPath;c.sourceModel=this.sourceModel;return c};b.makeBoundCopy=function(){var a=this.makeCopy();a.sourceModel=this;return a};b.makeCopyWithKeypath=function(a,b){var c=this.makeCopy();c.clientId!==a&&(c.uiMutableContainer={});c.clientId=a;c.keyPath=b;return c};b.makeDeepCopyWithNewClientIds=function(b,c){return d("WebBloksUpdateTraversal").runUpdateTraversal(this,{apply:function(c){return a.makeCopyWithNewClientId(c,b)},onUpdatesApplied:function(a){}},c)};a.makeCopyWithNewClientId=function(b,c){var d=new a(b.styleId,b.cloneValues());d.shadowParents=b.shadowParents;d.keyPath=c;d.sourceMapNode=b.sourceMapNode;return d};b.traverse=function(a,b){if(a(this))return!0;var c=b[this.styleId];if(c==null)return!1;var d=c.subnodes;c=c.plural_subnodes;if(d)for(var d=d,e=Array.isArray(d),f=0,d=e?d:d[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var g;if(e){if(f>=d.length)break;g=d[f++]}else{f=d.next();if(f.done)break;g=f.value}g=g;g=this.getSubNode(g);if(h(g)&&g.traverse(a,b))return!0}if(c)for(g=c,f=Array.isArray(g),e=0,g=f?g:g[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){if(f){if(e>=g.length)break;d=g[e++]}else{e=g.next();if(e.done)break;d=e.value}c=d;d=this.getSubNodes(c);if(Array.isArray(d))for(var c=d,d=Array.isArray(c),i=0,c=d?c:c[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var j;if(d){if(i>=c.length)break;j=c[i++]}else{i=c.next();if(i.done)break;j=i.value}j=j;if(h(j)&&j.traverse(a,b))return!0}}return!1};b.toJSON=function(){var a,b=Object.entries(this.$1).filter(function(a){a=a[0];return a[0]!=="$"&&a!=="nt-debug-metadata-v2"}).map(function(a){var b=a[0];a=a[1];if(h(a))return[b,a.toJSON()];else if(Array.isArray(a)&&a[0]&&h(a[0]))return[b,a.map(function(a){return a.toJSON()})];return[b,a]});return a={},a[this.styleId]=Object.fromEntries(b),a};return a}();function h(a){return a!=null&&(a==null?void 0:a.$isBloksModel)===!0}g.WebBloksModel=a;g.isWebBloksModel=h}),98);
__d("WebBloksParseResult",[],(function(a,b,c,d,e,f){a=function(a,b,c){this.unboundModel=a,this.resources=b,this.loggingID=c};f["default"]=a}),66);
__d("WebBloksPayloadParser",["WebBloksErrors","WebBloksModel","WebBloksModelParser","WebBloksParseResult","WebBloksSourceMapNode","WebBloksSourceMapPayloadMetadata","WebBloksSourceMapRootNode","WebBloksUtils"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b,e){var f,g;a=a==null?void 0:(a=a.layout)==null?void 0:a.bloks_payload;f=(f=a.error_attribution)==null?void 0:f.logging_id;g=(g=a.error_attribution)==null?void 0:g.source_map_id;if(a.action==null)throw new(d("WebBloksErrors").WebBloksError)("Invalid Bloks payload received from server. Action is expected but is missing:\n\n"+JSON.stringify(a));var h=new(d("WebBloksModel").WebBloksModel)("-1",{});h.sourceMapNode=new(c("WebBloksSourceMapRootNode"))(new(c("WebBloksSourceMapNode"))(e),new(c("WebBloksSourceMapPayloadMetadata"))(["action"],g,f));e=d("WebBloksModelParser").parseBloksTreeResources(a,h,b);return new(c("WebBloksParseResult"))(h,e,f)}function b(a,b,e){var f,g;a=a==null?void 0:(a=a.layout)==null?void 0:a.bloks_payload;var h=d("WebBloksUtils").cast(a.tree);f=(f=a.error_attribution)==null?void 0:f.logging_id;g=(g=a.error_attribution)==null?void 0:g.source_map_id;if(h==null)throw new(d("WebBloksErrors").WebBloksError)("Invalid Bloks payload received from server. Tree is expected but is missing:\n\n"+JSON.stringify(a));h=d("WebBloksModelParser").parseBloksModelFromJSON(h,b,new(c("WebBloksSourceMapRootNode"))(new(c("WebBloksSourceMapNode"))(e),new(c("WebBloksSourceMapPayloadMetadata"))(["tree"],g,f)));e=d("WebBloksModelParser").parseBloksTreeResources(a,h,b);return new(c("WebBloksParseResult"))(h,e,f)}g.parseAction=a;g.parseTree=b}),98);
__d("WebBloksScopedIds",["WebBloksUtils"],(function(a,b,c,d,e,f,g){c=function(){function a(){this.scopedClientIdToClientIdMap=new Map()}var b=a.prototype;b.createScopedClientId=function(a,b){return a+"/"+b};b.registerOrGetClientIdForScopedId=function(a,b){a=this.createScopedClientId(a,b);b=this.scopedClientIdToClientIdMap.get(a);if(b!==void 0)return b;else{b=d("WebBloksUtils").getNextGlobalBloksClientId();this.scopedClientIdToClientIdMap.set(a,b);return b}};b.getScopedClientId=function(a,b){return this.registerOrGetClientIdForScopedId(a.clientId,b)};b.copyModelWithKeyPath=function(a,b,c){return a.makeCopyWithKeypath(this.getScopedClientId(a,c),b)};return a}();function a(a,b,c,d){return i(b,h(a.slice(0,c),d))}function h(a,b){b=b==="INTERNAL_VARIABLE"?"/":"|";var c=[];for(var a=a,d=Array.isArray(a),e=0,a=d?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var f;if(d){if(e>=a.length)break;f=a[e++]}else{e=a.next();if(e.done)break;f=e.value}f=f;c.push(b);c.push(f)}return c.join("")}function i(a,b){return a+"#"+b}function b(a,b){b===void 0&&(b=null);a=a!=null?a.slice():[];a.push((b=b)!=null?b:d("WebBloksUtils").getNextGlobalBloksClientId());return a}g.ClientIdToScopedIdMapper=c;g.getScopedVariableIdAtDepth=a;g.buildKeypathBase=h;g.buildScopedVariableIdentifier=i;g.extendKeyPath=b}),98);
__d("WebBloksTreeResources",["WebBloksFunctionTableManager","WebBloksUtils"],(function(a,b,c,d,e,f,g){a=function(){function a(a,b,c,d,e,f,g,h,i){this.$1=!0;this.variableDefinitions=(a=a)!=null?a:[];this.payloads=(a=b)!=null?a:new Map();this.dataPropsEntries=(b=c)!=null?b:[];this.componentQueries=(a=d)!=null?a:[];this.functionTable=e;this.ftDeclare=f;this.ftInclude=g;this.values=(c=i)!=null?c:[];this.templates=(b=h)!=null?b:new Map()}var b=a.prototype;b.setShouldCommitPublishStateUpdates=function(a){a===void 0&&(a=!0),this.$1=a};b.shouldCommitPublishStateUpdates=function(){return this.$1};b.clone=function(){return new a(this.variableDefinitions,this.payloads,this.dataPropsEntries,this.componentQueries,this.functionTable,this.ftDeclare,this.ftInclude,this.templates,this.values)};a.empty=function(){return new a()};return a}();b=function(){function a(a,b,c,e,f,g,h){a===void 0&&(a=new Map()),b===void 0&&(b=new Map()),c===void 0&&(c=new Map()),e===void 0&&(e=d("WebBloksUtils").EMPTY_OBJECT),f===void 0&&(f=new(d("WebBloksFunctionTableManager").WebBloksFunctionTableManager)()),g===void 0&&(g=new Map()),h===void 0&&(h=new Map()),this.variableDefinitions=a,this.payloads=b,this.variables=c,this.parameters=e,this.functionTable=f,this.values=g,this.templates=h}var b=a.prototype;b.withUpdatedEntries=function(b,c){return!b&&!c?this:new a((b=b)!=null?b:this.variableDefinitions,this.payloads,(b=c)!=null?b:this.variables,this.parameters,this.functionTable,this.values,this.templates)};b.withUpdatedParameters=function(b){return!b||d("WebBloksUtils").isEmptyObject(b)&&d("WebBloksUtils").isEmptyObject(this.parameters)?this:new a(this.variableDefinitions,this.payloads,this.variables,b,this.functionTable,this.values,this.templates)};b.withVariableUpdates=function(b){var c=new Map(this.variables);d("WebBloksUtils").putAll(c,b);return new a(this.variableDefinitions,this.payloads,c,this.parameters,this.functionTable,this.values,this.templates)};b.withPayloadUpdates=function(b){if(b.size===0)return this;var c=new Map(this.payloads);d("WebBloksUtils").putAll(c,b);return new a(this.variableDefinitions,c,this.variables,this.parameters,this.functionTable,this.values,this.templates)};b.withFunctionTableUpdates=function(b,c,e){b=new(d("WebBloksFunctionTableManager").WebBloksFunctionTableManager)((b=b)!=null?b:d("WebBloksUtils").EMPTY_OBJECT);c!=null&&d("WebBloksFunctionTableManager").WebBloksFunctionTableManager.cacheFunctionTable(c,b);e!=null&&(b=b.combine(d("WebBloksUtils").nullthrows(d("WebBloksFunctionTableManager").WebBloksFunctionTableManager.getFunctionTableFromCache(e),"Shared bundle not found: "+e)));b=b.combine(this.functionTable);return new a(this.variableDefinitions,this.payloads,this.variables,this.parameters,b,this.values,this.templates)};b.withValueUpdates=function(b){if(b.length===0)return this;var c=new Map();b.forEach(function(a){c.set(a.id,a)});return new a(this.variableDefinitions,this.payloads,this.variables,this.parameters,this.functionTable,c,this.templates)};b.withTemplateUpdates=function(b){if(b.size===0)return this;var c=new Map(this.templates);d("WebBloksUtils").putAll(c,b);return new a(this.variableDefinitions,this.payloads,this.variables,this.parameters,this.functionTable,this.values,c)};b.equalsTo=function(a){return this.payloads===a.payloads&&this.parameters===a.parameters&&this.variableDefinitions===a.variableDefinitions&&d("WebBloksUtils").shallowMapEqual(this.variables,a.variables)&&this.functionTable.equalsTo(a.functionTable)&&d("WebBloksUtils").shallowMapEqual(this.values,a.values)&&d("WebBloksUtils").shallowMapEqual(this.templates,a.templates)};return a}();g.WebBloksTreeResources=a;g.WebBloksTreeResourcesState=b}),98);
__d("WebBloksScopedComponentQueryDefinition",["WebBloksErrors","WebBloksLegacyTraverser","WebBloksMutations","WebBloksUtils"],(function(a,b,c,d,e,f,g){function a(a,b,c){return b.map(function(b){return h(a,b,c)})}function h(a,b,c){var e=new Map(),f=Object.entries(b.targets);for(var g=0;g<f.length;g++){var h=f[g],i=h[0];h=h[1];h=d("WebBloksLegacyTraverser").findComponent(a,new(d("WebBloksMutations").ServerIdTarget)(h),c);if(h!=null){h={serverId:d("WebBloksUtils").nullthrows(h.getId()),clientId:h.clientId,keyPath:(h=h.keyPath)!=null?h:[]};e.set(i,h)}else throw new(d("WebBloksErrors").WebBloksError)("Failed to find async component container for "+b.id)}return{id:b.id,appIdExpression:b.app_id_expr,paramsExpression:b.params,clientParamsExpression:b.client_params,dependencies:b.dependencies,targets:e,cacheTTLExpression:b.cache_ttl_expr,isScoped:b.is_scoped}}function b(a,b,c){var e=new Map();for(var f=(f=(f=b.targets)==null?void 0:f.entries())!=null?f:[],g=Array.isArray(f),h=0,f=g?f:f[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var f,i;if(g){if(h>=f.length)break;i=f[h++]}else{h=f.next();if(h.done)break;i=h.value}i=i;var j=i[0];i=i[1];i=d("WebBloksLegacyTraverser").findComponent(a,new(d("WebBloksMutations").ServerIdTarget)(i.serverId),c);if(i!=null){i={serverId:d("WebBloksUtils").nullthrows(i.getId()),clientId:i.clientId,keyPath:i.keyPath};e.set(j,i)}else throw new(d("WebBloksErrors").WebBloksError)("Failed to find async component container for "+b.id)}return babelHelpers["extends"]({},b,{targets:e})}g.generateTreeScopedComponentQueryDefs=a;g.generateTreeScopedComponentQueryDefFromScopedDef=b}),98);
__d("WebBloksMutations",["WebBloksConstants","WebBloksModel"],(function(a,b,c,d,e,f,g){var h=function(){function a(a){this.id=a}var b=a.prototype;b.targets=function(a){return a.clientId===this.id};return a}();c=function(){function a(a){this.id=a}var b=a.prototype;b.targets=function(a){return a.getId()===this.id};return a}();e=function(){function a(a,b){this.id=a,this.traversalKeys=b}var b=a.prototype;b.targets=function(a){var b=a.getChildren_DEPRECATED();for(var b=b,c=Array.isArray(b),e=0,b=c?b:b[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var f;if(c){if(e>=b.length)break;f=b[e++]}else{e=b.next();if(e.done)break;f=e.value}f=f;if(f.getId()===this.id)return!0}f=this.traversalKeys[a.styleId];if(!f)return!1;e=f.subnodes;c=f.plural_subnodes;if(c){for(b=c,f=Array.isArray(b),c=0,b=f?b:b[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var g;if(f){if(c>=b.length)break;g=b[c++]}else{c=b.next();if(c.done)break;g=c.value}g=g;for(var g=a.getChildren_DEPRECATED(g),h=Array.isArray(g),i=0,g=h?g:g[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var j;if(h){if(i>=g.length)break;j=g[i++]}else{i=g.next();if(i.done)break;j=i.value}j=j;if((j==null?void 0:j.getId())===this.id)return!0}}if(e)for(j=e,i=Array.isArray(j),h=0,j=i?j:j[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){if(i){if(h>=j.length)break;g=j[h++]}else{h=j.next();if(h.done)break;g=h.value}c=g;f=a.getSubNode(c);if(f instanceof d("WebBloksModel").WebBloksModel&&(f==null?void 0:f.getId())===this.id)return!0}}return!1};return a}();function a(a,b,c,d){a.enqueueUpdateOperation(new h(b.clientId),{update:function(a){a.set(c,d)},shouldUpdate:function(a){return a.get(c)!==d}})}function b(a,b,c,e){typeof e!=="number"&&j(a,"addChildToContainer expected number, got %s: %s",typeof e,e);c=c.styleId===d("WebBloksConstants").BK_INTERNAL_MERGE?c.getChildren_DEPRECATED():[c];c.forEach(function(c,d){i(a,b,c,e>=0?e+d:e)})}function i(a,b,c,d){a.enqueueUpdateOperation(new h(b.clientId),{update:function(a){var b=d===-1?a.getChildren_DEPRECATED().length:d;a.getChildren_DEPRECATED().splice(b,0,c)}})}function j(a,b){var c;for(var d=arguments.length,e=new Array(d>2?d-2:0),f=2;f<d;f++)e[f-2]=arguments[f];(c=a.bloksContext.objectSet.environment.logger).warn.apply(c,[b].concat(e))}g.ClientIdTarget=h;g.ServerIdTarget=c;g.ChildServerIdTarget=e;g.updateProperty=a;g.addChildToContainer=b;g.warn=j}),98);
__d("WebBloksUpdateTraversal",["WebBloksConstants","WebBloksModel"],(function(a,b,c,d,e,f,g){"use strict";function h(a,b,c){var e=b.apply(a),f=!!e.get(d("WebBloksConstants").ON_BIND),g=c[e.styleId];if(g&&g.subnodes){for(var i=g.subnodes,j=Array.isArray(i),k=0,i=j?i:i[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var l;if(j){if(k>=i.length)break;l=i[k++]}else{k=i.next();if(k.done)break;l=k.value}l=l;var m=e.getSubNode(l);if(m instanceof d("WebBloksModel").WebBloksModel){var n=h(m,b,c);n!==m&&(e===a&&(e=a.makeCopy()),e.set(l,n));f=f||n.get(d("WebBloksConstants").DESCENDANT_HAS_BIND)!==!1}}if(g.plural_subnodes)for(m=g.plural_subnodes,l=Array.isArray(m),n=0,m=l?m:m[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){if(l){if(n>=m.length)break;k=m[n++]}else{n=m.next();if(n.done)break;k=n.value}j=k;i=e.getChildren_DEPRECATED(j);g=i;for(k=0;k<i.length;k++){var o=i[k];if(o){var p=h(o,b,c);p!==o&&(g===i&&(g=i.slice()),g[k]=p);f=f||p.get(d("WebBloksConstants").DESCENDANT_HAS_BIND)!==!1}}g!==i&&(e===a&&(e=a.makeCopy()),e.set(j,g))}}e!==a&&e.set(d("WebBloksConstants").DESCENDANT_HAS_BIND,f);b.onUpdatesApplied(e);return e}g.runUpdateTraversal=h}),98);
__d("WebBloksModelParser",["WebBloksConstants","WebBloksModel","WebBloksScopedComponentQueryDefinition","WebBloksScriptParser","WebBloksSourceMapNode","WebBloksSourceMapPayloadMetadata","WebBloksSourceMapRootNode","WebBloksTreeResources","WebBloksUtils"],(function(a,b,c,d,e,f,g){function h(a,b,e){var f=d("WebBloksUtils").nullthrows(d("WebBloksUtils").getFirstKey(a),"not a valid bloksmodel"),g=babelHelpers["extends"]({},a[f]);a=new(d("WebBloksModel").WebBloksModel)(f,g);a.sourceMapNode=e;var i=a.getExpression(d("WebBloksConstants").ON_BIND)!=null;if(f===d("WebBloksConstants").BK_INTERNAL_SHADOW){var j=g.child,k=babelHelpers.objectWithoutPropertiesLoose(g,["child"]);k.id=String(k.id);j=h(d("WebBloksUtils").cast(j),b,new(c("WebBloksSourceMapRootNode"))(new(c("WebBloksSourceMapNode"))(),new(c("WebBloksSourceMapPayloadMetadata"))()));j.shadowParents?j.shadowParents.unshift(k):j.shadowParents=[k];i=i||j.get(d("WebBloksConstants").DESCENDANT_HAS_BIND);return j}k=b[f];if(k!=null){j=k.subnodes;k=k.plural_subnodes;if(j)for(var j=j,l=Array.isArray(j),m=0,j=l?j:j[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var n;if(l){if(m>=j.length)break;n=j[m++]}else{m=j.next();if(m.done)break;n=m.value}n=n;if(g[n]!=null){var o=h(g[n],b,new(c("WebBloksSourceMapNode"))(e,[f,n]));g[n]=o;i=i||o.get(d("WebBloksConstants").DESCENDANT_HAS_BIND)}}if(k){o=function(){if(q){if(r>=p.length)return"break";n=p[r++]}else{r=p.next();if(r.done)return"break";n=r.value}var a=n;g[a]!=null&&(g[a]=g[a].map(function(g,j){g=h(g,b,new(c("WebBloksSourceMapNode"))(e,[f,a,String(j)]));i=i||g.get(d("WebBloksConstants").DESCENDANT_HAS_BIND);return g}))};for(var p=k,q=Array.isArray(p),r=0,p=q?p:p[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){m=o();if(m==="break")break}}}g[d("WebBloksConstants").DESCENDANT_HAS_BIND]=i;return a}function a(a,b,e){var f=a.component_queries;f=f===void 0?[]:f;var g=a.embedded_payloads;g=g===void 0?[]:g;var i=a.data;i=i===void 0?[]:i;var j=a.props;j=j===void 0?[]:j;var k=a.ft;k=k===void 0?{}:k;var l=a.values;l=l===void 0?[]:l;var m=a.templates;m=m===void 0?{}:m;var n=a.ft_declare;a=a.ft_include;return new(d("WebBloksTreeResources").WebBloksTreeResources)(i,new Map(g.map(function(a){return[a.id,a]})),j,d("WebBloksScopedComponentQueryDefinition").generateTreeScopedComponentQueryDefs(b,f,e),k,n,a,new Map(Object.entries(m).map(function(a){var b=a[0];a=a[1];return[b,h(d("WebBloksUtils").cast(a),e,new(c("WebBloksSourceMapRootNode"))(new(c("WebBloksSourceMapNode"))(),new(c("WebBloksSourceMapPayloadMetadata"))()))]})),l.map(function(a){return babelHelpers["extends"]({},a,{expression:d("WebBloksScriptParser").parse(a.expression)})}))}g.parseBloksModelFromJSON=h;g.parseBloksTreeResources=a}),98);
__d("WebBloksScriptDebuggingUtils",["WebBloksAsyncActions","WebBloksScriptPrinter","WebDriverConfig"],(function(a,b,c,d,e,f,g){function a(a,b,c,d){c=b==null?void 0:b.stackFrame;a.environment.logger.scriptError(b)}var h="com.bloks.www.bloks.error.report_to_sandbox";function b(a,b,c){a&&d("WebBloksAsyncActions").executeAsyncAction(a,h,{message:b,bloks_raw_stack_trace:c})["catch"](function(){return null})}function c(a){a=a.slice();function b(a,c){c===void 0&&(c=-1);c=c+1;for(var a=a,d=Array.isArray(a),e=0,a=d?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var f;if(d){if(e>=a.length)break;f=a[e++]}else{e=a.next();if(e.done)break;f=e.value}f=f;Array.isArray(f)?c=b(f,c):f.lispyOffset=c}return c}b(a);return a}g.logScriptError=a;g.sendErrorToSandboxLogs=b;g.attachLispyOffsetsForWebBloksScriptNode=c}),98);
__d("WebBloksScriptTokens",[],(function(a,b,c,d,e,f){a=function(a){this.lispyOffset=(a=a)!=null?a:0};b=function(a){babelHelpers.inheritsLoose(b,a);function b(b,c){c=a.call(this,c)||this;c.type="number";c.value=b;return c}return b}(a);c=function(a){babelHelpers.inheritsLoose(b,a);function b(b,c){c=a.call(this,c)||this;c.type="string";c.value=b;return c}return b}(a);d=function(a){babelHelpers.inheritsLoose(b,a);function b(b,c){c=a.call(this,c)||this;c.type="boolean";c.value=b;return c}return b}(a);e=function(a){babelHelpers.inheritsLoose(b,a);function b(b,c){c=a.call(this,c)||this;c.type="identifier";c.value=b;return c}return b}(a);f.WebBloksNumberToken=b;f.WebBloksStringToken=c;f.WebBloksBooleanToken=d;f.WebBloksIdentifierToken=e}),66);
__d("WebBloksWhile",["WebBloksBooleanUtils"],(function(a,b,c,d,e,f,g){function a(a,b,c){while(d("WebBloksBooleanUtils").isTrue(b()))c()}g["default"]=a}),98);
__d("WebBloksScriptExecutor",["Promise","WebBloksErrors","WebBloksScriptParser","WebBloksScriptTokens","WebBloksUtils","WebBloksWhile"],(function(a,b,c,d,e,f,g){var h;function i(a,b){a=a.actions[b];if(a==null)throw new(d("WebBloksErrors").WebBloksUnknownActionError)(b);return a}var j={"bk.action.core.FuncConst":function(a,b){if(b.length!==1)throw new(d("WebBloksErrors").WebBloksScriptError)("FuncConst supports only single args",a);var c=(a=a.splicesStack.at(-1))!=null?a:[];return function(a){try{for(var d=arguments.length,e=new Array(d>1?d-1:0),f=1;f<d;f++)e[f-1]=arguments[f];a.callArgsStack.push(e);a.splicesStack.push(c);return m(a,b[0])}finally{a.callArgsStack.pop(),a.splicesStack.pop()}}},"bk.action.core.Coalesce":function(a,b){for(var b=b,c=Array.isArray(b),d=0,b=c?b:b[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var e;if(c){if(d>=b.length)break;e=b[d++]}else{d=b.next();if(d.done)break;e=d.value}e=e;e=m(a,e);if(e!=null)return e}return null},"bk.action.core.If":function(a,b){if(b.length!==2&&b.length!==3)throw new(d("WebBloksErrors").WebBloksScriptError)("If supports 2 or 3 args",a);var c=m(a,b[0]);if(c)return m(a,b[1]);else if(b.length===3)return m(a,b[2]);else return null},"bk.action.core.Pattern":function(a,b){if(b.length!==2)throw new(d("WebBloksErrors").WebBloksScriptError)("Pattern supports only two args",a);a=m(a,b[0]);var c=function(a){return m(a,n(a,b[1]))};return{"case":a,expression:c}},"bk.action.core.Default":function(a,b){if(b.length!==1)throw new(d("WebBloksErrors").WebBloksScriptError)("Default supports only one arg",a);return function(a){return m(a,n(a,b[0]))}},"bk.action.core.While":function(a,b){if(b.length!==2)throw new(d("WebBloksErrors").WebBloksScriptError)("While supports only two arg",a);var e=function(){return m(a,n(a,b[0]))},f=function(){return m(a,n(a,b[1]))};return c("WebBloksWhile")(a,e,f)},"bk.action.core.GetArg":function(a,b){var c=a.callArgsStack;if(b.length!==1)throw new(d("WebBloksErrors").WebBloksScriptError)("GetArg supports only single args",a);if(c.length===0)throw new(d("WebBloksErrors").WebBloksScriptError)("GetArg received no callArgs",a);c=d("WebBloksUtils").peek(c);b=Number(b[0].value);b>=c.length&&a.objectSet.environment.logger.mustfix("GetArg refers to a non existing argument: "+b+" out of "+c.length);return c[b]},"bk.action.core.SetArg":function(a,b){var c=a.callArgsStack;if(b.length!==2)throw new(d("WebBloksErrors").WebBloksScriptError)("SetArg supports only two args",a);if(c.length===0)throw new(d("WebBloksErrors").WebBloksScriptError)("SetArg received no callArgs",a);c=d("WebBloksUtils").peek(c);var e=Number(b[0].value);c[e]=m(a,b[1]);return null},"bk.action.splice.Apply":function(a,b){a.splicesStack.push(b.slice(1));try{return o(a,m(a,b[0]))}finally{a.splicesStack.pop()}},"bk.action.splice.Get":function(a,b){b=b[0].value;b=d("WebBloksUtils").nullthrows(a.splicesStack.at(-1))[b];return m(a,b)}};function k(a,b){var c=b[0];b=b.slice(1);if(Array.isArray(c)||!(c instanceof d("WebBloksScriptTokens").WebBloksIdentifierToken))throw new(d("WebBloksErrors").WebBloksScriptError)("First arg of calls must be a token",a);var e=c.value,f=a.getBaseSourceMapNode();f!=null&&a.setSourceMapNode(f.addToTreePath(String(c.lispyOffset)));f=j[e];if(f)return f(a,b);if(e[0]==="@")return j["bk.action.splice.Apply"](a,[[new(d("WebBloksScriptTokens").WebBloksIdentifierToken)("bk.action.bloks.GetScript"),new(d("WebBloksScriptTokens").WebBloksStringToken)(e.slice(1))]].concat(b));c=i(a,e);f=l(a,b);e=c.apply(void 0,[a].concat(f));return e}function l(a,b){return b.map(function(b){return m(a,b)})}function m(a,b){if(Array.isArray(b))return k(a,b);if(b instanceof d("WebBloksScriptTokens").WebBloksIdentifierToken){var c=b.value;if(c==="null")return null;if(c[0]==="&")return j["bk.action.splice.Get"](a,[new(d("WebBloksScriptTokens").WebBloksNumberToken)(parseInt(c.slice(1),10))]);throw new(d("WebBloksErrors").WebBloksScriptError)('Unexpected identifier "'+c+'" in argument list')}return b.value}function n(a,b){var c=b[0];b=b[1];if(c.value!=="bk.action.core.FuncConst")throw new(d("WebBloksErrors").WebBloksScriptError)("Expected FuncConst",a);return b}function o(a,b,c){if(typeof b==="function"){var e;e=(e=c)!=null?e:[];return b.apply(void 0,[a].concat(e))}else{e=typeof b==="string"?d("WebBloksScriptParser").parse(b):d("WebBloksUtils").cast(b);try{a.callArgsStack.push((b=c)!=null?b:d("WebBloksUtils").EMPTY_ARRAY);return k(a,e)}finally{a.callArgsStack.pop()}}}function a(a,b,c){return o(a,b,c)}g.execute=a}),98);
__d("WebBloksScriptParser",["WebBloksErrors","WebBloksScriptDebuggingUtils","WebBloksScriptString","WebBloksScriptTokens"],(function(a,b,c,d,e,f,g){var h=new(d("WebBloksScriptTokens").WebBloksBooleanToken)(!0),i=new(d("WebBloksScriptTokens").WebBloksBooleanToken)(!1),j=/^-?(?:0|[1-9]\d*)(?:\.\d+)?(?:[eE][+-]?\d+)?$/;function k(a){switch(a){case" ":case"\n":case"\r":case"\t":case",":return!0;default:return!1}}function a(a){var b=d("WebBloksScriptString").castWebBloksScriptStringToString(a);a=[];var c=[a],e=0;function f(){while(k(b[e]))e++}while(e<b.length){f();var g=b[e];switch(g){case"(":a=[];c.push(a);e++;break;case")":g=c.pop();a=c[c.length-1];if(!a)throw new(d("WebBloksErrors").WebBloksScriptParseError)(e,"Unexpected ')'");a.push(g);e++;break;case'"':g=++e;var h=!1;while(!0){var i=b.indexOf('"',e);if(i===-1)throw new(d("WebBloksErrors").WebBloksScriptParseError)(g,"Unterminated string");var j=b.indexOf("\\",e);if(i<j||j===-1){e=i;break}e=j+2;h=!0}i=b.substring(g,e);a.push(new(d("WebBloksScriptTokens").WebBloksStringToken)(h?l(g,i):i));e++;break;default:j=e;while(!0){h=b[++e];if(k(h)||h===")"||h==="("||h===void 0){a.push(m(b.substring(j,e)));break}}}if(c.length===1)break}g=a[0];g=d("WebBloksScriptDebuggingUtils").attachLispyOffsetsForWebBloksScriptNode(g);return g}function l(a,b){return JSON.parse('"'+b+'"')}function m(a){if(a==="true")return h;else if(a==="false")return i;else if(j.test(a)){var b=parseFloat(a);if(b.toString()===a)return new(d("WebBloksScriptTokens").WebBloksNumberToken)(b);else return new(d("WebBloksScriptTokens").WebBloksStringToken)(a)}return new(d("WebBloksScriptTokens").WebBloksIdentifierToken)(a)}g.parse=a}),98);
__d("WebBloksScriptPrinter",["WebBloksScriptParser"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return typeof a==="string"&&(a.startsWith("(")||a.startsWith(" ("))&&a.endsWith(")")}function b(a){if(typeof a==="function")return"<function>";a=Array.isArray(a)?a:d("WebBloksScriptParser").parse(a);return h(0,a)}function h(a,b){if(Array.isArray(b)){var c=b.every(function(a){return!Array.isArray(a)});if(c)return"("+b.map(function(a){return h(0,a)}).join(", ")+")";var d="("+String(b[0].value);b.slice(1).forEach(function(b){d+="\n"+"".padEnd(a+2)+h(a+2,b)});d+="\n"+"".padEnd(a)+")";return d}return typeof b==="object"&&b!=null?b.type==="string"?JSON.stringify(b.value):String(b.value):String(b)}g.looksLikeAScript=a;g.prettyPrint=b}),98);
__d("WebBloksLayout",["WebBloksCSSUtils","WebBloksEnvironmentContext","WebBloksUtils","react"],(function(a,b,c,d,e,f,g){var h,i=(h||d("react")).useMemo;function a(a){var b=d("WebBloksEnvironmentContext").useWebBloksEnvironment().isRtl;return i(function(){var c=d("WebBloksUtils").isStyle(a._style,"flex"),e={};a.alpha!=null&&(e.opacity=a.alpha);if(c){c=d("WebBloksUtils").nullthrows(a._style).getValues();c=Object.entries(c);for(var f=0;f<c.length;f++){var g=c[f],h=g[0];g=g[1];if(j(h))continue;h=d("WebBloksCSSUtils").getRtlAwareCssAttr(d("WebBloksUtils").toCamel(h),b);switch(h){case"grow":e.flexGrow=String(g);break;case"shrink":e.flexShrink=String(g);break;case"alignSelf":e.alignSelf=d("WebBloksUtils").toHyphen(String(g));break;case"justifyContent":e.justifyContent=d("WebBloksUtils").toHyphen(String(g));break;case"position_type":case"positionType":e.position=String(g);break;case"bottom":case"left":case"right":case"top":e[h]=d("WebBloksUtils").toPx(String(g));e.position="absolute";break;case"aspectRatio":break;case"ntDebugMetadataV2":break;case"width":case"height":case"minHeight":case"maxHeight":case"minWidth":case"maxWidth":case"marginTop":case"marginRight":case"marginBottom":case"marginLeft":case"paddingTop":case"paddingRight":case"paddingBottom":case"paddingLeft":e[h]=d("WebBloksUtils").toPx(d("WebBloksUtils").toHyphen(String(g)));break;case"transform":e[h]=String(g);break;default:e[h]=d("WebBloksUtils").toPx(d("WebBloksUtils").toHyphen(String(g)));break}}}h=d("WebBloksUtils").isStyle(a._style,"collection");if(h){g=d("WebBloksUtils").nullthrows(a._style).getValues();c=Object.entries(g);for(f=0;f<c.length;f++){h=c[f];g=h[0];h=h[1];if(j(g))continue;g=d("WebBloksUtils").toCamel(g);switch(g){case"isSticky":h===!0&&(e.position="sticky");break;case"onAppear":case"onDisappear":break;case"height":e.height=d("WebBloksUtils").toPx(String(h));break;case"width":e.width=d("WebBloksUtils").toPx(String(h));break;case"ntDebugMetadataV2":break;default:e[g]=d("WebBloksUtils").toPx(d("WebBloksUtils").toHyphen(String(h)));break}}}d("WebBloksUtils").isStyle(a._style,"ig.style.SearchStyle")&&(e.width="100%");return e},[a._style,a.alpha,b])}function j(a){return a[0]==="$"||a==="id"||a==="on_bind"}g["default"]=a}),98);
__d("WebBloksStyle",["WebBloksCSSUtils","WebBloksLayout","WebBloksWrapper","react"],(function(a,b,c,d,e,f,g){var h;h||(h=d("react"));var i=h,j=i.useEffect,k=i.useRef;function a(a,b,d){d===void 0&&(d=!1);var e=a.getValues(),f=k(null);a.uiMutableContainer.domNode=f;j(function(){a.uiMutableContainer.domNode=f},[a]);d=d===!0?{pointerEvents:"auto",cursor:"pointer",WebkitTapHighlightColor:"transparent"}:void 0;e=babelHelpers["extends"]({},c("WebBloksLayout")(e),d,b);d=c("WebBloksWrapper")(a,e,f);b=d.hasWrapper;var g=d.wrapper,h=d.wrapperProps;d=d.stylesFromExtensions;d&&Object.assign(e,d);return{ref:f,style:b?l:e,wrapper:g,wrapperProps:h}}var l={height:"100%",width:"100%",pointerEvents:"inherit"};function b(a){return{className:s.container,style:a}}var m;typeof m!=="number"&&(m=0);function n(){typeof m!=="number"&&(m=0);return++m}function o(a,b){if(typeof b==="object")return[["."+a,d("WebBloksCSSUtils").styleObjectToCSS(b)]];else return Object.entries(b("."+a)).map(function(a){var b=a[0];a=a[1];return[b,d("WebBloksCSSUtils").styleObjectToCSS(a)]})}function e(a){return Object.fromEntries(Object.entries(a).map(function(a){var b=a[0];a=a[1];var c="wbloks_"+n();o(c,a).forEach(function(a){var b=a[0];a=a[1];return d("WebBloksCSSUtils").insertCssRule(b+" {\n"+a+"\n}")});return[b,c]}))}function f(a){var b="wbloks_"+n()+" ";d("WebBloksCSSUtils").insertCssRule("@keyframes "+b+" {\n"+Object.entries(a).map(function(a){var b=a[0];a=a[1];return b+" {\n"+d("WebBloksCSSUtils").styleObjectToCSS(a)+"\n }"}).join("\n")+"\n}");return b}function p(b,c){var a={};d("WebBloksCSSUtils").insertCssRule("@supports "+q(b)+" {\n"+Object.entries(c).map(function(b){var c=b[0];b=b[1];var d="wbloks_"+n();a[c]=d;return o(d,b).map(function(a){var b=a[0];a=a[1];return b+" {\n"+a+"\n}"}).join("\n")}).join("\n")+"}");return a}function q(a){var b=a.negate===!0?"not ":"";return a.type==="selector"?b+("selector("+a.selector+")"):b+("("+a.key+": "+a.value+")")}function r(){for(var a=arguments.length,b=new Array(a),c=0;c<a;c++)b[c]=arguments[c];return b.filter(Boolean).join(" ")}var s=e({container:{boxSizing:"border-box",display:"flex",flex:"0 1 auto",flexDirection:"row",pointerEvents:"auto",position:"relative",minHeight:0,minWidth:0}});g.useStyle=a;g.getStyleProps=b;g.createStyles=e;g.keyframes=f;g.createStylesIfSupported=p;g.classNames=r;g.WebBloksStyles=s}),98);
__d("WebBloksTheme",["WebBloksStyle","react"],(function(a,b,c,d,e,f,g){var h,i=h||(h=d("react"));e=h;var j=e.useContext,k=e.useEffect,l=e.useMemo,m={light:"light",dark:"dark"};function n(a){var b=document.documentElement;if(b==null)return;b.classList.remove(p,q);switch(a){case"dark":b.classList.add(q);break;case"light":b.classList.add(p);break}}e={getTheme:function(){return m.light}};var o=i.createContext(e);function a(a){var b=a.children;a=a.initialTheme;var c=(a=a)!=null?a:m.light;k(function(){n(c)},[c]);a=l(function(){return{getTheme:function(){return c}}},[c]);return i.jsx(o.Provider,{value:a,children:b})}a.displayName=a.name+" [from "+f.id+"]";function b(){return j(o)}var p,q;e={"error-or-destructive":["rgb(237, 73, 86)","rgb(237, 73, 86)"],"navbar-bg":["#ffffff","#000000"],"screen-wrapper-bg":["#ffffff","#000000"],separator:["rgb(219, 219, 219)","rgb(54, 54, 54)"],"primary-bg":["#ffffff","#000000"],"primary-text":["rgb(38, 38, 38)","rgb(250, 250, 250)"],"fds-gray-65":"#A4A7AB","fds-white":"#FFFFFF","fig-blue-tint-90":"#ecf0f7","fig-blue-tint-10":"#3776ff","switch-active":["hsl(214, 89%, 52%)","hsl(214, 100%, 59%)"],"media-inner-border":["rgba(0, 0, 0, 0.1)","rgba(255, 255, 255, 0.05)"],divider:["#CED0D4","#3E4042"],"always-white":"#ffffff","shadow-5":"rgba(0, 0, 0, 0.5)","fds-animation-move-in":"cubic-bezier(0.17, 0.17, 0, 1)","fds-animation-move-out":"cubic-bezier(0.17, 0.17, 0, 1)","fds-duration-extra-short-in":"200ms","fds-duration-extra-short-out":"150ms","cds-close-handle":["#748695","#647685"],"cds-overlay-alpha-80":"rgba(28, 43, 51, 0.80)","cds-surface-background":["rgba(255, 255, 255)","rgb(28, 43, 51)"]};f=c(e);function c(a){var b={},c={},e={};Object.entries(a).forEach(function(a){var d=a[0];a=a[1];var f="--wbloks-"+d;e[d]="var("+f+")";b[f]=Array.isArray(a)?a[0]:a;c[f]=Array.isArray(a)?a[1]:a});a=d("WebBloksStyle").createStyles({lightTheme:b,darkTheme:c});p=a.lightTheme;q=a.darkTheme;return e}g.THEME=m;g.WebBloksThemeProvider=a;g.useTheme=b;g.WebBloksThemeVars=f}),98);
__d("WebBloksSSRUtils",[],(function(a,b,c,d,e,f){a=!!(typeof window!=="undefined"&&window.document&&window.document.createElement);f.canUseDOM=a}),66);
__d("WebBloksViewpointContext",["react"],(function(a,b,c,d,e,f,g){var h;a=(h||d("react")).createContext;b=a(null);c=b;g["default"]=c}),98);
__d("WebBloksViewpoint",["WebBloksViewpointContext","react"],(function(a,b,c,d,e,f,g){var h;b=h||d("react");var i=b.useCallback,j=b.useContext,k=b.useEffect,l=b.useRef;e=function(a){this.element=null,this.percentVisible=null,this.state=null,Object.assign(this,a)};function m(a){var b=a.action,c=a.id;b=a.suppressWarnings;var d=n(c);a=n(c);k(function(){var a=d!==c})}function n(a){var b=l(null);k(function(){b.current=a});return b.current}function a(a){var b=j(c("WebBloksViewpointContext")),d=a.action,e=a.id,f=a.untrackAfterFirstAppear,g=l(null);m(a);var h=i(function(a){d(a),a.state==="entered"&&f===!0&&(b==null?void 0:b.untrack())},[d,f,b]);k(function(){var a=g.current;a&&b&&b.track(a,h,e)},[h,e,b]);return g}g.ViewpointSnapshot=e;g.useViewpoint=a}),98);
__d("WebBloksWrapper",["WebBloksComponentContext","WebBloksEnvironmentContext","WebBloksSSRUtils","WebBloksStyle","WebBloksViewpoint","react"],(function(a,b,c,d,e,f,g){var h,i=h||(h=d("react"));b=h;var j=b.useEffect,k=b.useLayoutEffect,l=b.useRef,m=function(a){return a};function a(a,b,c){var e=d("WebBloksEnvironmentContext").useWebBloksEnvironment().extensionHandlers,f=d("WebBloksComponentContext").useWebBloksContext(),g=a.getValues(),h=a.getStyle("flex"),k=h==null?void 0:h.get("aspect_ratio");h=null;var n=a.getStyle("collection"),q=(n==null?void 0:n.get("on_appear"))!=null||(n==null?void 0:n.get("on_disappear"))!=null,r=a.get("extensions"),s=l(a);s.current=a;j(function(){if(!r||r.length===0)return;var b=[];for(var c=r,d=Array.isArray(c),g=0,c=d?c:c[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var h;if(d){if(g>=c.length)break;h=c[g++]}else{g=c.next();if(g.done)break;h=g.value}h=h;var a=e[h.styleId];a&&a.onMount&&b.push(a.onMount(h,s,f))}return function(){b.forEach(function(a){return a==null?void 0:a()})}},[]);n=k!=null||q||!!(r&&r.length>0);var t={"data-bloks-name":a.styleId,ref:c,id:a.get("html_id")};if(!n)return{hasWrapper:!1,wrapper:m,wrapperProps:t,stylesFromExtensions:h};var u=k!=null;if(r)for(var n=r,v=Array.isArray(n),w=0,n=v?n:n[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var x;if(v){if(w>=n.length)break;x=n[w++]}else{w=n.next();if(w.done)break;x=w.value}x=x;var y=e[x.styleId];y&&((y.hasLayoutWrapper==null?void 0:y.hasLayoutWrapper(x))&&(u=!0),y.getStyles&&(h=babelHelpers["extends"]({},h,y.getStyles(x))),Object.assign(t,y.getProps==null?void 0:y.getProps(x,a,f)))}y=function(f){f=f;k!=null&&(f=i.jsx(o,{aspectRatio:k,children:f}));q&&g._style!=null&&(f=i.jsx(p,{style:g._style,contextNode:a,elementRef:c,children:f}));if(r)for(var h=r,j=Array.isArray(h),l=0,h=j?h:h[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var m;if(j){if(l>=h.length)break;m=h[l++]}else{l=h.next();if(l.done)break;m=l.value}m=m;var n=e[m.styleId];if(n){n=n.wrap;n&&(f=n(m,f,a,c))}}return u?i.jsx("div",{className:d("WebBloksStyle").WebBloksStyles.container,style:babelHelpers["extends"]({},b,{aspectRatio:k}),children:f}):f};return{hasWrapper:u,wrapper:y,wrapperProps:t,stylesFromExtensions:h}}var n=d("WebBloksStyle").createStyles({aspectRatioContainer:{width:"100%",pointerEvents:"none",overflow:"hidden"},aspectRatioContent:{bottom:0,left:0,overflow:"hidden",position:"absolute",right:0,top:0,padding:"inherit"},aspectRatioSVG:{height:"100%",width:"100%",display:"flex"}});function o(a){var b=a.aspectRatio;a=a.children;return i.jsxs(i.Fragment,{children:[i.jsx("div",{"data-bloks-name":"bk.components.AspectRatio",className:n.aspectRatioContainer,style:{aspectRatio:b},children:i.jsx("svg",{"aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",height:1,width:b,className:n.aspectRatioSVG})}),i.jsx("div",{"data-bloks-name":"bk.components.AspectRatio",className:n.aspectRatioContent,children:a})]})}o.displayName=o.name+" [from "+f.id+"]";function p(a){var b=a.contextNode,c=a.children,e=a.style;a=a.elementRef;return!d("WebBloksSSRUtils").canUseDOM?c:q({contextNode:b,children:c,style:e,elementRef:a})}function q(a){var b=a.children,c=a.contextNode,e=a.elementRef,f=a.style;a=d("WebBloksComponentContext").useWebBloksContext();var g=a.executeCatch,h=a.bloksContext;function i(a){var b=f==null?void 0:f.getExpression("on_appear"),d=f==null?void 0:f.getExpression("on_disappear");switch(a.state){case"entered":b!=null&&g(c,b,[h]);break;case"exited":d!=null&&g(c,d,[h]);break}}var j=d("WebBloksViewpoint").useViewpoint({id:f.clientId.toString(),action:i});k(function(){j.current=e.current},[e,j]);return b}q.displayName=q.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("WebBloksCSSUtils",["WebBloksIsUnitTest","WebBloksSSRUtils","WebBloksUtils"],(function(a,b,c,d,e,f,g){"use strict";var h,i="";function a(a,b){switch(a){case"start":return b?"right":"left";case"end":return b?"left":"right";case"marginStart":return b?"marginRight":"marginLeft";case"marginEnd":return b?"marginLeft":"marginRight";case"paddingStart":return b?"paddingRight":"paddingLeft";case"paddingEnd":return b?"paddingLeft":"paddingRight"}return a}function b(){return i}function e(a){var b;if(c("WebBloksIsUnitTest")()||a==null)return;if(!d("WebBloksSSRUtils").canUseDOM){i+=a;return}h||(h=j());b=d("WebBloksUtils").nullthrows((b=h)==null?void 0:b.sheet);try{b.insertRule(d("WebBloksUtils").nullthrows(a),b.cssRules.length)}catch(a){}}function j(){var a=document.createElement("style");a.setAttribute("type","text/css");a.setAttribute("data-styled","true");var b=document.head||document.getElementsByTagName("head")[0];d("WebBloksUtils").nullthrows(b,"Unexpected null: head");b.appendChild(a);return a}function f(a){return Object.entries(a).map(function(a){var b=a[0];a=a[1];var c=a==null||typeof a==="boolean"||a==="";if(c)return"";typeof a==="number"&&a!==0&&!k[b]&&(a+="px");return p(b)+": "+String(a).trim()+";"}).join("\n\t")}var k={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0};function l(a,b){return a+b.charAt(0).toUpperCase()+b.substring(1)}var m=["Webkit","ms","Moz","O"];Object.keys(k).forEach(function(a){m.forEach(function(b){k[l(b,a)]=k[a]})});var n=/([A-Z])/g,o=/^ms-/;function p(a){return a.replace(n,"-$1").toLowerCase().replace(o,"-ms-")}g.getRtlAwareCssAttr=a;g.getSSRStyles=b;g.insertCssRule=e;g.styleObjectToCSS=f}),98);
__d("WebBloksDimensionUtils",[],(function(a,b,c,d,e,f){"use strict";function g(a){if(a.endsWith("%"))return"%";if(a.endsWith("dp")||a.endsWith("sp"))return"dp";return a.endsWith("px")?"px":null}function a(a){if(a==null)return null;var b=g(a);return!b?null:{value:parseFloat(a),type:b}}f.parseDimension=a}),66);
__d("WebBloksURLSearchParams",[],(function(a,b,c,d,e,f){a=function(){function a(a){var b=this;this.params=new Map();a!=null&&a.slice(1).split("&").forEach(function(a){a=a.split("=");var c=a[0];a=a[1];c=decodeURIComponent(c);b.params.set(c,decodeURIComponent(a))})}var b=a.prototype;b.append=function(a,b){this.params.set(a,b)};b["delete"]=function(a){this.params["delete"](a)};b.get=function(a){return this.params.get(a)||null};b.set=function(a,b){this.params.set(a,b)};return a}();f["default"]=a}),66);
__d("WebBloksUtils",["Promise","WebBloksBooleanUtils","WebBloksConstants","WebBloksDimensionUtils","WebBloksErrors","WebBloksSSRUtils","WebBloksTheme","WebBloksURLSearchParams","react"],(function(a,b,c,d,e,f,g){var h,i,j=i||d("react"),k=j.useEffect;j=j.useLayoutEffect;var l=[];Object.freeze(l);var m=l,n=Object.create(null);Object.freeze(n);var o=new Map();o.set=function(){throw new(d("WebBloksErrors").WebBloksError)("Map is immutable")};var p=0;function a(){p=0}function e(){return++p}function f(a){return typeof a==="string"?a.replace("_","-"):a}function q(a){if(typeof a==="string"){var b=a.replace(/-/g,"_").split(/_/),c=b[0];for(var d=1;d<b.length;d++){var e=b[d];c+=e[0].toUpperCase()+e.slice(1)}return c}return a}function r(a){return a==null?{}:{paddingTop:s(a==null?void 0:a.get("top")),paddingRight:s(a==null?void 0:a.get("end")),paddingBottom:s(a==null?void 0:a.get("bottom")),paddingLeft:s(a==null?void 0:a.get("start"))}}function s(a){if(typeof a==="string"){var b=d("WebBloksDimensionUtils").parseDimension(a);if(b==null)return a;return b.type==="%"?b.value+"%":b.value+"px"}return a}function t(a){return((a=d("WebBloksDimensionUtils").parseDimension(a))==null?void 0:a.type)==="%"}function u(a){return!t(a)?null:parseFloat(a)/100}function v(a){if(a.startsWith("rgba(")){var b=a.slice(5,a.indexOf(")"));b=b.split(",").map(function(a){return Number(a)});var c=b[0],d=b[1],e=b[2];b=b[3];return[c,d,e,b]}else if(a.startsWith("rgb(")){c=a.slice(4,a.indexOf(")"));d=c.split(",").map(function(a){return Number(a)});e=d[0];b=d[1];c=d[2];return[e,b,c,1]}else if(a.length===9){d=parseInt(a.slice(1,3),16)/255;e=parseInt(a.slice(3,5),16);b=parseInt(a.slice(5,7),16);c=parseInt(a.slice(7,9),16);return[e,b,c,d]}else{e=parseInt(a.slice(1,3),16);b=parseInt(a.slice(3,5),16);c=parseInt(a.slice(5,7),16);return[e,b,c,1]}}function w(a){var b=a[0],c=a[1],d=a[2];a=a[3];a=a===void 0?1:a;return"rgba("+b+","+c+","+d+","+a.toFixed(4)+")"}function x(a,b){b=b===d("WebBloksTheme").THEME.dark?a.get("dark_color"):a.get("light_color");return w(v(b))}function y(a){var b={translate_x:"translateX",translate_y:"translateY",scale_x:"scaleX",scale_y:"scaleY",alpha:"",rotation:"rotate"};return(b=b[a])!=null?b:""}function z(a,b){return a!=null&&a.styleId===b}function A(a,b){return a==null?null:a.find(function(a){return a.styleId===b})}function B(a){return a}function C(a){if(!a.length)throw new(d("WebBloksErrors").WebBloksError)("Empty collection");return a[a.length-1]}function D(a,b){if(b==null)return;for(var b=b,c=Array.isArray(b),d=0,b=c?b:b[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var e;if(c){if(d>=b.length)break;e=b[d++]}else{d=b.next();if(d.done)break;e=d.value}e=e;var f=e[0];e=e[1];a.set(f,e)}}function E(a){for(a in a)return a}var F=function(){function a(){this.listeners=new Set()}var b=a.prototype;b.on=function(a){this.listeners.add(a)};b.off=function(a){this.listeners["delete"](a)};b.emit=function(){for(var a=arguments.length,b=new Array(a),c=0;c<a;c++)b[c]=arguments[c];this.listeners.forEach(function(a){return a.apply(void 0,b)})};b.clear=function(){this.listeners.clear()};return a}();function G(a){return new(h||(h=b("Promise")))(function(b){window.setTimeout(b,a)})}var H={passive:!0},I=10;function J(a,b,c,d){if(!d)return!0;var e=a.getBoundingClientRect();if(Math.abs(e.left-b)>I||Math.abs(e.top-c)>I)return!0;b=document.elementFromPoint(d.clientX,d.clientY);if(!b)return!0;return a.contains(b)?!1:!0}function K(a){return/^[0-9]*(\.[0-9]+)?\%$/.test(a)}function L(a){return/^[0-9]*(\.[0-9]+)?(dp|px)$/.test(a)}function M(a){var b,c=a;return function(){c&&(b=c.apply(this,arguments),c=null);return b}}function N(a,b){b=a.indexOf(b);b!==-1&&a.splice(b,1)}function O(a,b){b===void 0&&(b="Got unexpected null or undefined");if(a!=null)return a;a=new(d("WebBloksErrors").WebBloksError)(b);a.framesToPop=1;throw a}function P(a){for(a in a)return!1;return!0}function Q(a,b){if(a===b)return!0;if(a==null||b==null)return!1;if(a.size!==b.size)return!1;for(var a=a,c=Array.isArray(a),d=0,a=c?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var e;if(c){if(d>=a.length)break;e=a[d++]}else{d=a.next();if(d.done)break;e=d.value}e=e;var f=e[0];e=e[1];f=b.get(f);if(e!==f)return!1}return!0}function R(a,b){var c=!1;return function(){if(!c){for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];a.apply(this,e);c=!0;window.setTimeout(function(){c=!1},b)}}}function S(a,b){var c;return function(){for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];var g=this;window.clearTimeout(c);c=window.setTimeout(function(){a.apply(g,e)},b)}}j=d("WebBloksSSRUtils").canUseDOM?j:k;var T=Object.prototype.toString;function U(a){switch(T.call(a)){case"[object String]":case"[object Number]":case"[object Boolean]":case"[object Null]":case"[object Undefined]":return!0}return!1}function V(a,b){var c=function(a){return function(b,c){return V(b,a[c])}},d=function(a,b){return function(c){return c in a&&c in b&&V(a[c],b[c])}};if(T.call(a)!==T.call(b))return!1;if(U(a))return a===b;if(Array.isArray(a)&&Array.isArray(b))return a.length===b.length&&a.every(c(b));if(typeof a==="object"&&typeof b==="object"&&!Array.isArray(a)&&a!==null&&b!==null){c=Object.keys(a);var e=Object.keys(b);return c.length!==e.length?!1:c.every(d(a,b))}return!1}function W(a){return a!==null&&Object.prototype.toString.call(a)==="[object Object]"}function X(a){return!d("WebBloksBooleanUtils").isFalse(a.get("enabled"))}function Y(){return new(c("WebBloksURLSearchParams"))(window.location.search)}function Z(a){if(a==null)return d("WebBloksConstants").WEBBLOKS_DEFAULT_FONT_FAMILY;a=(a=a.__default)==null?void 0:a.webFontName;return a===null?"inherit":(a=a)!=null?a:d("WebBloksConstants").WEBBLOKS_DEFAULT_FONT_FAMILY}g.EMPTY_ARRAY=l;g.EMPTY_KEY_PATH=m;g.EMPTY_OBJECT=n;g.EMPTY_MAP=o;g.resetGlobalBloksClientIdForTest=a;g.getNextGlobalBloksClientId=e;g.toHyphen=f;g.toCamel=q;g.insetToPadding=r;g.toPx=s;g.isPercentage=t;g.toPercentageValue=u;g.convertRGBOrHexStringToArr=v;g.convertRGBArrToString=w;g.getRGBColorWithTheme=x;g.viewTransformKeyToTransformFunction=y;g.isStyle=z;g.findExtension=A;g.cast=B;g.peek=C;g.putAll=D;g.getFirstKey=E;g.EventEmitter=F;g.sleep=G;g.passiveTouchEventOptions=H;g.shouldCancelTouchEvent=J;g.isBloksDimensionPercentage=K;g.isBloksDimensionPixel=L;g.once=M;g.removeFromArray=N;g.nullthrows=O;g.isEmptyObject=P;g.shallowMapEqual=Q;g.throttle=R;g.debounce=S;g.useLayoutEffect_SAFE_FOR_SSR=j;g.deepEquals=V;g.isObject=W;g.isBloksModelEnabled=X;g.getQueryParams=Y;g.getWrapperFontFamily=Z}),98);
__d("WebBloksAddChild",["WebBloksMutations"],(function(a,b,c,d,e,f,g){function a(a,b,c,e){d("WebBloksMutations").addChildToContainer(a.treeManager,b,c,e)}g["default"]=a}),98);
__d("WebBloksAnchorIDExtensionHandler",[],(function(a,b,c,d,e,f){a={getProps:function(a){a=a.get("anchor_id");if(a!=null)return{"data-anchor-id":a}}};f.WebBloksAnchorIDExtensionHandler=a}),66);
__d("WebBloksAnchorTagExtensionHandler",["WebBloksUtils"],(function(a,b,c,d,e,f,g){"use strict";b={};function a(a){a=a.getValues();a=d("WebBloksUtils").findExtension(a.extensions,"bk.components.AnchorTagExtension");if(!a)return null;a=a.getValues();a=a.href;return{href:a,tabIndex:0}}g.WebBloksAnchorTagExtensionHandler=b;g.useWebBloksAnchorTagExtensionProps=a}),98);
__d("WebBloksChildrenOperationsHelper",["WebBloksConstants","WebBloksMutations","WebBloksUtils"],(function(a,b,c,d,e,f,g){function a(a,b){var c=a.bloksContext.objectSet.environment.traversalKeys;a.enqueueUpdateOperation(new(d("WebBloksMutations").ChildServerIdTarget)(b,c),{update:function(e){e=z(e,b,c);var f=e[0];e=e[1];if(e<0){d("WebBloksMutations").warn(a,"removeChildById: No existing child found with specified ID in parent. No child has been removed from the parent.");return}f.splice(e,1)}})}function b(a,b,c,e){a.enqueueUpdateOperation(new(d("WebBloksMutations").ClientIdTarget)(b.clientId),{update:function(b){b=z(b,c,a.bloksContext.objectSet.environment.traversalKeys);var f=b[0];b=b[1];var g=f.findIndex(function(a){return a.getId()===e});if(b===-1){d("WebBloksMutations").warn(a,"removeChildren: The starting id doesn't exist. No children have been removed.");return}if(g===-1){d("WebBloksMutations").warn(a,"removeChildren: The ending id doesn't exist. No children have been removed.");return}if(b>g){d("WebBloksMutations").warn(a,"removeChildren: The starting index is larger than the ending index. No children have been removed.");return}f.splice(b+1,g-b-1)}})}function h(a,b,c){var e=a.bloksContext.objectSet.environment.traversalKeys;a.enqueueUpdateOperation(new(d("WebBloksMutations").ChildServerIdTarget)(b,e),{update:function(f){f=z(f,b,e);var g=f[0];f=f[1];if(f<0){d("WebBloksMutations").warn(a,"replaceChildrenAfter: No existing child found with specified ID in parent. New children have not been added to parent.");return}g.splice.apply(g,[f+1,g.length-1-f].concat(x(c)))}})}function c(a,b,c){c=y(a,c);h(a,b,c)}function i(a,b,c,e,f,g){g===void 0&&(g=0);var h=a.bloksContext.objectSet.environment.traversalKeys;a.enqueueUpdateOperation(new(d("WebBloksMutations").ChildServerIdTarget)(b,h),j(a,b,c,e,f,g))}function j(a,b,c,e,f,g){g===void 0&&(g=0);var h=a.bloksContext.objectSet.environment.traversalKeys;return{update:function(i){i=z(i,b,h);var j=i[0];i=i[1];if(i<0){d("WebBloksMutations").warn(a,f+": No existing child found with specified ID in parent. New children have not been added to parent.");return}j.splice.apply(j,[i+g,e].concat(x(c)))}}}function e(a,b,c){i(a,b,c,0,"prependChildren")}function k(a,b,c){i(a,b,c,1,"replaceChild")}function l(a,b,c,d){i(a,c,b,0,"insertChildrenRelativeToId",d)}function f(a,b,c){return j(a,b,c,1,"replaceChild")}function m(a,b,c){a.enqueueUpdateOperation(new(d("WebBloksMutations").ServerIdTarget)(b),{update:function(a){var b;(b=a.getChildren_DEPRECATED()).splice.apply(b,[0,a.getChildren_DEPRECATED().length].concat(x(c)))}})}function n(a,b,c){c=y(a,c);k(a,b,c)}function o(a,b,c){c=y(a,c);m(a,b,c)}function p(a,b,c){a.enqueueUpdateOperation(new(d("WebBloksMutations").ServerIdTarget)(b),{update:function(a){var b=[],d=x(c);for(var e=0;e<d.length;e++){var f=d[e];b.push(f)}(f=a.getChildren_DEPRECATED()).unshift.apply(f,b)}})}function q(a,b,c){c=y(a,c);p(a,b,c)}function r(a,b,c){a.enqueueUpdateOperation(new(d("WebBloksMutations").ServerIdTarget)(b),{update:function(a){var b=x(c);for(var d=0;d<b.length;d++){var e=b[d];a.getChildren_DEPRECATED().push(e)}}})}function s(a,b,c){c=y(a,c);r(a,b,c)}function t(a,b,c){l(a,b,c,0)}function u(a,b,c){b=y(a,b);t(a,b,c)}function v(a,b,c){l(a,b,c,1)}function w(a,b,c){b=y(a,b);v(a,b,c)}function x(a){var b=[];for(var a=a,c=Array.isArray(a),e=0,a=c?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var f;if(c){if(e>=a.length)break;f=a[e++]}else{e=a.next();if(e.done)break;f=e.value}f=f;f.styleId===d("WebBloksConstants").BK_INTERNAL_MERGE?b.push.apply(b,f.getChildren_DEPRECATED()):b.push(f)}return b}function y(a,b){var c=[];for(var b=b,d=Array.isArray(b),e=0,b=d?b:b[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var f;if(d){if(e>=b.length)break;f=b[e++]}else{e=b.next();if(e.done)break;f=e.value}f=f;a.enqueueResourcesUpdateOperation(f);c.push(f.unboundModel)}return c}function z(a,b,c){var e=a.getChildren_DEPRECATED(),f=e.findIndex(function(a){return a.getId()===b});if(f>=0)return[e,f];f=(e=c[a.styleId])==null?void 0:e.plural_subnodes;if(f)for(c=f,e=Array.isArray(c),f=0,c=e?c:c[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var g;if(e){if(f>=c.length)break;g=c[f++]}else{f=c.next();if(f.done)break;g=f.value}g=g;var h=a.getChildren_DEPRECATED(g).findIndex(function(a){return a.getId()===b});if(h>=0)return[a.getChildren_DEPRECATED(g),h]}return[d("WebBloksUtils").cast(d("WebBloksUtils").EMPTY_ARRAY),-1]}g.removeModelById=a;g.removeChildren=b;g.replaceChildrenAfter=h;g.replaceEmbeddedChildrenAfter=c;g.prependChildren=e;g.replaceChild=k;g.insertChildrenRelativeToId=l;g.getReplaceChildUpdateOperation=f;g.replaceLayoutChildren=m;g.replaceEmbeddedChild=n;g.replaceEmbeddedLayoutChildren=o;g.prependEmbeddedLayoutChildren=q;g.appendEmbeddedLayoutChildren=s;g.insertEmbeddedChildrenBefore=u;g.insertChildrenAfter=v;g.insertEmbeddedChildrenAfter=w}),98);
__d("WebBloksAppendEmbeddedChildren",["WebBloksChildrenOperationsHelper"],(function(a,b,c,d,e,f,g){function a(a,b,c,e){d("WebBloksChildrenOperationsHelper").appendEmbeddedLayoutChildren(a.treeManager,b,c)}g["default"]=a}),98);
__d("WebBloksApply",[],(function(a,b,c,d,e,f){function a(a,b){for(var c=arguments.length,d=new Array(c>2?c-2:0),e=2;e<c;e++)d[e-2]=arguments[e];return b.apply(void 0,[a].concat(d))}f["default"]=a}),66);
__d("WebBloksArrayAppend",[],(function(a,b,c,d,e,f){function a(a,b,c){return[].concat(b,[c])}f["default"]=a}),66);
__d("WebBloksArrayClone",[],(function(a,b,c,d,e,f){function a(a,b){return[].concat(b)}f["default"]=a}),66);
__d("WebBloksArrayConcat",[],(function(a,b,c,d,e,f){function a(a,b,c){return b.concat(c)}f["default"]=a}),66);
__d("WebBloksArrayFilter",["WebBloksBooleanUtils"],(function(a,b,c,d,e,f,g){function a(a,b,c){var e=[];for(var f=0;f<b.length;f++){var g=c(a,b[f]);d("WebBloksBooleanUtils").isTrue(g)&&e.push(b[f])}return e}g["default"]=a}),98);
__d("WebBloksArrayGet",[],(function(a,b,c,d,e,f){function a(a,b,c){return b[c]}f["default"]=a}),66);
__d("WebBloksArrayLength",[],(function(a,b,c,d,e,f){function a(a,b){return Array.isArray(b)?b.length:Object.keys(b).length}f["default"]=a}),66);
__d("WebBloksArrayMake",[],(function(a,b,c,d,e,f){function a(a){for(var b=arguments.length,c=new Array(b>1?b-1:0),d=1;d<b;d++)c[d-1]=arguments[d];return c}f["default"]=a}),66);
__d("WebBloksArrayMap",[],(function(a,b,c,d,e,f){function a(a,b,c){var d=[];for(var e=0;e<b.length;e++){var f=b[e];f=c(a,e,f);d.push(f)}return d}f["default"]=a}),66);
__d("WebBloksArrayPut",[],(function(a,b,c,d,e,f){function a(a,b,c,d){c===b.length?b.push(d):b[c]=d}f["default"]=a}),66);
__d("WebBloksArrayPutAndGet",["WebBloksArrayPut"],(function(a,b,c,d,e,f,g){function a(a,b,d,e){c("WebBloksArrayPut")(a,b,d,e);return b}g["default"]=a}),98);
__d("WebBloksArrayReduce",[],(function(a,b,c,d,e,f){function a(a,b,c,d){return b==null?d:b.reduce(function(b,d,e){return c(a,b,d,e)},d)}f["default"]=a}),66);
__d("WebBloksArrayRemove",[],(function(a,b,c,d,e,f){function a(a,b,c){b.splice(c,1)}f["default"]=a}),66);
__d("WebBloksArrayRemoveAndGet",["WebBloksArrayRemove"],(function(a,b,c,d,e,f,g){function a(a,b,d){c("WebBloksArrayRemove")(a,b,d);return b}g["default"]=a}),98);
__d("WebBloksArraySlice",[],(function(a,b,c,d,e,f){function a(a,b,c,d){if(typeof d==="number")return b.slice(c,c+d);else return b.slice(c)}f["default"]=a}),66);
__d("WebBloksArraySortedArray",[],(function(a,b,c,d,e,f){function a(a,b,c){b=Array.from(b);b.sort(function(b,d){b=c(a,b,d);return b});return b}f["default"]=a}),66);
__d("WebBloksArrayUpdate",[],(function(a,b,c,d,e,f){function a(a,b,c,d){for(a=0;a<c.length;a++){var e=c[a];b[e]=d[a]}}f["default"]=a}),66);
__d("webBloksPerformanceUtils",[],(function(a,b,c,d,e,f){function a(a,b){var c;c=(c=window)==null?void 0:c.performance;c==null?void 0:c.mark==null?void 0:c.mark(String(a),b)}f.addWebBloksPerformanceMark=a}),66);
__d("WebBloksAsyncAction",["WebBloksAsyncActions","WebBloksScriptDebuggingUtils","webBloksPerformanceUtils"],(function(a,b,c,d,e,f,g){function a(a,b,c,e,f,g){d("webBloksPerformanceUtils").addWebBloksPerformanceMark("--web-bloks-async-action-start",{detail:{appId:b}}),d("WebBloksAsyncActions").executeAsyncAction(a,b,c).then(function(){d("webBloksPerformanceUtils").addWebBloksPerformanceMark("--web-bloks-async-action-success"),a.executeCatch(e,[])})["catch"](function(b){d("webBloksPerformanceUtils").addWebBloksPerformanceMark("--web-bloks-async-action-error"),d("WebBloksScriptDebuggingUtils").logScriptError(a.objectSet,b,null,a),a.executeCatch(f,[])})}g["default"]=a}),98);
__d("WebBloksAsyncActionWithDataManifest",["WebBloksAsyncActions","WebBloksScriptDebuggingUtils","webBloksPerformanceUtils"],(function(a,b,c,d,e,f,g){function a(a,b,c,e,f,g){d("webBloksPerformanceUtils").addWebBloksPerformanceMark("--web-bloks-async-action-start",{detail:{appId:b}}),d("WebBloksAsyncActions").executeAsyncAction(a,b,c,!0).then(function(b){d("webBloksPerformanceUtils").addWebBloksPerformanceMark("--web-bloks-async-action-success"),a.execute(e,[b,a.bloksContext])})["catch"](function(b){d("webBloksPerformanceUtils").addWebBloksPerformanceMark("--web-bloks-async-action-error"),d("WebBloksScriptDebuggingUtils").logScriptError(a.objectSet,b,null,a),a.execute(f,[a.bloksContext])})["catch"](function(b){d("webBloksPerformanceUtils").addWebBloksPerformanceMark("--web-bloks-async-action-error"),a.objectSet.environment.logger.mustfix("AsyncAction: failed to run error handler",b)})}g["default"]=a}),98);
__d("WebBloksAsyncLoadV2",["WebBloksPayloadParser","WebBloksUtils"],(function(a,b,c,d,e,f,g){function a(a,b,c,e,f){var g=d("WebBloksUtils").nullthrows(a.objectSet.environment.appLoader);g.fetchApp(b,c).then(function(b){b=d("WebBloksPayloadParser").parseTree({layout:{bloks_payload:b}},a.objectSet.environment.traversalKeys);a.treeManager.processResources([b]);a.execute(e,[b.unboundModel])})["catch"](function(b){f(a,b)})}g["default"]=a}),98);
__d("WebBloksAutomationTestExtensionHandler",[],(function(a,b,c,d,e,f){a={getProps:function(a){a=a.get("testing_id");if(a!=null)return{"data-testid":a}}};f.WebBloksAutomationTestExtensionHandler=a}),66);
__d("WebBloksBKSTextInputFormatterHandler",["WebBloksComponentContext","WebBloksUtils"],(function(a,b,c,d,e,f,g){b={};function a(a){var b=d("WebBloksComponentContext").useWebBloksContext(),c=b.executeCatch,e=d("WebBloksUtils").findExtension(a.extensions,"bk.components.BKSTextInputFormatter");return function(a){var b=e==null?void 0:e.getExpression("format_text");if(e!=null&&b!=null){b=c(e,b,[a]);if(typeof b==="string")return b}return a}}g.WebBloksBKSTextInputFormatterHandler=b;g.useBKSTextInputFormatter=a}),98);
__d("WebBloksBindWithArrayV2",[],(function(a,b,c,d,e,f){function a(a,b,c){return function(a){for(var d=arguments.length,e=new Array(d>1?d-1:0),f=1;f<d;f++)e[f-1]=arguments[f];return b.apply(void 0,[a].concat(c,e))}}f["default"]=a}),66);
__d("WebBloksBoolAnd",["WebBloksBooleanUtils"],(function(a,b,c,d,e,f,g){function a(a,b,c){return d("WebBloksBooleanUtils").isTrue(b)&&d("WebBloksBooleanUtils").isTrue(c)?1:0}g["default"]=a}),98);
__d("WebBloksBoolConst",["WebBloksBooleanUtils"],(function(a,b,c,d,e,f,g){function a(a,b){return d("WebBloksBooleanUtils").isTrue(b)}g["default"]=a}),98);
__d("WebBloksBoolNot",[],(function(a,b,c,d,e,f){function a(a,b){return!!!b}f["default"]=a}),66);
__d("WebBloksBoolOr",[],(function(a,b,c,d,e,f){function a(a,b,c){return Boolean(b)||Boolean(c)?1:0}f["default"]=a}),66);
__d("WebBloksAbstractButton",["WebBloksComponentContext","WebBloksStyle","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=a.accessibility_label,c=a.badge_count,e=a.className,f=a.icon,g=a.role;g=g===void 0?"button":g;var h=a.tabIndex;h=h===void 0?0:h;var k=a.title,l=a.trailing;a=babelHelpers.objectWithoutPropertiesLoose(a,["accessibility_label","badge_count","className","icon","role","tabIndex","title","trailing"]);var m=d("WebBloksComponentContext").useWebBloksContext();m=m.objectSet;if(f==null&&k==null)return null;var n=j.abstractButton,o=k==null;b=(k=(k=k)!=null?k:b)!=null?k:"";k=null;if(f!=null){m=m.environment;var p=m.AssetRenderer;m=m.logger;if(!p)m.mustfix("Trying to render an asset, but AssetRenderer is not defined for %s",JSON.stringify(f));else{m={};b&&(m.alt="",o||(m.className=j.marginRight4));k=i.jsx(p,babelHelpers["extends"]({src:f},m))}}return i.jsxs(i.Fragment,{children:[i.jsxs("div",babelHelpers["extends"]({role:g,tabIndex:h},a,{className:d("WebBloksStyle").classNames(l===!0?j.TrailingButton:"",n,e),children:[k,o?i.jsx("span",{className:j.abstractButton+"_accessible_elem",children:b}):b]})),c!=null&&c>0?c:void 0]})}a.displayName=a.name+" [from "+f.id+"]";var j=d("WebBloksStyle").createStyles({TrailingButton:{backgroundColor:"transparent",border:"none",color:"rgb(23, 99, 207)"},marginRight4:{marginRight:4},abstractButton:function(a){var b;return b={},b[a]={cursor:"pointer",display:"inline-block",textDecoration:"none",whiteSpace:"nowrap",padding:"1px 6px"},b[".gecko "+a+":focus"]={outline:"1px dotted #3b5998",outlineColor:"invert"},b[a+":hover"]={textDecoration:"none"},b[a+" + "+a]={marginLeft:4},b[a+"_accessible_elem"]={clip:"rect(1px, 1px, 1px, 1px)",height:1,overflow:"hidden",position:"absolute",whiteSpace:"nowrap",width:1},b}});g["default"]=a}),98);
__d("WebBloksBottomSheetBase",["WebBloksStyle","react"],(function(a,b,c,d,e,f,g){var h,i=h||(h=d("react"));b=h;var j=b.useCallback,k=b.useEffect,l=b.useRef;function a(a){var b=a.closeDialog,c=a.content,d=a.height,e=a.name;a=a.navbar;var f=n(b),g=f.touchEvents;f=f.draggableRef;return i.jsx("div",babelHelpers["extends"]({"data-bloks-name":e,className:p.background,onClick:b,role:"presentation"},g,{children:i.jsxs("div",{className:p.container,style:{height:d},ref:f,onClick:m,role:"presentation",children:[i.jsx("div",{className:p.top,children:i.jsx("button",{className:p.swipe,onClick:b})}),a,c]})}))}a.displayName=a.name+" [from "+f.id+"]";function m(a){a.preventDefault(),a.stopPropagation()}function n(a){var b=l(null),c=l(null),d=j(function(a){a.stopPropagation(),c.current={startY:o(a),endY:o(a)}},[]),e=j(function(a){a.stopPropagation();var d=c.current;if(d){d.endY=o(a);a=d.endY-d.startY;a>20&&(b.current&&(b.current.style.transform="translateY("+a+"px)"))}},[]),f=j(function(d){d.stopPropagation(),b.current&&(b.current.style.transform=""),c.current&&b.current&&c.current.endY-c.current.startY>b.current.clientHeight/2&&a(),c.current=null},[a]),g=j(function(a){a.stopPropagation(),c.current=null,b.current&&(b.current.style.transform="")},[]);k(function(){if(document.body){var a=document.body.style.overscrollBehaviorY,b=document.body.style.touchAction;document.body.style.overscrollBehaviorY="none";document.body.style.touchAction="none";return function(){document.body.style.overscrollBehaviorY=a,document.body.style.touchAction=b}}},[]);return{draggableRef:b,touchEvents:{onTouchStart:d,onMouseDown:d,onTouchMove:e,onMouseMove:e,onTouchEnd:f,onMouseUp:f,onTouchCancel:g}}}function o(a){return a.touches!=null?a.touches[0].pageY:a.clientY}var p=d("WebBloksStyle").createStyles({background:{backgroundColor:"rgba(0, 0, 0, 0.5)",bottom:0,left:0,position:"fixed",right:0,top:0,zIndex:1e3},container:{backgroundColor:"white",borderRadius:"16px 16px 0px 0px",bottom:0,display:"flex",flexDirection:"column",left:0,position:"absolute",right:0,maxHeight:"calc(100% - 44px)"},top:{alignItems:"center",display:"flex",justifyContent:"center"},swipe:{backgroundColor:"#dbdbdb",border:"none",borderRadius:2.5,height:4,width:36,marginTop:12}});g["default"]=a}),98);
__d("useClickablePropsForWebBloks",["WebBloksBooleanUtils","WebBloksComponentContext","WebBloksConstants"],(function(a,b,c,d,e,f,g){function a(a,b,c,e){var f=d("WebBloksComponentContext").useWebBloksContext(),g=f.executeCatch,h=f.bloksContext;f=e===!0?function(a){a.preventDefault()}:void 0;if(b==null)return{onClickCapture:f};function i(f){e===!0&&f.preventDefault(),!d("WebBloksBooleanUtils").isFalse(c)&&b!=null&&(f.preventDefault(),f.stopPropagation(),g(a,b,[a,h]))}var j=i,k=function(a){a.keyCode===d("WebBloksConstants").KEY_RETURN?i(a):a.keyCode===d("WebBloksConstants").KEY_SPACE&&a.preventDefault()},l=function(a){a.keyCode===d("WebBloksConstants").KEY_SPACE&&i(a)},m={role:"button",tabIndex:0},n=h.objectSet.environment.inferAccessibilityRolesForPressables===!1;return babelHelpers["extends"]({onClick:j,onClickCapture:f,onKeyDown:k,onKeyUp:l},n?{}:m)}g["default"]=a}),98);
__d("WebBloksBottomSheet",["WebBloksAbstractButton","WebBloksBottomSheetBase","WebBloksComponentContext","WebBloksStyle","react","useClickablePropsForWebBloks"],(function(a,b,c,d,e,f,g){var h,i=h||(h=d("react"));b=h;var j=b.useCallback,k=b.useEffect;function a(a){a=a.node;var b=a.getExpression("on_dismiss"),e=a.getExpression("trailing_button_on_click"),f=a.get("trailing_button_accessibility_label"),g=a.get("trailing_button_text"),h=a.get("trailing_button_style"),n=a.get("title"),o=a.get("partial_height_percentage"),p=d("WebBloksComponentContext").useWebBloksContext(),q=j(function(){p.objectSet.navigationManager.pop()},[p]);k(function(){if(b!=null){var a;(a=p.objectSet.navigationManager.getCurrentModal())==null?void 0:a.setDismissCallback(b)}},[p,b]);var r,s=c("useClickablePropsForWebBloks")(a,e);e!=null&&(r=i.jsx(c("WebBloksAbstractButton"),babelHelpers["extends"]({trailing:!0,accessibility_label:f,title:g,icon:l(p.objectSet,h)},s)));e=p.objectSet.navigationManager.getModalCount()>1?i.jsx(c("WebBloksAbstractButton"),{icon:p.objectSet.getAsset("chevronLeft24"),accessibility_label:"Back",onClick:q}):null;f=o!=null?o+"%":"auto";g=r||e||n!=null?i.jsxs("div",{className:m.titleBar,children:[e,i.jsx("div",{className:m.title,children:n}),r]}):null;h=p.renderNode(a.getSubNode("content"));return i.jsx(c("WebBloksBottomSheetBase"),{closeDialog:q,content:h,height:f,name:a.styleId,navbar:g})}a.displayName=a.name+" [from "+f.id+"]";function l(a,b){switch(b){case"close":return a.getAsset("navCross");case"settings":return a.getAsset("settings");case"overflow":return a.getAsset("nav3DotHorizontal");default:return null}}var m=d("WebBloksStyle").createStyles({titleBar:{display:"flex",flexDirection:"row",alignItems:"center",height:52,paddingLeft:16,paddingRight:16,fontWeight:"bold",borderBottom:"0.5px solid #dbdbdb"},title:{flex:"1 1 0",textAlign:"center",margin:8}});g["default"]=a}),98);
__d("WebBloksCDSScreenModeContext.react",["react"],(function(a,b,c,d,e,f,g){var h;a=(h||d("react")).createContext;b=a(null);c=b;g["default"]=c}),98);
__d("WebBloksCDSWrapperImpl.react",["WebBloksCDSScreenModeContext.react","WebBloksStyle","WebBloksTheme","WebBloksUtils","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react")),j=h.useContext;function a(a){var b=a.backgroundOverlayColor,e=a.content,f=a.header,g=a.shouldRenderGradient;g=g===void 0?!0:g;a=a.topBanner;var h=d("WebBloksTheme").useTheme().getTheme(),l;if(b!=null){b=d("WebBloksUtils").getRGBColorWithTheme(b,h);l=i.jsx("div",{className:p.backgroundOverlayColor,style:{backgroundColor:b}})}h=j(c("WebBloksCDSScreenModeContext.react"));b=i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:p.gradientContainer,children:[g?i.jsx(k,{}):null,l]}),a,f,e]});g=h==="full_screen"||h==null?i.jsx("div",{className:p.minHeight,children:b}):b;return i.jsx("div",{className:p.root,children:g})}a.displayName=a.name+" [from "+f.id+"]";function k(){return i.jsx("div",{className:p.gradient,children:i.jsx("div",{className:p.canvas})})}k.displayName=k.name+" [from "+f.id+"]";b="hsla(44, 100%, 66%, 1)";e="hsla(338, 68%, 65%, 1)";f="hsla(338, 68%, 65%, 0.4)";var l="hsla(272, 100%, 60%, 1)",m="hsla(142, 70%, 49%, 1)",n="hsla(209, 100%, 53%, 1)",o="hsla(213, 100%, 44%, 1)",p=d("WebBloksStyle").createStyles({root:{boxSizing:"border-box",display:"flex",flexDirection:"column",height:"100%",overflow:"scroll",paddingLeft:"env(safe-area-inset-left)",paddingRight:"env(safe-area-inset-right)",width:"100%"},minHeight:{height:"100%",minHeight:"600px",display:"flex",flexDirection:"column"},gradientContainer:{bottom:0,clipPath:"inset(0 0 0 0)",right:0,position:"absolute",left:0,top:0},gradient:{backgroundColor:d("WebBloksTheme").WebBloksThemeVars["cds-surface-background"],borderRadius:"inherit",clipPath:"inset(0 0 0 0)",height:"100%",position:"relative",width:"100%",zIndex:0},canvas:{backgroundImage:"radial-gradient(rgba(255,255,255,.25), rgba(255,255,255,0) 40%), radial-gradient("+b+" 30%, "+e+", "+f+" 41%, transparent 52%), radial-gradient("+l+" 37%, transparent 46%), linear-gradient(155deg, transparent 65%, "+m+" 95%), linear-gradient(45deg, "+o+", "+n+")",backgroundPosition:"bottom left, 109% 68%, 109% 68%, center, center",backgroundRepeat:"no-repeat",backgroundSize:"200% 200%, 285% 500%, 285% 500%, cover, cover",bottom:0,right:0,opacity:.08,pointerEvents:"none",position:"absolute",left:0,top:0},backgroundOverlayColor:{height:"100%",width:"100%",position:"absolute",top:0}});g["default"]=a}),98);
__d("WebBloksCDSBottomSheetWrapper.react",["WebBloksCDSWrapperImpl.react","WebBloksComponentContext","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){a=a.node;var b=a.get("content"),e=a.get("header"),f=a.get("top_banner"),g=d("WebBloksComponentContext").useWebBloksContext();g=g.renderNode;a=a.get("web_background_overlay_color");return i.jsx(c("WebBloksCDSWrapperImpl.react"),{backgroundOverlayColor:a,content:g(b),header:e!=null?g(e):null,topBanner:f!=null?g(f):null})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("WebBloksCallbackApply",[],(function(a,b,c,d,e,f){function a(a,b){if(b==null)return null;for(var c=arguments.length,d=new Array(c>2?c-2:0),e=2;e<c;e++)d[e-2]=arguments[e];return b.invoke.apply(b,[a].concat(d))}f["default"]=a}),66);
__d("WebBloksCallback",["WebBloksErrors"],(function(a,b,c,d,e,f,g){a=function(){function a(a,b,c,d){this.$1=a,this.$2=b,this.$4=c,this.$3=d}var b=a.prototype;b.invoke=function(a){for(var b=arguments.length,c=new Array(b>1?b-1:0),e=1;e<b;e++)c[e-1]=arguments[e];if(this.$3!=null)return this.$3.apply(this,c);var f=this.$2;if(f!=null)if(this.$1!=null)return f.apply(void 0,[this.$1].concat(c));else if(this.$4!=null&&a!=null){var g=a.createBloksModelScopedContext(this.$4);return f.apply(void 0,[g].concat(c))}throw new(d("WebBloksErrors").WebBloksError)("WebBloksCallback: An attempt to invoke an invalid callback.")};return a}();g.WebBloksCallback=a}),98);
__d("WebBloksCallbackMake",["WebBloksCallback"],(function(a,b,c,d,e,f,g){function a(a,b){return new(d("WebBloksCallback").WebBloksCallback)(a,b)}g["default"]=a}),98);
__d("WebBloksCallbackMakeWithScopeOnly",["WebBloksCallback"],(function(a,b,c,d,e,f,g){function a(a,b){return new(d("WebBloksCallback").WebBloksCallback)(null,b,a.scope)}g["default"]=a}),98);
__d("WebBloksCanvasUtils",["WebBloksErrors","WebBloksUtils"],(function(a,b,c,d,e,f,g){function a(a,b,c){switch(a.styleId){case"bk.types.CanvasShadow":var e=l(a.get("dx"),b),f=m(a.get("dy"),b),g=l(a.get("radius"),b);c=d("WebBloksUtils").getRGBColorWithTheme(a.get("themed_color"),c);b.shadowBlur=g*2;b.shadowOffsetX=e*2;b.shadowOffsetY=f*2;b.shadowColor=c;break;default:throw new(d("WebBloksErrors").WebBloksError)(a.styleId+" is not yet implemented. Add missing signature in `bk.component.Canvas`")}}function b(a,b,c){switch(a.styleId){case"bk.types.CanvasShadingColor":var e=d("WebBloksUtils").getRGBColorWithTheme(a.get("themed_color"),c);b.fillStyle=e;b.strokeStyle=e;break;case"bk.types.CanvasShadingGradientLinear":e=i(a,b,c);b.fillStyle=e;b.strokeStyle=e;break;case"bk.types.CanvasShadingGradientRadial":e=j(a,b,c);b.fillStyle=e;b.strokeStyle=e;break;default:throw new(d("WebBloksErrors").WebBloksError)(a.styleId+" is not yet implemented. Add missing signature in `bk.component.Canvas`")}}function c(a,b){switch(a.styleId){case"bk.types.CanvasBlendingMode":b.globalCompositeOperation=h(a.get("mode"));break;default:throw new(d("WebBloksErrors").WebBloksError)(a.styleId+" is not yet implemented. Add missing signature in `bk.component.Canvas`")}}function h(a){switch(a){case"dst_atop":return"destination-atop";case"dst_in":return"destination-in";case"dst_out":return"destination-out";case"dst_over":return"destination-over";case"src":case"src_over":return"source-over";case"src_atop":return"source-atop";case"src_in":return"source-in";case"src_out":return"source-out";default:return a}}function i(a,b,c){var e=l(a.get("start_x"),b),f=m(a.get("start_y"),b),g=l(a.get("end_x"),b),h=m(a.get("end_y"),b);b=b.createLinearGradient(e,f,g,h);e=a.get("gradient");f=e.get("positions");g=e.get("themed_colors");for(h=0;h<f.length;h++){a=f[h];e=g[h];b.addColorStop(a,d("WebBloksUtils").getRGBColorWithTheme(e,c))}return b}function j(a,b,c){var e=l(a.get("center_x"),b),f=m(a.get("center_y"),b),g=parseFloat(a.get("radius"));b=b.createRadialGradient(e,f,0,e,f,g);e=a.get("gradient");f=e.get("positions");g=e.get("themed_colors");for(a=0;a<f.length;a++){e=f[a];var h=g[a];b.addColorStop(e,d("WebBloksUtils").getRGBColorWithTheme(h,c))}return b}function e(a,b){var c,d=document.createElement("canvas");d.style.position="absolute";d.style.top="0";d.style.visibility="hidden";(c=document.body)==null?void 0:c.appendChild(d);d.width=a;d.height=b;return d}function k(a,b){return b!=null&&typeof a==="string"&&a.includes("%")?parseFloat(a)/100*b:parseFloat(a)}function l(a,b){return k(a,b.canvas.clientWidth)}function m(a,b){return k(a,b.canvas.clientHeight)}g.drawShadowToCanvas=a;g.drawShadingToCanvas=b;g.drawBlendingModeToCanvas=c;g.getCompositeOperation=h;g.createLinearGradient=i;g.createRadialGradient=j;g.createSecondaryCanvasElement=e;g.getCanvasSizePixelValue=k;g.getCanvasPixelValRelativeToWidth=l;g.getCanvasPixelValRelativeToHeight=m}),98);
__d("WebBloksCanvasDrawToContext",["WebBloksCanvasUtils","WebBloksErrors"],(function(a,b,c,d,e,f,g){function h(a,b,c){switch(a.styleId){case"bk.types.CanvasGroup":var e=a.getSubNode("transform");e!=null&&l(e,b,c);e=a.get("clip");e!=null&&(h(e,b,c),b.clip());e=d("WebBloksCanvasUtils").getCanvasPixelValRelativeToWidth(a.get("width"),b);var f=d("WebBloksCanvasUtils").getCanvasPixelValRelativeToHeight(a.get("height"),b);if(e>0&&f>0){e=d("WebBloksCanvasUtils").createSecondaryCanvasElement(e,f);f=e.getContext("2d");l(a,f,c);b.drawImage(e,0,0);e.remove()}else l(a,b,c);break;case"bk.types.CanvasLayer":f=a.getSubNode("transform");f!=null&&l(f,b,c);e=a.get("blending_mode");e!=null&&d("WebBloksCanvasUtils").drawBlendingModeToCanvas(e,b);f=a.get("clip");f!=null&&(h(f,b,c),b.clip());e=a.get("alpha");e!=null&&(b.globalAlpha=parseFloat(e));f=d("WebBloksCanvasUtils").getCanvasPixelValRelativeToWidth(a.get("width"),b);e=d("WebBloksCanvasUtils").getCanvasPixelValRelativeToHeight(a.get("height"),b);if(f>0&&e>0){f=d("WebBloksCanvasUtils").createSecondaryCanvasElement(f,e);e=f.getContext("2d");l(a,e,c);b.drawImage(f,0,0);f.remove()}else l(a,b,c);break;case"bk.types.CanvasTransform":e=a.get("a");f=a.get("b");var g=a.get("c"),m=a.get("d"),n=a.get("tx"),o=a.get("ty");if(e!=null&&f!=null&&g!=null&&m!=null&&n!=null&&o!=null){var p;b.setTransform((p=d("WebBloksCanvasUtils")).getCanvasPixelValRelativeToWidth(e,b),p.getCanvasPixelValRelativeToHeight(f,b),p.getCanvasPixelValRelativeToWidth(g,b),p.getCanvasPixelValRelativeToHeight(m,b),p.getCanvasPixelValRelativeToWidth(n,b),p.getCanvasPixelValRelativeToHeight(o,b))}l(a,b,c);break;case"bk.types.CanvasFill":e=a.getSubNode("shape");f=a.getSubNode("shading");g=a.getSubNode("shadow");m=a.getSubNode("blending_mode");e!=null&&h(e,b,c);f!=null&&d("WebBloksCanvasUtils").drawShadingToCanvas(f,b,c);m!=null&&d("WebBloksCanvasUtils").drawBlendingModeToCanvas(m,b);g!=null&&d("WebBloksCanvasUtils").drawShadowToCanvas(g,b,c);b.fill();break;case"bk.types.CanvasPath":b.beginPath();l(a,b,c);break;case"bk.types.CanvasPathAdd":case"bk.types.CanvasPathArc":case"bk.types.CanvasPathCircle":case"bk.types.CanvasPathClose":case"bk.types.CanvasPathCubicTo":case"bk.types.CanvasPathEllipse":case"bk.types.CanvasPathLineTo":case"bk.types.CanvasPathMoveTo":case"bk.types.CanvasPathQuadTo":case"bk.types.CanvasPathRect":j(a,b,c);break;case"bk.types.CanvasShapeCircle":case"bk.types.CanvasShapeLine":case"bk.types.CanvasShapeArc":case"bk.types.CanvasShapeRect":case"bk.types.CanvasShapeEllipse":i(a,b);break;case"bk.types.CanvasTransformInverseV2":case"bk.types.CanvasTransformRotate":case"bk.types.CanvasTransformScale":case"bk.types.CanvasTransformSkew":case"bk.types.CanvasTransformSkewV2":case"bk.types.CanvasTransformTranslate":k(a,b);break;case"bk.types.CanvasStroke":b.beginPath();n=a.get("dash_lengths");n!=null&&b.setLineDash(n.map(parseFloat));if(b!=null){b.lineWidth=parseFloat(a.get("line_width"));b.lineCap=(p=a.get("line_cap"))!=null?p:"butt";b.lineJoin=(o=a.get("line_join"))!=null?o:"miter";b.miterLimit=parseFloat((e=a.get("miter_limit"))!=null?e:0);b.lineDashOffset=parseFloat((f=a.get("dash_phase"))!=null?f:0)}m=a.getSubNode("shape");g=a.getSubNode("shading");n=a.getSubNode("shadow");p=a.getSubNode("blending_mode");m!=null&&h(m,b,c);g!=null&&d("WebBloksCanvasUtils").drawShadingToCanvas(g,b,c);p!=null&&d("WebBloksCanvasUtils").drawBlendingModeToCanvas(p,b);n!=null&&d("WebBloksCanvasUtils").drawShadowToCanvas(n,b,c);b.stroke();break;default:throw new(d("WebBloksErrors").WebBloksError)(a.styleId+" is not yet implemented. Add missing signature in `bk.component.Canvas`")}}function i(a,b){switch(a.styleId){case"bk.types.CanvasShapeArc":var c,e;b.beginPath();var f=d("WebBloksCanvasUtils").getCanvasPixelValRelativeToWidth(a.get("center_x"),b),g=d("WebBloksCanvasUtils").getCanvasPixelValRelativeToHeight(a.get("center_y"),b),h=d("WebBloksCanvasUtils").getCanvasPixelValRelativeToWidth(a.get("radius"),b);c=parseFloat((c=a.get("start_angle"))!=null?c:0);e=parseFloat((e=a.get("end_angle"))!=null?e:360);var i=a.get("clockwise")!=null?!a.get("clockwise"):!1;b.arc(f,g,h,c/180*Math.PI,e/180*Math.PI,i);break;case"bk.types.CanvasShapeCircle":b.beginPath();b.arc(d("WebBloksCanvasUtils").getCanvasPixelValRelativeToWidth(a.get("center_x"),b),d("WebBloksCanvasUtils").getCanvasPixelValRelativeToHeight(a.get("center_y"),b),d("WebBloksCanvasUtils").getCanvasPixelValRelativeToWidth(a.get("radius"),b),0,2*Math.PI);break;case"bk.types.CanvasShapeLine":b.beginPath();b.moveTo((f=d("WebBloksCanvasUtils")).getCanvasPixelValRelativeToWidth(a.get("start_x"),b),f.getCanvasPixelValRelativeToHeight(a.get("start_y"),b));b.lineTo(f.getCanvasPixelValRelativeToWidth(a.get("end_x"),b),f.getCanvasPixelValRelativeToHeight(a.get("end_y"),b));break;case"bk.types.CanvasShapeRect":b.beginPath();b.roundRect(d("WebBloksCanvasUtils").getCanvasPixelValRelativeToWidth(a.get("x"),b),d("WebBloksCanvasUtils").getCanvasPixelValRelativeToHeight(a.get("y"),b),d("WebBloksCanvasUtils").getCanvasPixelValRelativeToWidth(a.get("width"),b),d("WebBloksCanvasUtils").getCanvasPixelValRelativeToHeight(a.get("height"),b),parseFloat((g=a.get("corner_radius"))!=null?g:0));break;case"bk.types.CanvasShapeEllipse":b.beginPath();h=(f=d("WebBloksCanvasUtils")).getCanvasPixelValRelativeToWidth(a.get("width"),b)/2;c=f.getCanvasPixelValRelativeToHeight(a.get("height"),b)/2;b.ellipse(f.getCanvasPixelValRelativeToWidth(a.get("x"),b)+h,f.getCanvasPixelValRelativeToHeight(a.get("y"),b)+c,h,c,0,0,2*Math.PI);break;default:throw new(d("WebBloksErrors").WebBloksError)(a.styleId+" is not yet implemented. Add missing signature in `bk.component.Canvas`")}}function j(a,b,c){switch(a.styleId){case"bk.types.CanvasPathAdd":var e=a.getSubNode("transform"),f=a.getSubNode("path");e!=null&&l(e,b,c);f!=null&&h(f,b,c);break;case"bk.types.CanvasPathArc":var g,i;e=d("WebBloksCanvasUtils").getCanvasPixelValRelativeToWidth(a.get("center_x"),b);f=d("WebBloksCanvasUtils").getCanvasPixelValRelativeToHeight(a.get("center_y"),b);c=d("WebBloksCanvasUtils").getCanvasPixelValRelativeToWidth(a.get("radius"),b);g=parseFloat((g=a.get("start_angle"))!=null?g:0);i=parseFloat((i=a.get("end_angle"))!=null?i:360);var j=a.get("clockwise")!=null?!a.get("clockwise"):!1;b.arc(e,f,c,g/180*Math.PI,i/180*Math.PI,j);break;case"bk.types.CanvasPathCircle":e=d("WebBloksCanvasUtils").getCanvasPixelValRelativeToWidth(a.get("center_x"),b);f=d("WebBloksCanvasUtils").getCanvasPixelValRelativeToHeight(a.get("center_y"),b);c=parseFloat(a.get("radius"));b.moveTo(e+c,f);b.arc(e,f,c,0,2*Math.PI);b.restore();break;case"bk.types.CanvasPathClose":b.closePath();break;case"bk.types.CanvasPathCubicTo":b.bezierCurveTo((g=d("WebBloksCanvasUtils")).getCanvasPixelValRelativeToWidth(a.get("control_a_x"),b),g.getCanvasPixelValRelativeToHeight(a.get("control_a_y"),b),g.getCanvasPixelValRelativeToWidth(a.get("control_b_x"),b),g.getCanvasPixelValRelativeToHeight(a.get("control_b_y"),b),g.getCanvasPixelValRelativeToWidth(a.get("end_x"),b),g.getCanvasPixelValRelativeToHeight(a.get("end_y"),b));break;case"bk.types.CanvasPathEllipse":i=(g=d("WebBloksCanvasUtils")).getCanvasPixelValRelativeToWidth(a.get("width"),b);j=g.getCanvasPixelValRelativeToHeight(a.get("height"),b);e=i/2;f=j/2;c=g.getCanvasPixelValRelativeToWidth(a.get("x"),b);j=g.getCanvasPixelValRelativeToHeight(a.get("y"),b);var k=c+e,m=j+f;b.moveTo(c+i,j+f);b.ellipse(k,m,e,f,0,0,2*Math.PI);break;case"bk.types.CanvasPathLineTo":b.lineTo(d("WebBloksCanvasUtils").getCanvasPixelValRelativeToWidth(a.get("x"),b),d("WebBloksCanvasUtils").getCanvasPixelValRelativeToHeight(a.get("y"),b));break;case"bk.types.CanvasPathMoveTo":b.moveTo(d("WebBloksCanvasUtils").getCanvasPixelValRelativeToWidth(a.get("x"),b),d("WebBloksCanvasUtils").getCanvasPixelValRelativeToHeight(a.get("y"),b));break;case"bk.types.CanvasPathQuadTo":b.quadraticCurveTo((g=d("WebBloksCanvasUtils")).getCanvasPixelValRelativeToWidth(a.get("control_x"),b),g.getCanvasPixelValRelativeToHeight(a.get("control_y"),b),g.getCanvasPixelValRelativeToWidth(a.get("end_x"),b),g.getCanvasPixelValRelativeToHeight(a.get("end_y"),b));break;case"bk.types.CanvasPathRect":b.roundRect((g=d("WebBloksCanvasUtils")).getCanvasPixelValRelativeToWidth(a.get("x"),b),g.getCanvasPixelValRelativeToHeight(a.get("y"),b),g.getCanvasPixelValRelativeToWidth(a.get("width"),b),g.getCanvasPixelValRelativeToHeight(a.get("height"),b),parseFloat((c=a.get("corner_radius"))!=null?c:0));break;default:throw new(d("WebBloksErrors").WebBloksError)(a.styleId+" is not yet implemented. Please override in renderer")}}function k(a,b){switch(a.styleId){case"bk.types.CanvasTransformInverseV2":var c=window.devicePixelRatio;b.scale(1/c,1/c);b.setTransform(b.getTransform().invertSelf());b.scale(c,c);break;case"bk.types.CanvasTransformRotate":b.translate((c=d("WebBloksCanvasUtils")).getCanvasPixelValRelativeToWidth(a.get("pivot_x"),b),c.getCanvasPixelValRelativeToHeight(a.get("pivot_y"),b));b.rotate(parseFloat(a.get("degrees"))*Math.PI/180);b.translate(-c.getCanvasPixelValRelativeToWidth(a.get("pivot_x"),b),-c.getCanvasPixelValRelativeToHeight(a.get("pivot_y"),b));break;case"bk.types.CanvasTransformScale":b.translate((c=d("WebBloksCanvasUtils")).getCanvasPixelValRelativeToWidth(a.get("pivot_x"),b),c.getCanvasPixelValRelativeToHeight(a.get("pivot_y"),b));b.scale(c.getCanvasPixelValRelativeToWidth(a.get("x"),b),c.getCanvasPixelValRelativeToHeight(a.get("y"),b));b.translate(-c.getCanvasPixelValRelativeToWidth(a.get("pivot_x"),b),-c.getCanvasPixelValRelativeToHeight(a.get("pivot_y"),b));break;case"bk.types.CanvasTransformSkew":case"bk.types.CanvasTransformSkewV2":b.translate((c=d("WebBloksCanvasUtils")).getCanvasPixelValRelativeToWidth(a.get("pivot_x"),b),c.getCanvasPixelValRelativeToHeight(a.get("pivot_y"),b));b.transform(1,c.getCanvasPixelValRelativeToWidth(a.get("x"),b),c.getCanvasPixelValRelativeToHeight(a.get("y"),b),1,0,0);b.translate(-c.getCanvasPixelValRelativeToWidth(a.get("pivot_x"),b),-c.getCanvasPixelValRelativeToHeight(a.get("pivot_y"),b));break;case"bk.types.CanvasTransformTranslate":b.translate(d("WebBloksCanvasUtils").getCanvasPixelValRelativeToWidth(a.get("x"),b),d("WebBloksCanvasUtils").getCanvasPixelValRelativeToHeight(a.get("y"),b));break;default:throw new(d("WebBloksErrors").WebBloksError)(a.styleId+" is not yet implemented. Add missing signature in `bk.component.Canvas`")}}function l(a,b,c){a=a.getSubNodes("children");if(a!=null)for(var a=a,d=Array.isArray(a),e=0,a=d?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var f;if(d){if(e>=a.length)break;f=a[e++]}else{e=a.next();if(e.done)break;f=e.value}f=f;h(f,b,c)}}g["default"]=h}),98);
__d("WebBloksCanvas",["WebBloksCanvasDrawToContext","WebBloksStyle","WebBloksTheme","WebBloksUtils","react"],(function(a,b,c,d,e,f,g){var h,i=h||(h=d("react"));b=h;var j=b.useLayoutEffect,k=b.useRef;function a(a){var b=a.node;a=a.externalStyle;a=d("WebBloksStyle").useStyle(b,a);var e=a.style,f=a.wrapper;a=a.wrapperProps;var g=d("WebBloksTheme").useTheme().getTheme(),h=k(null);j(function(){var a=h.current,c=a==null?void 0:a.getContext("2d");if(a==null||c==null)return;var e=d("WebBloksUtils").toPx(b.get("width")),f=d("WebBloksUtils").toPx(b.get("height"));if(e==null||f==null)return;a.style.width=e;a.style.height=f;var g=window.devicePixelRatio;a.width=l(e,c.canvas.clientWidth,g);a.height=l(f,c.canvas.clientHeight,g);c.scale(g,g)},[b]);j(function(){var a;a=(a=h.current)==null?void 0:a.getContext("2d");if(a!=null){var d=b.getSubNodes("children");if(d!=null)for(var d=d,e=Array.isArray(d),f=0,d=e?d:d[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var i;if(e){if(f>=d.length)break;i=d[f++]}else{f=d.next();if(f.done)break;i=f.value}i=i;a.save();c("WebBloksCanvasDrawToContext")(i,a,g);a.restore()}}},[b,g]);return f(i.jsx("canvas",babelHelpers["extends"]({},a,{ref:h,style:babelHelpers["extends"]({},e)})))}a.displayName=a.name+" [from "+f.id+"]";function l(a,b,c){c===void 0&&(c=1);return b!=null&&a.includes("%")?parseFloat(a)/100*b*c:parseFloat(a)*c}g["default"]=a}),98);
__d("WebBloksChildAtIndex",[],(function(a,b,c,d,e,f){function a(a,b,c){return b.getChildren_DEPRECATED()[c]}f["default"]=a}),66);
__d("WebBloksClipboardSetString",[],(function(a,b,c,d,e,f){function a(a,b){var c=window.navigator;c&&c.clipboard&&typeof c.clipboard.writeText==="function"?c.clipboard.writeText(b):g(b)||a.bloksContext.objectSet.environment.logger.warn("clipboard.SetString not supported on this browser")}function g(a){var b=document.body;if(!b)return!1;var c=document.activeElement,d=!0,e=document.createElement("textarea");b.appendChild(e);e.value=a;if(navigator.userAgent.match(/ipad|ipod|iphone/i)){a=document.createRange();a.selectNodeContents(e);var f=window.getSelection();f.removeAllRanges();f.addRange(a);e.setSelectionRange(0,999999)}else e.select();try{d=document.execCommand("copy")}catch(a){d=!1}b.removeChild(e);c!=null&&c.focus();return d}f["default"]=a}),66);
__d("WebBloksCollectionChildSizesLayoutReady",[],(function(a,b,c,d,e,f){"use strict";a="layout_ready";b=new Event(a);f.LAYOUT_READY_EVENT_NAME=a;f.LAYOUT_READY_EVENT=b}),66);
__d("WebBloksCollectionHelpers",["WebBloksUtils"],(function(a,b,c,d,e,f,g){function h(a){a=a==="column";var b=a?"height":"width",c=a?"width":"height",d=a?"marginTop":"marginLeft",e=a?"marginBottom":"marginRight",f=a?"top":"left";a=a?"bottom":"right";return{mainAxisSize:b,crossAxisSize:c,mainAxisMarginStart:d,mainAxisMarginEnd:e,start:f,end:a}}function i(a,b){a=(a=a.getStyle("collection"))==null?void 0:a.get(b);return d("WebBloksUtils").isPercentage(a)}function a(a){a=a.getValues();var b=a.children;a=a.direction;var c=h(a),d=c.mainAxisSize;b=(c=b&&b.some(function(a){return i(a,d)}))!=null?c:!1;return!b?"normal":a==="column"?"size":"inline-size"}function b(a){return a.get("measurement_version_internal_use_only")==="v2"}g.getDirectionPropNames=h;g.hasCollectionDimensionInPct=i;g.getContainerType=a;g.shouldUseWebBloksCollectionV2=b}),98);
__d("useWebBloksCollectionChildSizes",["WebBloksCollectionChildSizesLayoutReady","WebBloksCollectionHelpers","WebBloksUtils","react"],(function(a,b,c,d,e,f,g){var h;b=h||d("react");var i=b.useEffect,j=b.useMemo,k=b.useState,l=(e=(c=window.CSS)==null?void 0:c.supports==null?void 0:c.supports("width","100cqw"))!=null?e:!1;function a(a){var b=a.node,c=a.collectionNode,e=a.scrollerRef;a=c.getValues();var f=a.direction,g=(a=(a=(c=b.getStyle("collection"))==null?void 0:c.getValues())!=null?a:(c=b.getStyle("flex"))==null?void 0:c.getValues())!=null?a:{};c=d("WebBloksCollectionHelpers").getDirectionPropNames(f);a=c.crossAxisSize;var h=c.mainAxisSize,n=j(function(){return m({width:g.width,height:g.height,direction:f,node:b})},[f,b,g.height,g.width]);c=k(null);var o=c[0],p=c[1];i(function(){var a;if(l)return;if(n.__MainAxisCqUnitBasis==null)return;a=(a=e.current)==null?void 0:a.getBoundingClientRect()[h];var b=n.__MainAxisCqUnitBasis;a!=null&&b!=null&&p(a*b)},[n,h,e]);i(function(){if(o!=null){var a;(a=e.current)==null?void 0:a.dispatchEvent(d("WebBloksCollectionChildSizesLayoutReady").LAYOUT_READY_EVENT)}});return c={},c[a]=n[a],c[h]=(a=o)!=null?a:n[h],c}var m=function(a){var b,c=a.width,e=a.height,f=a.direction;a=a.node;f=d("WebBloksCollectionHelpers").getDirectionPropNames(f);var g=f.crossAxisSize;f=f.mainAxisSize;b=(b={},b[f]="auto",b[g]="auto",b);var h=f==="width"?c:e;c=g==="width"?c:e;c!=null&&(b[g]=d("WebBloksUtils").toPx(c));if(h==null)return b;if(!d("WebBloksCollectionHelpers").hasCollectionDimensionInPct(a,f)){h!=null&&(b[f]=d("WebBloksUtils").toPx(h));return b}g=(e=d("WebBloksUtils").toPercentageValue(h))!=null?e:1;c=f==="width"?"cqw":"cqh";b[f]=""+g*100+c;b.__MainAxisCqUnitBasis=g;return b};g["default"]=a}),98);
__d("useWebBloksCollectionStickyChildStyle",["WebBloksCollectionHelpers"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=a.node;a=a.direction;b=b.getStyle("collection");b=b==null?void 0:(b=b.getValues().sticky_item_config)==null?void 0:b.getValues();if(b==null)return{};var c=b.is_sticky;b=b.position;if(c!==!0||b==null)return{};c=d("WebBloksCollectionHelpers").getDirectionPropNames(a);return a={position:"sticky",zIndex:1},a[c[b]]=0,a}g["default"]=a}),98);
__d("WebBloksCollectionChildBase",["WebBloksComponentContext","useWebBloksCollectionChildSizes","useWebBloksCollectionStickyChildStyle"],(function(a,b,c,d,e,f,g){function a(a){var b=a.collectionNode,e=a.extraStyles,f=a.node;a=a.scrollerRef;var g=d("WebBloksComponentContext").useWebBloksContext();g=g.renderNode;var h=b.getValues(),i=h.snap,j=h.snap_style;h=h.direction;h=babelHelpers["extends"]({display:"inline-flex",width:"auto",height:"auto",overflow:"hidden"},c("useWebBloksCollectionStickyChildStyle")({node:f,direction:h}),c("useWebBloksCollectionChildSizes")({node:f,collectionNode:b,scrollerRef:a}),e);j==null||j==="pager"?b="always":b="normal";return g(f,babelHelpers["extends"]({},h,{scrollSnapAlign:i,scrollSnapStop:b}))}g["default"]=a}),98);
__d("WebBloksCollectionScrollRefs",["react"],(function(a,b,c,d,e,f,g){var h,i=(h||d("react")).useRef;function a(a){var b=i();a.uiMutableContainer.extraRefs={containerElementRef:b};return b}function b(a){var b;b=(b=a.uiMutableContainer.extraRefs)==null?void 0:b.containerElementRef;a=a.uiMutableContainer.domNode;return{containerElementRef:b,scrollableElementRef:a}}g.useWebbloksCollectionScrollContainerRef=a;g.findWebbloksCollectionScrollRefs=b}),98);
__d("WebBloksCollectionScrollTo",["WebBloksCollectionScrollRefs","WebDriverConfig"],(function(a,b,c,d,e,f,g){"use strict";var h=function(a){return a==="column"};function i(a){return c("WebDriverConfig").isJestE2ETestRun?"auto":a===!0?"smooth":"auto"}function a(a,b){var c=b.index;b=b.isAnimated;var e=d("WebBloksCollectionScrollRefs").findWebbloksCollectionScrollRefs(a),f=e.containerElementRef;e=e.scrollableElementRef;a=a.getValues();a=a.direction;a=h(a);f=f==null?void 0:f.current;e=e==null?void 0:e.current;if(f==null||e==null)return;f=f.children.item(c);c=a?{top:f==null?void 0:f.offsetTop}:{left:f==null?void 0:f.offsetLeft};e.scrollTo(babelHelpers["extends"]({},c,{behavior:i(b)}))}function b(a,b){b=b.isAnimated;var c=d("WebBloksCollectionScrollRefs").findWebbloksCollectionScrollRefs(a);c=c.scrollableElementRef;a=a.getValues();a=a.direction;a=h(a);if((c==null?void 0:c.current)==null)return;a=a?{top:c.current.scrollHeight}:{left:c.current.scrollWidth};c.current.scrollTo(babelHelpers["extends"]({},a,{behavior:i(b)}))}g.scrollWebBloksCollectionToIndex=a;g.scrollWebBloksCollectionToEnd=b}),98);
__d("useOnScrollSnap",["WebBloksCollectionScrollRefs","WebBloksUtils","react"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");var i=b.useEffect,j=b.useRef;function k(a,b,c){a=a.getBoundingClientRect();b=b.getBoundingClientRect();if(c==="column")return b.top>=a.top&&b.bottom<=a.bottom;else return b.left>=a.left&&b.right<=a.right}function l(a,b,c){a=a.getBoundingClientRect();if(b==="column")switch(c){case"center":return a.top+a.height/2;case"start":return a.top;case"end":return a.bottom;default:return-1}else switch(c){case"center":return a.left+a.width/2;case"start":return a.left;case"end":return a.right;default:return-1}}function m(a,b){if(!a)return[[],[]];a=Array.from(a.querySelectorAll(":scope > *"));var c=a.map(function(a){return b==="column"?a.offsetTop:a.offsetLeft});return[a,c]}function n(a,b,c){var d=a.scrollableElement;a=a.containerElement;a=Array.from(a.querySelectorAll(":scope > *"));if(a.length===0)return null;if(c==="center"){if(k(d,a[0],b))return 0;if(k(d,a[a.length-1],b))return a.length-1}d=l(d,b,c);var e=-1,f=Number.MAX_VALUE;for(var g=0;g<a.length;g++){var h=l(a[g],b,c);h=Math.abs(d-h);h<f&&(f=h,e=g)}return e}function a(a,b){var c=b.onScroll,e=b.onScrollSnap,f=b.onPageScroll;b=a.getValues();var g=b.snap,h=b.direction;b=b.starting_index;var k=j(b),l=h==="column";b=d("WebBloksCollectionScrollRefs").findWebbloksCollectionScrollRefs(a);var o=b.containerElementRef,p=b.scrollableElementRef;i(function(){var a=o==null?void 0:o.current,b=p==null?void 0:p.current;if(a==null||b==null||e==null&&c==null&&f==null)return;var i=m(a,h);i[0];var j=i[1],q=function(){c&&c();if(b!=null&&f){var d=l?b.scrollTop:b.scrollLeft,i=Math.max(j.findIndex(function(a){return a>d}),1),m=i-1,o=d-j[m];i=o/(j[i]-j[m]);f(m,o,i)}if(b!=null&&g!=null&&g!=="none"&&e){m=n({containerElement:a,scrollableElement:b},h,g);m!==k.current&&(k.current=m,e(m))}};b.addEventListener("scroll",q,d("WebBloksUtils").passiveTouchEventOptions);b.addEventListener("touchend",q,d("WebBloksUtils").passiveTouchEventOptions);return function(){b.removeEventListener("scroll",q,d("WebBloksUtils").passiveTouchEventOptions),b.removeEventListener("touchend",q,d("WebBloksUtils").passiveTouchEventOptions)}},[h,g,e,c])}g["default"]=a}),98);
__d("useWebBloksCollectionScrollHandlers",["WebBloksCollectionChildSizesLayoutReady","WebBloksCollectionScrollTo","WebBloksComponentContext","react","useOnScrollSnap"],(function(a,b,c,d,e,f,g){var h;b=h||d("react");var i=b.useCallback,j=b.useLayoutEffect;function a(a){var b=a.getExpression("on_scroll_snap"),e=a.getExpression("on_scroll_callback"),f=a.getExpression("on_page_scroll"),g=d("WebBloksComponentContext").useWebBloksContext(),h=g.bloksContext,j=g.executeCatch;g=i(function(c){c!=null&&(b!=null&&j(a,b,[c,h]))},[a,b,j,h]);var l=i(function(b,c,d){f!=null&&j(a,f,[h,b,d,c])},[f,j,a,h]),m=i(function(){e!=null&&j(a,e,[h])},[a,e,j,h]);c("useOnScrollSnap")(a,{onScrollSnap:b!=null?g:void 0,onScroll:e!=null?m:void 0,onPageScroll:f!=null?l:void 0});k(a)}function k(a){var b=a.getValues(),c=b.stack_from_end,e=b.starting_index;j(function(){var b,f=e,g=function(){f!=null&&f>0?d("WebBloksCollectionScrollTo").scrollWebBloksCollectionToIndex(a,{index:f,isAnimated:!1}):c===!0&&d("WebBloksCollectionScrollTo").scrollWebBloksCollectionToEnd(a,{isAnimated:!1})};g();(b=a.uiMutableContainer)==null?void 0:(b=b.domNode)==null?void 0:(b=b.current)==null?void 0:b.addEventListener(d("WebBloksCollectionChildSizesLayoutReady").LAYOUT_READY_EVENT_NAME,function(){g()},{once:!0})},[e,c,a.clientId])}g["default"]=a}),98);
__d("useWebBloksCollectionScrollingElementStyle",["WebBloksStyle","WebBloksTheme","WebBloksUtils","react"],(function(a,b,c,d,e,f,g){var h,i=(h||d("react")).useMemo;function a(a){var b=a.snap,c=a.background_themed_color,e=a.is_scroll_enabled,f=a.fading_edge_length,g=a.direction,h=a.shows_scroll_indicator,m=d("WebBloksTheme").useTheme().getTheme(),n=g==="column";return i(function(){var a=[],g={};b==null||b==="none"?a.push(k.none):n?a.push(k.y):a.push(k.x);e===!1?a.push(j.none):n?a.push(j.y):a.push(j.x);if(f!=null){var i="linear-gradient(\n        to "+(n?"bottom":"right")+",\n        transparent 0,\n        black "+d("WebBloksUtils").toPx(f)+",\n        black calc(100% - "+d("WebBloksUtils").toPx(f)+"),\n        transparent\n      )";g=babelHelpers["extends"]({},g,{maskImage:i,WebkitMaskImage:i})}n||(g=babelHelpers["extends"]({},g,{whiteSpace:"nowrap"}));c&&(g=babelHelpers["extends"]({},g,{backgroundColor:d("WebBloksUtils").getRGBColorWithTheme(c,m)}));h===!1&&a.push(l.noScrollbar);return{scrollingElementStyle:g,scrollingElementClassNames:a}},[c,f,n,e,h,b,m])}var j=d("WebBloksStyle").createStyles({none:{overflowY:"hidden",overflowX:"hidden"},y:{overflowY:"auto",overflowX:"hidden"},x:{overflowY:"hidden",overflowX:"auto"}}),k=d("WebBloksStyle").createStyles({none:{scrollSnapType:"none"},y:{scrollSnapType:"y mandatory"},x:{scrollSnapType:"x mandatory"}}),l=d("WebBloksStyle").createStyles({noScrollbar:function(a){var b;return b={},b[a]={scrollbarWidth:"none"},b[a+"::-webkit-scrollbar"]={display:"none"},b}});g["default"]=a}),98);
__d("useWebBloksCollectionStopPropagation",["react"],(function(a,b,c,d,e,f,g){var h,i=(h||d("react")).useCallback;function a(a){var b=i(function(b){var c=a.current;if(c==null)return;var d=c.scrollTop===0;c=c.scrollHeight-c.scrollTop===c.clientHeight;!d&&!c&&b.stopPropagation()},[a]);return{onTouchStart:b,onTouchMove:b,onTouchEnd:b}}g["default"]=a}),98);
__d("WebBloksCollectionV2",["WebBloksCollectionChildBase","WebBloksCollectionHelpers","WebBloksCollectionScrollRefs","WebBloksStyle","WebBloksUtils","react","useWebBloksCollectionScrollHandlers","useWebBloksCollectionScrollingElementStyle","useWebBloksCollectionStopPropagation"],(function(a,b,c,d,e,f,g){var h,i=h||d("react");function a(a){var b=a.node;a=a.externalStyle;var e=b.getValues(),f=e.children,g=e.direction,h=e.item_spacing,k=e.spacing_after,l=e.spacing_before;a=d("WebBloksStyle").useStyle(b,a);var m=a.style,n=a.wrapper,o=a.wrapperProps,p=a.ref;a=c("useWebBloksCollectionScrollingElementStyle")(e);e=a.scrollingElementStyle;a=a.scrollingElementClassNames;var q=d("WebBloksCollectionScrollRefs").useWebbloksCollectionScrollContainerRef(b);c("useWebBloksCollectionScrollHandlers")(b);var r=c("useWebBloksCollectionStopPropagation")(p),s=d("WebBloksCollectionHelpers").getDirectionPropNames(g),t=s.crossAxisSize,u=s.mainAxisSize,v=s.mainAxisMarginStart;s=s.mainAxisMarginEnd;return n(i.jsx("div",babelHelpers["extends"]({},o,{ref:p,className:d("WebBloksStyle").classNames.apply(void 0,[d("WebBloksStyle").WebBloksStyles.container].concat(a)),style:babelHelpers["extends"]({},e,m,{display:"block",pointerEvents:"auto",containerType:d("WebBloksCollectionHelpers").getContainerType(b)})},r,{children:i.jsx("div",{ref:q,style:(n={display:"flex",flexDirection:g,gap:d("WebBloksUtils").toPx(h)},n[u]="max-content",n[t]="100%",n[v]=l!=null?d("WebBloksUtils").toPx(l):void 0,n[s]=k!=null?d("WebBloksUtils").toPx(k):void 0,n),children:f&&f.map(function(a){return i.jsx(j,{scrollerRef:p,node:a,collectionNode:b},a.clientId)})})})))}a.displayName=a.name+" [from "+f.id+"]";function j(a){var b=a.collectionNode,d=a.node;a=a.scrollerRef;return i.jsx(c("WebBloksCollectionChildBase"),{collectionNode:b,node:d,scrollerRef:a})}j.displayName=j.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("useWebBloksCollectionGridAspectRatioProps",["WebBloksCollectionChildSizesLayoutReady","WebBloksCollectionHelpers","react"],(function(a,b,c,d,e,f,g){var h;b=h||d("react");var i=b.useEffect,j=b.useMemo,k=b.useState,l=(e=(c=window.CSS)==null?void 0:c.supports==null?void 0:c.supports("width","100cqw"))!=null?e:!1;function a(a,b,c){b=b.getValues();var e=b.direction;b=d("WebBloksCollectionHelpers").getDirectionPropNames(e);var f=b.crossAxisSize;b=b.mainAxisSize;var g=j(function(){var b=a.cell_aspect_ratio;if(b==null)return null;return e==="column"?"1 / "+b:" "+b+" / 1"},[e,a.cell_aspect_ratio]),h=k(null),m=h[0],n=h[1];i(function(){var b;if(l)return;if(g==null)return;b=parseInt((b=c.current)==null?void 0:b.getBoundingClientRect()[f],10)/((b=a.span_count)!=null?b:1);n(b*((b=a.cell_aspect_ratio)!=null?b:1))},[g,f,a.cell_aspect_ratio,a.span_count,b,c]);i(function(){if(m!=null){var a;(a=c.current)==null?void 0:a.dispatchEvent(d("WebBloksCollectionChildSizesLayoutReady").LAYOUT_READY_EVENT)}});return g==null?{}:(h={aspectRatio:m!=null?void 0:g},h[b]=m,h)}g["default"]=a}),98);
__d("WebBloksCollectionGrid_EXPERIMENTAL",["WebBloksCollectionChildBase","WebBloksCollectionHelpers","WebBloksCollectionScrollRefs","WebBloksCollectionV2","WebBloksStyle","WebBloksUtils","react","useWebBloksCollectionGridAspectRatioProps","useWebBloksCollectionScrollHandlers","useWebBloksCollectionScrollingElementStyle","useWebBloksCollectionStopPropagation"],(function(a,b,c,d,e,f,g){var h,i=h||(h=d("react")),j=h.useMemo;function k(a){var b=a.layoutConfig,e=a.node;a=a.externalStyle;var f=e.getValues(),g=f.children,h=f.direction,k=f.item_spacing,l=f.spacing_after,o=f.spacing_before;a=d("WebBloksStyle").useStyle(e,a);var p=a.style,q=a.wrapper,r=a.wrapperProps,s=a.ref;a=c("useWebBloksCollectionScrollingElementStyle")(f);f=a.scrollingElementStyle;a=a.scrollingElementClassNames;var t=d("WebBloksCollectionScrollRefs").useWebbloksCollectionScrollContainerRef(e);c("useWebBloksCollectionScrollHandlers")(e);var u=c("useWebBloksCollectionStopPropagation")(s),v=d("WebBloksCollectionHelpers").getDirectionPropNames(h),w=v.crossAxisSize,x=v.mainAxisSize,y=v.mainAxisMarginStart;v=v.mainAxisMarginEnd;var z=j(function(){return{main:d("WebBloksUtils").toPx(b.main_axis_span_spacing),cross:d("WebBloksUtils").toPx(b.cross_axis_span_spacing)}},[b]);return q(i.jsx("div",babelHelpers["extends"]({},r,{ref:s,className:d("WebBloksStyle").classNames.apply(void 0,[d("WebBloksStyle").WebBloksStyles.container].concat(a)),style:babelHelpers["extends"]({},f,p,d("WebBloksUtils").insetToPadding(b.padding),{display:"block",pointerEvents:"auto",containerType:d("WebBloksCollectionHelpers").getContainerType(e)})},u,{children:i.jsx("div",{ref:t,style:babelHelpers["extends"]({display:"grid",flexDirection:h,gap:d("WebBloksUtils").toPx(k)},m(h,(q=b.span_count)!=null?q:1,z),(r={},r[x]="max-content",r[w]="100%",r[y]=o!=null?d("WebBloksUtils").toPx(o):void 0,r[v]=l!=null?d("WebBloksUtils").toPx(l):void 0,r)),children:g&&g.map(function(a){return i.jsx(n,{scrollerRef:s,node:a,layoutConfig:b,collectionNode:e},a.clientId)})})})))}k.displayName=k.name+" [from "+f.id+"]";function a(a){var b=a.node;a=a.externalStyle;var d=b.getValues();d=d.layout_config;d=d==null?void 0:d.getValues();return!d?i.jsx(c("WebBloksCollectionV2"),{node:b,externalStyle:a}):i.jsx(k,{node:b,externalStyle:a,layoutConfig:d})}a.displayName=a.name+" [from "+f.id+"]";function l(a,b){a=(a=a.getStyle("bk.style.GridCollectionStyle"))==null?void 0:a.getValues();if(!a)return{};var c=a.span_count;a=a.is_full_span;b=b.getValues();var d=b.direction;b=b.layout_config;d=d==="column"?"gridColumn":"gridRow";b=b==null?void 0:b.getValues();if(a!=null&&b){return a={},a[d]="span "+b.span_count,a}if(c!=null){return b={},b[d]="span "+c,b}return{}}function m(a,b,c){return a==="row"?{gridTemplateRows:"repeat("+b+", 1fr)",gridAutoColumns:"max-content",gridAutoFlow:"column",rowGap:c.cross,columnGap:c.main}:{gridTemplateColumns:"repeat("+b+", 1fr)",gridAutoRows:"max-content",gridAutoFlow:"row",rowGap:c.main,columnGap:c.cross}}function n(a){var b=a.collectionNode,d=a.layoutConfig,e=a.node;a=a.scrollerRef;d=babelHelpers["extends"]({},l(e,b),c("useWebBloksCollectionGridAspectRatioProps")(d,b,a));return i.jsx(c("WebBloksCollectionChildBase"),{collectionNode:b,node:e,scrollerRef:a,extraStyles:d})}n.displayName=n.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("WebBloksCollectionV1",["WebBloksCollectionScrollRefs","WebBloksComponentContext","WebBloksStyle","WebBloksUtils","react","useWebBloksCollectionScrollHandlers","useWebBloksCollectionScrollingElementStyle","useWebBloksCollectionStickyChildStyle","useWebBloksCollectionStopPropagation"],(function(a,b,c,d,e,f,g){var h,i=h||d("react");function a(a){var b=a.node;a=a.externalStyle;var e=b.getValues(),f=e.children;a=d("WebBloksStyle").useStyle(b,a);var g=a.style,h=a.wrapper,k=a.wrapperProps,l=a.ref;a=c("useWebBloksCollectionScrollingElementStyle")(e);e=a.scrollingElementStyle;a=a.scrollingElementClassNames;var m=d("WebBloksCollectionScrollRefs").useWebbloksCollectionScrollContainerRef(b);c("useWebBloksCollectionScrollHandlers")(b);var n=c("useWebBloksCollectionStopPropagation")(l);return h(i.jsx("div",babelHelpers["extends"]({},k,{ref:function(a){m.current=a,l.current=a},className:d("WebBloksStyle").classNames.apply(void 0,[d("WebBloksStyle").WebBloksStyles.container].concat(a)),style:babelHelpers["extends"]({},e,g,{display:"block",pointerEvents:"auto"})},n,{children:f&&f.map(function(a,c){return i.jsx(j,{node:a,collectionNode:b,isFirstItem:c===0,isLastItem:c===f.length-1},a.clientId)})})))}a.displayName=a.name+" [from "+f.id+"]";function j(a){var b=a.collectionNode,e=a.isFirstItem,f=a.isLastItem;a=a.node;var g=d("WebBloksComponentContext").useWebBloksContext();g=g.renderNode;b=b.getValues();var h=b.snap,i=b.spacing_after,j=b.snap_style,l=b.item_spacing,m=b.spacing_before;b=b.direction;var n=b==="column";f=f?i!=null?d("WebBloksUtils").toPx(i):0:d("WebBloksUtils").toPx(l);i=e&&m!=null?d("WebBloksUtils").toPx(m):void 0;n?(l={marginTop:i,marginBottom:f,width:"100%"},k(a,"height")&&(l.height="auto")):(l={marginLeft:i,marginRight:f,display:"inline-flex",verticalAlign:"bottom",height:"100%"},k(a,"width")&&(l.width="auto"));j==null||j==="pager"?e="always":e="normal";return g(a,babelHelpers["extends"]({},l,c("useWebBloksCollectionStickyChildStyle")({node:a,direction:b}),{scrollSnapAlign:h,scrollSnapStop:e}))}j.displayName=j.name+" [from "+f.id+"]";function k(a,b){return(b=(a=a.getStyle("flex"))==null?void 0:(a=a.get(b))==null?void 0:a.endsWith("%"))!=null?b:!1}g["default"]=a}),98);
__d("WebBloksCollection",["WebBloksCollectionGrid_EXPERIMENTAL","WebBloksCollectionHelpers","WebBloksCollectionV1","WebBloksCollectionV2","react"],(function(a,b,c,d,e,f,g){var h,i=h||d("react");function a(a){var b=a.node.get("layout_config_type");if(b==="grid")return i.jsx(c("WebBloksCollectionGrid_EXPERIMENTAL"),babelHelpers["extends"]({},a));return d("WebBloksCollectionHelpers").shouldUseWebBloksCollectionV2(a.node)?i.jsx(c("WebBloksCollectionV2"),babelHelpers["extends"]({},a)):i.jsx(c("WebBloksCollectionV1"),babelHelpers["extends"]({},a))}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("WebBloksConstNumber",[],(function(a,b,c,d,e,f){function a(a,b){return Number(b)}f["default"]=a}),66);
__d("WebBloksCurrentTimeMillis",[],(function(a,b,c,d,e,f){function a(a){return Date.now()}f["default"]=a}),66);
__d("WebBloksDangerouslyGetTreeFromParseResult",[],(function(a,b,c,d,e,f){function a(a,b){return b.unboundModel}f["default"]=a}),66);
__d("WebBloksI18nUtils",[],(function(a,b,c,d,e,f){"use strict";var g=["fb-AR","fb-RL"],h=["ar","he","ur","fa","sy","yi","ps","cb"];function i(a){var b;a=a.split(/[_-]/);b=((b=a[0])!=null?b:"").toLowerCase();a=((a=a[1])!=null?a:"").toUpperCase();return{language:b,country:a}}function a(a){a=i(a);if(a.country!=="")return a.language+"-"+a.country;else return a.language}function b(a){var b;Array.isArray(a)?b=a[0]:b=a;a=i(b);return h.includes(a.language)||g.includes(a.language+"-"+a.country)}f.parseLocale=i;f.toBrowserLocaleFormat=a;f.isLocaleRtl=b}),66);
__d("WebBloksDateUtils",["WebBloksI18nUtils"],(function(a,b,c,d,e,f,g){var h={"short":{year:"2-digit",month:"numeric",day:"numeric"},medium:{year:"numeric",month:"short",day:"numeric"},"long":{year:"numeric",month:"long",day:"numeric"},full:{weekday:"long",year:"numeric",month:"long",day:"numeric"}},i={"short":{hour:"numeric",minute:"2-digit"},medium:{hour:"numeric",minute:"numeric",second:"numeric"},"long":{hour:"numeric",minute:"numeric",second:"numeric",timeZoneName:"short"},full:{hour:"numeric",minute:"numeric",second:"numeric",timeZoneName:"long"}};function j(a,b,c){if(a==="date")return babelHelpers["extends"]({},h[b]);else if(a==="time"){return babelHelpers["extends"]({},i[(a=c)!=null?a:b])}return babelHelpers["extends"]({},h[b],i[(a=c)!=null?a:b])}function a(a,b,c,e,f,g){var h=a*1e3;if(!Number.isFinite(h))return null;Array.isArray(b)?h=b:h=d("WebBloksI18nUtils").toBrowserLocaleFormat(b);return new Intl.DateTimeFormat(h,babelHelpers["extends"]({},j(c,e,f),{timezone:g})).format(a*1e3)}g.getDateTimeText=a}),98);
__d("WebBloksDatetimeTextProvider",["WebBloksComponentContext","WebBloksDateUtils"],(function(a,b,c,d,e,f,g){function a(a){a=a.node;var b=a.get("timestamp"),c=a.get("type");a=a.get("format");var e=d("WebBloksComponentContext").useWebBloksContext();return d("WebBloksDateUtils").getDateTimeText(b,e.bloksContext.objectSet.environment.locale,c,a)}g["default"]=a}),98);
__d("WebBloksDelay",[],(function(a,b,c,d,e,f){function a(a,b,c){window.setTimeout(function(){a.executeCatch(c,[a])},b)}f["default"]=a}),66);
__d("WebBloksDeviceLog",[],(function(a,b,c,d,e,f){"use strict";function a(a,b,c){a=c==null?void 0:c.get("tag");a=a!==void 0?"["+a+"] "+b:b;switch(c==null?void 0:c.get("priority")){case"debug":break;case"error":break;case"info":break;case"warn":break;case"verbose":default:}}f["default"]=a}),66);
__d("WebBloksDialog",["WebBloksComponentContext","WebBloksStyle","react"],(function(a,b,c,d,e,f,g){var h,i=h||(h=d("react"));b=h;var j=b.useCallback,k=b.useEffect,l=b.useRef;function a(a){var b;a=a.node;var c=a.styleId;a=a.getValues();var e=a.title,f=a.message,g=a.primary_button,h=a.secondary_button;a=a.tertiary_button;var k=d("WebBloksComponentContext").useWebBloksContext(),l=j(function(a){a.target===a.currentTarget&&k.objectSet.navigationManager.pop()},[k]);b=(b=e)!=null?b:f;e=e!=null?f:null;f=m();var o=j(function(a){a.key==="Escape"&&(a.stopPropagation(),k.objectSet.navigationManager.pop())},[k.objectSet.navigationManager]);return i.jsx("div",{"data-bloks-name":c,className:n.background,onClick:l,onKeyDown:o,role:"presentation",children:i.jsxs("div",{className:n.container,ref:f,tabIndex:"-1","aria-label":b,children:[i.jsxs("div",{className:n.header,children:[b!=null&&i.jsx("div",{className:n.title,children:b}),e!=null&&i.jsx("div",{className:n.message,children:e})]}),i.jsxs("div",{className:n.buttons,children:[k.renderNode(g),k.renderNode(h),k.renderNode(a)]})]})})}a.displayName=a.name+" [from "+f.id+"]";function m(){var a=l(null);k(function(){if(!a.current)return;if(a.current.contains(document.activeElement))return;a.current&&a.current.focus()},[]);return a}var n=d("WebBloksStyle").createStyles({background:{alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)",bottom:0,display:"flex",justifyContent:"space-around",left:0,position:"fixed",right:0,top:0,zIndex:1e3},buttons:{},container:{backgroundColor:"white",borderRadius:12,margin:32,maxWidth:"100%",textAlign:"center",width:400,outline:"none"},header:{padding:32},message:{color:"#65676B",fontSize:14,marginTop:12},title:{color:"#1C1E21",fontSize:18,fontWeight:600}});g["default"]=a}),98);
__d("WebBloksDialogButton",["WebBloksAbstractButton","WebBloksComponentContext","WebBloksStyle","react"],(function(a,b,c,d,e,f,g){var h,i=h||d("react");function a(a){var b=a.node;a=b.getValues();var e=a.appearance,f=a.text;a=a.testing_id;var g=b.getExpression("on_click");a=d("WebBloksComponentContext").useWebBloksContext();var h=a.objectSet,k=a.executeCatch,l=a.bloksContext,m=a.ownerContext;a=function(a){a.preventDefault(),a.stopPropagation(),h.navigationManager.pop(),g!=null&&(m?m.executeCatch(g.getValue(),[b,l]):k(b,g,[b,l]))};var n;switch(e){case"destructive":n=j.destructive;break;case"cancel":n=j.cancel;break;case"default":default:n=j["default"];break}return i.jsx(c("WebBloksAbstractButton"),{className:d("WebBloksStyle").classNames(j.button,n),accessibility_label:f,onClick:a,title:f,"data-testid":void 0})}a.displayName=a.name+" [from "+f.id+"]";var j=d("WebBloksStyle").createStyles({button:function(a){var b;return b={},b["div"+a]={display:"block",borderTop:"1px solid #CED0D4",cursor:"pointer",fontSize:16,lineHeight:24/16,padding:"12px 10px",pointerEvents:"auto !important",marginLeft:"0px !important"},b},cancel:{color:"#1C1E21"},destructive:{color:"hsl(350, 87%, 55%)"},"default":{color:"#0064E0"}});g["default"]=a}),98);
__d("WebBloksDismissBottomSheet",[],(function(a,b,c,d,e,f){function a(a,b){a.objectSet.navigationManager.popAllModals();return a.executeCatch(b,[])}f["default"]=a}),66);
__d("WebBloksDismissToast",[],(function(a,b,c,d,e,f){function a(a,b,c,d){a.objectSet.toastManager.dismissToastWithID(b,c)}f["default"]=a}),66);
__d("WebBloksDummyComponent",["WebBloksErrors"],(function(a,b,c,d,e,f,g){function a(a){a=(a=a.node.styleId)!=null?a:"This component";throw new(d("WebBloksErrors").WebBloksError)(a+" is not yet implemented. Please override in renderer")}g["default"]=a}),98);
__d("WebBloksFieldset",["WebBloksComponentContext","WebBloksStyle","react"],(function(a,b,c,d,e,f,g){var h,i=h||d("react");function a(a){a=a.node;var b=d("WebBloksComponentContext").useWebBloksContext();b=b.renderChildren;return i.jsx("fieldset",{className:j.fieldset,children:b(a.getSubNodes("children"))})}a.displayName=a.name+" [from "+f.id+"]";var j=d("WebBloksStyle").createStyles({fieldset:{border:"none",margin:0,padding:0}});g["default"]=a}),98);
__d("WebBloksFindComponentContext",["WebBloksLegacyTraverser","WebBloksMutations"],(function(a,b,c,d,e,f,g){function a(a,b){var c=a.treeManager;a=a.objectSet;c=c.getBoundTree();if(c){c=d("WebBloksLegacyTraverser").findComponent(c,new(d("WebBloksMutations").ServerIdTarget)(""+b),a.environment.traversalKeys);if(c)return c}return null}g["default"]=a}),98);
__d("WebBloksDrawable",["WebBloksTheme","WebBloksUtils","react"],(function(a,b,c,d,e,f,g){var h;b=h||d("react");var i=b.useEffect,j=b.useMemo,k=b.useState;function l(a){return[1,void 0,!0].includes(a)}function a(a,b,c){c===void 0&&(c={});var d=m(a),e=n(a,b,c);return j(function(){return babelHelpers["extends"]({},d,e)},[d,e])}function m(a){var b=d("WebBloksTheme").useTheme().getTheme();return j(function(){if(!a)return{};var c=p(b,a);return c==null?{}:{background:c}},[a,b])}function n(a,b,c){c===void 0&&(c={});var e=d("WebBloksTheme").useTheme().getTheme(),f=k(l(c.enabled)?"default":"disabled"),g=f[0],h=f[1];i(function(){h(l(c.enabled)?"default":"disabled")},[c.enabled]);i(function(){var d=b.current;if(d==null)return;function e(){h("pressed");function a(){h("default"),document.removeEventListener("mouseup",a),document.removeEventListener("touchend",a)}document.addEventListener("mouseup",a);document.addEventListener("touchend",a)}l(c.enabled)&&(a==null?void 0:a.styleId)==="bk.components.StateDrawable"&&q(a,"pressed")&&(d.addEventListener("mousedown",e),d.addEventListener("touchstart",e));return function(){d.removeEventListener("mousedown",e),d.removeEventListener("touchstart",e)}},[a,c.enabled,b]);return j(function(){if((a==null?void 0:a.styleId)==="bk.components.StateDrawable"){var b=r(e,a,g);return{background:(b=b)!=null?b:void 0}}return{}},[e,a,g])}var o={top_to_bottom:"180deg",left_to_right:"90deg",bottom_left_to_top_right:"45deg",top_left_to_bottom_right:"135deg"};function p(a,b){switch(b.styleId){case"bk.components.ColorDrawable":var c=b.get("color");if(c==null)break;return d("WebBloksUtils").convertRGBArrToString(d("WebBloksUtils").convertRGBOrHexStringToArr(c));case"bk.components.ThemedColorDrawable":c=b.get("color");if(c==null)break;return d("WebBloksUtils").getRGBColorWithTheme(c,a);case"bk.components.GradientDrawable":c=b.get("orientation");var e=b.get("begin_color"),f=b.get("middle_color"),g=b.get("end_color"),h="";c!=null&&(h+=o[c]+",");e!=null&&(h+=d("WebBloksUtils").convertRGBArrToString(d("WebBloksUtils").convertRGBOrHexStringToArr(e))+",");f!=null&&(h+=d("WebBloksUtils").convertRGBArrToString(d("WebBloksUtils").convertRGBOrHexStringToArr(f))+",");g!=null&&(h+=d("WebBloksUtils").convertRGBArrToString(d("WebBloksUtils").convertRGBOrHexStringToArr(g)));return"linear-gradient("+h+")";case"bk.components.GradientThemedColorDrawable":c=b.get("orientation");e=b.get("begin_color");f=b.get("middle_color");g=b.get("end_color");h="";c!=null&&(h+=o[c]+",");e!=null&&(h+=d("WebBloksUtils").getRGBColorWithTheme(e,a)+",");f!=null&&(h+=d("WebBloksUtils").getRGBColorWithTheme(f,a)+",");g!=null&&(h+=d("WebBloksUtils").getRGBColorWithTheme(g,a));return"linear-gradient("+h+")";default:return null}}function q(a,b){a=(a=a==null?void 0:a.get("state_items"))!=null?a:[];return a.some(function(a){return a.get("state")===b})}function r(a,b,c){b=b.get("state_items");for(var b=b,d=Array.isArray(b),e=0,b=d?b:b[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var f;if(d){if(e>=b.length)break;f=b[e++]}else{e=b.next();if(e.done)break;f=e.value}f=f;if(f.get("state")===c)return p(a,f.get("drawable"))}return null}g["default"]=a}),98);
__d("WebBloksDecoration",["WebBloksBooleanUtils","WebBloksDrawable","WebBloksTheme","WebBloksUtils","react"],(function(a,b,c,d,e,f,g){var h,i=(h||d("react")).useMemo,j=0,k=3,l=6,m="#000000";function a(a,b){var e=d("WebBloksTheme").useTheme().getTheme(),f=a.decoration,g=a.enabled,h=f==null?void 0:f.get("background");h=c("WebBloksDrawable")(h,b,a);b=f==null?void 0:f.get("border_width");var n=i(function(){var a=f==null?void 0:f.get("border_themed_color"),b=f==null?void 0:f.get("border_color");if(a!=null)return d("WebBloksUtils").getRGBColorWithTheme(a,e);else if(b!=null)return d("WebBloksUtils").convertRGBArrToString(d("WebBloksUtils").convertRGBOrHexStringToArr(b));return null},[f,e]);if(b!=null&&n!=null){b=d("WebBloksUtils").toPx(b);h.border=b+" solid "+n}b=f==null?void 0:f.get("shadow_opacity");n=f==null?void 0:f.get("shadow_themed_color");if(n!=null||b!=null){var o=m;if(n!=null){n=d("WebBloksUtils").getRGBColorWithTheme(n,e);n=d("WebBloksUtils").convertRGBOrHexStringToArr(n);var p=n[0],q=n[1],r=n[2];n=n[3];b=n*((n=b)!=null?n:1);o=d("WebBloksUtils").convertRGBArrToString([p,q,r,b])}p=(n=f==null?void 0:f.get("shadow_offset_width"))!=null?n:j;r=(q=f==null?void 0:f.get("shadow_offset_height"))!=null?q:k;n=(b=f==null?void 0:f.get("shadow_radius"))!=null?b:l;h.boxShadow=p+"px "+r+"px "+n+"px "+o}q=f==null?void 0:f.get("clipping");d("WebBloksBooleanUtils").isTrue(q)&&(h.overflow="hidden");Object.prototype.hasOwnProperty.call(a,"on_click")&&!d("WebBloksBooleanUtils").isFalse(g)&&(h.cursor="pointer",h.pointerEvents="auto");b=f==null?void 0:f.get("corner_radius");if(b!=null){p=f==null?void 0:f.get("corners_to_apply_radius");if(p!=null&&p.length>0)for(r=p,n=Array.isArray(r),o=0,r=n?r:r[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){if(n){if(o>=r.length)break;q=r[o++]}else{o=r.next();if(o.done)break;q=o.value}a=q;switch(a){case"top_left":h.borderTopLeftRadius=d("WebBloksUtils").toPx(b);break;case"top_right":h.borderTopRightRadius=d("WebBloksUtils").toPx(b);break;case"bottom_right":h.borderBottomRightRadius=d("WebBloksUtils").toPx(b);break;case"bottom_left":h.borderBottomLeftRadius=d("WebBloksUtils").toPx(b);break;default:break}}else h.borderRadius=d("WebBloksUtils").toPx(b)}return h}g["default"]=a}),98);
__d("useWebBloksDrawableNode",["WebBloksComponentContext","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=d("WebBloksComponentContext").useWebBloksContext();b=b.objectSet;if(a!=null){b=b.getNullableComponentForName(a.styleId);return b!=null?i.jsx(b,{node:a}):null}return null}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("WebBloksFlexbox",["WebBloksAnchorTagExtensionHandler","WebBloksComponentContext","WebBloksDecoration","WebBloksDrawable","WebBloksStyle","WebBloksUtils","react","useClickablePropsForWebBloks","useWebBloksDrawableNode"],(function(a,b,c,d,e,f,g){var h,i=h||(h=d("react"));b=h;var j=b.useEffect,k=b.useRef;function a(a){var b=a.node;a=a.externalStyle;var e=b.getExpression("on_click"),f=b.getSubNodes("children"),g=b.getSubNode("decoration"),h=b.get("visibility"),k=b.get("align_content"),m=b.get("align_items"),o=b.get("flex_direction"),p=b.get("flex_wrap"),q=b.get("justify_content"),r=b.getExpression("on_mount"),s=d("WebBloksUtils").isBloksModelEnabled(b);a=d("WebBloksStyle").useStyle(b,a,e!=null&&s);var t=a.style,u=a.wrapper,v=a.wrapperProps;a=a.ref;a=c("WebBloksDecoration")(b.getValues(),a);var w=d("WebBloksAnchorTagExtensionHandler").useWebBloksAnchorTagExtensionProps(b),x=w!==null,y=x?"a":"div";e=c("useClickablePropsForWebBloks")(b,e,v.disabled===!0?!1:s,x);s=d("WebBloksComponentContext").useWebBloksContext();var z=s.executeOnNextTickCatch;x=s.renderChildren;var A=s.bloksContext;j(function(){if(r==null)return;z(b,r,[b,A])},[r]);s=g==null?void 0:g.get("foreground");h=babelHelpers["extends"]({pointerEvents:"none"},t,n(h),a,{alignContent:d("WebBloksUtils").toHyphen(k),alignItems:d("WebBloksUtils").toHyphen(m),flexDirection:d("WebBloksUtils").toHyphen(o),flexWrap:d("WebBloksUtils").toHyphen(p),justifyContent:d("WebBloksUtils").toHyphen((g=q)!=null?g:t.justifyContent)});return u(i.jsxs(y,babelHelpers["extends"]({},v,{className:d("WebBloksStyle").WebBloksStyles.container,style:h},e,w,{children:[x(f),s?i.jsx(l,{drawable:s}):null]})))}a.displayName=a.name+" [from "+f.id+"]";function l(a){a=a.drawable;var b=k(null),d=c("WebBloksDrawable")(a,b);a=c("useWebBloksDrawableNode")(a);return a!=null?a:i.jsx("div",{"data-bloks-name":"bk.components.BoxDecoration",ref:b,className:m.foreground,style:d})}l.displayName=l.name+" [from "+f.id+"]";var m=d("WebBloksStyle").createStyles({foreground:{position:"absolute",top:0,bottom:0,left:0,right:0,pointerEvents:"none"}});function n(a){switch(a){case"gone":return{display:"none"};case"invisible":return{visibility:"hidden"}}}g["default"]=a}),98);
__d("WebBloksExtentionUtils",[],(function(a,b,c,d,e,f){var g=navigator.userAgent.match(/safari/)!=null&&!navigator.userAgent.match(/chrom(e|ium)/);function a(){if(g){var a;(a=document.body)==null?void 0:a.style.setProperty("-webkit-touch-callout","none");(a=document.body)==null?void 0:a.style.setProperty("-webkit-user-select","none")}}function b(){if(g){var a;(a=document.body)==null?void 0:a.style.removeProperty("-webkit-touch-callout");(a=document.body)==null?void 0:a.style.removeProperty("-webkit-user-select")}}f.disableLongPressSideEffectsInSafari=a;f.enableLongPressSideEffectsInSafari=b}),66);
__d("WebBloksGestureExtensionHandler",["WebBloksExtentionUtils","WebBloksUtils"],(function(a,b,c,d,e,f,g){var h=500,i=250;a={getStyles:function(a){return{pointerEvents:"auto"}},onMount:function(a,b,c){var e,f=b.current,g=(e=f.uiMutableContainer.domNode)==null?void 0:e.current;if(g==null)return;var j=a.getExpression("on_tap"),k=a.getExpression("on_tap_with_touch_point"),l=a.getExpression("on_tap_with_touch_point_v2"),m=a.getExpression("on_long_press"),n=a.getExpression("on_long_press_with_touch_point"),o=a.getExpression("on_long_press_with_touch_point_v2"),p=a.getExpression("on_double_tap"),q=a.getExpression("on_double_tap_with_touch_point"),r=a.getExpression("on_double_tap_with_touch_point_v2"),s=a.getExpression("on_touch_down");function t(a,d){s!=null&&c.executeCatch(b.current,s,[b.current,c.bloksContext,a,d])}function u(a){t(a.clientX,a.clientY)}function v(a){t(a.touches[0].clientX,a.touches[0].clientY)}s!=null&&(g.addEventListener("mousedown",u),g.addEventListener("touchstart",v));var w=a.getExpression("on_touch_up");function x(a,d){w!=null&&c.executeCatch(b.current,w,[b.current,c.bloksContext,a,d])}function y(a){x(a.clientX,a.clientY)}function z(a){x(a.touches[0].clientX,a.touches[0].clientY)}w!=null&&(g.addEventListener("mouseup",y),g.addEventListener("touchend",z));var A=f.uiMutableContainer.gestures||{longPressTimeout:null,doublePressTimeout:null,startX:0,startY:0,preventTap:!1};f.uiMutableContainer.gestures=A;function B(){window.clearTimeout(A.longPressTimeout),A.longPressTimeout=null,d("WebBloksExtentionUtils").enableLongPressSideEffectsInSafari()}function C(a,e){if(A.longPressTimeout!==null)return;d("WebBloksExtentionUtils").disableLongPressSideEffectsInSafari();if(g==null)return;var f=g.getBoundingClientRect();A.startX=f.left;A.startY=f.top;A.preventTap=!1;A.longPressTimeout=window.setTimeout(function(){A.preventTap=!0,A.longPressTimeout=null,d("WebBloksUtils").isBloksModelEnabled(b.current)&&(m!=null&&c.executeCatch(b.current,m,[b.current,c.bloksContext]),n!=null&&c.executeCatch(b.current,n,[b.current,c.bloksContext,a,e]),o!=null&&c.executeCatch(b.current,o,[b.current,c.bloksContext,c,"detected",a,e])),d("WebBloksExtentionUtils").enableLongPressSideEffectsInSafari()},h)}function D(a){C(a.touches[0].clientX,a.touches[0].clientY)}function E(a){C(a.clientX,a.clientY)}function F(a){a=a.targetTouches[0];if(g==null)return;d("WebBloksUtils").shouldCancelTouchEvent(g,A.startX,A.startY,a)&&B()}function G(){B()}function H(a){A.preventTap&&a.preventDefault(),B()}function I(){B()}(m!=null||n!=null||o!=null)&&(g.addEventListener("touchstart",D,d("WebBloksUtils").passiveTouchEventOptions),g.addEventListener("touchmove",F,d("WebBloksUtils").passiveTouchEventOptions),g.addEventListener("touchend",H),g.addEventListener("touchcancel",H),g.addEventListener("mousedown",E),g.addEventListener("mouseleave",G),g.addEventListener("mouseup",I));function J(a){var e;a.stopPropagation();((e=b.current.uiMutableContainer)==null?void 0:(e=e.gestures)==null?void 0:e.preventTap)!==!0&&d("WebBloksUtils").isBloksModelEnabled(b.current)&&((j!=null||k!=null||l!=null)&&p==null&&q==null&&r==null&&(j!=null&&c.executeCatch(b.current,j,[b.current,c.bloksContext]),k!=null&&c.executeCatch(b.current,k,[b.current,c.bloksContext,a.clientX,a.clientY]),l!=null&&c.executeCatch(b.current,l,[b.current,c.bloksContext,c,a.clientX,a.clientY])),(p!=null||q!=null||r!=null)&&(j!=null||k!=null||l!=null)&&a.detail===1&&(window.clearTimeout(A.doublePressTimeout),A.doublePressTimeout=window.setTimeout(function(){j!=null&&c.executeCatch(b.current,j,[b.current,c.bloksContext]),k!=null&&c.executeCatch(b.current,k,[b.current,c.bloksContext,a.clientX,a.clientY]),l!=null&&c.executeCatch(b.current,l,[b.current,c.bloksContext,c,a.clientX,a.clientY])},i)))}(j!=null||k!=null||l!=null||p!=null||q!=null||r==null)&&g.addEventListener("click",J);function K(a){window.clearTimeout(A.doublePressTimeout),A.doublePressTimeout=null,p!=null&&c.executeCatch(b.current,p,[b.current,c.bloksContext]),q!=null&&c.executeCatch(b.current,q,[b.current,c.bloksContext,a.clientX,a.clientY]),r!=null&&c.executeCatch(b.current,r,[b.current,c.bloksContext,c,a.clientX,a.clientY])}(p!=null||q!=null||r!=null)&&g.addEventListener("dblclick",K);return function(){g.removeEventListener("touchstart",D,d("WebBloksUtils").passiveTouchEventOptions),g.removeEventListener("touchmove",F,d("WebBloksUtils").passiveTouchEventOptions),g.removeEventListener("touchend",H),g.removeEventListener("touchcancel",H),g.removeEventListener("mousedown",E),g.removeEventListener("mouseleave",G),g.removeEventListener("mouseup",I),g.removeEventListener("click",J),g.removeEventListener("dblclick",K),g.removeEventListener("mousedown",u),g.removeEventListener("touchstart",v),g.removeEventListener("mouseup",y),g.removeEventListener("touchend",z)}}};g.WebBloksGestureExtensionHandler=a}),98);
__d("WebBloksGetAttr",[],(function(a,b,c,d,e,f){function a(a,b,c){return b.get(c)}f["default"]=a}),66);
__d("WebBloksGetDatetimeText",["WebBloksDateUtils"],(function(a,b,c,d,e,f,g){function a(a,b,c,e,f,g,j){g=i(e,"medium");e=i(f,"long");f=h(c,"datetime");return d("WebBloksDateUtils").getDateTimeText(b,a.bloksContext.objectSet.environment.locale,f,g,e,j)}function h(a,b){if(a!=="date"&&a!=="datetime"&&a!=="time")return b;else return a}function i(a,b){if(a!=="short"&&a!=="medium"&&a!=="long"&&a!=="full")return b;else return a}g["default"]=a}),98);
__d("WebBloksGetDeserializedEmbeddedPayload",["WebBloksErrors"],(function(a,b,c,d,e,f,g){function a(a,b){a=(a=a.getResources())==null?void 0:(a=a.payloads.get(b))==null?void 0:a.payload;if(a==null)throw new(d("WebBloksErrors").WebBloksError)("Could not find embedded payload for ID: "+b);return a}g["default"]=a}),98);
__d("WebBloksGetHeightV2",[],(function(a,b,c,d,e,f){function a(a,b,c){c=(a=b.uiMutableContainer.domNode)==null?void 0:a.current;return(b=c==null?void 0:c.clientHeight)!=null?b:0}f["default"]=a}),66);
__d("WebBloksGetParameter",[],(function(a,b,c,d,e,f){function a(a,b){return a.readParameter(b)}f["default"]=a}),66);
__d("WebBloksDataModule",["WebBloksErrors"],(function(a,b,c,d,e,f,g){function a(a,b){if(b==="ls")return a.localStateDataModule;else if(b==="gs")return a.objectSet.globalStateDataModule;else if(b==="gql")return a.objectSet.pandoDataModule;else if(b==="wa_bloks_state"&&a.objectSet.waBloksStateDataModule)return a.objectSet.waBloksStateDataModule;else throw new(d("WebBloksErrors").WebBloksError)("Unsupported data source type found: "+b)}function b(a,b){a=a.data;var c=a.initial_lispy;return c!=null?b(c):a.initial}function c(a,b){return{id:a,type:"ls",data:{initial:b}}}g.getDataModuleFromContext=a;g.getDataEntryInitialValue=b;g.dangerouslyCreateLocalStateDataManifestEntry_DO_NOT_USE=c}),98);
__d("WebBloksInflate",["WebBloksDataModule","WebBloksModelParser","WebBloksParseResult","WebBloksScopedIds","WebBloksSourceMapNode","WebBloksSourceMapPayloadMetadata","WebBloksSourceMapRootNode","WebBloksUtils"],(function(a,b,c,d,e,f,g){function a(a,b,e,f,g){var h=a.referenced,i=a.referenced_external,j=a.referenced_embedded_payloads,k=a.error_attribution,l=[],m=[];if(h)for(var h=h,n=Array.isArray(h),o=0,h=n?h:h[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var p;if(n){if(o>=h.length)break;p=h[o++]}else{o=h.next();if(o.done)break;p=o.value}p=p;l.push(b.readManifestEntry(p))}if(i)for(p=i,o=Array.isArray(p),n=0,p=o?p:p[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){if(o){if(n>=p.length)break;h=p[n++]}else{n=p.next();if(n.done)break;h=n.value}i=h;l.push(d("WebBloksDataModule").dangerouslyCreateLocalStateDataManifestEntry_DO_NOT_USE(i,b.readVariable(i)))}if(g!=null){h=Object.entries(g);for(i=0;i<h.length;i++){n=h[i];o=n[0];p=n[1];g=d("WebBloksScopedIds").getScopedVariableIdAtDepth(b.scope,o,b.scope.length,"INTERNAL_VARIABLE");n=d("WebBloksDataModule").dangerouslyCreateLocalStateDataManifestEntry_DO_NOT_USE(g,p);l.push(n)}}if(j)for(o=j,g=Array.isArray(o),p=0,o=g?o:o[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){if(g){if(p>=o.length)break;n=o[p++]}else{p=o.next();if(p.done)break;n=p.value}h=n;m.push(b.readPayload(h))}i=b.objectSet.environment.traversalKeys;j=d("WebBloksModelParser").parseBloksModelFromJSON(d("WebBloksUtils").cast(a.tree),i,new(c("WebBloksSourceMapRootNode"))(new(c("WebBloksSourceMapNode"))(),new(c("WebBloksSourceMapPayloadMetadata"))()));e&&(j=j.makeDeepCopyWithNewClientIds(f?b.scope.slice():null,i));p=d("WebBloksModelParser").parseBloksTreeResources(babelHelpers["extends"]({},a,{data:[].concat((n=a.data)!=null?n:[],l),embedded_payloads:[].concat((h=a.embedded_payloads)!=null?h:[],m)}),j,i);g=k==null?void 0:k.logging_id;return new(c("WebBloksParseResult"))(j,p,g)}g.inflateBloksDataFromBloksPayloadToBloksParseResult=a}),98);
__d("WebBloksGetPayload",["WebBloksInflate"],(function(a,b,c,d,e,f,g){function a(a,b,c){var e=a.createScopedContext();a=a.readPayload(b);b=d("WebBloksInflate").inflateBloksDataFromBloksPayloadToBloksParseResult(a.payload.layout.bloks_payload,e,!0,!0,c);return b}g["default"]=a}),98);
__d("WebBloksGetScript",[],(function(a,b,c,d,e,f){function a(a,b){return a.treeManager.getCommittedTreeResources().functionTable.get(b)}f["default"]=a}),66);
__d("WebBloksGetState",["WebBloksLegacyTraverser","WebBloksUtils"],(function(a,b,c,d,e,f,g){function a(a,b){b=String(b);var c=a.bloksContext.bkContextKeyStates.get(b);if(!c){var e=d("WebBloksUtils").nullthrows(d("WebBloksLegacyTraverser").getStateInitializer(a.objectSet.environment.traversalKeys,a.treeManager,b),"No state initializer available for id "+b);c=a.executeCatch(e,d("WebBloksUtils").EMPTY_ARRAY);a.bloksContext.bkContextKeyStates.set(b,c)}return c}g["default"]=a}),98);
__d("WebBloksGetTemplateArg",["WebBloksErrors","WebBloksScopedIds"],(function(a,b,c,d,e,f,g){function a(a,b,c){var e=a.scope;if(c===0)return a.readExpandedVariable(b);else{if(!e)throw new(d("WebBloksErrors").WebBloksError)("Keypath must be set on environment if trying to GetTemplateArg on a depth larger than 0.");if(c>e.length)throw new(d("WebBloksErrors").WebBloksError)("Depth supplied should never exceed the size of the key path.");e=d("WebBloksScopedIds").getScopedVariableIdAtDepth(e,b,c,"EXPANDED_VARIABLE");return a.readExpandedVariable(e)}}g["default"]=a}),98);
__d("WebBloksGetValue",[],(function(a,b,c,d,e,f){function a(a,b){return a.readValue(b)}f["default"]=a}),66);
__d("WebBloksGetVariable2",[],(function(a,b,c,d,e,f){function a(a,b){return a.readVariable(b)}f["default"]=a}),66);
__d("WebBloksGetVariableWithScope",["WebBloksErrors","WebBloksScopedIds"],(function(a,b,c,d,e,f,g){function a(a,b,c){var e=a.scope;if(c===0)return a.readVariable(b);if(e==null)throw new(d("WebBloksErrors").WebBloksError)("Keypath must be set on environment if trying to WriteLocalState on a depth larger than 0.");if(c>e.length)throw new(d("WebBloksErrors").WebBloksError)("Depth supplied should never exceed the size of the key path.");e=d("WebBloksScopedIds").getScopedVariableIdAtDepth(e,b,c,"INTERNAL_VARIABLE");c=a.readVariable(e);c==null&&(c=a.readVariable(b));return c}g["default"]=a}),98);
__d("WebBloksGetWidthV2",[],(function(a,b,c,d,e,f){function a(a,b,c){c=(a=b.uiMutableContainer.domNode)==null?void 0:a.current;return(b=c==null?void 0:c.clientWidth)!=null?b:0}f["default"]=a}),66);
__d("WebBloksGlimmer",["WebBloksStyle","WebBloksTheme","react"],(function(a,b,c,d,e,f,g){var h,i=h||d("react"),j=100;function a(a){var b,c,e=a.node;a=a.externalStyle;var f=e.get("shape"),g=e.get("corner_radius");a=d("WebBloksStyle").useStyle(e,a);var h=a.wrapperProps,o=a.wrapper;a=a.style;b=(b=e.get("index"))!=null?b:1;c=(c=e.get("component_style"))!=null?c:"default";e=(e=e.get("surface_background_color"))!=null?e:"default";var p=d("WebBloksTheme").WebBloksThemeVars["fds-gray-65"],q=k;e==="default"&&c==="background"?q=l:e==="wash"&&c==="background"&&(p=d("WebBloksTheme").WebBloksThemeVars["fds-white"],q=m);e=g;f==="circle"&&(e="50%");return o(i.jsx("div",babelHelpers["extends"]({},h,{"data-visualcompletion":"loading-state",className:d("WebBloksStyle").classNames(d("WebBloksStyle").WebBloksStyles.container,n.root),style:babelHelpers["extends"]({},a,{borderRadius:e,animationDelay:b*j+"ms",background:p,animationName:q})})))}a.displayName=a.name+" [from "+f.id+"]";var k=d("WebBloksStyle").keyframes({"0%":{opacity:.04},"50%":{opacity:.17},"100%":{opacity:.04}}),l=d("WebBloksStyle").keyframes({"0%":{opacity:.04},"50%":{opacity:.07},"100%":{opacity:.04}}),m=d("WebBloksStyle").keyframes({"0%":{opacity:.65},"50%":{opacity:1},"100%":{opacity:.65}}),n=d("WebBloksStyle").createStyles({root:{animationDuration:"2s",animationIterationCount:"infinite",animationTimingFunction:"cubic-bezier(0.5, 0, 0.5, 1)"}});g["default"]=a}),98);
__d("WebBloksImage",["WebBloksComponentContext","WebBloksStyle","WebBloksTheme","WebBloksUtils","react"],(function(a,b,c,d,e,f,g){var h,i=h||(h=d("react")),j=h.useEffect;function k(a){switch(a){case"contain":return"contain";case"stretch":return"fill";case"cover":default:return"cover"}}function a(a){var b=a.node;a=a.externalStyle;var c=b.get("dark_url"),e=b.get("scale_type"),f=b.get("url"),g=b.get("color_filter"),h=b.getExpression("on_image_perf_update"),l=d("WebBloksComponentContext").useWebBloksContext(),m=l.bloksContext,n=l.executeCatch;l=d("WebBloksStyle").useStyle(b,a);a=l.style;var o=l.wrapper;l=l.wrapperProps;var p=d("WebBloksTheme").useTheme().getTheme(),q=b.getValues();q=q.contrib;a.position==="absolute"&&(a.top==="0px"&&a.bottom==="0px"&&(a.height="100%"),a.left==="0px"&&a.right==="0px"&&(a.width="100%"));e=k(e);var r={};if(g!=null&&f!=null){var s=e==="fill"?"100% 100%":e;r={WebkitMaskImage:"url("+f+")",WebkitMaskSize:s,maskImage:"url("+f+")",maskSize:s,backgroundColor:d("WebBloksUtils").getRGBColorWithTheme(g,p),objectPosition:"10000px 10000px"}}var t=function(a){h!=null&&n(b,h,[a,Date.now(),m])};j(function(){t("ImageRequested")},[]);s=q==null?void 0:q.get("base_sixty_four_encoded_image");if(s!=null){g=s.charAt(0);q="";switch(g){case"/":q="jpg";break;case"i":q="png";break;case"R":q="gif";break;case"U":q="webp";break;case"P":q="svg";break}s="data:image/"+q+";base64,"+s}g=p===d("WebBloksTheme").THEME.light||c==null?f:c;q=typeof g==="string"&&g?g.replace(/\\/g,""):null;f=(p=s)!=null?p:q;g=babelHelpers["extends"]({},l,{"aria-label":null,alt:(c=l==null?void 0:l["aria-label"])!=null?c:""});return o(i.jsx("img",babelHelpers["extends"]({},g,{src:f,onLoad:function(){return t("ImageFinalRendered")},onError:function(){return t("ImageFailed")}},d("WebBloksStyle").getStyleProps(babelHelpers["extends"]({},a,r,{objectFit:e,overflow:"hidden"})))))}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("WebBloksIndexOfChild",["WebBloksLegacyTraverser"],(function(a,b,c,d,e,f,g){function a(a,b,c){b=b;if(b==null||b.getId()==null){a.objectSet.environment.logger.warn("bk.action.bloks.IndexOfChild called on a container without an ID");return-1}b=d("WebBloksLegacyTraverser").findComponentByServerId(a.treeManager,b.getId(),a.objectSet.environment.traversalKeys);var e=String(c);return(c=b==null?void 0:(a=b.getChildren_DEPRECATED())==null?void 0:a.findIndex(function(a){return a.getId()===e}))!=null?c:-1}g["default"]=a}),98);
__d("WebBloksInflateSync",["WebBloksModelParser","WebBloksSourceMapNode","WebBloksSourceMapPayloadMetadata","WebBloksSourceMapRootNode"],(function(a,b,c,d,e,f,g){function a(a,b){return d("WebBloksModelParser").parseBloksModelFromJSON(b,a.objectSet.environment.traversalKeys,new(c("WebBloksSourceMapRootNode"))(new(c("WebBloksSourceMapNode"))(),new(c("WebBloksSourceMapPayloadMetadata"))()))}g["default"]=a}),98);
__d("WebBloksInsertChildrenAfter",["WebBloksChildrenOperationsHelper"],(function(a,b,c,d,e,f,g){function a(a,b,c,e){d("WebBloksChildrenOperationsHelper").insertChildrenAfter(a.treeManager,c,""+e)}g["default"]=a}),98);
__d("WebBloksInsertEmbeddedChildrenAfter",["WebBloksChildrenOperationsHelper"],(function(a,b,c,d,e,f,g){function a(a,b,c,e,f){d("WebBloksChildrenOperationsHelper").insertEmbeddedChildrenAfter(a.treeManager,c,""+e)}g["default"]=a}),98);
__d("WebBloksInsertEmbeddedChildrenBefore",["WebBloksChildrenOperationsHelper"],(function(a,b,c,d,e,f,g){function a(a,b,c,e,f){d("WebBloksChildrenOperationsHelper").insertEmbeddedChildrenBefore(a.treeManager,c,""+e)}g["default"]=a}),98);
__d("WebBloksJsonDecode",[],(function(a,b,c,d,e,f){function a(a,b){return JSON.parse(b)}f["default"]=a}),66);
__d("WebBloksJsonEncode",[],(function(a,b,c,d,e,f){function a(a,b){return JSON.stringify(b,function(b,a){return typeof a==="boolean"?a?1:0:a})}f["default"]=a}),66);
__d("WebBloksJsonEncodeV3",[],(function(a,b,c,d,e,f){function a(a,b){return JSON.stringify(b)}f["default"]=a}),66);
__d("WebBloksMakeFlat",[],(function(a,b,c,d,e,f){function a(a){var b={};for(var c=0;c<(arguments.length<=1?0:arguments.length-1)-1;c+=2){var d=String(c+1<1||arguments.length<=c+1?void 0:arguments[c+1]);b[d]=c+1+1<1||arguments.length<=c+1+1?void 0:arguments[c+1+1]}return b}f["default"]=a}),66);
__d("WebBloksMapClone",[],(function(a,b,c,d,e,f){function a(a,b){return babelHelpers["extends"]({},b)}f["default"]=a}),66);
__d("WebBloksMapFilter",["WebBloksBooleanUtils"],(function(a,b,c,d,e,f,g){function a(a,b,c){var e={};b=Object.entries(b);for(var f=0;f<b.length;f++){var g=b[f],h=g[0];g=g[1];var i=c(a,h,g);d("WebBloksBooleanUtils").isTrue(i)&&(e[h]=g)}return e}g["default"]=a}),98);
__d("WebBloksMapGet",[],(function(a,b,c,d,e,f){function a(a,b,c){return b[c]}f["default"]=a}),66);
__d("WebBloksMapKeys",[],(function(a,b,c,d,e,f){function a(a,b){return Object.keys(b)}f["default"]=a}),66);
__d("WebBloksMapMake",[],(function(a,b,c,d,e,f){function a(a,b,c){a={};for(var d=0;d<b.length;d++)a[b[d]]=c[d];return a}f["default"]=a}),66);
__d("WebBloksMapMerge",[],(function(a,b,c,d,e,f){function a(a){for(var b=arguments.length,c=new Array(b>1?b-1:0),d=1;d<b;d++)c[d-1]=arguments[d];return Object.assign.apply(Object,[{}].concat(c))}f["default"]=a}),66);
__d("WebBloksMapRemove",[],(function(a,b,c,d,e,f){function a(a,b,c){delete b[c]}f["default"]=a}),66);
__d("WebBloksMapUpdate",[],(function(a,b,c,d,e,f){function a(a,b,c){Object.assign(b,c)}f["default"]=a}),66);
__d("WebBloksMapValues",[],(function(a,b,c,d,e,f){function a(a,b){return Array.from(Object.values(b))}f["default"]=a}),66);
__d("WebBloksEqual",["WebBloksBooleanUtils"],(function(a,b,c,d,e,f,g){function a(a,b){return a===b||a==null&&b==null||d("WebBloksBooleanUtils").isTrue(a)&&d("WebBloksBooleanUtils").isTrue(b)||d("WebBloksBooleanUtils").isFalse(a)&&d("WebBloksBooleanUtils").isFalse(b)}g.isEqual=a}),98);
__d("WebBloksMatch",["WebBloksEqual"],(function(a,b,c,d,e,f,g){function a(a,b,c,e){for(var f=0;f<c.length;f++){var g=c[f];if(d("WebBloksEqual").isEqual(g["case"],b))return g.expression(a)}return e(a)}g["default"]=a}),98);
__d("WebBloksMatchesRegex",[],(function(a,b,c,d,e,f){function a(a,b,c,d){a=new RegExp(c,d);return!!b.match(a)}f["default"]=a}),66);
__d("WebBloksMergeWithBind",["WebBloksErrors"],(function(a,b,c,d,e,f,g){function a(a){throw new(d("WebBloksErrors").WebBloksError)("Should not be called")}g["default"]=a}),98);
__d("WebBloksMinsTypeOf",[],(function(a,b,c,d,e,f){function a(a,b){if(b==null)return 0;if(Array.isArray(b))return 6;switch(typeof b){case"boolean":return 1;case"string":return 2;case"number":return 4;case"function":return 8;case"object":return 7}return-1}f["default"]=a}),66);
__d("WebBloksContainerConfig",["WebBloksErrors"],(function(a,b,c,d,e,f,g){"use strict";b=function(){function a(){}var b=a.prototype;b.mergeWith=function(a){return a};a.fromBloksModel=function(a){throw new(d("WebBloksErrors").WebBloksError)("Abstract")};b.getIsOverlay=function(){return!1};return a}();function a(a,b){var c=b.styleId;a=a.objectSet.getContainerConfigModuleForName(c);return a.ContainerConfig.fromBloksModel(b)}g.WebBloksContainerConfig=b;g.getContainerConfig=a}),98);
__d("WebBloksLocalState",["WebBloksDataModule"],(function(a,b,c,d,e,f,g){a=function(){function a(){}var b=a.prototype;b.setup=function(a,b,c,e){a=d("WebBloksDataModule").getDataEntryInitialValue(b,e);return{initialValue:a}};return a}();g.WebBloksLocalStateDataModule=a}),98);
__d("WebBloksContext",["WebBloksLocalState","WebBloksScopedIds"],(function(a,b,c,d,e,f,g){a=function(){function a(a,b){this.treeManager=a,this.objectSet=b,this.associatedObjectsByClientId=new Map(),this.bkContextKeyStates=new Map(),this.bkContextKeyAnimations=new Map(),this.localStateDataModule=new(d("WebBloksLocalState").WebBloksLocalStateDataModule)(),this.scopedClientIdMapper=new(d("WebBloksScopedIds").ClientIdToScopedIdMapper)()}var b=a.prototype;b.associatedObjectForComponent=function(a,b,c){a=a.clientId;var d=this.associatedObjectsByClientId.get(a);if(d!=null){var e=d[b];if(e!=null)return e;d[b]=c;return d[b]}e={};e[b]=c;this.associatedObjectsByClientId.set(a,e);return e[b]};return a}();g.WebBloksContext=a}),98);
__d("WebBloksComponentQueryManager",["WebBloksChildrenOperationsHelper","WebBloksMutations","WebBloksParseResult","WebBloksScopedComponentQueryDefinition","WebBloksScopedIds","WebBloksScriptExecutor","WebBloksUtils"],(function(a,b,c,d,e,f,g){var h="query_info_";a=function(){function a(a,b){this.$3=new Map(),this.$4=new Map(),this.$5=new Map(),this.$1=a,this.$2=b}var b=a.prototype;b.setup=function(a,b){var c=this,e=[],f=function(a){return d("WebBloksScriptExecutor").execute(b,a,[])},g=[],h=function(){if(j){if(k>=i.length)return"break";l=i[k++]}else{k=i.next();if(k.done)return"break";l=k.value}var a=l,g=d("WebBloksUtils").cast(f(a.appIdExpression)),h=a.paramsExpression!=null?d("WebBloksUtils").cast(f(a.paramsExpression)):{},n=a.cacheTTLExpression!=null?d("WebBloksUtils").cast(f(a.cacheTTLExpression)):null;if(n==null)return"continue";g=c.$2.getCachedComponentsOrSubscribeToQuery(g,h,n,function(d,e){c.$6(a,e,b)});g.value==null||e.push([a,g.value])};_loop:for(var i=a,j=Array.isArray(i),k=0,i=j?i:i[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var l;a=h();switch(a){case"break":break _loop;case"continue":continue}}for(a=0;a<e.length;a++){h=e[a];var m=h[0];h=h[1];m=this.$7(m,h,b,"resolved_sync");for(var h=m,m=Array.isArray(h),n=0,h=m?h:h[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var o;if(m){if(n>=h.length)break;o=h[n++]}else{n=h.next();if(n.done)break;o=n.value}o=o;g.push(o)}}return g};b.$6=function(a,b,c){var d=this;a=this.$7(a,b,c,"resolved_async");a.forEach(function(a){d.$1.enqueueTreeUpdateOperation(a)})};b.$7=function(a,b,c,d){d=b.success?d:"failed";var e=!1;for(var f=(f=a.dependencies)!=null?f:new Set(),g=Array.isArray(f),h=0,f=g?f:f[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var f,i;if(g){if(h>=f.length)break;i=f[h++]}else{h=f.next();if(h.done)break;i=h.value}i=i;if(!this.$4.has(i)){i=(i=this.$5.get(i))!=null?i:new Set();i.add(a.id);e=!0}if(e){this.$3.set(a.id,{queryDefinition:a,response:b});return[]}}this.$4.set(a.id,b);this.$3["delete"](a.id);i=this.$8(a,b,c,d);for(g=(h=this.$5.get(a.id))!=null?h:new Set(),f=Array.isArray(g),e=0,g=f?g:g[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){if(f){if(e>=g.length)break;b=g[e++]}else{e=g.next();if(e.done)break;b=e.value}h=b;b=this.$3.get(h);if(b==null)continue;i=i.concat(this.$7(b.queryDefinition,b.response,c,d));this.$5["delete"](a.id)}return i};b.$8=function(a,b,c,e){var f=this,g={resolution_type:e,response_summary:{}};if(!b.success)return[{treeModification:null,variableUpdate:{variableIdentifier:this.$9(a.id),value:g}}];e=this.$10((e=a.targets)!=null?e:new Map(),b.result.components);var h=a.isScoped?d("WebBloksScopedIds").extendKeyPath():null,i=[],j=function(){if(l){if(m>=k.length)return"break";b=k[m++]}else{m=k.next();if(m.done)return"break";b=m.value}var e=b,j=e[0];e=e[1];e=f.$11(e,j.serverId,h);var n=function(a){var b=c.createBloksModelScopedContext(j.keyPath);return d("WebBloksScriptExecutor").execute(b,a,[])};n=a.clientParamsExpression!=null?d("WebBloksUtils").cast(n(a.clientParamsExpression)):{};n=Object.entries(n);for(var o=0;o<n.length;o++){var p=n[o],q=p[0];p=p[1];i.push({treeModification:null,variableUpdate:{variableIdentifier:f.$12(q,h),value:p}})}i.push({treeModification:e,variableUpdate:{variableIdentifier:f.$12(f.$9(a.id),j.keyPath),value:g}})};for(var k=e.entries(),l=Array.isArray(k),m=0,k=l?k:k[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){e=j();if(e==="break")break}return i};b.$11=function(a,b,e){var f=this.$1.bloksContext.objectSet.environment.traversalKeys,g=a.unboundModel.makeDeepCopyWithNewClientIds(e,f);e=a.resources.clone();e.componentQueries=e.componentQueries.map(function(a){return d("WebBloksScopedComponentQueryDefinition").generateTreeScopedComponentQueryDefFromScopedDef(g,a,f)});a=d("WebBloksChildrenOperationsHelper").getReplaceChildUpdateOperation(this.$1,b,[g]);return{target:new(d("WebBloksMutations").ChildServerIdTarget)(b,f),updateOperation:a,parseResult:new(c("WebBloksParseResult"))(g,e)}};b.$10=function(a,b){var c=new Map();for(var a=a.entries(),d=Array.isArray(a),e=0,a=d?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var f;if(d){if(e>=a.length)break;f=a[e++]}else{e=a.next();if(e.done)break;f=e.value}f=f;var g=f[0];f=f[1];g=b.get(g);if(g==null)continue;c.set(f,g)}return c};b.$12=function(a,b){if(b==null||b.length===0)return a;b=d("WebBloksScopedIds").buildKeypathBase(b,"INTERNAL_VARIABLE");return d("WebBloksScopedIds").buildScopedVariableIdentifier(a,b)};b.$9=function(a){return""+h+a};return a}();g["default"]=a}),98);
__d("WebBloksTreeManager",["Promise","WebBloksComponentQueryManager","WebBloksDataModule","WebBloksErrors","WebBloksInterpreterEnvironment","WebBloksParseResult","WebBloksScriptExecutor","WebBloksTreeResources","WebBloksUpdateTraversal","WebBloksUtils"],(function(a,b,c,d,e,f,g){var h;a=function(){function a(a){this.id=d("WebBloksUtils").getNextGlobalBloksClientId();this.treeResourcesState=new(d("WebBloksTreeResources").WebBloksTreeResourcesState)();this.committedVariables=new Map();this.$1=0;this.updateOperationList=[];this.updateVariableOperations=new Map();this.updateResourcesOperations=[];this.$2=!1;this.$3=!1;this.$4=!1;this.onNewTreeAndVariablesListener=new(d("WebBloksUtils").EventEmitter)();if(!a.unboundModel)throw new(d("WebBloksErrors").WebBloksError)("Missing unboundModel");this.unboundModel=a.unboundModel;this.initialTreeResources=a.resources;this.loggingIDForInternalFrameworkUseOnly=a==null?void 0:a.loggingID;(a=window.WebBloksPreHydrationInteractionsRecorder)==null?void 0:a.replayIfNeeded()}var e=a.prototype;e.getBoundTree=function(){var a;return(a=this.bindResult)==null?void 0:a.boundModel};e.getExpandedVariables=function(){var a;return(a=(a=this.bindResult)==null?void 0:a.expandedVariables)!=null?a:d("WebBloksUtils").EMPTY_MAP};e.getCommittedTreeResources=function(){return this.treeResourcesState.withUpdatedEntries(null,this.committedVariables)};e.setCommittedBoundTree=function(a){this.bindResult=a,this.committedVariables=a.variables,this.$7()};e.waitForCommittedTree=function(){var a;return(a=this.$5)!=null?a:(h||(h=b("Promise"))).resolve()};e.$7=function(){this.$6==null?void 0:this.$6(),this.$5=void 0,this.$6=void 0};e.initVariablesAndObserver=function(a,b){this.treeResourcesState=this.treeResourcesState.withUpdatedParameters(b);this.bloksContext=a;this.bloksContext.loggingIDForInternalFrameworkUseOnly=this==null?void 0:this.loggingIDForInternalFrameworkUseOnly;b=this.processResources([new(c("WebBloksParseResult"))(this.unboundModel,this.initialTreeResources)]);if(b[1].length>0){for(var a=b[1],b=Array.isArray(a),d=0,a=b?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var e;if(b){if(d>=a.length)break;e=a[d++]}else{d=a.next();if(d.done)break;e=d.value}e=e;this.updateOperationList.push(e)}this.$3=!0}this.$2=!0;this.$3&&this.flushUpdates();return{unboundModel:this.unboundModel,treeResourcesState:this.treeResourcesState}};e.processAsyncComponents=function(a,b){if(a.length===0)return[];if(this.componentQueryManager==null){var d=this.bloksContext.objectSet.componentQueryStore;this.componentQueryManager=new(c("WebBloksComponentQueryManager"))(this,d)}return this.componentQueryManager.setup(a,b)};e.processResources=function(a){var b=this,e=function(a){var e,f=c("WebBloksInterpreterEnvironment");f=new f(b.bloksContext);f.expandedVariablesOverride=(e=b.bindResult)==null?void 0:e.expandedVariables;return d("WebBloksScriptExecutor").execute(f,a,[])},f=[].concat(a),g=[];a=this.treeResourcesState;var h=function(a){a=f[a];var h=a.unboundModel;a=a.resources;b.treeResourcesState=b.treeResourcesState.withPayloadUpdates(a.payloads);b.treeResourcesState=b.treeResourcesState.withFunctionTableUpdates(a.functionTable,a.ftDeclare,a.ftInclude);b.treeResourcesState=b.treeResourcesState.withTemplateUpdates(a.templates);b.treeResourcesState=b.treeResourcesState.withValueUpdates(a.values);var j=null,k=null;for(var l=a.variableDefinitions,m=Array.isArray(l),n=0,l=m?l:l[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var o,p;if(m){if(n>=l.length)break;p=l[n++]}else{n=l.next();if(n.done)break;p=n.value}p=p;var q=p.id;o=(o=k)!=null?o:b.treeResourcesState.variableDefinitions;o.has(q)||(k||(k=new Map(b.treeResourcesState.variableDefinitions)),k.set(q,p));o=(o=j)!=null?o:new Map(b.treeResourcesState.variables);if(o.has(q))continue;o=p.type;var r=d("WebBloksDataModule").getDataModuleFromContext(b.bloksContext,o);if(!r)throw new(d("WebBloksErrors").WebBloksError)("Missing variable module with type: "+o);o=babelHelpers["extends"]({},p);b.initialTreeResources.shouldCommitPublishStateUpdates()===!1&&o.data.key!=null&&o.data.mode==="p"&&(o=babelHelpers["extends"]({},o,{data:babelHelpers["extends"]({},o.data,{mode:"d"})}));p=r.setup(b.bloksContext,o,b,e);j||(j=new Map(b.treeResourcesState.variables));j.set(q,p.initialValue)}b.initialTreeResources.setShouldCommitPublishStateUpdates(!1);b.treeResourcesState=b.treeResourcesState.withUpdatedEntries(k,j);((r=j)==null?void 0:r.size)&&(b.committedVariables.forEach(function(a,b){var c;(c=j)==null?void 0:c.set(b,a)}),b.committedVariables=j);o=new(c("WebBloksInterpreterEnvironment"))(b.bloksContext);o.expandedVariablesOverride=(q=b.bindResult)==null?void 0:q.expandedVariables;o.scope=(p=h.keyPath)!=null?p:d("WebBloksUtils").EMPTY_KEY_PATH;o.resources=b.treeResourcesState;n=b.processAsyncComponents(a.componentQueries,o);for(m=0;m<n.length;m++){l=n[m];k=l.treeModification;r=l.variableUpdate;k!=null&&(k.parseResult!=null&&f.push(k.parseResult),g.push([k.target,k.updateOperation]));if(r!=null){q=new Map();q.set(r.variableIdentifier,r.value);b.treeResourcesState=b.treeResourcesState.withVariableUpdates(q)}}};for(var i=0;i<f.length;i++)h(i);return[!this.treeResourcesState.equalsTo(a),g]};e.synchronouslyAddTreeResources=function(a,b){if(this.$4)return;this.initialTreeResources.setShouldCommitPublishStateUpdates(!0);a=this.processResources([a]);for(var a=a[1],c=Array.isArray(a),d=0,a=c?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var e;if(c){if(d>=a.length)break;e=a[d++]}else{d=a.next();if(d.done)break;e=d.value}e=e;this.updateOperationList.push(e)}b!=null&&(this.treeResourcesState=this.treeResourcesState.withVariableUpdates(b))};e.enqueueVariableUpdateOperation=function(a,b){if(this.$4)return;this.updateVariableOperations.set(a,b);if(!this.$2){this.$3=!0;return}this.$1===0&&this.$8()};e.enqueueUpdateOperation=function(a,b){this.updateOperationList.push([a,b])};e.enqueueResourcesUpdateOperation=function(a){this.updateResourcesOperations.push(a),this.$1===0&&this.$8()};e.enqueueUpdateOperationWithResources=function(a){a.parseResult!=null&&this.enqueueResourcesUpdateOperation(a.parseResult),this.enqueueUpdateOperation(a.target,a.updateOperation)};e.enqueueTreeUpdateOperation=function(a){a.treeModification!=null&&this.enqueueUpdateOperationWithResources(a.treeModification),a.variableUpdate!=null&&this.enqueueVariableUpdateOperation(a.variableUpdate.variableIdentifier,a.variableUpdate.value)};e.beginUpdates=function(){var a=this;this.$1++;this.$5||(this.$5=new(h||(h=b("Promise")))(function(b){a.$6=b}))};e.endUpdates=function(){this.$1===1&&this.flushUpdates(),this.$1--};e.flushUpdates=function(){if(this.$4)return;var a=!1;if(this.updateResourcesOperations.length){var b=this.processResources(this.updateResourcesOperations);a=a||b[0];for(var b=b[1],c=Array.isArray(b),d=0,b=c?b:b[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var e;if(c){if(d>=b.length)break;e=b[d++]}else{d=b.next();if(d.done)break;e=d.value}e=e;this.updateOperationList.push(e)}this.updateResourcesOperations=[]}e=this.snapshotPendingComponent();a=a||this.unboundModel!==e;this.unboundModel=e;this.updateOperationList=[];this.pendingUnboundTree=null;this.updateVariableOperations.size&&(this.treeResourcesState=this.treeResourcesState.withVariableUpdates(this.updateVariableOperations),a=!0,this.updateVariableOperations=new Map());a?(this.$4&&this.bloksContext.objectSet.environment.logger.warn("Received model updates for a TreeManager that was already destroyed"),this.onNewTreeAndVariablesListener.emit({unboundModel:this.unboundModel,treeResourcesState:this.treeResourcesState})):this.$7()};e.$8=function(){var a=this;this.beginUpdates();(h||(h=b("Promise"))).resolve().then(function(){a.endUpdates()})["catch"](function(b){a.bloksContext.objectSet.environment.logger.mustfix("Unexpected error when flushing updates",b)})};e.snapshotPendingComponent=function(){var a;a=(a=this.pendingUnboundTree)!=null?a:this.unboundModel;var b=new Set(this.updateOperationList.splice(0));return b.size===0?a:d("WebBloksUpdateTraversal").runUpdateTraversal(a,{apply:function(a){var c=a,d;for(var e=b,f=Array.isArray(e),g=0,e=f?e:e[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var h;if(f){if(g>=e.length)break;h=e[g++]}else{g=e.next();if(g.done)break;h=g.value}h=h;var i=h[0],j=h[1],k=j.update;j=j.shouldUpdate;i.targets(c)&&(!d?d=[h]:d.push(h),(!j||j(c))&&(c===a&&(c=a.makeCopy()),k(c)))}(i=d)==null?void 0:i.forEach(function(a){b["delete"](a)});return c},onUpdatesApplied:function(){}},this.bloksContext.objectSet.environment.traversalKeys)};e.destroy=function(){this.$4=!0,this.onNewTreeAndVariablesListener.clear()};return a}();g["default"]=a}),98);
__d("WebBloksScreen",["WebBloksComponentContext","WebBloksConstants","WebBloksContainerConfig","WebBloksContext","WebBloksErrors","WebBloksInterpreterEnvironment","WebBloksParseResult","WebBloksPayloadParser","WebBloksScriptDebuggingUtils","WebBloksTreeManager","WebBloksURLUtils","WebBloksUtils","react","webBloksPerformanceUtils"],(function(a,b,c,d,e,f,g){"use strict";var h;h||d("react");var i=0,j={isModal:!1,addToBackStack:!0,isEmbedded:!1},k="[wbloks] Missing AppLoader",l="WEBBLOKS_INFRA_SCREEN_";a=function(){function a(a,b,c,e,f){c===void 0&&(c=d("WebBloksUtils").EMPTY_OBJECT),this.value={state:"loading"},this.stateChangeListener=new(d("WebBloksUtils").EventEmitter)(),this.dismissed=!1,this.objectSet=a,this.options=b,this.params=c,e!=null&&(this.uri=d("WebBloksURLUtils").removeQueryParams(e,["_rdr","wtsid"])),this.appId=f,b.screenId!=null?this.screenId=b.screenId:this.screenId=l+(++i).toString(),this.container=b.initialContainer}var b=a.prototype;b.getTreeManager=function(){return d("WebBloksUtils").nullthrows(this.treeManager)};b.getIsOverlay=function(){var a;return(a=this.container)==null?void 0:(a=a.config)==null?void 0:a.getIsOverlay()};b.setState=function(a){this.value=a;if(a.state==="ready"){var b=this.treeManager=new(c("WebBloksTreeManager"))(a.parseResult),e=new(d("WebBloksContext").WebBloksContext)(b,this.objectSet);b.initVariablesAndObserver(e,this.params);if(a.parseResult.unboundModel.styleId===d("WebBloksConstants").BK_INTERNAL_ACTION){b=a.parseResult.unboundModel.get("handler");e=new(d("WebBloksComponentContext").WebBloksComponentContext)(e);e.executeCatch(a.parseResult.unboundModel,b,[])}}this.options.isEmbedded!==!0&&this.objectSet.navigationManager.notifyChanged();this.stateChangeListener.emit(a)};b.setContainerConfigModel=function(a,b){a=d("WebBloksContainerConfig").getContainerConfig(a,b);this.container==null?this.container={model:b,config:a}:(this.container.model=b,this.container.config=this.container.config.mergeWith(a));this.onContainerUpdate==null?void 0:this.onContainerUpdate((b=this.container)==null?void 0:b.model,(a=this.container)==null?void 0:a.config)};b.setOnContainerUpdate=function(a){this.onContainerUpdate=a};b.setDismissCallback=function(a){this.$1=a};b.dismiss=function(){var a=this;if(this.dismissed)return;this.dismissed=!0;var b=this.$1;if(b!=null){var c=d("WebBloksUtils").nullthrows(this.options.ownerContext);c.treeManager.waitForCommittedTree().then(function(){c.execute(b.getValue(),[c])})["catch"](function(c){d("WebBloksScriptDebuggingUtils").logScriptError(a.objectSet,c,b.getValue())})}};b.setOnExitCallback=function(a){this.$2=a};b.onExit=function(a){d("webBloksPerformanceUtils").addWebBloksPerformanceMark("--web-bloks-ttrc-end");var b=this.$2;if(b!=null){var e=this.getTreeManager().bloksContext,f=new(c("WebBloksInterpreterEnvironment"))(e);f.executeOnNextTick(b,[e,a])}};b.destroy=function(){var a;(a=this.treeManager)==null?void 0:a.destroy();this.setState({state:"destroyed"})};a.fromBloksAppResponse=function(b,c,e,f,g){e===void 0&&(e=j);c=d("WebBloksPayloadParser").parseTree(c,b.environment.traversalKeys);return a.fromBloksParseResult(b,c,e,f,g)};a.fromBloksParseResult=function(b,c,d,e,f){d===void 0&&(d=j);b=new a(b,d,e,f);b.setState({state:"ready",parseResult:c});return b};a.fromBloksModel=function(b,e,f,g,h){g===void 0&&(g=j);b=new a(b,babelHelpers["extends"]({initialTreeResources:f},g),h);b.setState({state:"ready",parseResult:new(c("WebBloksParseResult"))(e,d("WebBloksUtils").nullthrows(f))});return b};a.fromURI=function(b,c,e,f,g){g===void 0&&(g=j);g=new a(b,g,f,c,e);if(e!=null){(f=b.environment.navigationTrackingUtils)==null?void 0:f.startNavigationCallback(e)}m(b,g,d("WebBloksUtils").nullthrows(b.environment.appLoader,k).fetchAppByUrl(c));return g};a.fromAppId=function(b,c,e,f,g){f===void 0&&(f=j);g===void 0&&(g=null);f=new a(b,f,e,g,c);if(c!=null){(g=b.environment.navigationTrackingUtils)==null?void 0:g.startNavigationCallback(c)}m(b,f,d("WebBloksUtils").nullthrows(b.environment.appLoader,k).fetchApp(c,e));return f};a.getExternalVariablesFromBloksScript=function(a,b){if(b==null)return null;a=a.executeCatch(b,[]);return new Map(Object.entries(d("WebBloksUtils").cast(a)))};return a}();function m(a,b,c){c.then(function(c){if(b.value.state==="destroyed")return;c=babelHelpers["extends"]({},c);if(c.action!=null){var e;c.tree=(e={},e[d("WebBloksConstants").BK_INTERNAL_ACTION]={handler:c.action},e)}e=c.serverData;e!=null&&(e.url_relative_path!=null&&a.navigationManager.replaceState(e.url_relative_path),e.page_title!=null&&a.navigationManager.replacePageTitle(e.page_title));e=d("WebBloksPayloadParser").parseTree({layout:{bloks_payload:c}},a.environment.traversalKeys);b.setState({state:"ready",parseResult:e})})["catch"](function(c){if(c instanceof d("WebBloksErrors").WebBloksNetworkError){var e;a.environment.logger.warn("Network error: "+String((e=b.uri)!=null?e:b.appId)+": ",c)}else{a.environment.logger.mustfix("Failed to fetch app "+String((e=b.uri)!=null?e:b.appId)+": ",c)}b.setState({state:"error",error:c})})}g.WebBloksScreen=a}),98);
__d("WebBloksNormaliseYogaDimension",["WebBloksCollectionHelpers","WebBloksConstants","WebBloksModel"],(function(a,b,c,d,e,f,g){"use strict";var h=!0,i=new Set([(a=d("WebBloksConstants")).BK_FLEXBOX,a.BK_IMAGE,a.BK_COLLECTION,a.BK_SLIDER]),j="$GROW_WIDTH",k="$GROW_HEIGHT";function l(a,b){if(!h||!i.has(a.styleId))return;var c=a.getSubNode("_style"),e=c==null?void 0:c.get("width"),f=c==null?void 0:c.get("height"),g=b[b.length-2];e===void 0&&v(a)&&!a.get("use_correct_measure")?(g!=null&&r(g,"width")?u(a,"grow",1):u(a,"width","100%"),o(b,b.length-1,"width","100%")):a.styleId===d("WebBloksConstants").BK_SLIDER?o(b,b.length-1,"width","100%"):typeof e==="string"&&e.endsWith("%")&&o(b,b.length-1,"width",e);if(!(e!=null&&(c==null?void 0:c.get("aspect_ratio"))))if(f===void 0&&a.styleId===d("WebBloksConstants").BK_COLLECTION&&!a.get("use_correct_measure"))g!=null&&r(g,"height")?u(a,"grow",1):u(a,"height","100%"),o(b,b.length-1,"height","100%");else if(typeof f==="string"&&f.endsWith("%"))if(t(g,"height")==null){e=m(b,"height");e?u(g,"height","100%"):o(b,b.length-1,"height",f)}else o(b,b.length-1,"height",f);a.set(j,void 0);a.set(k,void 0)}function m(a,b){for(var c=a.length-2;c>=0;c--){var d=a[c];if(!s(a[c+1],d))return null;if(!n(d))return null;if(t(d,b)!=null)return d}}function n(a){return a!=null&&((a=a.get("children"))==null?void 0:a.length)===1}function o(a,b,c,e){var f=a[b],g=a[b-1];if(g&&g.styleId==="bk.components.screen.ScreenWrapper")return o(a,b-1,c,e);if(g&&g.styleId==="bk.components.Collection"&&d("WebBloksCollectionHelpers").shouldUseWebBloksCollectionV2(g)){var h=g.getValues().direction;return h==="row"&&c==="height"||h==="column"&&c==="width"?!1:!0}if(!g||g.styleId!==d("WebBloksConstants").BK_FLEXBOX||t(g,c)!=null||t(g,"grow")===0){u(f,c,e);return!0}h=((h=g.get("children"))==null?void 0:h.length)===1;var i=r(g,c);if(h){h=o(a,b-1,c,e);h?(t(f,c)!=null&&u(f,c,void 0),i&&t(f,"grow")==null&&u(f,"grow",1)):u(f,c,e);return!0}if(i){u(f,c,e);p(a,b-1,c);return!0}else if(s(f,g)){p(a,b-1,c);return!1}else{u(f,c,e);p(a,b-1,c);return!0}}function p(a,b,c){for(b=b;b>=0;b--){var e=a[b];if(e.styleId!==d("WebBloksConstants").BK_FLEXBOX||t(e,c)!==null||t(e,"grow")===0||e.get(c==="width"?j:k))break;e.set(c==="width"?j:k,!0);var f=a[b-1];if(f)if(r(f,c)){t(e,"grow")==null&&(u(e,"grow",1),u(e,"justifyContent","inherit"));continue}else if(s(e,f))continue;u(e,c,"100%")}}function q(a){return a.styleId!==d("WebBloksConstants").BK_FLEXBOX?!1:a.get("flex_direction")==="column"||a.get("flex_direction")==="column_reverse"}function r(a,b){a=q(a);return a&&b==="height"||!a&&b==="width"}function s(a,b){return!b||b.styleId!==d("WebBloksConstants").BK_FLEXBOX?!1:((a=(a=(a=a.getStyle("flex"))==null?void 0:a.get("align_self"))!=null?a:b.get("align_items"))!=null?a:"stretch")==="stretch"}function t(a,b){return(a=a==null?void 0:(a=a.getSubNode(d("WebBloksConstants").BK_STYLE_ATTR))==null?void 0:a.get(b))!=null?a:null}function u(a,b,c){var e=a.get(d("WebBloksConstants").BK_STYLE_ATTR);if(e){var f=e.getValues()[b];if(f!==c){f=e.makeCopy();f.getValues()[b]=c;a.set(d("WebBloksConstants").BK_STYLE_ATTR,f)}}else{f=(e={},e[b]=c,e);a.getValues()[d("WebBloksConstants").BK_STYLE_ATTR]=new(d("WebBloksModel").WebBloksModel)(d("WebBloksConstants").BK_FLEX,f)}}function v(a){return a.styleId===d("WebBloksConstants").BK_COLLECTION}function w(a,b,c){c===void 0&&(c=[]);c.push(a);var e=a.styleId;e=b[e];if(e!=null){var f=e.subnodes;e=e.plural_subnodes;if(f)for(var f=f,g=Array.isArray(f),h=0,f=g?f:f[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var i;if(g){if(h>=f.length)break;i=f[h++]}else{h=f.next();if(h.done)break;i=h.value}i=i;var j=a.getSubNode(i);if(j!=null){j=w(j,b,c);a.set(i,j)}}if(e)for(i=e,j=Array.isArray(i),h=0,i=j?i:i[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){if(j){if(h>=i.length)break;g=i[h++]}else{h=i.next();if(h.done)break;g=h.value}f=g;if(f===d("WebBloksConstants").CHILD_TEMPLATES)continue;e=a.getSubNodes(f);e!=null&&a.set(f,e.map(function(a){return w(a,b,c)}))}}l(a,c);c.pop();return a}g.normaliseYogaDimensions=l;g.normaliseBoundModel=w}),98);
__d("WebBloksBind",["WebBloksConstants","WebBloksErrors","WebBloksInterpreterEnvironment","WebBloksModel","WebBloksNormaliseYogaDimension","WebBloksScopedIds","WebBloksScriptExecutor","WebBloksUpdateTraversal","WebBloksUtils"],(function(a,b,c,d,e,f,g){"use strict";var h="$DESCENDANT_BIND_VARIABLE_DEPENDENCIES",i="$DESCENDANT_EXPANDED_VARIABLES",j=function(){function a(a,b,c,e){this.previousVariableDependencies=d("WebBloksUtils").EMPTY_MAP;this.expandedVariables=new Map();this.bloksContext=a;this.resources=b;this.clientIdToScopedIdMapper=c;if(e){this.nextCache=new k(e.bindCache);this.cache=e.bindCache;this.previousExpandedVariables=e.expandedVariables;this.variablesChanged=new Set();if(e.dependencies){this.previousVariableDependencies=e.dependencies;for(a=e.dependencies,c=Array.isArray(a),e=0,a=c?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var f;if(c){if(e>=a.length)break;f=a[e++]}else{e=a.next();if(e.done)break;f=e.value}f=f;var g=f[0];f=f[1];f!==b.variables.get(g)&&this.variablesChanged.add(g)}}else this.previousVariableDependencies=d("WebBloksUtils").EMPTY_MAP}else this.nextCache=new k(null),this.cache=new k(null),this.previousExpandedVariables=d("WebBloksUtils").EMPTY_MAP,this.previousVariableDependencies=d("WebBloksUtils").EMPTY_MAP,this.variablesChanged=void 0}var b=a.prototype;b.apply=function(b,e,f,g,h){var i;b=b;var j=b.getExpression(d("WebBloksConstants").ON_BIND);if(j==null)return b;var k=new(c("WebBloksInterpreterEnvironment"))(this.bloksContext,j.getSourceMapNode(),"BIND");k.expandedVariablesOverride=this.expandedVariables;k.scope=(i=b.keyPath)!=null?i:d("WebBloksUtils").EMPTY_KEY_PATH;k.variableAccessLog=g;k.resources=this.resources;i=d("WebBloksScriptExecutor").execute(k,j.getValue(),d("WebBloksUtils").EMPTY_ARRAY);g=null;k=b.getId();j=(j=b.keyPath)!=null?j:[];var l=this.bloksContext.objectSet.environment.traversalKeys,m=i.length>0&&!Array.isArray(i[0]);for(var n=0;n<i.length;n++){var o=null,p=void 0,u=void 0;if(m)u=i[n],p=i[++n];else{var v=i[n];o=v[0]==null?null:""+v[0];u=""+v[1];p=v[2]}v=void 0;if(q(u,b.styleId,l)){var w=s(this,b,f,j,h,p,l);for(var x=0;x<w.length;x++){var y=w[x];g=this.addToTemplateCache(g,y)}v=w}else if(r(u,b.styleId,l)){y=t(this,b,f,j,h,p,l);v=y;y!=null&&(g=this.addToTemplateCache(g,y))}else v=p;if(m||o===k)b=a.applyOperation(b,e,u,v);else throw new(d("WebBloksErrors").WebBloksError)('Encountered binding targeted for a descendant from bind script "'+u+'"')}this.nextCache.cacheUnboundChildTemplates(b,g);return b};b.addToTemplateCache=function(a,b){a=(a=a)!=null?a:new Map();a.set(b.clientId,b);return a};b.addExpandedVariable=function(a,b){this.expandedVariables.set(a,b);if(this.variablesChanged){var c=this.previousExpandedVariables.get(a);if(c!==b){(c=this.variablesChanged)==null?void 0:c.add(a)}}};a.applyOperation=function(b,c,d,e){return a.applyAttribute(b,c,d,e)};a.applyAttribute=function(b,c,d,e){if(b!==c||c.get(d)!==e){c=a.ensureUnique(b,c);c.set(d,e);return c}return b};a.ensureUnique=function(a,b){return a===b?b.makeBoundCopy():a};return a}(),k=function(){function a(a){var b;this.expandedVariables=(b=a==null?void 0:a.expandedVariables)!=null?b:new Map();this.unboundChildTemplates=(b=a==null?void 0:a.unboundChildTemplates)!=null?b:new Map();this.variableDependencies=(b=a==null?void 0:a.variableDependencies)!=null?b:new Map()}var b=a.prototype;b.transferCache=function(a,b,c){var d=this;a.traverse(function(a){d.$1(a,b);return!1},c)};b.cacheUnboundChildTemplates=function(a,b){b&&this.unboundChildTemplates.set(a.clientId,b)};b.cacheVariableDependencies=function(a,b){this.variableDependencies.set(a.clientId,b)};b.cacheExpandedVariables=function(a,b){b.size>0&&this.expandedVariables.set(a.clientId,b)};b.getVariableDependencies=function(a){return this.variableDependencies.get(a.clientId)};b.getExpandedVariables=function(a){return this.expandedVariables.get(a.clientId)};b.getUnboundChildTemplates=function(a){return a?this.unboundChildTemplates.get(a.clientId):null};b.$1=function(a,b){a=a.clientId;var c=this.expandedVariables.get(a);c&&b.expandedVariables.set(a,c);c=this.unboundChildTemplates.get(a);c&&b.unboundChildTemplates.set(a,c);c=this.variableDependencies.get(a);c&&b.variableDependencies.set(a,c)};return a}();function a(a,b,c,e,f){e=e!=null?c.withVariableUpdates(e):c;c=l(a,b,e,f);c.boundModel=d("WebBloksNormaliseYogaDimension").normaliseBoundModel(c.boundModel,a.objectSet.environment.traversalKeys);return c}function l(a,b,c,d){c=new j(a,c,a.scopedClientIdMapper,d);return m(b,d,c)}function m(a,b,c){var e=new Set(),f=new Map();b=n(a,b==null?void 0:b.boundModel,c,e,f);f=new Map();for(var e=e,g=Array.isArray(e),h=0,e=g?e:e[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var i;if(g){if(h>=e.length)break;i=e[h++]}else{h=e.next();if(h.done)break;i=h.value}i=i;f.set(i,c.resources.variables.get(i))}d("WebBloksUtils").putAll(f,c.expandedVariables);return{unboundModel:a,boundModel:b,variables:c.resources.variables,expandedVariables:c.expandedVariables,dependencies:f,bindCache:c.nextCache}}function n(a,b,c,e,f){if(a.get(d("WebBloksConstants").DESCENDANT_HAS_BIND)===!1)return a;var g=a,k=new Set(),l=new Map();g=c.apply(g,a,b,k,l);g=o(g,a,b,c,k,l);l.size>0&&(g=j.applyAttribute(g,a,i,l));g!==a&&(g=j.applyAttribute(g,a,h,k));for(b=k,c=Array.isArray(b),a=0,b=c?b:b[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){if(c){if(a>=b.length)break;k=b[a++]}else{a=b.next();if(a.done)break;k=a.value}k=k;e.add(k)}d("WebBloksUtils").putAll(f,l);return g}function o(a,b,c,e,f,g){a=a;var h=e.bloksContext.objectSet.environment.traversalKeys[a.styleId];if(h==null)return a;var i=h.subnodes;h=h.plural_subnodes;if(i)for(var i=i,k=Array.isArray(i),l=0,i=k?i:i[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var m;if(k){if(l>=i.length)break;m=i[l++]}else{l=i.next();if(l.done)break;m=l.value}m=m;var o=a.getSubNode(m);if(o instanceof d("WebBloksModel").WebBloksModel){var q=c==null?void 0:c.getSubNode(m);if(q instanceof d("WebBloksModel").WebBloksModel||q==null){o=n(o,q,e,f,g);a=j.applyAttribute(a,b,m,o)}}}if(h)for(q=h,m=Array.isArray(q),o=0,q=m?q:q[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){if(m){if(o>=q.length)break;l=q[o++]}else{o=q.next();if(o.done)break;l=o.value}k=l;if(k===d("WebBloksConstants").CHILD_TEMPLATES)continue;i=a.getChildren_DEPRECATED(k);h=i;l=c==null?void 0:c.getChildren_DEPRECATED(k);var r=0;for(var s=0;s<i.length;s++){var t=i[s];if(t){var u=p(t,l,s);u=n(t,u,e,f,g);if(u!==t){h===i&&(h=i.slice());if(u.styleId===d("WebBloksConstants").BK_INTERNAL_MERGE_WITH_BIND){var v;t=u.getChildren_DEPRECATED();(v=h).splice.apply(v,[s+r,1].concat(t));r+=t.length-1}else h[s+r]=u}}}h!==i&&(a=j.applyAttribute(a,b,k,h))}return a}function p(a,b,c){var d;if(!b)return;return((d=b[c])==null?void 0:d.clientId)===a.clientId?b[c]:b.find(function(b){return b.clientId===a.clientId})}function q(a,b,c){return!!((c=c[b])==null?void 0:(b=c.plural_subnodes)==null?void 0:b.includes(a))}function r(a,b,c){return!!((c=c[b])==null?void 0:(b=c.subnodes)==null?void 0:b.includes(a))}function s(a,b,c,d,e,f,g){return f.map(function(f){return t(a,b,c,d,e,f,g)}).filter(Boolean)}function t(a,b,c,e,f,g,h){if(g==null)return null;var i;Array.isArray(g)?i={templateId:g[0],expandedVariables:new Map(Object.entries(g[1])),scopeKey:g[2],keyPathBase:e}:i=g;if(typeof i.templateId==="number"){e=i.templateId;g=b.getChildren_DEPRECATED(d("WebBloksConstants").CHILD_TEMPLATES);if(e<0||e>=g.length)throw new(d("WebBloksErrors").WebBloksError)("Invalid child template index "+e+" for "+i.scopeKey);b=g[e]}else{g=a.resources.templates.get(i.templateId);if(g==null)throw new(d("WebBloksErrors").WebBloksError)("No such template in tree resources: "+i.templateId);b=g}e=a.clientIdToScopedIdMapper.getScopedClientId(b,i.scopeKey);var j=d("WebBloksScopedIds").extendKeyPath(i.keyPathBase,e);g=d("WebBloksScopedIds").buildKeypathBase(j,"EXPANDED_VARIABLE");i.expandedVariables.size>0&&u(a,i.expandedVariables,g,f);g=a.cache.getUnboundChildTemplates(c);if(g){f=g.get(e);if(f)return f}return d("WebBloksUpdateTraversal").runUpdateTraversal(b,{apply:function(b){return a.clientIdToScopedIdMapper.copyModelWithKeyPath(b,j,i.scopeKey)},onUpdatesApplied:function(){}},h)}function u(a,b,c,e){for(var b=b.entries(),f=Array.isArray(b),g=0,b=f?b:b[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var h;if(f){if(g>=b.length)break;h=b[g++]}else{g=b.next();if(g.done)break;h=g.value}h=h;var i=h[0];h=h[1];i=d("WebBloksScopedIds").buildScopedVariableIdentifier(i,c);a.addExpandedVariable(i,h);e.set(i,h)}}g.bind=a}),98);
__d("WebBloksScreenHost",["WebBloksBind","WebBloksComponentContext","WebBloksUtils","react"],(function(a,b,c,d,e,f,g){var h,i=h||(h=d("react"));b=h;var j=b.useEffect,k=b.useLayoutEffect,l=b.useMemo,m=b.useState;function a(a){var b=a.externalVariables,c=a.isLoadingNode,e=c===void 0?!1:c,f=a.screen;c=m(function(){return new(d("WebBloksComponentContext").WebBloksComponentContext)(f.getTreeManager().bloksContext,f.options.ownerContext,e)});a=c[0];var g=a.renderNode;c=m(function(){return p(f.getTreeManager().initialTreeResources)});var h=c[0];c=m(function(){var a=new Map();d("WebBloksUtils").putAll(a,b);d("WebBloksUtils").putAll(a,f.options.externalVariables);return n(a,h)});var q=c[0],r=c[1];c=m(function(){var a=f.getTreeManager();return d("WebBloksBind").bind(a.bloksContext,a.unboundModel,a.treeResourcesState,q)});var s=c[0],t=c[1];c=m((c=f.options.initialContainer)==null?void 0:c.model);var u=c[0],v=c[1];c=m((c=f.options.initialContainer)==null?void 0:c.config);var w=c[0],x=c[1];k(function(){f.setOnContainerUpdate(function(a,b){v(a),x(b)})},[f]);j(function(){var a=o(q,b,h),c=a.needsUpdate;a=a.updatedExternalVariables;if(c){r(a);c=f.getTreeManager();t(d("WebBloksBind").bind(c.bloksContext,c.unboundModel,c.treeResourcesState,a))}},[h,b,q,f]);j(function(){f.getTreeManager().setCommittedBoundTree(s)},[f,s]);j(function(){var a=f.getTreeManager();function b(b){t(d("WebBloksBind").bind(a.bloksContext,b.unboundModel,b.treeResourcesState,q,a.bindResult))}a.onNewTreeAndVariablesListener.on(b);return function(){return a.onNewTreeAndVariablesListener.off(b)}},[q,f]);var y=u!=null?f.objectSet.getContainerConfigModuleForName(u.styleId).ContainerComponent:null;c=l(function(){var a=g(s.boundModel);if(y!=null&&w!=null)return i.jsx(y,{containerConfig:w,children:a});else return a},[g,s.boundModel,y,w]);return i.jsx(d("WebBloksComponentContext").WebBloksComponentContextContext.Provider,{value:a,children:c})}a.displayName=a.name+" [from "+f.id+"]";function n(a,b){var c=new Map();if(!a)return c;for(var a=a.entries(),d=Array.isArray(a),e=0,a=d?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var f;if(d){if(e>=a.length)break;f=a[e++]}else{e=a.next();if(e.done)break;f=e.value}f=f;var g=f[0];f=f[1];g=b.get(g);g!=null&&c.set(g,f)}return c}function o(a,b,c){var d=!1;if(!b)return{needsUpdate:d,updatedExternalVariables:a};a=a;for(var b=b.entries(),e=Array.isArray(b),f=0,b=e?b:b[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var g;if(e){if(f>=b.length)break;g=b[f++]}else{f=b.next();if(f.done)break;g=f.value}g=g;var h=g[0];g=g[1];h=c.get(h);h!=null&&a.get(h)!==g&&(d=!0,a.set(h,g))}return{needsUpdate:d,updatedExternalVariables:a}}function p(a){a=a.dataPropsEntries;var b=new Map();for(var a=a,c=Array.isArray(a),d=0,a=c?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var e;if(c){if(d>=a.length)break;e=a[d++]}else{d=a.next();if(d.done)break;e=d.value}e=e;var f=e.id;e=e.name;b.set(e,f)}return b}g["default"]=a}),98);
__d("WebBloksNavbar",["WebBloksAbstractButton","WebBloksComponentContext","WebBloksScreen","WebBloksScreenHost","WebBloksStyle","WebBloksTheme","WebBloksUtils","react","useClickablePropsForWebBloks"],(function(a,b,c,d,e,f,g){var h,i=h||(h=d("react")),j=h.useMemo,k=d("WebBloksStyle").createStyles({root:{height:52,width:"100%",zIndex:1,backgroundColor:d("WebBloksTheme").WebBloksThemeVars["navbar-bg"],padding:8,borderBottomStyle:"solid",borderBottomColor:d("WebBloksTheme").WebBloksThemeVars.separator,borderBottomWidth:1,justifyContent:"center"},backButton:{display:"flex",alignItems:"center",flexShrink:0,flexGrow:0,flexDirection:"row",justifyContent:"center"},titleContainer:{alignItems:"center",flexGrow:1,fontWeight:600,justifyContent:"center"},titleContainerMargin:{marginRight:28},title:{flexGrow:1,alignItems:"center",justifyContent:"center",margin:"0 0px",textAlign:"center"},trailingButtons:{display:"flex",flexShrink:0,alignItems:"center",flexDirection:"row-reverse",justifyContent:"center"}});function a(a){var b=a.node;a=d("WebBloksComponentContext").useWebBloksContext();var e=a.objectSet,f=a.executeCatch,g=a.renderNode,h=a.ownerContext,n=a.isLoadingNode,o=e.navigationManager;a=b.getValues();var p=a.contribs,q=a.hide_navbar;a=a.title;var r=j(function(){var j=[],a=null;if(p==null)return{titleBloksNode:a,trailingButtons:j};for(var k=p,l=Array.isArray(k),o=0,k=l?k:k[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var q;if(l){if(o>=k.length)break;q=k[o++]}else{o=k.next();if(o.done)break;q=o.value}q=q;var r=q.getValues();q=q.getExpression("custom_title_parseresult");if(q!=null){var t=void 0;n&&h?t=h.executeCatch(q.getValue(),[]):t=f(b,q,[]);q=d("WebBloksScreen").WebBloksScreen.fromBloksParseResult(e,d("WebBloksUtils").cast(t),{isModal:!1,isEmbedded:!0});a=i.jsx(c("WebBloksScreenHost"),{screen:q})}if(r.trailing_buttons!==void 0)for(var t=r.trailing_buttons,q=Array.isArray(t),u=0,t=q?t:t[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var v;if(q){if(u>=t.length)break;v=t[u++]}else{u=t.next();if(u.done)break;v=u.value}v=v;j.push(i.jsx(m,{node:v},v.clientId))}if(r.right_buttons!==void 0)for(v=r.right_buttons,u=Array.isArray(v),q=0,v=u?v:v[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){if(u){if(q>=v.length)break;t=v[q++]}else{q=v.next();if(q.done)break;t=q.value}r=t;j.push(g(r))}}return{titleBloksNode:a,trailingButtons:j}},[p,f,n,b,e,h,g]),s=r.titleBloksNode;r=r.trailingButtons;if(q===!0)return null;q=o.getScreenCount()>1;var t=q&&r.length===0;return i.jsxs("div",{"data-bloks-name":b.styleId,className:d("WebBloksStyle").classNames(d("WebBloksStyle").WebBloksStyles.container,k.root),children:[i.jsxs("div",{className:d("WebBloksStyle").classNames(d("WebBloksStyle").WebBloksStyles.container,k.titleContainer,t?k.titleContainerMargin:null),children:[q?i.jsx(l,{onClick:function(){return o.pop()}}):null,i.jsx("div",{className:k.title,children:(t=s)!=null?t:a})]}),i.jsx("div",{className:d("WebBloksStyle").classNames(d("WebBloksStyle").WebBloksStyles.container,k.trailingButtons),children:r})]})}a.displayName=a.name+" [from "+f.id+"]";function l(a){a=a.onClick;var b=d("WebBloksTheme").useTheme().getTheme(),e=d("WebBloksComponentContext").useWebBloksContext();e=e.objectSet;b=b===d("WebBloksTheme").THEME.light?e.getAsset("chevronLeft"):e.getAsset("chevronLeftDark");return i.jsx("div",{className:k.backButton,children:i.jsx(c("WebBloksAbstractButton"),{trailing:!0,icon:b,accessibility_label:"Back",onClick:a})})}l.displayName=l.name+" [from "+f.id+"]";function m(a){a=a.node;var b=a.getExpression("on_click"),e=a.get("icon"),f=a.get("title"),g=a.get("accessibility_label"),h=a.get("badge_count"),j=d("WebBloksComponentContext").useWebBloksContext();j=j.objectSet;b=c("useClickablePropsForWebBloks")(a,b);if(b.onClick===void 0)return null;if(!e&&(f==null||f===""))return null;j=n(j,e);return i.jsx(c("WebBloksAbstractButton"),babelHelpers["extends"]({trailing:!0,"data-bloks-name":a.styleId,icon:j,title:f,accessibility_label:g,badge_count:h},b))}m.displayName=m.name+" [from "+f.id+"]";function n(a,b){if(!b)return null;switch(b){case"nav-app-messenger":return a.getAsset("appMessenger");case"nav-navicon":return a.getAsset("navIcon");case"nav-shopping-cart":return a.getAsset("navShoppingCart");case"nav-info-circle":return a.getAsset("navInfoCircle")}}g.WebBloksNavbar=a;g.NavbarBackButton=l}),98);
__d("WebBloksNavigationCloseScreen",[],(function(a,b,c,d,e,f){function a(a){a.objectSet.navigationManager.pop()}f["default"]=a}),66);
__d("WebBloksNumberAnd",[],(function(a,b,c,d,e,f){function a(a,b,c){return b&c}f["default"]=a}),66);
__d("WebBloksNumberEq",[],(function(a,b,c,d,e,f){function a(a,b,c){return b===c}f["default"]=a}),66);
__d("WebBloksNumberGt",[],(function(a,b,c,d,e,f){function a(a,b,c){return b>c}f["default"]=a}),66);
__d("WebBloksNumberLt",[],(function(a,b,c,d,e,f){function a(a,b,c){return b<c}f["default"]=a}),66);
__d("WebBloksNumberMod",[],(function(a,b,c,d,e,f){function a(a,b,c){return b%c}f["default"]=a}),66);
__d("WebBloksNumberOr",[],(function(a,b,c,d,e,f){function a(a,b,c){return b|c}f["default"]=a}),66);
__d("WebBloksNumberRand",[],(function(a,b,c,d,e,f){function a(a,b,c){return Math.floor(Math.random()*(c-b))+b}f["default"]=a}),66);
__d("WebBloksOnDataChangeExtensionHandler",["WebBloksBooleanUtils","WebBloksComponentContext","WebBloksUtils","react"],(function(a,b,c,d,e,f,g){var h,i=h||(h=d("react"));a=h;var j=a.useEffect,k=a.useRef,l=a.useState;b={onMount:function(a,b,c){var d=a.getExpression("on_cleanup");if(d!=null)return function(){c.executeCatch(a,d,[c.bloksContext])}},wrap:function(a,b){return i.jsx(m,{model:a,children:b})}};function m(a){var b=a.children,c=a.model,e=d("WebBloksComponentContext").useWebBloksContext();a=c.getValues();var f=a.data;a=a.fire_on_first_mount;var g=c.getExpression("on_change");a=l(d("WebBloksBooleanUtils").isFalse(a));var h=a[0],m=a[1],n=k(null);j(function(){h?m(!1):d("WebBloksUtils").deepEquals(n.current,f)||g!=null&&e.executeCatch(c,g,[e,n.current,f]),n.current=f},[f]);return i.jsx(i.Fragment,{children:b})}m.displayName=m.name+" [from "+f.id+"]";g.WebBloksOnDataChangeExtensionHandler=b}),98);
__d("WebBloksOnMountExtensionHandler",["WebBloksConstants"],(function(a,b,c,d,e,f,g){a={hasLayoutWrapper:function(){return!1},onMount:function(a,b,c){return h(a,b,c)}};function h(a,b,c){var e=c.bloksContext,f=c.executeOnNextTickCatch;e=e.associatedObjectForComponent(a,d("WebBloksConstants").CONTROLLER_ASSOCIATED_OBJECT,{firstMountRecorded:!1});var g=a.getExpression("on_first_mount"),h=a.getExpression("on_mount"),i=a.getExpression("on_unmount");e.firstMountRecorded!==!0&&(e.firstMountRecorded=!0,g!=null&&f(b.current,g,[b.current,c]));h!=null&&f(b.current,h,[b.current,c]);return function(){i!=null&&f(b.current,i,[b.current])}}g.WebBloksOnMountExtensionHandler=a;g.runMountEffects=h}),98);
__d("WebBloksOnMount",["WebBloksComponentContext","WebBloksOnMountExtensionHandler","react"],(function(a,b,c,d,e,f,g){var h;h||(h=d("react"));var i=h.useEffect;function a(a){var b=a.children,c=a.node,e=d("WebBloksComponentContext").useWebBloksContext();i(function(){return d("WebBloksOnMountExtensionHandler").runMountEffects(c,{current:c},e)},[]);return(a=b)!=null?a:null}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("WebBloksOneTimeBind",["WebBloksBind"],(function(a,b,c,d,e,f,g){function a(a,b){var c=a.treeManager;c=c.getCommittedTreeResources();a=d("WebBloksBind").bind(a.bloksContext,b,c);return a.boundModel}g["default"]=a}),98);
__d("WebBloksOpenBottomSheet",["WebBloksScreen"],(function(a,b,c,d,e,f,g){function a(a,b,c){a.objectSet.navigationManager.push(d("WebBloksScreen").WebBloksScreen.fromBloksModel(a.objectSet,b,a.treeManager.initialTreeResources,{isModal:!0,ownerContext:a}))}g["default"]=a}),98);
__d("WebBloksOpenBottomSheetV2",["WebBloksScreen"],(function(a,b,c,d,e,f,g){function a(a,b,c){a.objectSet.navigationManager.push(d("WebBloksScreen").WebBloksScreen.fromBloksParseResult(a.objectSet,b,{isModal:!0,ownerContext:a}))}g["default"]=a}),98);
__d("WebBloksOpenDialog",["WebBloksScreen"],(function(a,b,c,d,e,f,g){function a(a,b,c){a.objectSet.navigationManager.push(d("WebBloksScreen").WebBloksScreen.fromBloksModel(a.objectSet,b,a.treeManager.initialTreeResources,{isModal:!0,ownerContext:a}))}g["default"]=a}),98);
__d("WebBloksOpenDialogV2",["WebBloksScreen"],(function(a,b,c,d,e,f,g){function a(a,b,c,e){a.treeManager.synchronouslyAddTreeResources(b),a.objectSet.navigationManager.push(d("WebBloksScreen").WebBloksScreen.fromBloksParseResult(a.objectSet,b,{isModal:!0,ownerContext:a}))}g["default"]=a}),98);
__d("WebBloksOpenFullScreenV4",["WebBloksScreen","webBloksPerformanceUtils"],(function(a,b,c,d,e,f,g){function a(a,b,c,e,f){f=b.get("navbar_data");var g=b.get("loading_screen");e=e?e.get("presentation_mode")==="modal":!1;var h=b.get("url_relative_path"),i=b.get("ttrc_marker_id");e={isModal:e,loadingNavbar:f,loadingScreen:g,initialTreeResources:a.bloksContext.treeManager.initialTreeResources,ownerContext:a};f=b.get("app_id");d("webBloksPerformanceUtils").addWebBloksPerformanceMark("--web-bloks-ttrc-start",{detail:{appId:f,markerId:i}});a.objectSet.navigationManager.push(d("WebBloksScreen").WebBloksScreen.fromAppId(a.objectSet,f,c,e,h))}g["default"]=a}),98);
__d("WebBloksOpenScreen",["WebBloksScreen","webBloksPerformanceUtils"],(function(a,b,c,d,e,f,g){function a(a,b,c){d("webBloksPerformanceUtils").addWebBloksPerformanceMark("--web-bloks-ttrc-start",{detail:{appId:b}}),a.objectSet.navigationManager.push(d("WebBloksScreen").WebBloksScreen.fromAppId(a.objectSet,b,c))}g["default"]=a}),98);
__d("WebBloksOpenScreenByRoute",["WebBloksScreen","webBloksPerformanceUtils"],(function(a,b,c,d,e,f,g){function a(a,b,c){d("webBloksPerformanceUtils").addWebBloksPerformanceMark("--web-bloks-ttrc-start",{detail:{appId:c}}),a.objectSet.navigationManager.push(d("WebBloksScreen").WebBloksScreen.fromAppId(a.objectSet,c,void 0,{ownerContext:a},b))}g["default"]=a}),98);
__d("WebBloksOpenSendMessage",[],(function(a,b,c,d,e,f){function a(b,c,a,d){(b=b.objectSet.environment.bridgeOverrides)==null?void 0:b.onOpenSendMessage==null?void 0:b.onOpenSendMessage(c,a,d)}f["default"]=a}),66);
__d("WebBloksOpenUniversalLink",["WebBloksURLUtils"],(function(a,b,c,d,e,f,g){function a(a,b){d("WebBloksURLUtils").openURL(d("WebBloksURLUtils").qualify(b),!0)}g["default"]=a}),98);
__d("WebBloksOpenUrl",["WebBloksURLUtils"],(function(a,b,c,d,e,f,g){function a(a,b){d("WebBloksURLUtils").openURL(d("WebBloksURLUtils").qualify(b))}g["default"]=a}),98);
__d("WebBloksOpenUrlV2",["WebBloksBooleanUtils","WebBloksURLUtils"],(function(a,b,c,d,e,f,g){function a(a,b,c){a=d("WebBloksURLUtils").qualify(b);b=c==null?void 0:c.get("url_params");b!=null&&(a=d("WebBloksURLUtils").addQueryParamsToUrl(a,b));d("WebBloksURLUtils").openURL(a,d("WebBloksBooleanUtils").isTrue(c==null?void 0:c.get("open_in_new_tab")))}g["default"]=a}),98);
__d("WebBloksParseEmbeddedV2",["WebBloksInflate"],(function(a,b,c,d,e,f,g){function a(a,b){b=b.layout.bloks_payload;return d("WebBloksInflate").inflateBloksDataFromBloksPayloadToBloksParseResult(b,a,!0,!1,null)}g["default"]=a}),98);
__d("WebBloksParseEmbedded",["WebBloksParseEmbeddedV2"],(function(a,b,c,d,e,f,g){function a(a,b){b=JSON.parse(b);return c("WebBloksParseEmbeddedV2")(a,b)}g["default"]=a}),98);
__d("WebBloksParseHoistedPayload",["WebBloksErrors","WebBloksInflate"],(function(a,b,c,d,e,f,g){function a(a,b){var c;c=(c=a.getResources())==null?void 0:(c=c.payloads.get(b))==null?void 0:c.payload;if(c==null)throw new(d("WebBloksErrors").WebBloksError)("Could not find embedded payload for ID: "+b);b=c.layout.bloks_payload;return d("WebBloksInflate").inflateBloksDataFromBloksPayloadToBloksParseResult(b,a,!0,!1,null)}g["default"]=a}),98);
__d("WebBloksPopBottomSheet",[],(function(a,b,c,d,e,f){function a(a,b,c){a.objectSet.navigationManager.pop()}f["default"]=a}),66);
__d("WebBloksPrependChildren",["WebBloksChildrenOperationsHelper"],(function(a,b,c,d,e,f,g){function a(a,b,c){d("WebBloksChildrenOperationsHelper").prependChildren(a.treeManager,b.toString(),c)}g["default"]=a}),98);
__d("WebBloksPrependEmbeddedChildren",["WebBloksChildrenOperationsHelper"],(function(a,b,c,d,e,f,g){function a(a,b,c,e){d("WebBloksChildrenOperationsHelper").prependEmbeddedLayoutChildren(a.treeManager,b,c)}g["default"]=a}),98);
__d("WebBloksPullToRefreshContainer",["WebBloksComponentContext"],(function(a,b,c,d,e,f,g){function a(a){a=a.node;var b=d("WebBloksComponentContext").useWebBloksContext();b=b.renderNode;return b(a.getSubNode("child"))}g["default"]=a}),98);
__d("WebBloksPushBottomSheetV2",["WebBloksScreen"],(function(a,b,c,d,e,f,g){function a(a,b){a.objectSet.navigationManager.push(d("WebBloksScreen").WebBloksScreen.fromBloksParseResult(a.objectSet,b,{isModal:!0,ownerContext:a}))}g["default"]=a}),98);
__d("WebBloksPando",["WebBloksErrors"],(function(a,b,c,d,e,f,g){var h="__INITIAL_VALUE__";a=function(){function a(){}var b=a.prototype;b.setup=function(a,b,c,e){a=b.data;c=a.data;e=a.variables;if(c==null)throw new(d("WebBloksErrors").WebBloksError)("Data not found in pando data manifest entry");if(e==null)throw new(d("WebBloksErrors").WebBloksError)("Variables not found in pando data manifest entry");b={__type:h,data:JSON.parse(c),variables:e};return{initialValue:b}};return a}();g.INITIAL_VALUE=h;g.WebBloksPandoDataModule=a}),98);
__d("WebBloksReadPandoField",["WebBloksErrors","WebBloksPando","WebBloksUtils"],(function(a,b,c,d,e,f,g){function a(a,b,c){if(b==null)return null;if(b.__type!==d("WebBloksPando").INITIAL_VALUE){return(a=b[c])!=null?a:null}a=d("WebBloksUtils").cast(b);b=a.data;a=a.variables;var e=c,f=/\$\w+/,g=c.match(f);if(g&&a){a=a[g[0].replace("$","")];a!=null&&(e=c.replace(f,'"'+a+'"'))}return(g=b[e])!=null?g:null}g["default"]=a}),98);
__d("WebBloksReduce",["WebBloksLegacyTraverser"],(function(a,b,c,d,e,f,g){function a(a,b){d("WebBloksLegacyTraverser").reduce(a.treeManager,""+b,a.executeCatch,a.objectSet.environment.traversalKeys)}g["default"]=a}),98);
__d("WebBloksRef",[],(function(a,b,c,d,e,f){a=function(){function a(a){this.$1=a}var b=a.prototype;b.get=function(){return this.$1};b.set=function(a){this.$1=a};return a}();f["default"]=a}),66);
__d("WebBloksRefMake",["WebBloksRef"],(function(a,b,c,d,e,f,g){function a(a,b){return new(c("WebBloksRef"))(b)}g["default"]=a}),98);
__d("WebBloksRefRead",["WebBloksErrors"],(function(a,b,c,d,e,f,g){function a(a,b){if(a.getScriptMode()==="BIND")throw new(d("WebBloksErrors").WebBloksScriptError)("Cannot read ref value during bind");return b.get()}g["default"]=a}),98);
__d("WebBloksRefWrite",["WebBloksErrors"],(function(a,b,c,d,e,f,g){function a(a,b,c){if(a.getScriptMode()==="BIND")throw new(d("WebBloksErrors").WebBloksScriptError)("Cannot write to ref value during bind");b.set(c)}g["default"]=a}),98);
__d("WebBloksReflow",["WebBloksLegacyTraverser"],(function(a,b,c,d,e,f,g){function a(a,b){d("WebBloksLegacyTraverser").reflow(a.treeManager,""+b,a.executeCatch,a.objectSet.environment.traversalKeys)}g["default"]=a}),98);
__d("WebBloksRefresh",[],(function(a,b,c,d,e,f){function a(a,b){a.objectSet.navigationManager.refresh()}f["default"]=a}),66);
__d("WebBloksRemoveChild",["WebBloksChildrenOperationsHelper"],(function(a,b,c,d,e,f,g){function a(a,b,c){d("WebBloksChildrenOperationsHelper").removeModelById(a.treeManager,""+c)}g["default"]=a}),98);
__d("WebBloksRemoveChildrenBetween",["WebBloksChildrenOperationsHelper"],(function(a,b,c,d,e,f,g){function a(a,b,c,e){d("WebBloksChildrenOperationsHelper").removeChildren(a.treeManager,b,""+c,""+e)}g["default"]=a}),98);
__d("WebBloksRenderLifecycleExtension",["WebBloksComponentContext","react"],(function(a,b,c,d,e,f,g){var h;h||(h=d("react"));var i=h.useEffect;function a(a){var b=a.children,c=a.node,e=c.getExpression("on_component_rendered");a=d("WebBloksComponentContext").useWebBloksContext();var f=a.bloksContext,g=a.executeCatch;i(function(){e!=null&&g(c,e,[c,f])},[]);return b}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("WebBloksRenderLifecycleExtensionHandler",["WebBloksRenderLifecycleExtension","react"],(function(a,b,c,d,e,f,g){var h,i=h||d("react");a={hasLayoutWrapper:function(){return!1},wrap:function(a,b){return i.jsx(c("WebBloksRenderLifecycleExtension"),{node:a,children:b})}};g.WebBloksRenderLifecycleExtensionHandler=a}),98);
__d("WebBloksReplaceChild",["WebBloksChildrenOperationsHelper"],(function(a,b,c,d,e,f,g){function a(a,b,c,e){d("WebBloksChildrenOperationsHelper").replaceChild(a.treeManager,""+e,c)}g["default"]=a}),98);
__d("WebBloksReplaceChildren",["WebBloksChildrenOperationsHelper"],(function(a,b,c,d,e,f,g){function a(a,b,c){d("WebBloksChildrenOperationsHelper").replaceLayoutChildren(a.treeManager,""+b,c)}g["default"]=a}),98);
__d("WebBloksReplaceChildrenAfter",["WebBloksChildrenOperationsHelper"],(function(a,b,c,d,e,f,g){function a(a,b,c,e,f){d("WebBloksChildrenOperationsHelper").replaceChildrenAfter(a.treeManager,String(e),c)}g["default"]=a}),98);
__d("WebBloksReplaceEmbeddedChild",["WebBloksChildrenOperationsHelper"],(function(a,b,c,d,e,f,g){function a(a,b,c,e){d("WebBloksChildrenOperationsHelper").replaceEmbeddedChild(a.treeManager,""+e,c)}g["default"]=a}),98);
__d("WebBloksReplaceEmbeddedChildren",["WebBloksChildrenOperationsHelper"],(function(a,b,c,d,e,f,g){function a(a,b,c,e){d("WebBloksChildrenOperationsHelper").replaceEmbeddedLayoutChildren(a.treeManager,b,c)}g["default"]=a}),98);
__d("WebBloksReplaceEmbeddedChildrenAfter",["WebBloksChildrenOperationsHelper"],(function(a,b,c,d,e,f,g){function a(a,b,c,e,f){d("WebBloksChildrenOperationsHelper").replaceEmbeddedChildrenAfter(a.treeManager,String(e),c)}g["default"]=a}),98);
__d("WebBloksRequestFocus",[],(function(a,b,c,d,e,f){function a(a,b,c){var d=(a=b.uiMutableContainer.domNode)==null?void 0:a.current;if(d instanceof HTMLInputElement){c=[d.selectionStart,d.selectionEnd];var e=c[0],f=c[1];d.selectionStart&&d.selectionEnd&&window.requestAnimationFrame(function(){d.setSelectionRange(e,f)})}d==null?void 0:d.focus()}f["default"]=a}),66);
__d("WebBloksRichTextContext",["react"],(function(a,b,c,d,e,f,g){var h;a=h||d("react");b=a.createContext({maxNumberOfLines:1,isRootFontSizeEnabled:!1,setIsRootFontSizeEnabled:function(a){}});g["default"]=b}),98);
__d("WebBloksTextStyle",["WebBloksSSRUtils","WebBloksUtils"],(function(a,b,c,d,e,f,g){var h=d("WebBloksUtils").convertRGBArrToString(d("WebBloksUtils").convertRGBOrHexStringToArr("#0000000")),i=1.3;function a(a,b,c){if(a!=null)return{color:d("WebBloksUtils").convertRGBArrToString(d("WebBloksUtils").convertRGBOrHexStringToArr(a))};return b&&c?{color:d("WebBloksUtils").getRGBColorWithTheme(b,c)}:{color:h}}function b(a){var b,c;switch(a){case"normal":b=400;break;case"heavy":b=900;break;case"bold":b=700;break;case"italic":c="italic";break;case"bold_italic":b=700;c="italic";break;case"light":b=300;break;case"medium":b=500;break;case"semibold":b=600;break}return{fontWeight:b,fontStyle:c}}function j(a){var b="";switch(a){case"top_to_bottom":b="180deg";break;case"left_to_right":b="90deg";break;case"bottom_left_to_top_right":b="45deg";break;case"top_left_to_bottom_right":b="135deg";break}return b}function k(a,b){return a.map(function(a){return d("WebBloksUtils").getRGBColorWithTheme(a,b)}).join(", ")}function c(a,b,c){if(a==null||a.length===0||b==null)return{};b=j(b);var e=k(a,c);return{backgroundColor:d("WebBloksUtils").getRGBColorWithTheme(a[0],c),background:"linear-gradient("+b+", "+e+")",backgroundSize:"100%",textFillColor:"transparent",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent"}}function e(a,b,c){var d=0,e=0;if(c){var f;d=l(a,b,(f=c.cap_spacing)!=null?f:void 0);e=l(a,b,(f=c.baseline_spacing)!=null?f:void 0)}function g(a){if(typeof a==="string")return"translateY(calc(calc("+a+" - 1em) / 2)";if(a<=i)return void 0;a="calc(1em * "+a+")";var b="calc(1em * "+i+")";return"translateY(calc(("+a+" - "+b+")/2))"}return{paddingTop:d,paddingBottom:e,transform:g(a)}}function l(a,b,c){if(c==null)return 0;if(b!=null){var d=b*.8;b=typeof a==="string"?parseInt(a,10):b*a;a=(b-d)/2;b=c-a;if(Math.abs(b)>.3)return b}return 0}function f(a,b){b===void 0&&(b=!0);return a==null||a<1?{}:{display:b?"-webkit-inline-box":"-webkit-box",overflow:"hidden",textOverflow:"ellipsis",WebkitBoxOrient:"vertical",WebkitLineClamp:a,wordBreak:"break-word",maxHeight:"999999px"}}var m=12;function n(a){if(a==null)return 0;var b=m;for(var a=a,c=Array.isArray(a),e=0,a=c?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var f;if(c){if(e>=a.length)break;f=a[e++]}else{e=a.next();if(e.done)break;f=e.value}f=f;var g=m;switch(f.styleId){case"bk.components.TextSpan":var h=d("WebBloksUtils").toPx(f.get("text_size"));if(!d("WebBloksSSRUtils").canUseDOM)g=parseInt(h,10);else{g=parseInt((h=h)!=null?h:window.getComputedStyle(document.body).fontSize,10)}break;case"bk.data.ComposableTextSpan":case"bk.data.TextSpan":h=(h=f.get("styles"))==null?void 0:h.find(function(a){return a.styleId==="bk.style.textspan.TextStyle"});if(h==null||h.styleId!=="bk.style.textspan.TextStyle")break;h=d("WebBloksUtils").toPx(h.get("text_size"));if(!d("WebBloksSSRUtils").canUseDOM)g=parseInt(h,10);else{g=parseInt((h=h)!=null?h:window.getComputedStyle(document.body).fontSize,10)}break;case"bk.data.ImageSpan":h=f.get("image_height");g=(f=parseInt(h,10))!=null?f:m;break;default:continue}g>b&&(b=g)}return b}function o(a){a===void 0&&(a=1);return i*a}function p(a,b){if(a==="AvenyT")return"Instagram Sans Condensed";if(a!=null&&b&&b[a]){b=b[a].webFontName;return b==null?void 0:b}return a}function q(a,b){var c,e,f;c=(c=a.shadow_offset_dx)==null?void 0:c.toString();e=(e=a.shadow_offset_dy)==null?void 0:e.toString();f=(f=a.shadow_radius)==null?void 0:f.toString();a=a.shadow_color?d("WebBloksUtils").getRGBColorWithTheme(a.shadow_color,b):null;var g;c!=null&&e!=null&&(g=c+"px "+e+"px");g!=null&&(f!=null&&(g=g+" "+f+"px"),a!=null&&(g=g+" "+a));return g}g.getTextColor=a;g.getTextStyle=b;g.getGradientColors=k;g.getGradientTextStyle=c;g.getVerticalSpacingStyles=e;g.getLineClampStyle=f;g.getMaxTextSizePx=n;g.getLineHeight=o;g.getFontFamily=p;g.getTextShadow=q}),98);
__d("WebBloksRichTextTruncationCustom",["WebBloksComponentContext","WebBloksStyle","WebBloksTextStyle","react"],(function(a,b,c,d,e,f,g){var h,i=h||(h=d("react"));b=h;var j=b.useLayoutEffect,k=b.useRef,l=b.useState;function a(a){var b,c=a.children,e=a.dimensions,f=a.node;a=a.truncationSpans;var g=d("WebBloksComponentContext").useWebBloksContext();g=g.renderChildren;var h=k(null),n=l(!1),o=n[0],p=n[1];n=f.get("max_number_of_lines");f=e.lineHeight;e=e.textSizePx;var q=e*f,r=q*((b=n)!=null?b:1);j(function(){var a;p(((a=(a=h.current)==null?void 0:a.clientHeight)!=null?a:0)>r+q/2)},[r,q]);if(n==null)return null;b=h.current!=null?window.getComputedStyle(h.current).direction==="rtl":!1;var s=b?"left":"right";f=d("WebBloksTextStyle").getMaxTextSizePx(a)*f;e={fontSize:e,maxHeight:r+"px",wordBreak:n===1?"break-all":"break-word"};n=g(a);return i.jsxs("div",{style:e,className:m.container,children:[o&&i.jsxs(i.Fragment,{children:[i.jsx("div",{style:{"float":s,height:r-f+"px"}}),i.jsx("div",{dir:b?"rtl":"ltr",style:{"float":s,clear:s},children:n})]}),i.jsx("div",{className:m.content,dir:"auto",ref:h,children:c})]})}a.displayName=a.name+" [from "+f.id+"]";var m=d("WebBloksStyle").createStyles({container:{overflow:"hidden"},content:{"float":"none"}});g["default"]=a}),98);
__d("WebBloksRichTextTruncation",["WebBloksRichTextTruncationCustom","WebBloksStyle","WebBloksTextStyle","react"],(function(a,b,c,d,e,f,g){var h,i=h||d("react");function a(a){var b=a.children,d=a.dimensions;a=a.node;var e=a.get("max_number_of_lines"),f=a.getSubNodes("truncation_spans"),g=a.getSubNodes("spans_for_truncation");e=e;f=(f==null?void 0:f.length)?f:g;if(e==null||e===0)return b;return f==null||f.length<1?i.jsx(j,{children:b,node:a}):i.jsx(c("WebBloksRichTextTruncationCustom"),{dimensions:d,node:a,truncationSpans:f,children:b})}a.displayName=a.name+" [from "+f.id+"]";function j(a){var b=a.children;a=a.node;a=a.get("max_number_of_lines");a=d("WebBloksTextStyle").getLineClampStyle(a,!1);return i.jsx("div",{className:k.container,style:a,children:b})}j.displayName=j.name+" [from "+f.id+"]";var k=d("WebBloksStyle").createStyles({container:{overflow:"hidden"}});g["default"]=a}),98);
__d("WebBloksRichTextVerticalAlign",["WebBloksTextStyle","react"],(function(a,b,c,d,e,f,g){var h,i=h||(h=d("react")),j=h.useMemo;function a(a){var b=a.children,c=a.dimensions;a=a.node;var e=a.get("baseline_spacing"),f=a.get("cap_spacing");a=j(function(){return d("WebBloksTextStyle").getVerticalSpacingStyles(c.lineHeight,c.textSizePx,{baseline_spacing:e,cap_spacing:f})},[c,e,f]);return a.transform==null&&a.paddingBottom===0&&a.paddingTop===0?b:i.jsx("div",{style:babelHelpers["extends"]({fontSize:c.textSizePx},a),children:b})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("useWebBloksRichTextDimensions",["WebBloksTextStyle","react"],(function(a,b,c,d,e,f,g){var h,i=(h||d("react")).useMemo;function a(a){var b=a.get("line_height_multiplier"),c=a.get("use_composable_and_extensible_spans"),e=a.getSubNodes("spans"),f=a.getSubNodes("children"),g=a.getSubNodes("spans_for_truncation"),h=a.getSubNodes("truncation_spans");return i(function(){var a,i,j=d("WebBloksTextStyle").getLineHeight(b);a=(a=c===!0?e:f)!=null?a:[];i=(i=c===!0?g:h)!=null?i:[];i=d("WebBloksTextStyle").getMaxTextSizePx(((a=a)!=null?a:[]).concat((a=i)!=null?a:[]));return{lineHeight:j,textSizePx:i}},[f,b,e,g,h,c])}g["default"]=a}),98);
__d("WebBloksRichText",["WebBloksComponentContext","WebBloksRichTextContext","WebBloksRichTextTruncation","WebBloksRichTextVerticalAlign","WebBloksStyle","WebBloksUtils","react","useClickablePropsForWebBloks","useWebBloksRichTextDimensions"],(function(a,b,c,d,e,f,g){var h,i=h||(h=d("react"));b=h;var j=b.useMemo,k=b.useState;function a(a){var b=a.node;a=a.externalStyle;var e=b.getExpression("on_click"),f=b.getSubNodes("children"),g=b.getSubNodes("spans"),h=b.get("text_align"),l=b.get("use_composable_and_extensible_spans"),m=b.get("max_number_of_lines");a=d("WebBloksStyle").useStyle(b,a,e!=null);var n=a.style,o=a.wrapper;a=a.wrapperProps;e=c("useClickablePropsForWebBloks")(b,e);var p=d("WebBloksComponentContext").useWebBloksContext(),q=p.renderChildren;p=f.slice(-1)[0];var r=c("useWebBloksRichTextDimensions")(b),s=l===!0;l=k(!1);var t=l[0],u=l[1],v=j(function(){var a;return{maxNumberOfLines:(a=m)!=null?a:1,isRootFontSizeEnabled:t,setIsRootFontSizeEnabled:u}},[t,m]);l=j(function(){return s?i.jsx(c("WebBloksRichTextContext").Provider,{value:v,children:q(g)}):q(f)},[s,f,g,q,v]);return o(i.jsx("div",babelHelpers["extends"]({},a,{dir:"auto",className:d("WebBloksStyle").WebBloksStyles.container,style:babelHelpers["extends"]({},n,{lineHeight:r.lineHeight,display:"block",color:p==null?void 0:p.get("text_color"),textAlign:d("WebBloksUtils").toHyphen(h),overflow:"hidden"})},e,{children:i.jsx(c("WebBloksRichTextVerticalAlign"),{node:b,dimensions:r,children:i.jsx(c("WebBloksRichTextTruncation"),{node:b,dimensions:r,children:l})})})))}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("WebBloksRotate3D",[],(function(a,b,c,d,e,f){function a(a,b,c,d,e,f){b.rotate3D(c,d,e,f);return b}f["default"]=a}),66);
__d("WebBloksScale3D",[],(function(a,b,c,d,e,f){function a(a,b,c,d,e){b.scale(c,d,e);return b}f["default"]=a}),66);
__d("WebBloksScreenWrapperPrimitive",["WebBloksBooleanUtils","WebBloksComponentContext","WebBloksEnvironmentContext","WebBloksStyle","react"],(function(a,b,c,d,e,f,g){var h,i=h||d("react");function a(a){a=a.node;var b=d("WebBloksComponentContext").useWebBloksContext();b=b.renderNode;var c=d("WebBloksEnvironmentContext").useWebBloksEnvironment();c=c.embedded;var e=b(a.get("content")),f=a.get("navbar"),g=a.get("contribs"),h=null,k=!1;if(g!==void 0&&g.length>0)for(var g=g,l=Array.isArray(g),m=0,g=l?g:g[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var n;if(l){if(m>=g.length)break;n=g[m++]}else{m=g.next();if(m.done)break;n=m.value}n=n;if(d("WebBloksBooleanUtils").isFalse(n.get("should_wrap")))return e}f!==void 0&&(h=b(f),k=f.getValues().hide_navbar===!0);return i.jsxs("div",{"data-bloks-name":a.styleId,className:j.root,children:[h!=null&&!k?i.jsx("div",{className:j.header,children:h},"navbar"):null,i.jsx("div",{className:d("WebBloksStyle").classNames(j.content,c?j.contentEmbedded:j.contentFullScreen),children:e},"content")]})}a.displayName=a.name+" [from "+f.id+"]";var j=d("WebBloksStyle").createStyles({root:{height:"100%",width:"100%",display:"flex",flexDirection:"column"},header:{flex:"0 0 auto"},content:{flex:"1 1 0",width:"100%",overflow:"hidden",pointerEvents:"auto",display:"flex",flexDirection:"column"},contentEmbedded:{flexBasis:"auto"},contentFullScreen:{flexBasis:"0"}});g.WebBloksScreenWrapperPrimitive=a}),98);
__d("WebBloksSessionStoreGet",[],(function(a,b,c,d,e,f){var g=Object.create(null);function a(a){return g}f["default"]=a}),66);
__d("Transform3DForWebBloks",[],(function(a,b,c,d,e,f){a=function(){function a(a){this.matrix=[[a[0],a[1],a[2],a[3]],[a[4],a[5],a[6],a[7]],[a[8],a[9],a[10],a[11]],[a[12],a[13],a[14],a[15]]]}var b=a.prototype;b.toString=function(){return this.matrix.flat().join(",")};b.translate=function(a,b,c){a=[[1,0,0,0],[0,1,0,0],[0,0,1,0],[a,b,c,1]];this.matrix=i(a,this.matrix);return this};b.scale=function(a,b,c){a=[[a,0,0,0],[0,b,0,0],[0,0,c,0],[0,0,0,1]];this.matrix=i(a,this.matrix);return this};b.rotate3D=function(a,b,c,d){b=h(b,c,d);c=b.x_norm;d=b.y_norm;b=b.z_norm;var e=g();b=[[0,b,-d,0],[-b,0,c,0],[d,-c,0,0],[0,0,0,0]];d=b.map(function(b){return b.map(function(b){return Math.sin(a)*b})});c=i(b,b).map(function(b){return b.map(function(b){return(1-Math.cos(a))*b})});b=g();for(var f=0;f<4;f++)for(var j=0;j<4;j++)b[f][j]=e[f][j]+d[f][j]+c[f][j];this.matrix=i(b,this.matrix);return this};return a}();function g(){return[[1,0,0,0],[0,1,0,0],[0,0,1,0],[0,0,0,1]]}function h(a,b,c){var d=a*a,e=b*b,f=c*c;d=d+e+f;return{x_norm:a/d,y_norm:b/d,z_norm:c/d}}function i(a,b){var c=a.length,d=a[0].length,e=b[0].length,f=new Array(c);for(var g=0;g<c;g++){f[g]=new Array(e);for(var h=0;h<e;h++){f[g][h]=0;for(var i=0;i<d;i++)f[g][h]+=a[g][i]*b[i][h]}}return f}f["default"]=a}),66);
__d("WebBloksSetAttr",["Transform3DForWebBloks","WebBloksConstants","WebBloksModel","WebBloksMutations","WebBloksUtils"],(function(a,b,c,d,e,f,g){function a(a,b,e,f){d("WebBloksUtils").nullthrows(b,"No model passed to setAttr");var g=e,h=f;if(e==="transform3d"&&f instanceof c("Transform3DForWebBloks")){e=b.getSubNode("_style");f={transform:"matrix3d("+f.toString()+")"};e=e!=null?e.makeCopy(f):new(d("WebBloksModel").WebBloksModel)(d("WebBloksConstants").BK_FLEX,f);g="_style";h=e}d("WebBloksMutations").updateProperty(a.treeManager,b,g,h)}g["default"]=a}),98);
__d("WebBloksShowToast",[],(function(a,b,c,d,e,f){function a(a,b,c,d){a.objectSet.toastManager.enqueueBloksModelToast(a,b,c)}f["default"]=a}),66);
__d("WebBloksShowToastV2",[],(function(a,b,c,d,e,f){function a(a,b,c,d){a.objectSet.toastManager.enqueueBloksParseResultToast(a,b,c)}f["default"]=a}),66);
__d("WebBloksSlider",["WebBloksComponentContext","WebBloksConstants","WebBloksEnvironmentContext","WebBloksMutations","WebBloksStyle","WebBloksTheme","WebBloksUtils","react"],(function(a,b,c,d,e,f,g){var h,i=h||(h=d("react"));b=h;var j=b.useCallback,k=b.useEffect,l=b.useMemo,m=b.useRef,n=b.useState,o=0,p=100,q=d("WebBloksStyle").createStyles({wrapper:{touchAction:"none",pointerEvents:"all",position:"relative",cursor:"pointer",width:"100%"},rail:{borderRadius:2,width:"100%",position:"absolute",top:0,bottom:0,marginTop:"auto",marginBottom:"auto"},track:{borderRadius:2,position:"absolute",top:0,bottom:0,marginTop:"auto",marginBottom:"auto"},thumbWrapper:{position:"relative"},thumb:{borderRadius:"50%",boxShadow:"0 0 5px gainsboro",position:"absolute",cursor:"pointer",transform:"translate(-50%, 0)"}});function a(a){var b=a.node;a=a.externalStyle;var c=b.get("thumb_diameter"),e=b.get("track_height"),f=b.getSubNode("thumb_color"),g=b.getSubNode("unfilled_track_color"),h=b.getSubNode("filled_track_color"),j=b.get("initial_value"),l=b.get("progress"),m=b.getExpression("on_change"),o=b.getExpression("on_start_touch"),q=b.getExpression("on_end_touch"),s=d("WebBloksComponentContext").useWebBloksContext(),t=s.bloksContext,u=s.executeCatch;s=d("WebBloksTheme").useTheme().getTheme();a=d("WebBloksStyle").useStyle(b,a);var v=a.wrapper;a=a.wrapperProps;c=c!=null?parseFloat(c):24;e=e!=null?parseFloat(e):4;f=f!=null?d("WebBloksUtils").getRGBColorWithTheme(f,s):d("WebBloksTheme").WebBloksThemeVars["primary-bg"];g=g!=null?d("WebBloksUtils").getRGBColorWithTheme(g,s):"#DBDBDB";h=h!=null?d("WebBloksUtils").getRGBColorWithTheme(h,s):d("WebBloksTheme").WebBloksThemeVars["fds-gray-65"];s=n(((j=(s=j)!=null?s:l)!=null?j:0)*p);j=s[0];var w=s[1];s=n(!1);var x=s[0],y=s[1];k(function(){!x&&l!=null&&(w(l*p),d("WebBloksMutations").updateProperty(t.treeManager,b,"progress",null))},[t.treeManager,x,b,l,j]);s=function(a){m!=null&&u(b,m,[Number(a)/p,t]),w(Number(a))};var z=function(a){o!=null&&u(b,o,[a,t]),y(!0)},A=function(a){q!=null&&u(b,q,[a,t]),y(!1)};return v(i.jsx(r,babelHelpers["extends"]({},a,{onChange:s,onChangeStart:z,onChangeEnd:A,value:j,thumbSize:c,railColor:g,trackColor:h,trackHeight:e,thumbColor:f})))}a.displayName=a.name+" [from "+f.id+"]";function r(a){var b=a.onChange,c=a.onChangeEnd,e=a.onChangeStart,f=a.railColor,g=a.thumbColor,h=a.thumbSize,k=a.trackColor,l=a.trackHeight,m=a.value;a=babelHelpers.objectWithoutPropertiesLoose(a,["onChange","onChangeEnd","onChangeStart","railColor","thumbColor","thumbSize","trackColor","trackHeight","value"]);var r=d("WebBloksEnvironmentContext").useWebBloksEnvironment().isRtl,u=j(function(a){e==null?void 0:e(a)},[e]),v=j(function(a){b==null?void 0:b(a)},[b]),w=j(function(a){c==null?void 0:c(a)},[c]),x=r?p-m:m,y=s(x,r),z=y.trackStart;y=y.trackEnd;r=t({onChange:v,onChangeStart:u,onChangeEnd:w,min:o,max:p,isRTL:r,value:m});var A=r.onMouseDown,B=r.onPointerDown,C=r.onTouchStart,D=r.thumbRef;r=r.wrapperRef;var E=n(!1),F=E[0],G=E[1];E=j(function(a){var b=m;if(a.keyCode===d("WebBloksConstants").KEY_LEFT)b-=1;else if(a.keyCode===d("WebBloksConstants").KEY_RIGHT)b+=1;else return;F||(G(!0),u(b));v(b)},[F,v,u,m]);var H=j(function(a){if(a.keyCode!==d("WebBloksConstants").KEY_LEFT&&a.keyCode!==d("WebBloksConstants").KEY_RIGHT)return;G(!1);w(m)},[w,m]),I=a["aria-label"],J=a.disabled;a=babelHelpers.objectWithoutPropertiesLoose(a,["aria-label","disabled"]);return i.jsxs("div",babelHelpers["extends"]({},a,{ref:r,className:q.wrapper,onMouseDown:A,onPointerDown:B,onTouchStart:C,style:{height:h},children:[i.jsx("div",{className:q.rail,style:{height:l,backgroundColor:f}}),i.jsx("div",{className:q.track,style:{left:z+"%",right:y+"%",height:l,backgroundColor:k}}),i.jsx("div",{className:q.thumbWrapper,style:{marginLeft:h/2,marginRight:h/2},children:i.jsx("div",{ref:D,className:q.thumb,role:"slider","aria-label":I,"aria-valuenow":m,"aria-valuemin":o,"aria-valuemax":p,disabled:J,onKeyDown:E,onKeyUp:H,tabIndex:0,style:{left:x+"%",height:h,width:h,backgroundColor:g}})})]}))}r.displayName=r.name+" [from "+f.id+"]";function s(a,b){var c;c=o;a=p-a;if(b){b=c;c=a;a=b}return{trackStart:c,trackEnd:a}}function t(a){var b=a.max,c=a.min,d=a.onChange,e=a.onChangeEnd,f=a.onChangeStart,g=a.isRTL,h=a.value,i=m(null),k=m(null),n=m(null),o=j(function(a){var e;a=a.clientX;if(i.current==null)return;a=v(i.current,a,c,b,g);(e=k.current)==null?void 0:e.focus();f==null?void 0:f(a);d==null?void 0:d(a)},[b,c,d,f,k,i,g]),p=j(function(a){a=a.clientX;if(i.current==null)return;a=v(i.current,a,c,b,g);d==null?void 0:d(a)},[g,b,c,d,i]),q=j(function(){e==null?void 0:e(h)},[e,h]);return l(function(){if(window.PointerEvent===void 0){var a=function(a){a.button===0&&(p==null?void 0:p({clientX:a.clientX,pageX:a.pageX,pageY:a.pageY}))},b=function b(c){c.button===0&&(q==null?void 0:q(),window.removeEventListener("mousemove",a,!1),window.removeEventListener("mouseup",b,!1))},c=function(c){c.button===0&&(o==null?void 0:o({clientX:c.clientX,pageX:c.pageX,pageY:c.pageY}),c.stopPropagation(),c.preventDefault(),window.addEventListener("mousemove",a,!1),window.addEventListener("mouseup",b,!1))},d=function(a){a=u(a,n);if(a!=null){var b=a.clientX,c=a.pageX;a=a.pageY;p==null?void 0:p({clientX:b,pageX:c,pageY:a})}},e=function a(b){b=u(b,n);b!=null&&(q==null?void 0:q(),n.current=null,window.removeEventListener("touchmove",d,!1),window.removeEventListener("touchend",a,!1),window.removeEventListener("touchcancel",a,!1))},f=function(a){if(a.changedTouches.length===0||n.current!=null)return;var b=a.changedTouches[0];a.stopPropagation();a.preventDefault();n.current=b.identifier;o==null?void 0:o({clientX:b.clientX,pageX:b.pageX,pageY:b.pageY});window.addEventListener("touchmove",d,!1);window.addEventListener("touchend",e,!1);window.addEventListener("touchcancel",e,!1)};return{onMouseDown:c,onTouchStart:f,wrapperRef:i,thumbRef:k}}else{var g=function(a){a.pointerId===n.current&&(p==null?void 0:p({clientX:a.clientX,pageX:a.pageX,pageY:a.pageY}))},h=function a(b){b.pointerId===n.current&&(q==null?void 0:q(),n.current=null,window.removeEventListener("pointermove",g,!1),window.removeEventListener("pointerup",a,!1),window.removeEventListener("pointercancel",a,!1))};c=function(a){a.button===0&&n.current==null&&(o==null?void 0:o({clientX:a.clientX,pageX:a.pageX,pageY:a.pageY}),a.stopPropagation(),a.preventDefault(),n.current=a.pointerId,window.addEventListener("pointermove",g,!1),window.addEventListener("pointerup",h,!1),window.addEventListener("pointercancel",h,!1))};return{onPointerDown:c,wrapperRef:i,thumbRef:k}}},[o,p,q])}function u(a,b){var c=Array.from(a.changedTouches).findIndex(function(a){a=a.identifier;return a===b.current});return c<0?null:a.changedTouches[c]}function v(a,b,c,d,e){a=a.getBoundingClientRect();var f=a.left;a=a.width;var g=b-f;e&&(g=f+a-b);return w(g/a*(d-c)+c,c,d)}function w(a,b,c){return Math.min(Math.max(Math.round(a),b),c)}g["default"]=a}),98);
__d("WebBloksSliderSetPosition",["WebBloksMutations"],(function(a,b,c,d,e,f,g){function a(a,b,c){d("WebBloksMutations").updateProperty(a.treeManager,b,"progress",c)}g["default"]=a}),98);
__d("WebBloksStringAsInteger",[],(function(a,b,c,d,e,f){function a(a,b){a=parseInt(b,10);return Number.isNaN(a)?0:a}f["default"]=a}),66);
__d("WebBloksInt64",["WebBloksErrors"],(function(a,b,c,d,e,f,g){a=function(){function a(a,b){this.$1=a,this.$2=b}a.fromInt=function(b){if(-128<=b&&b<128){var c=a.$3[b];if(c)return c}c=new a(b|0,b<0?-1:0);-128<=b&&b<128&&(a.$3[b]=c);return c};a.fromNumber=function(b){if(Number.isNaN(b)||!Number.isFinite(b))return a.ZERO;else if(b<=-a.$4)return a.MIN_VALUE;else if(b+1>=a.$4)return a.MAX_VALUE;else if(b<0)return a.fromNumber(-b).negate();else return new a(b%a.$5|0,b/a.$5|0)};a.fromBits=function(b,c){return new a(b,c)};a.fromString=function(b,c){if(b.length==0)throw new(d("WebBloksErrors").WebBloksError)("number format error: empty string");c=c||10;if(c<2||36<c)throw new(d("WebBloksErrors").WebBloksError)("radix out of range: "+c);if(b.charAt(0)=="-")return a.fromString(b.substring(1),c).negate();else if(b.indexOf("-")>=0)throw new(d("WebBloksErrors").WebBloksError)('number format error: interior "-" character: '+b);var e=a.fromNumber(Math.pow(c,8)),f=a.ZERO;for(var g=0;g<b.length;g+=8){var h=Math.min(8,b.length-g),i=parseInt(b.substring(g,g+h),c);if(h<8){h=a.fromNumber(Math.pow(c,h));f=f.multiply(h).add(a.fromNumber(i))}else f=f.multiply(e),f=f.add(a.fromNumber(i))}return f};var b=a.prototype;b.toInt=function(){return this.$1};b.toNumber=function(){return this.$2*a.$5+this.getLowBitsUnsigned()};b.toString=function(b){b=b||10;if(b<2||36<b)throw new(d("WebBloksErrors").WebBloksError)("radix out of range: "+b);if(this.isZero())return"0";if(this.isNegative())if(this.equals(a.MIN_VALUE)){var c=a.fromNumber(b),e=this.div(c);c=e.multiply(c).subtract(this);return e.toString(b)+c.toInt().toString(b)}else return"-"+this.negate().toString(b);e=a.fromNumber(Math.pow(b,6));c=this;var f="";while(!0){var g=c.div(e),h=c.subtract(g.multiply(e)).toInt();h=h.toString(b);c=g;if(c.isZero())return h+f;else{while(h.length<6)h="0"+h;f=""+h+f}}};b.getLowBitsUnsigned=function(){return this.$1>=0?this.$1:a.$5+this.$1};b.getNumBitsAbs=function(){if(this.isNegative())if(this.equals(a.MIN_VALUE))return 64;else return this.negate().getNumBitsAbs();else{var b=this.$2!=0?this.$2:this.$1;for(var c=31;c>0;c--)if((b&1<<c)!=0)break;return this.$2!=0?c+33:c+1}};b.isZero=function(){return this.$2==0&&this.$1==0};b.isNegative=function(){return this.$2<0};b.isOdd=function(){return(this.$1&1)==1};b.equals=function(a){return this.$2==a.$2&&this.$1==a.$1};b.lessThan=function(a){return this.compare(a)<0};b.greaterThan=function(a){return this.compare(a)>0};b.greaterThanOrEqual=function(a){return this.compare(a)>=0};b.compare=function(a){if(this.equals(a))return 0;var b=this.isNegative(),c=a.isNegative();if(b&&!c)return-1;if(!b&&c)return 1;if(this.subtract(a).isNegative())return-1;else return 1};b.negate=function(){if(this.equals(a.MIN_VALUE))return a.MIN_VALUE;else return this.not().add(a.ONE)};b.add=function(b){var c=this.$2>>>16,d=this.$2&65535,e=this.$1>>>16,f=this.$1&65535,g=b.$2>>>16,h=b.$2&65535,i=b.$1>>>16;b=b.$1&65535;var j=0,k=0,l=0,m=0;m+=f+b;l+=m>>>16;m&=65535;l+=e+i;k+=l>>>16;l&=65535;k+=d+h;j+=k>>>16;k&=65535;j+=c+g;j&=65535;return a.fromBits(l<<16|m,j<<16|k)};b.subtract=function(a){return this.add(a.negate())};b.multiply=function(b){if(this.isZero())return a.ZERO;else if(b.isZero())return a.ZERO;if(this.equals(a.MIN_VALUE))return b.isOdd()?a.MIN_VALUE:a.ZERO;else if(b.equals(a.MIN_VALUE))return this.isOdd()?a.MIN_VALUE:a.ZERO;if(this.isNegative())if(b.isNegative())return this.negate().multiply(b.negate());else return this.negate().multiply(b).negate();else if(b.isNegative())return this.multiply(b.negate()).negate();if(this.lessThan(a.$8)&&b.lessThan(a.$8))return a.fromNumber(this.toNumber()*b.toNumber());var c=this.$2>>>16,d=this.$2&65535,e=this.$1>>>16,f=this.$1&65535,g=b.$2>>>16,h=b.$2&65535,i=b.$1>>>16;b=b.$1&65535;var j=0,k=0,l=0,m=0;m+=f*b;l+=m>>>16;m&=65535;l+=e*b;k+=l>>>16;l&=65535;l+=f*i;k+=l>>>16;l&=65535;k+=d*b;j+=k>>>16;k&=65535;k+=e*i;j+=k>>>16;k&=65535;k+=f*h;j+=k>>>16;k&=65535;j+=c*b+d*i+e*h+f*g;j&=65535;return a.fromBits(l<<16|m,j<<16|k)};b.div=function(b){if(b.isZero())throw new(d("WebBloksErrors").WebBloksError)("division by zero");else if(this.isZero())return a.ZERO;if(this.equals(a.MIN_VALUE))if(b.equals(a.ONE)||b.equals(a.NEG_ONE))return a.MIN_VALUE;else if(b.equals(a.MIN_VALUE))return a.ONE;else{var c=this.shiftRight(1);c=c.div(b).shiftLeft(1);if(c.equals(a.ZERO))return b.isNegative()?a.ONE:a.NEG_ONE;else{var e=this.subtract(b.multiply(c));c=c.add(e.div(b));return c}}else if(b.equals(a.MIN_VALUE))return a.ZERO;if(this.isNegative())if(b.isNegative())return this.negate().div(b.negate());else return this.negate().div(b).negate();else if(b.isNegative())return this.div(b.negate()).negate();e=a.ZERO;c=this;while(c.greaterThanOrEqual(b)){var f=Math.max(1,Math.floor(c.toNumber()/b.toNumber())),g=Math.ceil(Math.log(f)/Math.LN2);g=g<=48?1:Math.pow(2,g-48);var h=a.fromNumber(f),i=h.multiply(b);while(i.isNegative()||i.greaterThan(c))f-=g,h=a.fromNumber(f),i=h.multiply(b);h.isZero()&&(h=a.ONE);e=e.add(h);c=c.subtract(i)}return e};b.modulo=function(a){return this.subtract(this.div(a).multiply(a))};b.not=function(){return a.fromBits(~this.$1,~this.$2)};b.shiftLeft=function(b){b=b;b&=63;if(b==0)return this;else{var c=this.$1;if(b<32){var d=this.$2;return a.fromBits(c<<b,d<<b|c>>>32-b)}else return a.fromBits(0,c<<b-32)}};b.shiftRight=function(b){b=b;b&=63;if(b==0)return this;else{var c=this.$2;if(b<32){var d=this.$1;return a.fromBits(d>>>b|c<<32-b,c>>b)}else return a.fromBits(c>>b-32,c>=0?0:-1)}};return a}();a.$3={};a.$6=1<<16;a.$5=a.$6*a.$6;a.$7=a.$5*a.$5;a.$4=a.$7/2;a.ZERO=a.fromInt(0);a.ONE=a.fromInt(1);a.NEG_ONE=a.fromInt(-1);a.MAX_VALUE=a.fromBits(4294967295|0,2147483647|0);a.MIN_VALUE=a.fromBits(0,2147483648|0);a.$8=a.fromInt(1<<24);g["default"]=a}),98);
__d("WebBloksStringAsLong",["WebBloksInt64"],(function(a,b,c,d,e,f,g){function a(a,b){a=c("WebBloksInt64").fromString(String(b));return a.toString()}g["default"]=a}),98);
__d("WebBloksStringConcat",[],(function(a,b,c,d,e,f){function a(a,b,c){return b+c}f["default"]=a}),66);
__d("WebBloksStringContains",[],(function(a,b,c,d,e,f){function a(a,b,c){return b.includes(c)}f["default"]=a}),66);
__d("WebBloksStringGetURLLastPathComponent",[],(function(a,b,c,d,e,f){function a(a,b){a=b.split("/");return a[a.length-1]}f["default"]=a}),66);
__d("WebBloksStringJoin",[],(function(a,b,c,d,e,f){function a(a,b,c){return c.join(b)}f["default"]=a}),66);
__d("WebBloksStringLength",[],(function(a,b,c,d,e,f){function a(a,b){return b.length}f["default"]=a}),66);
__d("WebBloksStringReplace",[],(function(a,b,c,d,e,f){function a(a,b,c,d,e){a=new RegExp(c,e?"":"g");return b.replace(a,d)}f["default"]=a}),66);
__d("WebBloksStringSlice",["WebBloksErrors","WebBloksUtils"],(function(a,b,c,d,e,f,g){function a(a,b,c,e){d("WebBloksUtils").nullthrows(c,"Unexpected null: offset");a=c<0?c+b.length:c;if(a<0)throw new(d("WebBloksErrors").WebBloksError)("string.Slice: index start < 0");if(e==null)c=b.length;else{if(e<0)throw new(d("WebBloksErrors").WebBloksError)("string.Slice: length < 0");c=a+e}if(c>b.length)throw new(d("WebBloksErrors").WebBloksError)("string.Slice: index end > len(str)");return b.slice(a,c)}g["default"]=a}),98);
__d("WebBloksStringSplitWithString",[],(function(a,b,c,d,e,f){function a(a,b,c){return b.split(c)}f["default"]=a}),66);
__d("WebBloksStringStartsWith",[],(function(a,b,c,d,e,f){function a(a,b,c){return b.startsWith(c)}f["default"]=a}),66);
__d("WebBloksStringToLowerCase",[],(function(a,b,c,d,e,f){function a(a,b){return b.toLowerCase()}f["default"]=a}),66);
__d("WebBloksStringToUpperCase",[],(function(a,b,c,d,e,f){function a(a,b){return b.toUpperCase()}f["default"]=a}),66);
__d("WebBloksStringTrim",[],(function(a,b,c,d,e,f){function a(a,b){return b.trim()}f["default"]=a}),66);
__d("WebBloksStringValueOfNumber",[],(function(a,b,c,d,e,f){function a(a,b){return String(b)}f["default"]=a}),66);
__d("WebBloksAppAccessibilityStyles",["WebBloksStyle","WebDriverConfig"],(function(a,b,c,d,e,f,g){var h="2px solid #0064E0";a=d("WebBloksStyle").createStyles({noOutlines:function(a){var b;return b={},b[a+" *"]={outline:"none"},b}});b=d("WebBloksStyle").createStyles({outlines:function(a){var b;return b={},b[a+" *"]={outline:"none",outlineOffset:"-1px"},b[a+' *[tabindex="0"]:focus']={outline:h},b[a+" *[role=button]:focus"]={outline:h},b[a+" *[role=link]:focus"]={outline:h},b[a+" a:focus"]={outline:h},b}});e=d("WebBloksStyle").createStylesIfSupported({type:"selector",selector:":focus-visible"},{outlines:function(a){var b;return b={},b[":root "+a+" *:focus"]={outline:"none"},b[a+' *[tabindex="0"]:focus-visible']={outline:h},b[a+" *[role=button]:focus-visible"]={outline:h},b[a+" *[role=link]:focus-visible"]={outline:h},b[a+" a:focus-visible"]={outline:h},b}});f={outlines:c("WebDriverConfig").isJestE2ETestRun?a.noOutlines:d("WebBloksStyle").classNames(b.outlines,e.outlines)};g.FOCUS_OUTLINE=h;g.ACCESSIBILITY_STYLES=f}),98);
__d("WebBloksSwitch",["WebBloksAppAccessibilityStyles","WebBloksBooleanUtils","WebBloksComponentContext","WebBloksConstants","WebBloksEnvironmentContext","WebBloksStyle","WebBloksTheme","WebBloksUtils","react"],(function(a,b,c,d,e,f,g){var h,i=h||(h=d("react")),j=h.useState;function a(a){var b=a.node;a=a.externalStyle;var c=d("WebBloksTheme").useTheme().getTheme(),e=d("WebBloksEnvironmentContext").useWebBloksEnvironment().isRtl;a=d("WebBloksStyle").useStyle(b,a);var f=a.wrapper;a=a.wrapperProps;var g=d("WebBloksComponentContext").useWebBloksContext(),h=d("WebBloksBooleanUtils").isTrue(b.get("checked")),m=j(h),n=m[0],o=m[1],p=d("WebBloksBooleanUtils").isFalse(b.get("enabled"))||a.disabled===!0,q=d("WebBloksBooleanUtils").isTrue(b.get("is_controlled")),r=function(a){if(p)return;q||o(a);var c=b.getExpression("on_toggle");c!=null&&g.executeCatch(b,c,[b,a,g])},s=q?h:n;h=(m=b.get("on_color"))!=null?m:b.get(p?"track_color_disabled_on":"track_color_on");m=(n=b.get("off_color"))!=null?n:b.get(p?"track_color_disabled_off":"track_color_off");n=b.get(p?"thumb_color_disabled_on":"thumb_color_on");var t=b.get(p?"thumb_color_disabled_off":"thumb_color_off"),u=function(a){a.keyCode===d("WebBloksConstants").KEY_SPACE&&a.preventDefault()},v=function(a){if(p)return;(a.keyCode===d("WebBloksConstants").KEY_SPACE||a.keyCode===d("WebBloksConstants").KEY_RETURN)&&r(!s)};return f(i.jsxs("div",babelHelpers["extends"]({className:d("WebBloksStyle").classNames(d("WebBloksStyle").WebBloksStyles.container,k["switch"],k.innerShadow,p?k.switchDisabled:k.switchEnabled,l.outlines),style:!s&&m?{background:d("WebBloksUtils").getRGBColorWithTheme(m,c)}:null,"aria-checked":s,onKeyDown:u,onKeyUp:v,role:"switch",tabIndex:0},a,{children:[i.jsx("div",{style:s&&h?{background:d("WebBloksUtils").getRGBColorWithTheme(h,c)}:null,className:d("WebBloksStyle").classNames(k.background,s&&k.backgroundActive)}),i.jsx("div",{style:s&&n?{background:d("WebBloksUtils").getRGBColorWithTheme(n,c)}:!s&&t?{background:d("WebBloksUtils").getRGBColorWithTheme(t,c)}:null,className:d("WebBloksStyle").classNames(k.slider,e?k.sliderRight:k.sliderLeft,s&&k.sliderActive,s&&(e?k.sliderActiveLeft:k.sliderActiveRight))}),i.jsx("input",{checked:s,disabled:p,onChange:function(a){r(a.target.checked)},tabIndex:-1,type:"checkbox",className:d("WebBloksStyle").classNames(k.switchInput,p?k.switchInputDisabled:k.switchInputEnabled)})]})))}a.displayName=a.name+" [from "+f.id+"]";b=28;var k=d("WebBloksStyle").createStyles({background:{backgroundColor:d("WebBloksTheme").WebBloksThemeVars["switch-active"],borderRadius:b/2,bottom:0,boxSizing:"border-box",left:0,opacity:0,pointerEvents:"none",position:"absolute",right:0,top:0,transitionDuration:d("WebBloksTheme").WebBloksThemeVars["fds-duration-extra-short-out"],transitionProperty:"opacity",transitionTimingFunction:d("WebBloksTheme").WebBloksThemeVars["fds-animation-move-out"]},backgroundActive:{opacity:1,transitionDuration:d("WebBloksTheme").WebBloksThemeVars["fds-duration-extra-short-in"],transitionTimingFunction:d("WebBloksTheme").WebBloksThemeVars["fds-animation-move-in"]},switchDisabled:{opacity:.4,transitionDuration:d("WebBloksTheme").WebBloksThemeVars["fds-duration-extra-short-in"],transitionTimingFunction:d("WebBloksTheme").WebBloksThemeVars["fds-animation-move-in"]},switchEnabled:{opacity:1},innerShadow:{boxShadow:"inset 0 0 0 0.5px "+d("WebBloksTheme").WebBloksThemeVars["media-inner-border"]},slider:{backgroundColor:d("WebBloksTheme").WebBloksThemeVars["always-white"],borderRadius:12,boxShadow:"0 1px 2px "+d("WebBloksTheme").WebBloksThemeVars["shadow-5"],height:24,pointerEvents:"none",position:"absolute",top:2,transitionDuration:d("WebBloksTheme").WebBloksThemeVars["fds-duration-extra-short-out"],transitionProperty:"transform, background-color",transitionTimingFunction:d("WebBloksTheme").WebBloksThemeVars["fds-animation-move-out"],width:24},sliderLeft:{left:2},sliderRight:{right:2},sliderActive:{transitionDuration:d("WebBloksTheme").WebBloksThemeVars["fds-duration-extra-short-in"],transitionTimingFunction:d("WebBloksTheme").WebBloksThemeVars["fds-animation-move-in"]},sliderActiveLeft:{transform:"translateX(-24px)"},sliderActiveRight:{transform:"translateX(24px)"},"switch":{flexShrink:0,flexGrow:0,backgroundColor:d("WebBloksTheme").WebBloksThemeVars.divider,borderRadius:b/2,boxSizing:"border-box",display:"inline-block",height:b,overflow:"hidden",padding:0,position:"relative",transitionDuration:d("WebBloksTheme").WebBloksThemeVars["fds-duration-extra-short-out"],transitionProperty:"opacity",transitionTimingFunction:d("WebBloksTheme").WebBloksThemeVars["fds-animation-move-out"],width:52},switchInput:{height:"100%",margin:0,opacity:0,outline:"none",padding:0,position:"absolute",top:0,width:"100%"},switchInputDisabled:{pointerEvents:"none"},switchInputEnabled:{cursor:"pointer"}}),l=d("WebBloksStyle").createStylesIfSupported({type:"selector",selector:":focus-visible"},{outlines:function(a){var b;return b={},b[a+":focus-visible"]={outline:d("WebBloksAppAccessibilityStyles").FOCUS_OUTLINE},b}});g["default"]=a}),98);
__d("WebBloksT3DFromArray",["Transform3DForWebBloks"],(function(a,b,c,d,e,f,g){function a(a,b){return new(c("Transform3DForWebBloks"))(b.map(function(a){return parseFloat(a)}))}g["default"]=a}),98);
__d("WebBloksTakeLast",[],(function(a,b,c,d,e,f){function a(a){var b;return b=(arguments.length<=1?0:arguments.length-1)-1+1,b<1||arguments.length<=b?void 0:arguments[b]}f["default"]=a}),66);
__d("WebBloksTemplateMake",[],(function(a,b,c,d,e,f){function a(a,b,c,d){return{templateId:b,expandedVariables:new Map(Object.entries(c)),scopeKey:d,keyPathBase:a.scope}}f["default"]=a}),66);
__d("WebBloksText",["WebBloksBooleanUtils","WebBloksComponentContext","WebBloksStyle","WebBloksTextStyle","WebBloksTheme","WebBloksUtils","react","useClickablePropsForWebBloks"],(function(a,b,c,d,e,f,g){var h,i=h||(h=d("react"));b=h;var j=b.useLayoutEffect,k=b.useRef,l=1e3/60;function m(a,b,c){var e=k({innerText:""});j(function(){a.current!=null&&a.current.innerText!=null&&(e.current.innerText=a.current.innerText)},[c]);j(function(){var c=a.current;if(c==null||b==null||ResizeObserver==null)return;var f=d("WebBloksUtils").throttle(function(){c.style.whiteSpace="nowrap";c.scrollWidth<=c.clientWidth&&(c.innerText=e.current.innerText);var a=!1;while(c.scrollWidth>c.clientWidth&&c.innerText!=null)c.innerText=""+c.innerText.slice(0,-1+(a?-1*b.length:0))+b,a=!0},l);f();var g=new ResizeObserver(function(){f()});g.observe(c);return function(){g&&g.unobserve(c)}},[b,c])}function a(a){var b=a.node;a=a.externalStyle;var e=b.getExpression("on_click"),f=b.get("text"),g=b.get("text_align"),h=b.get("text_size"),j=b.get("text_style"),k=b.getSubNode("text_themed_color"),l=b.get("text_color"),n=b.get("font_family"),o=b.get("strikethrough"),p=b.getSubNode("text_provider"),q=b.get("truncation_string"),r=b.get("line_height"),s=b.get("line_height_multiplier"),t=b.get("max_number_of_lines");a=d("WebBloksStyle").useStyle(b,a,e!=null);var u=a.ref,v=a.style,w=a.wrapper;a=a.wrapperProps;var x=d("WebBloksTheme").useTheme().getTheme();l=l!=null&&d("WebBloksUtils").convertRGBArrToString(d("WebBloksUtils").convertRGBOrHexStringToArr(l))||k&&d("WebBloksUtils").getRGBColorWithTheme(k,x);k=c("useClickablePropsForWebBloks")(b,e);x=d("WebBloksComponentContext").useWebBloksContext();b=x.renderNode;e=x.bloksContext;x=e.objectSet.environment.fontFamilyMappings;e=p!=null?b(p):f==null?f:f===" "?i.jsx(i.Fragment,{children:"\xa0"}):f;m(u,q,e);b=d("WebBloksUtils").toPx(r);f=(p=b)!=null?p:d("WebBloksTextStyle").getLineHeight(s);return w(i.jsx("span",babelHelpers["extends"]({},a,{style:babelHelpers["extends"]({},v,d("WebBloksTextStyle").getLineClampStyle(t),d("WebBloksTextStyle").getTextStyle(j),d("WebBloksTextStyle").getVerticalSpacingStyles(f),{lineHeight:f,fontSize:d("WebBloksUtils").toPx(h),fontFamily:d("WebBloksTextStyle").getFontFamily(n,x),textAlign:d("WebBloksUtils").toHyphen(g),textDecoration:d("WebBloksBooleanUtils").isTrue(o)?"line-through":"",color:l,whiteSpace:"pre-wrap",overflowWrap:"break-word",padding:"unset"})},k,{children:e})))}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("WebBloksTextGetText",["WebBloksErrors","WebBloksUtils"],(function(a,b,c,d,e,f,g){function a(a,b){a=b.uiMutableContainer.domNode;d("WebBloksUtils").nullthrows(a,"Not a valid Text model, uiMutableContainer not set");b=a==null?void 0:(b=a.current)==null?void 0:b.dataset.bloksName;if(b!=="bk.components.Text")throw new(d("WebBloksErrors").WebBloksError)("Not bk.component.Text");a=a==null?void 0:(b=a.current)==null?void 0:b.innerText;return(b=a)!=null?b:""}g["default"]=a}),98);
__d("WebBloksClientPerfLogger",[],(function(a,b,c,d,e,f){"use strict";var g=!0;function h(a,b){var c=window.WebBloksClientLogger;if(!g||c==null||c.logEvent==null)return;c.logEvent(a,b)}function a(){var a;a=(a=window.WebBloksPreHydrationInteractionsRecorder)==null?void 0:a.concludeEventRecording();a&&a.clicksCount>0&&h("SSR_PRE_HYDRATION_INTERACTION_COUNT",a);g=!1}b={log:h,destroy:a};f["default"]=b}),66);
__d("WebBloksTextInputDatePickerExtensionHandler",["WebBloksComponentContext","WebBloksUtils"],(function(a,b,c,d,e,f,g){b={};function a(a){var b=a.get("extensions"),c=d("WebBloksComponentContext").useWebBloksContext(),e=c.bloksContext,f=c.executeOnNextTickCatch;c=d("WebBloksUtils").findExtension(b,"bk.components.TextInputDatePickerExtension");if(!c)return null;b=c.getValues();var g=b.initial_time_seconds,j=b.maximum_time_seconds,k=b.minimum_time_seconds;b=b.mode;var l=c.getExpression("on_date_change");return b==="time"?{typeOverride:"time",initialValue:i(g!=null?g*1e3:Date.now()),minmaxProps:null,onChange:function(b){if(!b)return;b=b.split(":").map(Number);var c=b[0];b=b[1];var d=new Date();d.setUTCHours(c,b);l!=null&&f(a,l,[parseInt(d.getTime()/1e3,10),a,e])}}:{typeOverride:"date",initialValue:h(g!=null?g*1e3:Date.now()),minmaxProps:{min:k!=null?h(k*1e3):void 0,max:j!=null?h(j*1e3):void 0},onChange:function(b){if(!b)return;b=b.split("-").map(Number);var c=b[0],d=b[1];b=b[2];var g=new Date();g.setFullYear(c);g.setMonth(d-1);g.setDate(b);l!=null&&f(a,l,[parseInt(g.getTime()/1e3,10),a,e])}}}var h=function(a){a=new Date(a);return[String(a.getFullYear()).padStart(4,"0"),a.toLocaleString("en-US",{month:"2-digit"}).padStart(2,"0"),a.toLocaleString("en-US",{day:"2-digit"}).padStart(2,"0")].join("-")},i=function(a){a=new Date(a);return[a.getUTCHours().toString().padStart(2,"0"),a.getUTCMinutes().toString().padStart(2,"0")].join(":")};g.WebBloksTextInputDatePickerExtensionHandler=b;g.useWebBloksTextInputDateProps=a}),98);
__d("WebBloksTextInputExternalChangeEvent",[],(function(a,b,c,d,e,f){var g="input_change";a=function(a){return new CustomEvent(g,{detail:{value:a}})};f.INPUT_EXTERNAL_CHANGE_EVENT_NAME=g;f.makeExternalInputChangeEvent=a}),66);
__d("WebBloksTextInputMaskExtensionHandler",["WebBloksUtils"],(function(a,b,c,d,e,f,g){b={};function h(a,b){return a.replace(/[^0-9]/g,"")}function a(a,b){b=d("WebBloksUtils").findExtension(a.extensions,"bk.components.TextInputMaskExtension");if(b==null)return void 0;var c=b.get("mask");if(c.length<=0)return void 0;a=function(a,b){var d=h(b,c);d=d.split("");var e=c.split(""),f="";while(d.length&&e.length){var g=e.shift();if(g==="#"){var i;f+=(i=d.shift())!=null?i:""}else{f+=(i=g)!=null?i:""}}if(!e.includes("#")){g=f+e.join("");return a.length===c.length&&b.length<c.length?f.slice(0,-1):g}return f};return{onBeforeChange:a,maxLength:c.length,typeOverride:"text"}}g.WebBloksTextInputMaskExtensionHandler=b;g.getTextInputMaskExtensionProps=a}),98);
__d("useQueuedBlurEventForWebBloks",["react"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");var i=b.useEffect,j=b.useRef;function a(a,b){var c=j(!1);i(function(){var a=function(){c.current=!0},b=function(){c.current=!1};window.addEventListener("mousedown",a);window.addEventListener("mouseup",b);return function(){window.removeEventListener("mousedown",a),window.removeEventListener("mouseup",b)}},[]);var d=function(){if(c.current===!1)b();else{var d=function c(){window.setTimeout(function(){a.current!==document.activeElement&&b(),window.removeEventListener("mouseup",c)},0)};window.addEventListener("mouseup",d)}};return d}g["default"]=a}),98);
__d("WebBloksTextInputHelpers",[],(function(a,b,c,d,e,f){function a(a,b){var c=new RegExp("(?:\\r\\n?|\\n)","gm"),d,e=0;for(var f=0;f<b;f++){d=c.exec(a);if(!d)return a;e=d.index}if(d==null)return a;f=a.slice(0,e+d[0].length);b=a.slice(e+d[0].length);b=b.replace(c,"");return f+b}f.removeLineBreaks=a}),66);
__d("useWebBloksTextInputFormatValue",["WebBloksTextInputHelpers","WebBloksTextInputMaskExtensionHandler"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){var c=a.get("max_number_of_lines"),e=a.get("digits_key_listener");a=d("WebBloksTextInputMaskExtensionHandler").getTextInputMaskExtensionProps(a.getValues(),b);var f=a==null?void 0:a.onBeforeChange,g=c!=null&&c>0?c:null;return function(a,b){var c=b;f&&(c=f(a,b));g!=null&&(c=d("WebBloksTextInputHelpers").removeLineBreaks(c,g-1));if(e!=null){a=new RegExp("[^"+e+"]","gmi");c=c.replace(a,"")}return c}}g["default"]=a}),98);
__d("useWebBloksTextinputUpdateSource",["react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).useRef;function a(){var a=i(null);return{markUpdateSource:function(b){a.current=b},isLastUpdateSourceFrom:function(b){return a.current===b}}}g["default"]=a}),98);
__d("WebBloksTextInput",["WebBloksBKSTextInputFormatterHandler","WebBloksBooleanUtils","WebBloksClientPerfLogger","WebBloksComponentContext","WebBloksConstants","WebBloksStyle","WebBloksTextInputDatePickerExtensionHandler","WebBloksTextInputExternalChangeEvent","WebBloksTextInputMaskExtensionHandler","WebBloksTextStyle","WebBloksTheme","WebBloksUtils","react","useQueuedBlurEventForWebBloks","useWebBloksTextInputFormatValue","useWebBloksTextinputUpdateSource"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));b=h;var j=b.useEffect,k=b.useLayoutEffect,l=b.useRef,m=b.useState;function a(a){var b,e=a.node;a=a.externalStyle;var f=e.get("single_line"),g=e.get("text"),h=e.get("text_style"),p=e.get("text_size"),q=e.get("text_align"),r=e.get("text_color"),s=e.getSubNode("text_themed_color"),t=e.get("font_family"),u=e.get("resize_height_based_on_content"),v=e.getSubNode("background_color"),w=e.get("hint"),x=e.get("html_autocapitalize"),y=e.get("html_autocomplete"),z=e.get("html_autocorrect"),A=e.get("html_name"),B=e.get("max_length"),C=e.get("type"),D=e.get("enabled"),E=e.getExpression("on_text_change"),F=e.getExpression("on_submit"),G=e.getExpression("on_gain_focus"),H=e.getExpression("on_lose_focus"),I=e.getExpression("allow_text_change_callback"),J=e.getValues(),K=d("WebBloksBooleanUtils").isTrue(u);u=d("WebBloksBooleanUtils").isFalse(f);f=d("WebBloksStyle").useStyle(e,a);var L=f.ref;a=f.style;var M=f.wrapper;f=f.wrapperProps;var N=d("WebBloksTheme").useTheme().getTheme();r=r!=null&&d("WebBloksUtils").convertRGBArrToString(d("WebBloksUtils").convertRGBOrHexStringToArr(r))||s&&d("WebBloksUtils").getRGBColorWithTheme(s,N);s=v!=null?d("WebBloksUtils").getRGBColorWithTheme(v,N):"transparent";v=d("WebBloksComponentContext").useWebBloksContext();var O=v.executeCatch,P=v.bloksContext,Q=P.associatedObjectForComponent(e,d("WebBloksConstants").TEXT_INPUT_ASSOCIATED_OBJECT,{text:null});N=d("WebBloksTextInputMaskExtensionHandler").getTextInputMaskExtensionProps(J,L);v=d("WebBloksTextInputDatePickerExtensionHandler").useWebBloksTextInputDateProps(e);var aa=P.objectSet.environment.fontFamilyMappings;b=(b=N==null?void 0:N.typeOverride)!=null?b:v==null?void 0:v.typeOverride;var ba=c("useWebBloksTextInputFormatValue")(e,L),ca=d("WebBloksBKSTextInputFormatterHandler").useBKSTextInputFormatter(J),R=v==null?void 0:v.onChange;J=d("WebBloksBooleanUtils").isFalse(D)||f.disabled===!0;N=(D=N==null?void 0:N.maxLength)!=null?D:B;B=n((D=b)!=null?D:C);var S=(v==null?void 0:v.initialValue)?v.initialValue:g,T=Q.text;C=m((D=(b=T)!=null?b:S)!=null?D:"");var U=C[0],V=C[1];g=m(S);var W=g[0],da=g[1];b=c("useWebBloksTextinputUpdateSource")();var X=b.markUpdateSource,ea=b.isLastUpdateSourceFrom;k(function(){if(S!==W){var a;X("TEXT_FROM_PROPS");V((a=S)!=null?a:"");da(S)}},[X,W,S]);var Y=l(!1);k(function(){if(!Y.current&&L.current){var a=L.current.value||"";typeof a==="string"&&a!==U&&(c("WebBloksClientPerfLogger").log("SSR_NON_EMPTY_INPUT_PRE_HYDRATION"),X("HYDRATION"),V(a),E!=null&&O(e,E,[e,P]))}Y.current=!0;if(K&&L.current!=null){L.current.style.height="0px";a=L.current.scrollHeight;L.current.style.height=a+"px"}},[P,O,X,e,E,L,K,U]);var Z=function(a){var b=!0;I!=null&&(b=d("WebBloksBooleanUtils").isTrue(d("WebBloksUtils").cast(O(e,I,[U,a.target.value]))));b&&(X("ON_CHANGE"),V(function(b){b=ba(b,a.target.value);b=ca(b);Q.text=b;return b}))},$=l(!0);k(function(){if($.current){$.current=!1;if(T==null||S===T)return}E!=null&&O(e,E,[e,P]);R!=null&&R(U)},[U]);D=function(a){a.keyCode===d("WebBloksConstants").KEY_RETURN&&(F!=null&&O(e,F,[e,P])),(a.keyCode===d("WebBloksConstants").KEY_RETURN||a.keyCode===d("WebBloksConstants").KEY_SPACE)&&a.stopPropagation()};C=function(a){a.keyCode===d("WebBloksConstants").KEY_SPACE&&a.stopPropagation()};g=G!=null?function(){O(e,G,[e,P])}:void 0;b=c("useQueuedBlurEventForWebBloks")(L,function(){H!=null&&O(e,H,[e,P])});b=H!=null?b:void 0;a=babelHelpers["extends"]({},a,d("WebBloksTextStyle").getTextStyle(h),{background:s,color:r,fontFamily:d("WebBloksTextStyle").getFontFamily(t,aa),fontSize:d("WebBloksUtils").toPx(p),lineHeight:d("WebBloksTextStyle").getLineHeight(),textAlign:d("WebBloksUtils").toHyphen(q)});s=babelHelpers["extends"]({},f,B,(h=v==null?void 0:v.minmaxProps)!=null?h:{},{autoCapitalize:x,autoComplete:y,autoCorrect:z,disabled:J,maxLength:N,name:A,onChange:Z,onKeyDown:D,onKeyUp:C,onFocus:g,onBlur:b,className:d("WebBloksStyle").classNames(d("WebBloksStyle").WebBloksStyles.container,o.base),placeholder:w,value:U,onClick:function(a){a.stopPropagation()}});j(function(){var a=L.current;if(!a)return;var b=function(a){if(ea("EXTERNAL_EVENT"))return;if(a.detail==null||a.detail.value==null)return;Z({target:{value:String(a.detail.value)}});X("EXTERNAL_EVENT");E!=null&&O(e,E,[e,P])};a.addEventListener(d("WebBloksTextInputExternalChangeEvent").INPUT_EXTERNAL_CHANGE_EVENT_NAME,b);return function(){a.removeEventListener(d("WebBloksTextInputExternalChangeEvent").INPUT_EXTERNAL_CHANGE_EVENT_NAME,b)}},[L,U]);return M(u||K?i.jsx("textarea",babelHelpers["extends"]({},s,K?{rows:1}:void 0,{style:babelHelpers["extends"]({},a,{resize:"none"})})):i.jsx("input",babelHelpers["extends"]({dir:"auto"},s,{style:a})))}a.displayName=a.name+" [from "+f.id+"]";function n(a){if(a==null)return{};switch(a){case"number":return{type:"text",inputMode:"numeric"};case"phone":return{type:"tel"};default:return{type:d("WebBloksUtils").toHyphen(a)}}}var o=d("WebBloksStyle").createStyles({base:function(a){var b;return b={},b[a]={padding:0,margin:0,border:"none",boxSizing:"border-box",outline:"none",width:"100%"},b[a+"::-webkit-date-and-time-value"]={textAlign:"inherit"},b}});g["default"]=a}),98);
__d("WebBloksDOMUtils",["WebBloksTextInputExternalChangeEvent"],(function(a,b,c,d,e,f,g){function a(a,b){(a=a.current)==null?void 0:a.dispatchEvent(d("WebBloksTextInputExternalChangeEvent").makeExternalInputChangeEvent(b))}g.updateTextInInput=a}),98);
__d("WebBloksTextInputClearText",["WebBloksDOMUtils","WebBloksUtils"],(function(a,b,c,d,e,f,g){function a(a,b,c){a=d("WebBloksUtils").nullthrows(b.uiMutableContainer.domNode,"Not a valid TextInput model, uiMutableContainer not set");d("WebBloksDOMUtils").updateTextInInput(a,"")}g["default"]=a}),98);
__d("WebBloksTextInputGetText",["WebBloksUtils"],(function(a,b,c,d,e,f,g){function a(a,b,c){a=b.uiMutableContainer.domNode;d("WebBloksUtils").nullthrows(a,"Not a valid TextInput model, uiMutableContainer not set");b=a==null?void 0:(c=a.current)==null?void 0:c.value;return typeof b==="string"?b:""}g["default"]=a}),98);
__d("WebBloksTextInputSetText",["WebBloksDOMUtils","WebBloksUtils"],(function(a,b,c,d,e,f,g){function a(a,b,c){a=d("WebBloksUtils").nullthrows(b.uiMutableContainer.domNode,"Not a valid TextInput model, uiMutableContainer not set");d("WebBloksDOMUtils").updateTextInInput(a,(b=c)!=null?b:"")}g["default"]=a}),98);
__d("WebBloksTextInputUnfocus",[],(function(a,b,c,d,e,f){function a(a,b,c){(a=b.uiMutableContainer.domNode)==null?void 0:(c=a.current)==null?void 0:c.blur()}f["default"]=a}),66);
__d("WebBloksTextIsTruncated",[],(function(a,b,c,d,e,f){"use strict";function a(a,b){b=(a=b.uiMutableContainer.domNode)==null?void 0:a.current;return b!=null&&b.scrollHeight>b.clientHeight}f["default"]=a}),66);
__d("WebBloksDataTextSpanUtils",["WebBloksComponentContext","WebBloksRichTextContext","WebBloksStyle","WebBloksTextStyle","WebBloksTheme","WebBloksUtils","react","useClickablePropsForWebBloks"],(function(a,b,c,d,e,f,g){var h;b=h||d("react");var i=b.useContext,j=b.useMemo;function a(a,b){var e=a.get("accessibility_label");b=d("WebBloksStyle").useStyle(a,b);var f=b.style;b=d("WebBloksComponentContext").useWebBloksContext();b=b.bloksContext;var g=d("WebBloksTheme").useTheme().getTheme(),h=i(c("WebBloksRichTextContext"));h=h.isRootFontSizeEnabled;b=b.objectSet.environment.fontFamilyMappings;var m=a.get("styles"),n=k(m,g,b,h),o=c("useClickablePropsForWebBloks")(a,l(m));return j(function(){return babelHelpers["extends"]({accessibilityLabel:e,style:babelHelpers["extends"]({},f,{display:"inline",whiteSpace:"pre-wrap",overflowWrap:"break-word"},n)},o)},[e,f,n,o])}function k(a,b,c,e){var f={};if(a!=null)for(var a=a,g=Array.isArray(a),h=0,a=g?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var i;if(g){if(h>=a.length)break;i=a[h++]}else{h=a.next();if(h.done)break;i=h.value}i=i;switch(i==null?void 0:i.styleId){case"bk.style.textspan.TextStyle":var j=i==null?void 0:i.get("font_family"),k=i==null?void 0:i.get("text_style"),l=i==null?void 0:i.get("text_size"),m=i==null?void 0:i.get("tracking");l!=null&&!e&&(f.fontSize=d("WebBloksUtils").toPx(l));if(k!=null){l=d("WebBloksTextStyle").getTextStyle(k);k=l.fontWeight;l=l.fontStyle;f.fontWeight=k;f.fontStyle=l}j!=null&&(f.fontFamily=d("WebBloksTextStyle").getFontFamily(j,c));m!=null&&(f.letterSpacing=m);break;case"bk.style.textspan.ColorStyle":k=i==null?void 0:i.get("text_themed_color");k!=null&&(f.color=d("WebBloksUtils").getRGBColorWithTheme(k,b));break;case"bk.style.textspan.ShadowStyle":l=i.get("shadow_radius");j=i.get("shadow_offset_dx");m=i.get("shadow_offset_dy");k=i.get("shadow_color");if(k!=null&&(l!=null||j!=null||m!=null)){l=d("WebBloksTextStyle").getTextShadow({shadow_radius:l,shadow_offset_dx:j,shadow_offset_dy:m,shadow_color:k},b);l!=null&&(f.textShadow=l)}break;case"bk.style.textspan.StrikethroughStyle":j=i.get("strikethrough");j===!0&&(f.textDecoration="line-through");break;case"bk.style.textspan.UnderlineStyle":m=i.get("underline");m===!0&&(f.textDecoration="underline");break}}return f}function l(a){var b=null;if(a!=null)for(var a=a,c=Array.isArray(a),d=0,a=c?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var e;if(c){if(d>=a.length)break;e=a[d++]}else{d=a.next();if(d.done)break;e=d.value}e=e;(e==null?void 0:e.styleId)==="bk.style.textspan.ClickableStyle"&&(b=e==null?void 0:e.getExpression("on_click"))}return b}g.useWebBloksBaseTextSpanProps=a}),98);
__d("WebBloksImageSpan",["WebBloksComponentContext","WebBloksDataTextSpanUtils","WebBloksStyle","WebBloksUtils","react"],(function(a,b,c,d,e,f,g){var h,i=h||(h=d("react")),j=h.useMemo;function a(a){var b=a.externalStyle;a=a.node;var c=a.get("image_align"),e=a.get("image_margin"),f=a.get("image_width"),g=a.get("image_height"),h=a.getSubNode("image_component"),k=d("WebBloksStyle").useStyle(a,b);k=k.wrapper;var l=d("WebBloksComponentContext").useWebBloksContext();l=l.renderNode;var m=d("WebBloksDataTextSpanUtils").useWebBloksBaseTextSpanProps(a,b),n=c;a=e;b=j(function(){return babelHelpers["extends"]({},m,{style:babelHelpers["extends"]({},m.style,{display:"inline-flex",height:"100%",alignItems:n==="bottom"?"flex-end":n})})},[n,m]);c=d("WebBloksUtils").toPx(g);e=d("WebBloksUtils").toPx(f);return c==null||c==="0px"||e==null||e==="0px"?null:k(i.jsx("span",babelHelpers["extends"]({},b,{children:l(h,{height:c,width:e,marginTop:d("WebBloksUtils").toPx(a==null?void 0:a.get("top")),marginRight:d("WebBloksUtils").toPx(a==null?void 0:a.get("end")),marginBottom:d("WebBloksUtils").toPx(a==null?void 0:a.get("bottom")),marginLeft:d("WebBloksUtils").toPx(a==null?void 0:a.get("start"))})})))}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("WebBloksTextSpanImage",["WebBloksImageSpan","react"],(function(a,b,c,d,e,f,g){var h,i=h||d("react");function a(a){var b=a.externalStyle;a=a.node;return i.jsx(c("WebBloksImageSpan"),{node:a,externalStyle:b})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("WebBloksTextSpan",["WebBloksAccessibilityUtils","WebBloksAnchorTagExtensionHandler","WebBloksBooleanUtils","WebBloksComponentContext","WebBloksStyle","WebBloksTextSpanImage","WebBloksTextStyle","WebBloksTheme","WebBloksUtils","react","useClickablePropsForWebBloks"],(function(a,b,c,d,e,f,g){var h,i=h||(h=d("react")),j=h.useMemo;function a(a){var b=a.node,e=a.externalStyle;a=b.getExpression("on_click");var f=b.get("text_color"),g=b.getSubNode("image_component"),h=b.getSubNode("text_provider"),m=b.get("shadow_color"),n=b.get("shadow_offset_dx"),o=b.get("shadow_offset_dy"),p=b.get("shadow_radius"),q=b.get("text_size"),r=b.get("text_style"),s=b.get("text_themed_color"),t=b.get("font_family"),u=b.get("accessibility_label"),v=b.get("accessibility_role"),w=b.get("strikethrough"),x=b.get("underline"),y=d("WebBloksStyle").useStyle(b,e,a!=null),z=y.style,A=y.wrapper;y=y.wrapperProps;var B=d("WebBloksAnchorTagExtensionHandler").useWebBloksAnchorTagExtensionProps(b),C=B!==null,D=C?"a":"span";C=c("useClickablePropsForWebBloks")(b,a,null,C);var E=d("WebBloksComponentContext").useWebBloksContext(),F=E.renderNode;E=E.bloksContext;var G=d("WebBloksTheme").useTheme().getTheme();E=E.objectSet.environment.fontFamilyMappings;F=h!=null?F(h):b.get("text");h=j(function(){return g!=null?i.jsx(c("WebBloksTextSpanImage"),{node:b,externalStyle:e}):null},[e,b,g]);v=k(v,a,g);a={role:v,label:u,tabIndex:v==="button"||v==="link"?0:void 0};return A(i.jsxs(D,babelHelpers["extends"]({},y,{style:babelHelpers["extends"]({},z,d("WebBloksTextStyle").getTextColor(f,s,G),d("WebBloksTextStyle").getTextStyle(r),{display:"inline",fontSize:d("WebBloksUtils").toPx(q),fontFamily:d("WebBloksTextStyle").getFontFamily(t,E),textDecoration:l(w,x),textShadow:d("WebBloksTextStyle").getTextShadow({shadow_color:m,shadow_offset_dx:n,shadow_offset_dy:o,shadow_radius:p},G),whiteSpace:"pre-wrap",overflowWrap:"break-word"})},C,a,B,{children:[F,h]})))}a.displayName=a.name+" [from "+f.id+"]";function k(a,b,c){if(a!=null){return(a=d("WebBloksAccessibilityUtils").WEBBLOKS_ACCESSIBILITY_ROLE_MAPPING[a])!=null?a:null}if(b==null)return null;return c!=null?"button":"link"}function l(a,b){var c=[];d("WebBloksBooleanUtils").isTrue(a)&&c.push("line-through");d("WebBloksBooleanUtils").isTrue(b)&&c.push("underline");return c.length!==0?c.join(" "):void 0}g["default"]=a}),98);
__d("WebBloksTimerCancel",[],(function(a,b,c,d,e,f){function a(a,b,c){a=b.objectSet.environment.timeoutIDS;b=a==null?void 0:a.get(c);window.clearTimeout(b);a==null?void 0:a["delete"](c)}f["default"]=a}),66);
__d("WebBloksTimerStart",[],(function(a,b,c,d,e,f){function a(a,b,c,d,e,f){var g=Number(c),h=b.objectSet.environment.timeoutIDS,i=function i(){a.executeCatch(e,[f,b]),d?(h==null?void 0:h.has(f))&&(c=window.setTimeout(i,g),h==null?void 0:h.set(f,c)):h==null?void 0:h["delete"](f)};c=window.setTimeout(i,g);h==null?void 0:h.set(f,c)}f["default"]=a}),66);
__d("WebBloksToastPrimitive",[],(function(a,b,c,d,e,f){function a(a,b){a.objectSet.toastManager.enqueueSimpleToast(b)}f["default"]=a}),66);
__d("WebBloksTouchExtensionHandler",["WebBloksConstants","WebBloksUtils"],(function(a,b,c,d,e,f,g){a={getStyles:function(a){return{cursor:"pointer",pointerEvents:"auto"}},getProps:function(a,b,c){return c.bloksContext.objectSet.environment.inferAccessibilityRolesForPressables===!1?{}:{tabIndex:0}},onMount:function(a,b,c){var e=a.getExpression("on_touch_down"),f=a.getExpression("on_touch_up"),g=a.getExpression("on_touch_cancel");a=(a=b.current.uiMutableContainer.domNode)==null?void 0:a.current;if(!a)return;var h=a,i=0,j=0,k=-1,l=!1,m=!1;function n(){var a=h.getBoundingClientRect();i=a.left;j=a.top;e!=null&&d("WebBloksUtils").isBloksModelEnabled(b.current)&&c.executeCatch(b.current,e,[b.current,c.bloksContext])}function o(){f!=null&&d("WebBloksUtils").isBloksModelEnabled(b.current)&&c.executeCatch(b.current,f,[b.current,c.bloksContext])}function p(){g!=null&&d("WebBloksUtils").isBloksModelEnabled(b.current)&&c.executeCatch(b.current,g,[b,c.bloksContext])}function q(a){m=!0;if(k===-1){a=a.targetTouches[0];k=a.identifier;n()}}function r(a){if(m){a.preventDefault();return}a.button===0&&(a.preventDefault(),l=!0,n())}function s(a){a.keyCode===d("WebBloksConstants").KEY_SPACE&&a.preventDefault(),(a.keyCode===d("WebBloksConstants").KEY_SPACE||a.keyCode===d("WebBloksConstants").KEY_RETURN)&&n()}function t(a){(a.key==="Enter"||a.key===" ")&&o()}function u(a){a=a.changedTouches[0];if(a.identifier===k){k=-1;if(d("WebBloksUtils").shouldCancelTouchEvent(h,i,j,a))p();else{var b=window.setTimeout(function(){o()},50);a=function a(){o(),window.clearTimeout(b),h.removeEventListener("click",a)};h.addEventListener("click",a)}}}function v(){if(m){m=!1;return}l&&(l=!1,o())}function w(a){k=-1,p()}function x(a){if(m)return;l&&(l=!1,p())}h.addEventListener("touchstart",q,d("WebBloksUtils").passiveTouchEventOptions);h.addEventListener("keydown",s);h.addEventListener("keyup",t);h.addEventListener("touchend",u);h.addEventListener("touchcancel",w);h.addEventListener("mousedown",r);h.addEventListener("mouseleave",x);h.addEventListener("mouseup",v);return function(){h.removeEventListener("touchstart",q,d("WebBloksUtils").passiveTouchEventOptions),h.removeEventListener("keydown",s),h.removeEventListener("keyup",t),h.removeEventListener("touchend",u),h.removeEventListener("touchcancel",w),h.removeEventListener("mousedown",r),h.removeEventListener("mouseleave",x),h.removeEventListener("mouseup",v)}}};g.WebBloksTouchExtensionHandler=a}),98);
__d("WebBloksTransitionContainer",["WebBloksComponentContext","WebBloksStyle","react"],(function(a,b,c,d,e,f,g){var h,i=h||(h=d("react"));b=h;var j=b.useCallback,k=b.useEffect,l=b.useLayoutEffect,m=b.useMemo,n=b.useRef,o=b.useState;function a(a){var b=a.node;a=a.externalStyle;var c=b.get("crossfade"),e=b.getSubNodes("children"),f=e[0],g=e[1];e=(e=b.get("progress"))!=null?e:0;b=d("WebBloksStyle").useStyle(b,a);a=b.style;var h=b.wrapper;b=b.wrapperProps;var k=d("WebBloksComponentContext").useWebBloksContext(),s=k.renderChildren;k=o([0,0,!1]);var t=k[0],u=t[0],v=t[1];t=t[2];var w=k[1];k=o([0,0]);var x=k[0],y=x[0];x=x[1];var z=k[1];k=n(null);var A=n(null),B=n(null),C=j(function(){var a=A.current;a!=null&&w([a.getBoundingClientRect().width,a.getBoundingClientRect().height,!0]);a=B.current;var b=a==null?void 0:a.children;b=(b==null?void 0:b.length)===1?b[0]:a;b!=null&&z([b.getBoundingClientRect().width,b.getBoundingClientRect().height])},[]);l(C,[C]);q(k,C);C=m(function(){return s([f])},[f,s]);var D=m(function(){return s([g])},[s,g]);e=Number(e.toFixed(2));v=p(e,v,x);u=p(e,u,y);var E=p(e,0,1);c=c===!0;return h(i.jsxs("div",babelHelpers["extends"]({},b,{ref:k,style:a,children:[i.jsxs("div",{className:r.container,style:t?{height:v,width:u}:{},children:[i.jsx("div",{className:r.startElem,style:c&&e>0?{opacity:1-((h=E)!=null?h:0)}:{},ref:A,children:C}),e>0?i.jsx("div",{className:r.endElem,style:babelHelpers["extends"]({},c?{opacity:E}:{},{height:x,width:y}),children:D}):null]}),y>0||x>0?null:i.jsx("div",{className:r.endPreviewElem,ref:B,children:D})]})))}a.displayName=a.name+" [from "+f.id+"]";function p(a,b,c){return b==null||c==null?null:b+a*(c-b)}function q(a,b){k(function(){var c=new IntersectionObserver(function(a){a=a[0];var c=a.isIntersecting;(c===!0||a.intersectionRatio>0||a.intersectionRect&&(a.intersectionRect.height>0||a.intersectionRect.width>0))&&b()},{root:null,threshold:0});(a==null?void 0:a.current)!=null&&c.observe(a.current);return function(){return c.disconnect()}},[b,a])}var r=d("WebBloksStyle").createStyles({container:{position:"relative",overflow:"hidden"},startElem:{display:"inline-block"},endElem:{position:"absolute",top:0,left:0,bottom:0,right:0},endPreviewElem:{visibility:"hidden"}});g["default"]=a}),98);
__d("WebBloksTranslate3D",[],(function(a,b,c,d,e,f){function a(a,b,c,d,e){b.translate(c,d,e);return b}f["default"]=a}),66);
__d("WebBloksTreeMake",["WebBloksErrors","WebBloksModel"],(function(a,b,c,d,e,f,g){function a(a,b){var c={};for(var e=0;e<(arguments.length<=2?0:arguments.length-2);e+=2){var f=e+2<2||arguments.length<=e+2?void 0:arguments[e+2];if(typeof f==="string")c[f]=e+1+2<2||arguments.length<=e+1+2?void 0:arguments[e+1+2];else throw new(d("WebBloksErrors").WebBloksError)("Invalid key type in `bk.action.tree.Make`.")}var g=new(d("WebBloksModel").WebBloksModel)(b,c);g.keyPath=a.scope;return g}g["default"]=a}),98);
__d("useWebBloksViewTransformsExtensionWrapperVisibilityState",["react"],(function(a,b,c,d,e,f,g){var h;h||(h=d("react"));b=h;var i=b.useEffect,j=b.useMemo,k=b.useState;function a(a){var b=a.alpha,c=a.scaleX,d=a.scaleY;a=k(null);var e=a[0],f=a[1];a=k(null);var g=a[0],h=a[1];a=k(null);var l=a[0],m=a[1];i(function(){var a;a=Math.round((((a=b)!=null?a:1)+Number.EPSILON)*100)/100;a===0&&(e==="entered"||e===null)?f("exited"):a>0&&(e==="exited"||e===null)&&f("entered");m("opacity")},[b,e]);i(function(){var a,b;a=Math.round((((a=c)!=null?a:1)+Number.EPSILON)*100)/100;b=Math.round((((b=d)!=null?b:1)+Number.EPSILON)*100)/100;a===0&&b===0&&(g==="entered"||g===null)?h("exited"):a>0&&b>0&&(g==="exited"||g===null)&&h("entered");m("scale")},[c,d,g]);a=j(function(){if(l==="opacity")return e;else if(l==="scale")return g},[l,e,g]);return a}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("WebBloksViewTransformsExtensionWrapper",["WebBloksStyle","WebBloksUtils","react","useWebBloksViewTransformsExtensionWrapperVisibilityState"],(function(a,b,c,d,e,f,g){var h,i=h||d("react");function a(a){var b=a.children;a=a.node;var e=[],f=a.get("alpha"),g=a.get("rotation"),h=a.get("scale_x"),j=a.get("scale_y"),k=a.get("translate_x");a=a.get("translate_y");var l=c("useWebBloksViewTransformsExtensionWrapperVisibilityState")({alpha:f,scaleX:h,scaleY:j});k!=null&&e.push("translateX("+d("WebBloksUtils").toPx(k)+")");a!=null&&e.push("translateY("+d("WebBloksUtils").toPx(a)+")");g!=null&&e.push("rotate("+g+"deg)");h!=null&&e.push("scaleX("+h+")");j!=null&&e.push("scaleY("+j+")");k=e.join(" ");return i.jsx("div",babelHelpers["extends"]({"data-bloks-name":"bk.components.ViewTransformsExtension","data-bloks-visibility-state":l},d("WebBloksStyle").getStyleProps({height:"100%",width:"100%",transform:k,opacity:f,pointerEvents:"inherit"}),{children:b}))}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("WebBloksViewTransformExtensionHandler",["WebBloksViewTransformsExtensionWrapper","react"],(function(a,b,c,d,e,f,g){var h,i=h||d("react");a={hasLayoutWrapper:function(){return!0},wrap:function(a,b){return i.jsx(c("WebBloksViewTransformsExtensionWrapper"),{node:a,children:b})}};g.WebBloksViewTransformExtensionHandler=a}),98);
__d("WebBloksVisibilityContextGetTimeSinceLastImpressionInMS",[],(function(a,b,c,d,e,f){function a(a,b){return Date.now()-b.lastImpressionTimeMS}f["default"]=a}),66);
__d("WebBloksVisibilityContextHasSeenBefore",["WebBloksBooleanUtils"],(function(a,b,c,d,e,f,g){function a(a,b){return d("WebBloksBooleanUtils").isTrue(b.hasSeenBefore)}g["default"]=a}),98);
__d("WebBloksVisibilityContextPercentVisible",[],(function(a,b,c,d,e,f){function a(a,b){return(a=b.percentVisible)!=null?a:null}f["default"]=a}),66);
__d("WebBloksVisibilityExtensionHandler",["WebBloksComponentContext","WebBloksSSRUtils","WebBloksViewpoint","react"],(function(a,b,c,d,e,f,g){var h,i=h||(h=d("react"));a=h;var j=a.useCallback,k=a.useLayoutEffect;function l(a){var b=a.children,c=a.node;a=a.elementRef;return!d("WebBloksSSRUtils").canUseDOM?b:m({children:b,node:c,elementRef:a})}function m(a){var b=a.children,c=a.elementRef;a.id;var e=a.node;a=d("WebBloksComponentContext").useWebBloksContext();var f=a.executeCatch,g=a.bloksContext;a=j(function(a){var b=e.uiMutableContainer.visibility||{hasSeenBefore:!1};b=babelHelpers["extends"]({},a,b);switch(a.state){case"entered":a=e.getExpression("on_appear");a!=null&&f(e,a,[b,g]);e.uiMutableContainer.visibility={hasSeenBefore:!0};break;case"intersecting":a=e.getExpression("on_update");a!=null&&f(e,a,[b,g]);break;case"exited":var c;a=e.getExpression("on_disappear");a!=null&&((c=e.uiMutableContainer.visibility)==null?void 0:c.hasSeenBefore)===!0&&f(e,a,[b,g]);break;default:}},[f,e,g]);var h=e==null?void 0:e.get("trigger_on_first_appear_only"),i=d("WebBloksViewpoint").useViewpoint({id:e.clientId.toString(),action:a,untrackAfterFirstAppear:(a=h)!=null?a:!1});k(function(){i.current=c.current},[c,i]);return b}m.displayName=m.name+" [from "+f.id+"]";b={hasLayoutWrapper:function(){return!1},wrap:function(a,b,c,d){return i.jsx(l,{node:a,elementRef:d,children:b})}};g.WebBloksVisibilityExtensionHandler=b}),98);
__d("WebBloksWebFocusBoundaryExtensionHandler",[],(function(a,b,c,d,e,f){a={onMount:function(a,b,c){var d=a.getExpression("on_gain_focus_inside"),e=a.getExpression("on_lose_focus_inside"),f=(a=b.current.uiMutableContainer.domNode)==null?void 0:a.current;if(!f)return;var g=f.contains(document.activeElement);g&&d!=null&&c.executeCatch(b.current,d,[b.current,c.bloksContext]);function h(a){var e=g;g=(a=f==null?void 0:f.contains(a.target))!=null?a:!1;g&&!e&&d!=null&&c.executeCatch(b.current,d,[b.current,c.bloksContext])}function i(a){var d=g;g=(a=f==null?void 0:f.contains(a.relatedTarget))!=null?a:!1;d&&!g&&e!=null&&c.executeCatch(b.current,e,[b.current,c.bloksContext])}f.addEventListener("focusin",h);f.addEventListener("focusout",i);return function(){f.removeEventListener("focusin",h),f.removeEventListener("focusout",i)}}};f.WebBloksWebFocusBoundaryExtensionHandler=a}),66);
__d("WebBloksWebNativeAccessibilityExtensionHandler",["WebBloksAccessibilityUtils","WebBloksBooleanUtils"],(function(a,b,c,d,e,f,g){a={getProps:function(a){a=a.getValues();var b=a["aria-controls"],c=a["aria-describedby"],e=a["aria-expanded"],f=a["aria-hidden"],g=a["aria-pressed"],h=a["aria-selected"],i=a.checked,j=a.role,k=a.enabled,l=a.label,m=a.lang;a=a.heading_level;var n={};j=d("WebBloksAccessibilityUtils").WEBBLOKS_ACCESSIBILITY_ROLE_MAPPING[j];j!=null&&(n.role=j);n=babelHelpers["extends"]({},d("WebBloksAccessibilityUtils").getFocusPropsForRole(n.role),n);d("WebBloksBooleanUtils").isTrue(i)&&(n["aria-checked"]=!0);d("WebBloksBooleanUtils").isFalse(i)&&(n["aria-checked"]=!1);d("WebBloksBooleanUtils").isFalse(k)&&(n.disabled=!0,n["aria-disabled"]=!0);e!=null&&(n["aria-expanded"]=d("WebBloksBooleanUtils").isTrue(e));b!=null&&b.length>0&&(n["aria-controls"]=b.join(" "));c!=null&&c.length>0&&(n["aria-describedby"]=c.join(" "));f!=null&&(n["aria-hidden"]=d("WebBloksBooleanUtils").isTrue(f));g!=null&&(n["aria-pressed"]=g);h!=null&&(n["aria-selected"]=d("WebBloksBooleanUtils").isTrue(h));l!=null&&(n["aria-label"]=l);a!=null&&(n["aria-label"]=void 0);m!=null&&(n.lang=m);return n},wrap:function(a,b){a=a.getValues();var c=a.heading_level;a=a.label;return c!=null?d("WebBloksAccessibilityUtils").getHeading(c,a,b):b}};g.WebBloksWebNativeAccessibilityExtensionHandler=a}),98);
__d("WebBloksWithScope",[],(function(a,b,c,d,e,f){function a(a,b){a=a.createScopedContext();return a.executeCatch(b,[])}f["default"]=a}),66);
__d("WebBloksWriteGlobalConsistencyStore",[],(function(a,b,c,d,e,f){function a(a,b,c){a=a.objectSet.globalStateDataModule;a&&a.publish(b,c)}f["default"]=a}),66);
__d("WebBloksWriteLocalState",["WebBloksErrors","WebBloksScopedIds"],(function(a,b,c,d,e,f,g){function a(a,b,c,e){var f=a.scope;a=a.bloksContext.treeManager;if(e===0){a.enqueueVariableUpdateOperation(b,c);return}if(f==null)throw new(d("WebBloksErrors").WebBloksError)("Keypath must be set on environment if trying to WriteLocalState on a depth larger than 0.");if(e>f.length)throw new(d("WebBloksErrors").WebBloksError)("Depth supplied should never exceed the size of the key path.");f=d("WebBloksScopedIds").getScopedVariableIdAtDepth(f,b,e,"INTERNAL_VARIABLE");a.enqueueVariableUpdateOperation(f,c)}g["default"]=a}),98);
__d("WebBloksZoomable",["WebBloksComponentContext"],(function(a,b,c,d,e,f,g){function a(a){a=a.node;var b=d("WebBloksComponentContext").useWebBloksContext();b=b.renderNode;return b(a.getSubNode("content"))}g["default"]=a}),98);
__d("WebBloksf32Convert",["WebBloksErrors"],(function(a,b,c,d,e,f,g){function a(a,b){if(b===!0)return 1;else if(b===!1)return 0;a=parseFloat(b);return a}g["default"]=a}),98);
__d("WebBloksNumberUtils",[],(function(a,b,c,d,e,f){function a(){for(var a=arguments.length,b=new Array(a),c=0;c<a;c++)b[c]=arguments[c];var d=((""+b[0]).split(".")[1]||"").length,e=b.reduce(function(a,b){b=((""+b).split(".")[1]||"").length;return Math.max(a,b)},d);return Math.pow(10,e)}f.getConversionFactor=a}),66);
__d("WebBloksf32NumberAdd",["WebBloksNumberUtils"],(function(a,b,c,d,e,f,g){function a(a,b,c){a=d("WebBloksNumberUtils").getConversionFactor(b,c);return Math.round(b*a+c*a)/a}g["default"]=a}),98);
__d("WebBloksf32NumberDiv",["WebBloksNumberUtils"],(function(a,b,c,d,e,f,g){function a(a,b,c){a=d("WebBloksNumberUtils").getConversionFactor(b,c);return Math.round(a*b)/Math.round(a*c)}g["default"]=a}),98);
__d("WebBloksf32NumberMul",["WebBloksNumberUtils"],(function(a,b,c,d,e,f,g){function a(a,b,c){a=d("WebBloksNumberUtils").getConversionFactor(b,c);return Math.round(b*a*(c*a))/(a*a)}g["default"]=a}),98);
__d("WebBloksf32NumberPow",[],(function(a,b,c,d,e,f){function a(a,b,c){return Math.pow(b,c)}f["default"]=a}),66);
__d("WebBloksf32NumberSub",["WebBloksNumberUtils"],(function(a,b,c,d,e,f,g){function a(a,b,c){a=d("WebBloksNumberUtils").getConversionFactor(b,c);return Math.round(b*a-c*a)/a}g["default"]=a}),98);
__d("WebBloksi32Convert",["WebBloksErrors"],(function(a,b,c,d,e,f,g){function a(a,b){a=parseInt(b,10);return a}g["default"]=a}),98);
__d("WebBloksi32NumberAdd",[],(function(a,b,c,d,e,f){function a(a,b,c){return b+c}f["default"]=a}),66);
__d("WebBloksi32NumberDiv",[],(function(a,b,c,d,e,f){function a(a,b,c){return parseInt(b/c,10)}f["default"]=a}),66);
__d("WebBloksi32NumberMul",[],(function(a,b,c,d,e,f){function a(a,b,c){return b*c}f["default"]=a}),66);
__d("WebBloksi32NumberSub",[],(function(a,b,c,d,e,f){function a(a,b,c){return b-c}f["default"]=a}),66);
__d("WebBloksi64ConstNumber",["WebBloksInt64"],(function(a,b,c,d,e,f,g){function a(a,b){a=c("WebBloksInt64").fromString(String(b));return a.toString()}g["default"]=a}),98);
__d("WebBloksi64NumberAdd",["WebBloksInt64"],(function(a,b,c,d,e,f,g){function a(a,b,d){a=c("WebBloksInt64").fromString(String(b));b=c("WebBloksInt64").fromString(String(d));return a.add(b).toString()}g["default"]=a}),98);
__d("WebBloksi64NumberDiv",["WebBloksInt64"],(function(a,b,c,d,e,f,g){function a(a,b,d){a=c("WebBloksInt64").fromString(String(b));b=c("WebBloksInt64").fromString(String(d));return a.div(b).toString()}g["default"]=a}),98);
__d("WebBloksi64NumberEq",["WebBloksInt64"],(function(a,b,c,d,e,f,g){function a(a,b,d){a=c("WebBloksInt64").fromString(String(b));b=c("WebBloksInt64").fromString(String(d));return a.equals(b)}g["default"]=a}),98);
__d("WebBloksi64NumberGt",["WebBloksInt64"],(function(a,b,c,d,e,f,g){function a(a,b,d){a=c("WebBloksInt64").fromString(String(b));b=c("WebBloksInt64").fromString(String(d));return a.greaterThan(b)}g["default"]=a}),98);
__d("WebBloksi64NumberLt",["WebBloksInt64"],(function(a,b,c,d,e,f,g){function a(a,b,d){a=c("WebBloksInt64").fromString(String(b));b=c("WebBloksInt64").fromString(String(d));return a.lessThan(b)}g["default"]=a}),98);
__d("WebBloksi64NumberSub",["WebBloksInt64"],(function(a,b,c,d,e,f,g){function a(a,b,d){a=c("WebBloksInt64").fromString(String(b));b=c("WebBloksInt64").fromString(String(d));return a.subtract(b).toString()}g["default"]=a}),98);
__d("WebBloksPrimitives",["WebBloksAccessibilityAnnouncement","WebBloksAccessibilityExtensionHandler","WebBloksAccessibilitySetFocus","WebBloksAddChild","WebBloksAnchorIDExtensionHandler","WebBloksAnchorTagExtensionHandler","WebBloksAppendEmbeddedChildren","WebBloksApply","WebBloksArrayAppend","WebBloksArrayClone","WebBloksArrayConcat","WebBloksArrayFilter","WebBloksArrayGet","WebBloksArrayLength","WebBloksArrayMake","WebBloksArrayMap","WebBloksArrayPut","WebBloksArrayPutAndGet","WebBloksArrayReduce","WebBloksArrayRemove","WebBloksArrayRemoveAndGet","WebBloksArraySlice","WebBloksArraySortedArray","WebBloksArrayUpdate","WebBloksAsyncAction","WebBloksAsyncActionWithDataManifest","WebBloksAsyncLoadV2","WebBloksAutomationTestExtensionHandler","WebBloksBKSTextInputFormatterHandler","WebBloksBindWithArrayV2","WebBloksBoolAnd","WebBloksBoolConst","WebBloksBoolNot","WebBloksBoolOr","WebBloksBottomSheet","WebBloksCDSBottomSheetWrapper.react","WebBloksCallbackApply","WebBloksCallbackMake","WebBloksCallbackMakeWithScopeOnly","WebBloksCanvas","WebBloksChildAtIndex","WebBloksClipboardSetString","WebBloksCollection","WebBloksConstNumber","WebBloksCurrentTimeMillis","WebBloksDangerouslyGetTreeFromParseResult","WebBloksDatetimeTextProvider","WebBloksDelay","WebBloksDeviceLog","WebBloksDialog","WebBloksDialogButton","WebBloksDismissBottomSheet","WebBloksDismissToast","WebBloksDummy","WebBloksDummyComponent","WebBloksFieldset","WebBloksFindComponentContext","WebBloksFlexbox","WebBloksGestureExtensionHandler","WebBloksGetAttr","WebBloksGetDatetimeText","WebBloksGetDeserializedEmbeddedPayload","WebBloksGetHeightV2","WebBloksGetParameter","WebBloksGetPayload","WebBloksGetScript","WebBloksGetState","WebBloksGetTemplateArg","WebBloksGetValue","WebBloksGetVariable2","WebBloksGetVariableWithScope","WebBloksGetWidthV2","WebBloksGlimmer","WebBloksImage","WebBloksIndexOfChild","WebBloksInflateSync","WebBloksInsertChildrenAfter","WebBloksInsertEmbeddedChildrenAfter","WebBloksInsertEmbeddedChildrenBefore","WebBloksJsonDecode","WebBloksJsonEncode","WebBloksJsonEncodeV3","WebBloksMakeFlat","WebBloksMapClone","WebBloksMapFilter","WebBloksMapGet","WebBloksMapKeys","WebBloksMapMake","WebBloksMapMerge","WebBloksMapRemove","WebBloksMapUpdate","WebBloksMapValues","WebBloksMatch","WebBloksMatchesRegex","WebBloksMergeWithBind","WebBloksMinsTypeOf","WebBloksNavbar","WebBloksNavigationCloseScreen","WebBloksNumberAnd","WebBloksNumberEq","WebBloksNumberGt","WebBloksNumberLt","WebBloksNumberMod","WebBloksNumberOr","WebBloksNumberRand","WebBloksOnDataChangeExtensionHandler","WebBloksOnMount","WebBloksOnMountExtensionHandler","WebBloksOneTimeBind","WebBloksOpenBottomSheet","WebBloksOpenBottomSheetV2","WebBloksOpenDialog","WebBloksOpenDialogV2","WebBloksOpenFullScreenV4","WebBloksOpenScreen","WebBloksOpenScreenByRoute","WebBloksOpenSendMessage","WebBloksOpenUniversalLink","WebBloksOpenUrl","WebBloksOpenUrlV2","WebBloksParseEmbedded","WebBloksParseEmbeddedV2","WebBloksParseHoistedPayload","WebBloksPopBottomSheet","WebBloksPrependChildren","WebBloksPrependEmbeddedChildren","WebBloksPullToRefreshContainer","WebBloksPushBottomSheetV2","WebBloksReadPandoField","WebBloksReduce","WebBloksRefMake","WebBloksRefRead","WebBloksRefWrite","WebBloksReflow","WebBloksRefresh","WebBloksRemoveChild","WebBloksRemoveChildrenBetween","WebBloksRenderLifecycleExtensionHandler","WebBloksReplaceChild","WebBloksReplaceChildren","WebBloksReplaceChildrenAfter","WebBloksReplaceEmbeddedChild","WebBloksReplaceEmbeddedChildren","WebBloksReplaceEmbeddedChildrenAfter","WebBloksRequestFocus","WebBloksRichText","WebBloksRotate3D","WebBloksScale3D","WebBloksScreenWrapperPrimitive","WebBloksSessionStoreGet","WebBloksSetAttr","WebBloksShowToast","WebBloksShowToastV2","WebBloksSlider","WebBloksSliderSetPosition","WebBloksStringAsInteger","WebBloksStringAsLong","WebBloksStringConcat","WebBloksStringContains","WebBloksStringGetURLLastPathComponent","WebBloksStringJoin","WebBloksStringLength","WebBloksStringReplace","WebBloksStringSlice","WebBloksStringSplitWithString","WebBloksStringStartsWith","WebBloksStringToLowerCase","WebBloksStringToUpperCase","WebBloksStringTrim","WebBloksStringValueOfNumber","WebBloksSwitch","WebBloksT3DFromArray","WebBloksTakeLast","WebBloksTemplateMake","WebBloksText","WebBloksTextGetText","WebBloksTextInput","WebBloksTextInputClearText","WebBloksTextInputDatePickerExtensionHandler","WebBloksTextInputGetText","WebBloksTextInputMaskExtensionHandler","WebBloksTextInputSetText","WebBloksTextInputUnfocus","WebBloksTextIsTruncated","WebBloksTextSpan","WebBloksTimerCancel","WebBloksTimerStart","WebBloksToastPrimitive","WebBloksTouchExtensionHandler","WebBloksTransitionContainer","WebBloksTranslate3D","WebBloksTreeMake","WebBloksViewTransformExtensionHandler","WebBloksVisibilityContextGetTimeSinceLastImpressionInMS","WebBloksVisibilityContextHasSeenBefore","WebBloksVisibilityContextPercentVisible","WebBloksVisibilityExtensionHandler","WebBloksWebFocusBoundaryExtensionHandler","WebBloksWebNativeAccessibilityExtensionHandler","WebBloksWithScope","WebBloksWriteGlobalConsistencyStore","WebBloksWriteLocalState","WebBloksZoomable","WebBloksf32Convert","WebBloksf32NumberAdd","WebBloksf32NumberDiv","WebBloksf32NumberMul","WebBloksf32NumberPow","WebBloksf32NumberSub","WebBloksi32Convert","WebBloksi32NumberAdd","WebBloksi32NumberDiv","WebBloksi32NumberMul","WebBloksi32NumberSub","WebBloksi64ConstNumber","WebBloksi64NumberAdd","WebBloksi64NumberDiv","WebBloksi64NumberEq","WebBloksi64NumberGt","WebBloksi64NumberLt","WebBloksi64NumberSub"],(function(a,b,c,d,e,f,g){b={"bk.components.internal.Action":function(){return null},"bk.components.internal.Merge":a=c("WebBloksDummyComponent"),"bk.components.internal.Shadow":a,"bk.data.screen.Navbar":d("WebBloksNavbar").WebBloksNavbar,"bk.cds.bottomsheet.Wrapper":c("WebBloksCDSBottomSheetWrapper.react"),"bk.components.BottomSheet":c("WebBloksBottomSheet"),"bk.components.Canvas":c("WebBloksCanvas"),"bk.components.dialog.Dialog":c("WebBloksDialog"),"bk.components.dialog.Button":c("WebBloksDialogButton"),"bk.components.Collection":c("WebBloksCollection"),"bk.components.Flexbox":c("WebBloksFlexbox"),"bk.components.Glimmer":c("WebBloksGlimmer"),"bk.components.Image":c("WebBloksImage"),"bk.components.internal.MergeWithBind":c("WebBloksMergeWithBind"),"bk.components.PullToRefreshContainer":c("WebBloksPullToRefreshContainer"),"bk.components.RichText":c("WebBloksRichText"),"bk.components.Switch":c("WebBloksSwitch"),"bk.components.Text":c("WebBloksText"),"bk.components.TextInput":c("WebBloksTextInput"),"bk.components.TextSpan":c("WebBloksTextSpan"),"bk.component.TransitionContainer":c("WebBloksTransitionContainer"),"bk.components.screen.Wrapper":d("WebBloksScreenWrapperPrimitive").WebBloksScreenWrapperPrimitive,"bk.components.OnMount":c("WebBloksOnMount"),"bk.components.Slider":c("WebBloksSlider"),"bk.components.DatetimeTextProvider":c("WebBloksDatetimeTextProvider"),"bk.components.webbloks.Fieldset":c("WebBloksFieldset"),"bk.components.Zoomable":c("WebBloksZoomable"),"bk.components.Video":a,"bk.components.VideoVersion":a};f={"bk.action.accessibility.Announcement":c("WebBloksAccessibilityAnnouncement"),"bk.action.accessibility.SetFocus":c("WebBloksAccessibilitySetFocus"),"bk.action.array.Append":c("WebBloksArrayAppend"),"bk.action.array.Clone":c("WebBloksArrayClone"),"bk.action.array.Concat":c("WebBloksArrayConcat"),"bk.action.array.Filter":c("WebBloksArrayFilter"),"bk.action.array.Get":c("WebBloksArrayGet"),"bk.action.array.Length":c("WebBloksArrayLength"),"bk.action.array.Make":c("WebBloksArrayMake"),"bk.action.array.Map":c("WebBloksArrayMap"),"bk.action.array.Put":c("WebBloksArrayPut"),"bk.action.array.PutAndGet":c("WebBloksArrayPutAndGet"),"bk.action.array.Reduce":c("WebBloksArrayReduce"),"bk.action.array.Remove":c("WebBloksArrayRemove"),"bk.action.array.RemoveAndGet":c("WebBloksArrayRemoveAndGet"),"bk.action.array.Slice":c("WebBloksArraySlice"),"bk.action.array.SortedArray":c("WebBloksArraySortedArray"),"bk.action.array.Update":c("WebBloksArrayUpdate"),"bk.action.bloks.AddChild":c("WebBloksAddChild"),"bk.action.bloks.AppendEmbeddedChildren":c("WebBloksAppendEmbeddedChildren"),"bk.action.bloks.AsyncAction":c("WebBloksAsyncAction"),"bk.action.bloks.AsyncActionWithDataManifest":c("WebBloksAsyncActionWithDataManifest"),"bk.action.bloks.AsyncLoadV2":c("WebBloksAsyncLoadV2"),"bk.action.bloks.ChildAtIndex":c("WebBloksChildAtIndex"),"bk.action.bloks.DangerouslyGetTreeFromParseResult":c("WebBloksDangerouslyGetTreeFromParseResult"),"bk.action.bloks.DismissBottomSheet":c("WebBloksDismissBottomSheet"),"bk.action.bloks.DismissKeyboard":e=c("WebBloksDummy"),"bk.action.bloks.Find":c("WebBloksFindComponentContext"),"bk.action.bloks.FindContainer":c("WebBloksFindComponentContext"),"bk.action.bloks.GetParameter":c("WebBloksGetParameter"),"bk.action.bloks.GetPayload":c("WebBloksGetPayload"),"bk.action.bloks.GetDeserializedEmbeddedPayload":c("WebBloksGetDeserializedEmbeddedPayload"),"bk.action.bloks.GetScript":c("WebBloksGetScript"),"bk.action.bloks.GetState":c("WebBloksGetState"),"bk.action.bloks.GetValue":c("WebBloksGetValue"),"bk.action.bloks.GetVariable2":c("WebBloksGetVariable2"),"bk.action.bloks.GetVariableWithScope":c("WebBloksGetVariableWithScope"),"bk.action.bloks.IndexOfChild":c("WebBloksIndexOfChild"),"bk.action.bloks.InflateSync":c("WebBloksInflateSync"),"bk.action.bloks.InsertChildrenAfter":c("WebBloksInsertChildrenAfter"),"bk.action.bloks.InsertEmbeddedChildrenAfter":c("WebBloksInsertEmbeddedChildrenAfter"),"bk.action.bloks.InsertEmbeddedChildrenBefore":c("WebBloksInsertEmbeddedChildrenBefore"),"bk.action.bloks.OneTimeBind":c("WebBloksOneTimeBind"),"bk.action.bloks.OpenBottomSheetV2":c("WebBloksOpenBottomSheetV2"),"bk.action.bloks.OpenBottomSheet":c("WebBloksOpenBottomSheet"),"bk.action.dialog.OpenDialog":c("WebBloksOpenDialog"),"bk.action.dialog.OpenDialogV2":c("WebBloksOpenDialogV2"),"bk.action.bloks.OpenScreen":c("WebBloksOpenScreen"),"bk.action.bloks.OpenFullScreenV4":c("WebBloksOpenFullScreenV4"),"bk.action.bloks.ParseEmbedded":c("WebBloksParseEmbedded"),"bk.action.bloks.ParseEmbeddedV2":c("WebBloksParseEmbeddedV2"),"bk.action.bloks.ParseHoistedPayload":c("WebBloksParseHoistedPayload"),"bk.action.bloks.PopBottomSheet":c("WebBloksPopBottomSheet"),"bk.action.bloks.PushBottomSheetV2":c("WebBloksPushBottomSheetV2"),"bk.action.bloks.ReadPandoField":c("WebBloksReadPandoField"),"bk.action.bloks.Reduce":c("WebBloksReduce"),"bk.action.bloks.Reflow":c("WebBloksReflow"),"bk.action.bloks.RemoveChild":c("WebBloksRemoveChild"),"bk.action.bloks.RemoveChildrenBetween":c("WebBloksRemoveChildrenBetween"),"bk.action.bloks.ReplaceChild":c("WebBloksReplaceChild"),"bk.action.bloks.ReplaceChildren":c("WebBloksReplaceChildren"),"bk.action.bloks.ReplaceChildrenAfter":c("WebBloksReplaceChildrenAfter"),"bk.action.bloks.ReplaceEmbeddedChildV2":c("WebBloksReplaceEmbeddedChild"),"bk.action.bloks.ReplaceEmbeddedChildren":c("WebBloksReplaceEmbeddedChildren"),"bk.action.bloks.ReplaceEmbeddedChildrenAfter":c("WebBloksReplaceEmbeddedChildrenAfter"),"bk.action.bloks.RequestFocus":c("WebBloksRequestFocus"),"bk.action.bloks.WithScope":c("WebBloksWithScope"),"bk.action.bloks.WriteGlobalConsistencyStore":c("WebBloksWriteGlobalConsistencyStore"),"bk.action.bloks.WriteLocalState":c("WebBloksWriteLocalState"),"bk.action.bool.And":c("WebBloksBoolAnd"),"bk.action.bool.Const":c("WebBloksBoolConst"),"bk.action.bool.Not":c("WebBloksBoolNot"),"bk.action.bool.Or":c("WebBloksBoolOr"),"bk.action.callback.Apply":c("WebBloksCallbackApply"),"bk.action.callback.Make":c("WebBloksCallbackMake"),"bk.action.callback.MakeWithScopeOnly":c("WebBloksCallbackMakeWithScopeOnly"),"bk.action.component.GetAttr":c("WebBloksGetAttr"),"bk.action.component.GetHeight":c("WebBloksGetHeightV2"),"bk.action.component.GetHeight2":c("WebBloksGetHeightV2"),"bk.action.component.GetWidth":c("WebBloksGetWidthV2"),"bk.action.component.GetWidth2":c("WebBloksGetWidthV2"),"bk.action.component.SetAttr":c("WebBloksSetAttr"),"bk.action.core.Apply":c("WebBloksApply"),"bk.action.core.Coalesce":e,"bk.action.core.Default":e,"bk.action.core.Delay":c("WebBloksDelay"),"bk.action.core.If":e,"bk.action.core.FuncConst":e,"bk.action.core.GetArg":e,"bk.action.core.GetTemplateArg":c("WebBloksGetTemplateArg"),"bk.action.core.Match":c("WebBloksMatch"),"bk.action.core.Pattern":e,"bk.action.core.SetArg":e,"bk.action.core.TakeLast":c("WebBloksTakeLast"),"bk.action.core.While":e,"bk.action.GetDatetimeText":c("WebBloksGetDatetimeText"),"bk.action.f32.Add":c("WebBloksf32NumberAdd"),"bk.action.f32.Const":c("WebBloksConstNumber"),"bk.action.f32.Convert":c("WebBloksf32Convert"),"bk.action.f32.Div":c("WebBloksf32NumberDiv"),"bk.action.f32.Eq":c("WebBloksNumberEq"),"bk.action.f32.Gt":c("WebBloksNumberGt"),"bk.action.f32.Lt":c("WebBloksNumberLt"),"bk.action.f32.Mul":c("WebBloksf32NumberMul"),"bk.action.f32.Pow":c("WebBloksf32NumberPow"),"bk.action.f32.Sub":c("WebBloksf32NumberSub"),"bk.action.function.BindWithArrayV2":c("WebBloksBindWithArrayV2"),"bk.action.i32.Add":c("WebBloksi32NumberAdd"),"bk.action.i32.And":c("WebBloksNumberAnd"),"bk.action.i32.Const":c("WebBloksConstNumber"),"bk.action.i32.Convert":c("WebBloksi32Convert"),"bk.action.i32.Div":c("WebBloksi32NumberDiv"),"bk.action.i32.Eq":c("WebBloksNumberEq"),"bk.action.i32.Gt":c("WebBloksNumberGt"),"bk.action.i32.Lt":c("WebBloksNumberLt"),"bk.action.i32.Mod":c("WebBloksNumberMod"),"bk.action.i32.Mul":c("WebBloksi32NumberMul"),"bk.action.i32.Or":c("WebBloksNumberOr"),"bk.action.i32.Rand":c("WebBloksNumberRand"),"bk.action.i32.Sub":c("WebBloksi32NumberSub"),"bk.action.i64.Add":c("WebBloksi64NumberAdd"),"bk.action.i64.Const":c("WebBloksi64ConstNumber"),"bk.action.i64.Div":c("WebBloksi64NumberDiv"),"bk.action.i64.Eq":c("WebBloksi64NumberEq"),"bk.action.i64.Gt":c("WebBloksi64NumberGt"),"bk.action.i64.Lt":c("WebBloksi64NumberLt"),"bk.action.i64.Sub":c("WebBloksi64NumberSub"),"bk.action.internal.Refresh":c("WebBloksRefresh"),"bk.action.io.clipboard.SetString":c("WebBloksClipboardSetString"),"bk.action.io.CurrentTimeMillis":c("WebBloksCurrentTimeMillis"),"bk.action.io.Toast":c("WebBloksToastPrimitive"),"bk.action.map.Append":e,"bk.action.map.Clone":c("WebBloksMapClone"),"bk.action.map.Filter":c("WebBloksMapFilter"),"bk.action.map.Get":c("WebBloksMapGet"),"bk.action.map.Keys":c("WebBloksMapKeys"),"bk.action.map.Make":c("WebBloksMapMake"),"bk.action.map.MakeFlat":c("WebBloksMakeFlat"),"bk.action.map.Merge":c("WebBloksMapMerge"),"bk.action.map.Remove":c("WebBloksMapRemove"),"bk.action.map.Update":c("WebBloksMapUpdate"),"bk.action.map.Values":c("WebBloksMapValues"),"bk.action.navigation.CloseScreen":c("WebBloksNavigationCloseScreen"),"bk.action.navigation.OpenSendMessage":c("WebBloksOpenSendMessage"),"bk.action.navigation.OpenUrl":c("WebBloksOpenUrl"),"bk.action.navigation.OpenUrlV2":c("WebBloksOpenUrlV2"),"bk.action.OpenUniversalLink":c("WebBloksOpenUniversalLink"),"bk.action.navigation.SetNavBar":e,"bk.action.ref.Make":c("WebBloksRefMake"),"bk.action.ref.Read":c("WebBloksRefRead"),"bk.action.ref.Write":c("WebBloksRefWrite"),"bk.action.session_store.Get":c("WebBloksSessionStoreGet"),"bk.action.slider.SetPosition":c("WebBloksSliderSetPosition"),"bk.action.string.AsInteger":c("WebBloksStringAsInteger"),"bk.action.string.AsLong":c("WebBloksStringAsLong"),"bk.action.string.Concat":c("WebBloksStringConcat"),"bk.action.string.Contains":c("WebBloksStringContains"),"bk.action.string.Join":c("WebBloksStringJoin"),"bk.action.string.JsonDecode":c("WebBloksJsonDecode"),"bk.action.string.JsonEncode":c("WebBloksJsonEncode"),"bk.action.string.JsonEncodeV2":c("WebBloksJsonEncode"),"bk.action.string.JsonEncodeV3":c("WebBloksJsonEncodeV3"),"bk.action.string.Length":c("WebBloksStringLength"),"bk.action.bloks.PrependChildren":c("WebBloksPrependChildren"),"bk.action.bloks.PrependEmbeddedChildren":c("WebBloksPrependEmbeddedChildren"),"bk.action.string.Replace":c("WebBloksStringReplace"),"bk.action.string.Slice":c("WebBloksStringSlice"),"bk.action.string.SplitWithString":c("WebBloksStringSplitWithString"),"bk.action.string.StartsWith":c("WebBloksStringStartsWith"),"bk.action.string.ToLowerCase":c("WebBloksStringToLowerCase"),"bk.action.string.ToUpperCase":c("WebBloksStringToUpperCase"),"bk.action.string.Trim":c("WebBloksStringTrim"),"bk.action.string.GetURLLastPathComponent":c("WebBloksStringGetURLLastPathComponent"),"bk.action.string.MatchesRegex":c("WebBloksMatchesRegex"),"bk.action.string.ValueOfNumber":c("WebBloksStringValueOfNumber"),"bk.action.template.Make":c("WebBloksTemplateMake"),"bk.action.toast.ShowToast":c("WebBloksShowToast"),"bk.action.toast.ShowToastV2":c("WebBloksShowToastV2"),"bk.action.toast.DismissToast":c("WebBloksDismissToast"),"bk.action.tree.Make":c("WebBloksTreeMake"),"bk.action.t3d.FromArray":c("WebBloksT3DFromArray"),"bk.action.t3d.Rotate":c("WebBloksRotate3D"),"bk.action.t3d.Scale":c("WebBloksScale3D"),"bk.action.t3d.Translate":c("WebBloksTranslate3D"),"bk.action.text.GetText":c("WebBloksTextGetText"),"bk.action.textinput.GetText":c("WebBloksTextInputGetText"),"bk.action.textinput.SetText":c("WebBloksTextInputSetText"),"bk.action.textinput.SetTextV2":c("WebBloksTextInputSetText"),"bk.action.text_input.Unfocus":c("WebBloksTextInputUnfocus"),"bk.action.text_input.ClearText":c("WebBloksTextInputClearText"),"bk.action.timer.Cancel":c("WebBloksTimerCancel"),"bk.action.timer.Start":c("WebBloksTimerStart"),"bk.action.visibility_context.GetTimeSinceLastImpressionInMS":c("WebBloksVisibilityContextGetTimeSinceLastImpressionInMS"),"bk.action.visibility_context.HasSeenBefore":c("WebBloksVisibilityContextHasSeenBefore"),"bk.action.visibility_context.PercentVisible":c("WebBloksVisibilityContextPercentVisible"),"bk.action.text.IsTruncated":c("WebBloksTextIsTruncated"),"bk.action.debug.internal.DeviceLog":c("WebBloksDeviceLog"),"bk.action.webbloks.OpenScreenByRoute":c("WebBloksOpenScreenByRoute"),"bk.action.mins.TypeOf":c("WebBloksMinsTypeOf"),"bk.versioning.bloks.GlobalStateWithInitialLispy":e,"bk.versioning.bloks.ScreenQueryContainerConfigIDServerParam":e,"bk.versioning.bind.Interleaved":e,"bk.versioning.lispy.NumericLiterals":e,"bk.versioning.bloks.HoistedTemplates":e,"bk.versioning.bloks.NamedSplices":e,"bk.action.payload.Make":e,"bk.action.splice.Get":e,"bk.action.splice.Apply":e};a={"bk.components.AnchorIdExtension":d("WebBloksAnchorIDExtensionHandler").WebBloksAnchorIDExtensionHandler,"bk.components.AutomationTestExtension":d("WebBloksAutomationTestExtensionHandler").WebBloksAutomationTestExtensionHandler,"bk.components.VisibilityExtension":d("WebBloksVisibilityExtensionHandler").WebBloksVisibilityExtensionHandler,"bk.components.AccessibilityExtension":d("WebBloksAccessibilityExtensionHandler").WebBloksAccessibilityExtensionHandler,"bk.components.WebNativeAccessibilityExtension":d("WebBloksWebNativeAccessibilityExtensionHandler").WebBloksWebNativeAccessibilityExtensionHandler,"bk.components.OnMount":d("WebBloksOnMountExtensionHandler").WebBloksOnMountExtensionHandler,"bk.components.RenderLifecycleExtension":d("WebBloksRenderLifecycleExtensionHandler").WebBloksRenderLifecycleExtensionHandler,"bk.components.ViewTransformsExtension":d("WebBloksViewTransformExtensionHandler").WebBloksViewTransformExtensionHandler,"bk.components.FoaTouchExtension":d("WebBloksTouchExtensionHandler").WebBloksTouchExtensionHandler,"bk.components.FoaGestureExtension":d("WebBloksGestureExtensionHandler").WebBloksGestureExtensionHandler,"bk.components.TextInputDatePickerExtension":d("WebBloksTextInputDatePickerExtensionHandler").WebBloksTextInputDatePickerExtensionHandler,"bk.components.TextInputMaskExtension":d("WebBloksTextInputMaskExtensionHandler").WebBloksTextInputMaskExtensionHandler,"bk.extensions.OnDataChange":d("WebBloksOnDataChangeExtensionHandler").WebBloksOnDataChangeExtensionHandler,"bk.components.AnchorTagExtension":d("WebBloksAnchorTagExtensionHandler").WebBloksAnchorTagExtensionHandler,"bk.component.WebFocusBoundaryExtension":d("WebBloksWebFocusBoundaryExtensionHandler").WebBloksWebFocusBoundaryExtensionHandler,"bk.components.BKSTextInputFormatter":d("WebBloksBKSTextInputFormatterHandler").WebBloksBKSTextInputFormatterHandler};g.COMPONENTS=b;g.ACTIONS=f;g.EXTENSION_HANDLERS=a}),98);
__d("bkTraversalKeys",[],(function(a,b,c,d,e,f){"use strict";a={"bk.cds.bottomsheet.Wrapper":{subnodes:["_style","content","header","web_background_overlay_color","top_banner"],plural_subnodes:["extensions","child_templates"]},"bk.component.TransitionContainer":{subnodes:["_style"],plural_subnodes:["extensions","children","child_templates"]},"bk.components.BoxDecoration":{subnodes:["background","foreground","corner_fill_themed_color","border_themed_color","shadow_themed_color","contrib","spot_shadow_color","ambient_shadow_color"],plural_subnodes:["child_templates"]},"bk.components.Canvas":{subnodes:["_style"],plural_subnodes:["extensions","children","child_templates"]},"bk.components.Collection":{subnodes:["_style","background_themed_color","scroll_indicator_color","scroll_indicator_background_color","scroll_indicator_margin_insets","scroll_indicator_shadow_color","scroll_indicator_margin_insets_v2","scroll_indicator_shadow_color_v2","layout_config"],plural_subnodes:["extensions","children","child_templates"]},"bk.components.Flexbox":{subnodes:["_style","decoration"],plural_subnodes:["extensions","gesture_recognizers","children","child_templates"]},"bk.components.Glimmer":{subnodes:["_style"],plural_subnodes:["extensions","child_templates"]},"bk.components.GradientThemedColorDrawable":{subnodes:["begin_color","end_color","middle_color"],plural_subnodes:["child_templates"]},"bk.components.Image":{subnodes:["_style","color_filter","contrib","progress_ring_color","focus_point","placeholder_color"],plural_subnodes:["extensions","child_templates"]},"bk.components.PullToRefreshContainer":{subnodes:["_style","child"],plural_subnodes:["extensions","child_templates"]},"bk.components.RichText":{subnodes:["_style","truncation_string_themed_color","link_highlight_themed_color","background_color"],plural_subnodes:["extensions","children","gradient_colors","truncation_spans","spans","spans_for_truncation","child_templates"]},"bk.components.Slider":{subnodes:["_style","thumb_color","filled_track_color","unfilled_track_color"],plural_subnodes:["extensions","child_templates"]},"bk.components.Spinner":{subnodes:["_style","color"],plural_subnodes:["extensions","child_templates"]},"bk.components.StateDrawable":{plural_subnodes:["state_items","child_templates"]},"bk.components.StateDrawableItem":{subnodes:["drawable"],plural_subnodes:["child_templates"]},"bk.components.Switch":{subnodes:["_style","on_color","off_color","thumb_color_on_android","thumb_color_off_android","track_color_on","track_color_off","thumb_color_disabled_on_android","thumb_color_disabled_off_android","track_color_disabled_on","track_color_disabled_off","thumb_color_disabled_on","thumb_color_disabled_off","thumb_color_on","thumb_color_off"],plural_subnodes:["extensions","child_templates"]},"bk.components.Text":{subnodes:["_style","text_provider","text_themed_color","truncation_string_themed_color"],plural_subnodes:["extensions","truncation_spans","child_templates"]},"bk.components.TextInput":{subnodes:["_style","text_themed_color","hint_text_themed_color","cursor_color","placeholder_text_color","background_color","shadow"],plural_subnodes:["extensions","child_templates"]},"bk.components.TextSpan":{subnodes:["_style","text_provider","text_themed_color","tint_color","shadow_color","image_component","image_margin"],plural_subnodes:["extensions","span_styles","spans","child_templates"]},"bk.components.ThemedColorDrawable":{subnodes:["color"],plural_subnodes:["child_templates"]},"bk.components.Video":{subnodes:["_style","player_identifier"],plural_subnodes:["extensions","video_versions","preview_versions","child_templates"]},"bk.components.Zoomable":{subnodes:["_style","content","config"],plural_subnodes:["extensions","child_templates"]},"bk.components.dialog.Dialog":{subnodes:["primary_button","secondary_button","tertiary_button"],plural_subnodes:["child_templates"]},"bk.components.internal.Action":{subnodes:["_style"],plural_subnodes:["extensions","child_templates"]},"bk.components.internal.Merge":{subnodes:["_style"],plural_subnodes:["extensions","children","child_templates"]},"bk.components.internal.MergeWithBind":{subnodes:["_style"],plural_subnodes:["extensions","children","child_templates"]},"bk.components.internal.Shadow":{subnodes:["_style","child"],plural_subnodes:["extensions","child_templates"]},"bk.components.screen.Wrapper":{subnodes:["_style","content","navbar"],plural_subnodes:["extensions","contribs","child_templates"]},"bk.components.webbloks.Fieldset":{subnodes:["_style"],plural_subnodes:["extensions","children","child_templates"]},"bk.data.ComposableTextSpan":{plural_subnodes:["styles","spans","child_templates"]},"bk.data.GradientLine":{subnodes:["start_point","end_point"],plural_subnodes:["child_templates"]},"bk.data.ImageSpan":{subnodes:["image_component","image_margin"],plural_subnodes:["styles","child_templates"]},"bk.data.TextSpan":{subnodes:["text_provider"],plural_subnodes:["styles","child_templates"]},"bk.data.bloks.TreeResourceReferences":{plural_subnodes:["props","child_templates"]},"bk.data.cds.OpenScreenOptions":{subnodes:["android_activity_background_color","dimmed_background_color","background_overlay_color","bottom_sheet_margins"],plural_subnodes:["child_templates"]},"bk.data.screen.Navbar":{subnodes:["contrib"],plural_subnodes:["contribs","child_templates"]},"bk.data.screen.Screen":{subnodes:["loading_screen","loaded_screen","navbar","navbar_data","contrib","lifecycle_callbacks"],plural_subnodes:["contribs","child_templates"]},"bk.data.toast.ShowToastOptions":{subnodes:["show_animation_interpolator","dismiss_animation_interpolator"],plural_subnodes:["child_templates"]},"bk.data.toast.ShowToastOptionsV2":{subnodes:["show_animation_interpolator","dismiss_animation_interpolator"],plural_subnodes:["child_templates"]},"bk.style.textspan.ColorStyle":{subnodes:["text_themed_color"],plural_subnodes:["child_templates"]},"bk.style.textspan.ShadowStyle":{subnodes:["shadow_color"],plural_subnodes:["child_templates"]},"bk.types.CanvasFill":{subnodes:["shape","shading","blending_mode","shadow"],plural_subnodes:["child_templates"]},"bk.types.CanvasGradient":{plural_subnodes:["themed_colors","child_templates"]},"bk.types.CanvasGroup":{subnodes:["transform","clip"],plural_subnodes:["children","child_templates"]},"bk.types.CanvasLayer":{subnodes:["transform","clip","blending_mode"],plural_subnodes:["children","child_templates"]},"bk.types.CanvasPath":{plural_subnodes:["children","child_templates"]},"bk.types.CanvasPathAdd":{subnodes:["path","transform"],plural_subnodes:["child_templates"]},"bk.types.CanvasPathDifference":{subnodes:["path","transform"],plural_subnodes:["child_templates"]},"bk.types.CanvasPathIntersection":{subnodes:["path","transform"],plural_subnodes:["child_templates"]},"bk.types.CanvasPathUnion":{subnodes:["path","transform"],plural_subnodes:["child_templates"]},"bk.types.CanvasPathXor":{subnodes:["path","transform"],plural_subnodes:["child_templates"]},"bk.types.CanvasShadingColor":{subnodes:["themed_color"],plural_subnodes:["child_templates"]},"bk.types.CanvasShadingGradientLinear":{subnodes:["gradient"],plural_subnodes:["child_templates"]},"bk.types.CanvasShadingGradientRadial":{subnodes:["gradient"],plural_subnodes:["child_templates"]},"bk.types.CanvasShadow":{subnodes:["themed_color"],plural_subnodes:["child_templates"]},"bk.types.CanvasStroke":{subnodes:["shape","shading","blending_mode","shadow"],plural_subnodes:["child_templates"]},"bk.types.CanvasTransform":{plural_subnodes:["children","child_templates"]},"bk.types.GridCollectionLayoutConfig":{subnodes:["padding"],plural_subnodes:["child_templates"]},collection:{subnodes:["sticky_item_config"],plural_subnodes:["child_templates"]},flex:{subnodes:["touch_expansion"],plural_subnodes:["child_templates"]},"mini.data.Product":{subnodes:["main_image","merchant","thumbnail_image","checkout_properties","drawing_information","rating"],plural_subnodes:["variant_values","child_templates"]},"bk.AnyComponent":{subnodes:["style"],plural_subnodes:["extensions","child_templates"]},"bk.types.Shadow":{subnodes:["color"],plural_subnodes:["child_templates"]},"bk.data.zoomable.config.Remote":{subnodes:["placeholder_color"],plural_subnodes:["child_templates"]},"bk.data.screen.navbar.Contrib":{subnodes:["fb","msg"],plural_subnodes:["child_templates"]},"bk.data.screen.screen.Contrib":{subnodes:["ig","msg"],plural_subnodes:["child_templates"]},"bk.data.product.CheckoutProperties":{subnodes:["currency_amount","shipping_and_return"],plural_subnodes:["child_templates"]},"bk.data.screen.navbar.contrib.Msg":{subnodes:["title_view"],plural_subnodes:["right_buttons","left_buttons","child_templates"]},"bk.data.product.checkout.ShippingAndReturn":{subnodes:["shipping_cost","return_cost"],plural_subnodes:["child_templates"]}};b=a;f["default"]=b}),66);
__d("CoreWebBloksEnvironmentConfig",["WebBloksPrimitives","bkTraversalKeys"],(function(a,b,c,d,e,f,g){a={actions:d("WebBloksPrimitives").ACTIONS,components:d("WebBloksPrimitives").COMPONENTS,extensionHandlers:d("WebBloksPrimitives").EXTENSION_HANDLERS,traversalKeys:c("bkTraversalKeys")};g.CORE_ENVIRONMENT_CONFIG=a}),98);
__d("E2EELinkPreviewXMASendStatus",[],(function(a,b,c,d,e,f){a=Object.freeze({SENDING:1});f["default"]=a}),66);
__d("MAWDeanonDataCheck",["gkx"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b,d){if(!c("gkx")("8338")){var e=b;d||(e=b+1);return a.length>=e}if(a.length===0)return!1;var f=a[a.length-1].sortOrderMs;e=a.filter(function(a){return a.sortOrderMs===f});e=a.length-e.length;if(!d){var g=a[0].sortOrderMs;d=a.filter(function(a){return a.sortOrderMs===g});e-=d.length}return e>=b}g.hasEnoughDeanonData=a}),98);
__d("MAWFetchEBDeanonMessagesMetadata",["DateConsts","EBFormatUtils","FBLogger","I64","MAWEBDeanonFetch","MAWMessagesDirection","MAWMessagesPaginationUtils","Promise","WAResultOrError","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=100,k="timeout",l=10*d("DateConsts").MS_PER_SEC;function a(a){return m.apply(this,arguments)}function m(){m=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var e=a.chatJid,f=a.direction,g=a.includeReferenceTimestamp,m=a.logger,n=a.range;a=a.sortFn;c("FBLogger")("messenger_web_product").info("EBMessageRangeDataSource: Issuing fetch request to EB Deanon API");m==null?void 0:m.markQPLPoint("eb_fetch_deanon_start");var o=d("MAWMessagesDirection").translateMwpDirectionToMawDirection(f),p=(i||(i=d("I64"))).to_float(d("EBFormatUtils").adjustTs(d("MAWMessagesDirection").getI64RangeTimestampForDirection(f,n),o));f=(yield d("MAWMessagesPaginationUtils").getRangeExternalIdForDirection(f,n));return(h||(h=b("Promise"))).race([d("MAWEBDeanonFetch").fetchMessagesMetadataFromEBDeanon({chatJid:e,count:j,direction:o,includeReferenceTimestamp:g,referenceExternalId:f,referenceTimestampMs:p,sortFn:a}),new h(function(a){return window.setTimeout(function(){return a(d("WAResultOrError").makeError(k))},l)})]).then(function(a){m==null?void 0:m.markQPLPoint("eb_fetch_deanon_end");return a})});return m.apply(this,arguments)}g.fetchEBDeanonMessagesMetadata=a}),98);
__d("MAWFetchDeanonMetadataUsingCache",["I64","MAWDeanonDataCheck","MAWFetchEBDeanonMessagesMetadata","MAWMessagesDirection","WAResultOrError","WATagsLogger","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";var h;function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["Using cached Deanon messages metadata for comparison\n        to local data"]);i=function(){return a};return a}var j=d("WATagsLogger").TAGS(["MAWFetchDeanonMetadataUsingCache"]),k=new Map();function a(a){return l.apply(this,arguments)}function l(){l=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=a.chatJid,c=a.direction,e=a.isFirstPage,f=a.logger,g=a.pageSize,h=a.range;a=a.sortFn;var k=m(b,c,f,h);if(k!=null){f==null?void 0:f.addQPLAnnotations({bool:{is_first_page:e},"int":{deanon_cached_data_size:k==null?void 0:k.length}});if(d("MAWDeanonDataCheck").hasEnoughDeanonData(k,g,e)){j.LOG(i());f==null?void 0:f.addQPLAnnotations({bool:{is_deanon_cached_data_used:!0}});return d("WAResultOrError").makeResult(k)}}g=(yield d("MAWFetchEBDeanonMessagesMetadata").fetchEBDeanonMessagesMetadata({chatJid:b,direction:c,includeReferenceTimestamp:!e,logger:f,range:h,sortFn:a}));g.success===!0&&(f==null?void 0:f.addQPLAnnotations({bool:{is_deanon_data_fetched:!0}}),o(b,c,f,g.value,h));return g});return l.apply(this,arguments)}function m(a,b,c,e){c==null?void 0:c.markQPLPoint("deanon_cache_fetch_start");a=(a=k.get(a))==null?void 0:a.get(b);if(a==null)return null;var f=d("MAWMessagesDirection").getI64RangeTimestampForDirection(b,e);e=(h||(h=d("I64"))).ge(f,a.minTimestampMs)&&(h||(h=d("I64"))).le(f,a.maxTimestampMs);if(!e)return null;e=d("MAWMessagesDirection").switchOnMWPMessagesDirection(b,{asc:a.msgsMetadata.findIndex(function(a){return(h||(h=d("I64"))).ge(h.of_float(a.sortOrderMs),f)}),desc:a.msgsMetadata.findIndex(function(a){return(h||(h=d("I64"))).le(h.of_float(a.sortOrderMs),f)})});b=a.msgsMetadata.slice(e);c==null?void 0:c.markQPLPoint("deanon_cache_fetch_end");return b}function n(a,b,c,d){var e;e=(e=k.get(a))!=null?e:new Map();e.set(b,{maxTimestampMs:d.max,minTimestampMs:d.min,msgsMetadata:c});k.set(a,e)}function o(a,b,c,e,f){if(e.length===0)return;c==null?void 0:c.markQPLPoint("deanon_cache_replace_start");var g=(h||(h=d("I64"))).of_float(e[e.length-1].sortOrderMs);f=d("MAWMessagesDirection").switchOnMWPMessagesDirection(b,{asc:{max:g,min:f.maxTimestampMs},desc:{max:f.minTimestampMs,min:g}});n(a,b,e,f);c==null?void 0:c.markQPLPoint("deanon_cache_replace_end")}g.MAWFetchDeanonMetadataUsingCache=a}),98);
__d("MAWFetchMessagesForMLv2",["DateConsts","MAWMessagesDirection","MAWMessagesPaginationUtils","MAWSecureLocalDBFetch","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";var h=10*d("DateConsts").MS_PER_SEC;function a(a){return i.apply(this,arguments)}function i(){i=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=a.chatJid,e=a.direction,f=a.includeOriginalMsg,g=a.pageSize;a=a.range;var i=d("MAWMessagesDirection").getRangeMsgIdForDirection(e,a),j=(yield d("MAWMessagesPaginationUtils").getRangeExternalIdForDirection(e,a));b=(yield c("MAWSecureLocalDBFetch")({actionType:"user",chatJid:b,config:{admin:!0,editMsgHistory:!0,media:!0,reactions:!0,receiverFetch:!0,xma:!0},count:g,direction:d("MAWMessagesDirection").translateMwpDirectionToMawDirection(e),offsetMsg:{externalId:j,includeOriginalMsg:f,messageId:i},timestampMs:d("MAWMessagesDirection").getI64RangeTimestampForDirection(e,a)},{timeoutMs:h}));b.success===!0&&d("MAWMessagesPaginationUtils").populateExternalIdCache(b.value.msgs);return b});return i.apply(this,arguments)}g.fetchMessagesFromMAW=a}),98);
__d("MAWFetchLocalMessagesAndMetadata",["MAWFetchMessagesForMLv2","WAResultOrError","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return h.apply(this,arguments)}function h(){h=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=a.chatJid,c=a.direction,e=a.pageSize,f=a.range;a=a.sortFn;b=(yield d("MAWFetchMessagesForMLv2").fetchMessagesFromMAW({chatJid:b,direction:c,includeOriginalMsg:!0,pageSize:e+1,range:f}));if(b.success===!1)return d("WAResultOrError").makeError(b.error);c=i(b.value.msgs).sort(a);return d("WAResultOrError").makeResult({localMsgsMetadata:c,mawFetchResult:b.value})});return h.apply(this,arguments)}function i(a){return a.map(function(a){return{externalId:a.externalId,msgType:a.type_,sortOrderMs:a.sortOrderMs}})}g["default"]=a}),98);
__d("MAWFindMsgsWithMinAndMaxTimestamp",["MAWMessagesCompare","qex"],(function(a,b,c,d,e,f,g){"use strict";function a(a){if(a.length===0)return[null,null];if(c("qex")._("18"))return h(a);a=a.toSorted(function(a,b){return((a=a.sortOrderMs)!=null?a:0)-((a=b.sortOrderMs)!=null?a:0)});return[a[0],a[a.length-1]]}function b(a){a=a.filter(function(a){return a.sortOrderMs!=null});if(a.length===0)return[null,null];if(c("qex")._("18"))return h(a);var b=null,d=null;for(var a=a,e=Array.isArray(a),f=0,a=e?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var g,i;if(e){if(f>=a.length)break;i=a[f++]}else{f=a.next();if(f.done)break;i=f.value}i=i;if(i.sortOrderMs==null)continue;(((g=b)==null?void 0:g.sortOrderMs)==null||b.sortOrderMs<i.sortOrderMs)&&(b=i);(((g=d)==null?void 0:g.sortOrderMs)==null||d.sortOrderMs>i.sortOrderMs)&&(d=i)}return[d,b]}function h(a){if(a.length===0)return[null,null];var b=d("MAWMessagesCompare").getSortComparisonFunctionForDirection("asc");a=a.filter(function(a){return a.sortOrderMs!=null}).sort(b);return[a[0],a[a.length-1]]}g.findEBMsgsWithMinAndMaxTimestamp=a;g.findMsgsWithMinAndMaxTimestamp=b}),98);
__d("MAWMessagesRangesUtils",["I64","MAWFindMsgsWithMinAndMaxTimestamp","MAWMessagesDirection","gkx"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a){return{hasMoreAfter:!1,hasMoreBefore:!1,isLoadingAfter:!1,isLoadingBefore:!1,maxMessageId:"",maxTimestampMs:(h||(h=d("I64"))).max_int,minMessageId:"",minTimestampMs:h.min_int,threadKey:a}}function b(){return{maxExternalId:null,minExternalId:null}}function e(a){var b,e=a.direction,f=a.hasMoreMsgsInDeanon,g=a.mawFetchResult,j=a.range;a=a.rangeExternalIds;var k=[].concat(g.msgs).sort(function(a,b){return a.sortOrderMs-b.sortOrderMs}),l=k.length>0?k[0]:void 0;k=k.length>0?k[k.length-1]:void 0;var m=c("gkx")("8338");g=d("MAWMessagesDirection").switchOnMWPMessagesDirection(e,{asc:babelHelpers["extends"]({},j,{hasMoreAfter:g.hasMoreAfter||m&&f,isLoadingAfter:!1,maxMessageId:(b=k==null?void 0:k.msgId)!=null?b:j.maxMessageId,maxTimestampMs:(h||(h=d("I64"))).max(j.maxTimestampMs,(k==null?void 0:k.sortOrderMs)!=null?(h||(h=d("I64"))).of_float(k==null?void 0:k.sortOrderMs):j.maxTimestampMs)}),desc:babelHelpers["extends"]({},j,{hasMoreBefore:g.hasMoreBefore||m&&f,isLoadingBefore:!1,minMessageId:(b=l==null?void 0:l.msgId)!=null?b:j.minMessageId,minTimestampMs:h.min(j.minTimestampMs,(l==null?void 0:l.sortOrderMs)!=null?(h||(h=d("I64"))).of_float(l==null?void 0:l.sortOrderMs):j.minTimestampMs)})});m=i(e,l,k,a);return[g,m]}function f(a,b,c,e){var f,g=d("MAWFindMsgsWithMinAndMaxTimestamp").findMsgsWithMinAndMaxTimestamp(c.msgs),j=g[0];g=g[1];c=babelHelpers["extends"]({},a,d("MAWMessagesDirection").switchOnMWPMessagesDirection(e,{asc:{hasMoreAfter:c.hasMoreAfter,isLoadingAfter:!1,maxMessageId:(f=g==null?void 0:g.msgId)!=null?f:a.maxMessageId,maxTimestampMs:(h||(h=d("I64"))).max(a.maxTimestampMs,(g==null?void 0:g.sortOrderMs)!=null?(h||(h=d("I64"))).of_float(g==null?void 0:g.sortOrderMs):a.maxTimestampMs)},desc:{hasMoreBefore:c.hasMoreBefore,isLoadingBefore:!1,minMessageId:(f=j==null?void 0:j.msgId)!=null?f:a.minMessageId,minTimestampMs:h.min(a.minTimestampMs,(j==null?void 0:j.sortOrderMs)!=null?(h||(h=d("I64"))).of_float(j==null?void 0:j.sortOrderMs):a.minTimestampMs)}}));f=i(e,j,g,b);return[c,f]}function i(a,b,c,e){return babelHelpers["extends"]({},d("MAWMessagesDirection").switchOnMWPMessagesDirection(a,{asc:{maxExternalId:(a=c==null?void 0:c.externalId)!=null?a:e.maxExternalId,minExternalId:e.minExternalId},desc:{maxExternalId:e.maxExternalId,minExternalId:(c=b==null?void 0:b.externalId)!=null?c:e.minExternalId}}))}g.getRangeForFailure=a;g.getRangeExternalIdsForFailure=b;g.getNewMAWRange=e;g.mergeMoreMessagesResponseIntoRange=f;g.getNewMsgsRangesExternalIds=i}),98);
__d("MLv2LoggingUtils",[],(function(a,b,c,d,e,f){"use strict";function a(a){return"["+a.map(function(a){return"{"+a.externalId+", "+a.sortOrderMs+"}"}).join(", ")+"]"}f.getLogStrForMsgsMetadata=a}),66);
__d("EBDeanonRangeExtension",["FBLogger","I64","MAWFetchDeanonMetadataUsingCache","MAWFetchLocalMessagesAndMetadata","MAWMessagesCompare","MAWMessagesDirection","MAWMessagesRangesUtils","MAWMsgType","MAWPutMessagesToDB","MLv2LoggingUtils","Promise","WATagsLogger","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["[","] Filtered deanon data (to be compared with local) ",""]);j=function(){return a};return a}function k(){var a=babelHelpers.taggedTemplateLiteralLoose(["[","] Skip filtering given that it is a first page"]);k=function(){return a};return a}function l(){var a=babelHelpers.taggedTemplateLiteralLoose(["[","] Raw deanon data ",""]);l=function(){return a};return a}function m(){var a=babelHelpers.taggedTemplateLiteralLoose(["[","] Encountered unavailable or ciphertext message, EB restore is required"]);m=function(){return a};return a}function n(){var a=babelHelpers.taggedTemplateLiteralLoose(["[","] MAW fetch failed: ",""]);n=function(){return a};return a}function o(){var a=babelHelpers.taggedTemplateLiteralLoose(["[","] Deanon fetch failed: ",""]);o=function(){return a};return a}function p(){var a=babelHelpers.taggedTemplateLiteralLoose(["[","] Fetching deanon and local data for page size ",""]);p=function(){return a};return a}function q(){var a=babelHelpers.taggedTemplateLiteralLoose(["[","] Range is not valid for EB deanon ",""]);q=function(){return a};return a}function r(){var a=babelHelpers.taggedTemplateLiteralLoose(["Local external ids do not match de-anon. Local: [","], ToExistInLocal: [","]"]);r=function(){return a};return a}function s(){var a=babelHelpers.taggedTemplateLiteralLoose(["Local data exists but in the wrong order."]);s=function(){return a};return a}function t(){var a=babelHelpers.taggedTemplateLiteralLoose(["Local data was sufficient, skipping EB restore, hasMoreMsgsInDeanon: ",""]);t=function(){return a};return a}function u(){var a=babelHelpers.taggedTemplateLiteralLoose(["Not enough local metadata, hasMoreMsgsInDeanon: ",". Expected (","), got (",")."]);u=function(){return a};return a}function v(){var a=babelHelpers.taggedTemplateLiteralLoose(["Deanon data is empty, check if de-anon API is enabled: bunnylol labyrinth <user_id>"]);v=function(){return a};return a}function w(){var a=babelHelpers.taggedTemplateLiteralLoose(["Comparing deanon (size ",") and local (size ",") metadata"]);w=function(){return a};return a}var x=d("WATagsLogger").TAGS(["EBDeanonRangeExtension"]);function y(a){return a.filter(function(a){return a.type_===d("MAWMsgType").MSG_TYPE.UNAVAILABLE||a.type_===d("MAWMsgType").MSG_TYPE.CIPHERTEXT}).length>0}function z(a,b){b=d("MAWMessagesDirection").getI64RangeTimestampForDirection(a,b);return d("MAWMessagesDirection").switchOnMWPMessagesDirection(a,{asc:!(i||(i=d("I64"))).equal(b,i.max_int),desc:!i.equal(b,i.min_int)})}function a(a){return A.apply(this,arguments)}function A(){A=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var e=a.chatJid,f=a.db,g=a.direction,i=a.dispatch,r=a.logger,s=a.pageSize,t=a.range;a=a.rangeExternalIds;if(!z(g,t)){x.LOG(q(),e,t.threadKey);return(h||(h=b("Promise"))).resolve(null)}var u=d("MAWMessagesCompare").getSortComparisonFunctionForDirection(g);x.LOG(p(),e,s);r==null?void 0:r.markQPLPoint("maw_fetch_for_deanon_optimisation_start");var v=d("MAWMessagesDirection").isFirstPageRange(t,g),w=(yield (h||(h=b("Promise"))).all([d("MAWFetchDeanonMetadataUsingCache").MAWFetchDeanonMetadataUsingCache({chatJid:e,direction:g,isFirstPage:v,logger:r,pageSize:s,range:t,sortFn:u}),c("MAWFetchLocalMessagesAndMetadata")({chatJid:e,direction:g,pageSize:s,range:t,sortFn:u})])),A=w[0];w=w[1];if(A.success===!1){x.WARN(o(),e,A.error);c("FBLogger")("messenger_web_product").warn("EBMessageRangeDataSource: Deanon messages metadata fetch failed, try to fetch messages from EB");return(h||(h=b("Promise"))).resolve(null)}if(w.success===!1){r==null?void 0:r.markQPLPoint("maw_fetch_for_deanon_optimisation_failed");x.WARN(n(),e,w.error);c("FBLogger")("messenger_web_product").warn("EBMessageRangeDataSource: MAW fetch fetch failed, try to fetch messages from EB");return(h||(h=b("Promise"))).resolve(null)}r==null?void 0:r.markQPLPoint("maw_fetch_for_deanon_optimisation_end");w=w.value;var D=w.localMsgsMetadata;w=w.mawFetchResult;if(y(w.msgs)){x.WARN(m(),e);return(h||(h=b("Promise"))).resolve(null)}x.LOG(l(),e,d("MLv2LoggingUtils").getLogStrForMsgsMetadata(A.value));if(v){x.LOG(k(),e);return C({db:f,deanonMsgsMetadata:A.value,direction:g,dispatch:i,localMsgsMetadata:D,logger:r,mawFetchResult:w,pageSize:s,range:t,rangeExternalIds:a,sortFn:u})}v=B({mawFetchResult:w,sortedDeanonMsgsMetadata:A.value,sortedLocalMsgsMetadata:D});w=v.filteredDeanonMsgsMetadata;A=v.filteredLocalMsgsMetadata;D=v.filteredMawFetchResult;x.LOG(j(),e,d("MLv2LoggingUtils").getLogStrForMsgsMetadata(w));return C({db:f,deanonMsgsMetadata:w,direction:g,dispatch:i,localMsgsMetadata:A,logger:r,mawFetchResult:D,pageSize:s,range:t,rangeExternalIds:a,sortFn:u})});return A.apply(this,arguments)}function B(a){var b=a.mawFetchResult,c=a.sortedDeanonMsgsMetadata;a=a.sortedLocalMsgsMetadata;if(a.length===0)return{filteredDeanonMsgsMetadata:c,filteredLocalMsgsMetadata:a,filteredMawFetchResult:b};var d=a[0].externalId,e=a[0].sortOrderMs;a=a.slice(1);c=c.slice(c.findIndex(function(a){return a.externalId===d})+1);var f=b.msgs.filter(function(a){return!(a.externalId===d&&a.sortOrderMs===e)});return{filteredDeanonMsgsMetadata:c,filteredLocalMsgsMetadata:a,filteredMawFetchResult:babelHelpers["extends"]({},b,{msgs:f})}}function C(a){return D.apply(this,arguments)}function D(){D=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var e=a.db,f=a.deanonMsgsMetadata,g=a.direction,i=a.dispatch,j=a.localMsgsMetadata,k=a.logger,l=a.mawFetchResult,m=a.pageSize,n=a.range,o=a.rangeExternalIds;a=a.sortFn;k==null?void 0:k.markQPLPoint("maw_vs_eb_deanon_comparison_start");j=E(j,f,m,a);f=j.hasMoreMsgsInDeanon;m=j.isDataPresentLocally;k==null?void 0:k.markQPLPoint("maw_vs_eb_deanon_comparison_end");k==null?void 0:k.addQPLAnnotations({bool:{is_data_restored_locally_when_extending_range:m}});c("FBLogger")("messenger_web_product").info("EBMessageRangeDataSource: Optimistic range extension using Deanon, isDataPresentLocally: %s",m.toString());if(!m)return(h||(h=b("Promise"))).resolve(null);k==null?void 0:k.markQPLPoint("insert_msgs_to_lsdb_start","begin inserting the messages into LSDB");yield d("MAWPutMessagesToDB").insertMessageResponseIntoDatabase(e,l,i,k==null?void 0:k.getInstanceKey());k==null?void 0:k.markQPLPoint("insert_msgs_to_lsdb_end");return(h||(h=b("Promise"))).resolve(d("MAWMessagesRangesUtils").getNewMAWRange({direction:g,hasMoreMsgsInDeanon:f,mawFetchResult:l,range:n,rangeExternalIds:o}))});return D.apply(this,arguments)}function E(a,b,c,d){x.LOG(w(),b.length,a.length);if(b.length===0){x.WARN(v());return{hasMoreMsgsInDeanon:!1,isDataPresentLocally:!1}}var e=[].concat(b,a).reduce(function(a,b){a[b.externalId]=b;return a},{}),f=new Set([].concat(a.map(function(a){return a.externalId}),b.map(function(a){return a.externalId})));f=Array.from(f).map(function(a){return e[a]}).sort(d);d=f.slice(0,c);var g=new Set(f.slice(c).map(function(a){return a.externalId}));f=b.some(function(a){return g.has(a.externalId)});if(a.length<d.length){x.LOG(u(),f,d.length,a.length);return{hasMoreMsgsInDeanon:f,isDataPresentLocally:!1}}c=d.every(function(b,c){return b.externalId===a[c].externalId});if(c)x.LOG(t(),f);else{var h=new Set(a.map(function(a){return a.externalId}));d.every(function(a,b){return h.has(a.externalId)})&&x.WARN(s());x.LOG(r(),a.map(function(a){return a.externalId}).join(", "),d.map(function(a){return a.externalId}).join(", "))}return{hasMoreMsgsInDeanon:f,isDataPresentLocally:c}}g.getRangeFromLocalDataIfConsistent=a;g.excludeOffsetMsg=B;g.isDeanonDataPresentLocally=E}),98);
__d("MAWFetchMessagesFromEBForMLv2",["EbFetchTimeoutMsForMLv2","I64","MAWEBFetch","MAWEBMsgsWithSameSortOrderFix","MAWMessagesDirection","MAWMessagesPaginationUtils","MAWTraceUtils","MWEncryptedBackUpEBNotEnabledError","Promise","WAResultOrError","WATagsLogger","asyncToGeneratorRuntime","recoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["EBMessageRangeDataSource: Failed to fetch messages from EB. Message: "," TraceId: "," Request: ",""]);j=function(){return a};return a}var k="timeout";function a(a){return l.apply(this,arguments)}function l(){l=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var e=a.chatJid,f=a.db,g=a.direction,l=a.logger,n=a.pageSize;a=a.range;l==null?void 0:l.markQPLPoint("wait_eb_fetch_start");var o=d("MAWMessagesDirection").getI64RangeTimestampForDirection(g,a),p=e+":"+(i||(i=d("I64"))).to_string(o)+":"+g+":"+n,q=(yield d("MAWMessagesPaginationUtils").getRangeExternalIdForDirection(g,a)),r=d("MAWEBMsgsWithSameSortOrderFix").overFetchEBMsgsIfNeeded(n,q),s=d("MAWMessagesDirection").translateMwpDirectionToMawDirection(g),t=d("MAWTraceUtils").createTraceId();e=(yield (h||(h=b("Promise"))).race([c("MAWEBFetch")({chatJid:e,count:r,db:f,direction:s,timestampMs:o,traceId:t}),new h(function(a){return window.setTimeout(function(){return a(d("WAResultOrError").makeError(k))},c("EbFetchTimeoutMsForMLv2")())})]));if(e.success===!1){l==null?void 0:l.markQPLPoint("eb_fetch_response_fail");l==null?void 0:l.addQPLAnnotations({string:{eb_failure_reason:e.error,eb_restore_status:e.error}});e.error!==k&&e.error!==d("MWEncryptedBackUpEBNotEnabledError").EB_NOT_ENABLED&&d("WATagsLogger").TAGS(["maw_message_core","EBMessageRangeDataSource",t]).ERROR(j(),e.error,t,p);return e}l==null?void 0:l.addQPLAnnotations({string:{eb_restore_status:"success",eb_restore_type:(r=e.value)==null?void 0:r.restoreType}});f=d("MAWEBMsgsWithSameSortOrderFix").fixEBFetchResultPagination({direction:s,ebFetchResult:e.value,msgCount:n,referenceExternalId:q});o=m({direction:g,fetchResult:f,range:a});l==null?void 0:l.markQPLPoint("wait_eb_fetch_end");return d("WAResultOrError").makeResult({raw:f,recovered:o})});return l.apply(this,arguments)}function m(a){var b=a.direction,e=a.fetchResult,f=a.range;a=b==="asc"?e.messages.filter(function(a){return a.sortOrderMs!=null&&(i||(i=d("I64"))).ge((i||(i=d("I64"))).of_float(a.sortOrderMs),f.maxTimestampMs)}):e.messages.filter(function(a){return a.sortOrderMs!=null&&(i||(i=d("I64"))).le((i||(i=d("I64"))).of_float(a.sortOrderMs),f.minTimestampMs)});var g=babelHelpers["extends"]({},e,{messages:a});a.length!==e.messages.length&&c("recoverableViolation")("EBMessageRangeDataSource: EB fetch API returned invalid messages outside requested timerange","messenger_web_product");a.length===0&&(b==="asc"&&e.hasMoreAfter&&(g.hasMoreAfter=!1,c("recoverableViolation")("EBMessageRangeDataSource: Unexpected null messages after","messenger_web_product")),b==="desc"&&e.hasMoreBefore&&(g.hasMoreBefore=!1,c("recoverableViolation")("EBMessageRangeDataSource: Unexpected null messages before","messenger_web_product")));return g}g["default"]=a}),98);
__d("ReplayLastSubjectWithMapper",["relay-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h=Object.freeze({});a=function(){function a(a,b){var c=this;a===void 0&&(a=h);this.$1=!1;this.$5=new Set();this.$3=a;this.$6=b;this.$4=d("relay-runtime").Observable.create(function(a){if(c.$1){c.$2!=null?a.error(c.$2):a.complete();return}c.$5.add(a);c.$3!==h&&a.next(c.$6(c.$3));return function(){c.$5["delete"](a)}})}var b=a.prototype;b.next=function(a){if(this.$1)return;if(this.$3===a)return;this.$3=a;this.$5.forEach(function(b){return b.next(a)})};b.error=function(a){if(this.$1)return;this.$1=!0;this.$2=a;this.$5.forEach(function(b){return b.error(a)})};b.complete=function(){if(this.$1)return;this.$1=!0;this.$5.forEach(function(a){return a.complete()})};b.subscribe=function(a){return this.$4.subscribe(a)};return a}();g.ReplayLastSubjectWithMapper=a}),98);
__d("MAWMessageRangeDataExternalObservables",["ReplayLastSubjectWithMapper","nullthrows"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(){this.$1=[]}var b=a.prototype;b.getOrCreateExternalObservableForRange=function(a,b){var c=this.$1.find(function(b){var c=b[0];b[1];return a===c});if(c!=null)return c[1];c=new(d("ReplayLastSubjectWithMapper").ReplayLastSubjectWithMapper)({range:a.value,rangeExternalIds:b,type:"range_only"},function(a){var b=a.range;a=a.rangeExternalIds;return{range:b,rangeExternalIds:a,type:"range_only"}});this.$1.push([a,c]);return c};b.updateExternalObservableWithRange=function(a,b){var d=c("nullthrows")(this.$1.find(function(b){b[0];b=b[1];return b===a}));d[0]!==b&&(d[0]=b)};return a}();g.MAWMessageRangeDataExternalObservables=a}),98);
__d("MAWWaitForACTThreadReadyForMLv2",["MAWMiActGetThreadLifecycleState","MAWMiActOnActThreadReady","asyncToGeneratorRuntime","requireDeferred"],(function(a,b,c,d,e,f,g){"use strict";var h=c("requireDeferred")("MAWMiActThreadReadyValidator").__setRef("MAWWaitForACTThreadReadyForMLv2");function a(a,b,c,d){return i.apply(this,arguments)}function i(){i=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,c,e,f){var g=(yield d("MAWMiActGetThreadLifecycleState").getThreadLifecycleStateByThreadKey(a,c,e)),i=g.type;f==null?void 0:f.addQPLAnnotations({string:{mi_act_thread_state_type:i}});return d("MAWMiActOnActThreadReady").waitForACTThreadReady(a,c,e).then(function(){var d=b("asyncToGeneratorRuntime").asyncToGenerator(function*(b){yield h.load().then(function(d){d=d.validateActThreadReady;return d({chatJid:b.chatJid,description:e,initialMappingState:i,tables:a,threadKey:c})});return b});return function(a){return d.apply(this,arguments)}}())});return i.apply(this,arguments)}g.waitForACTThreadReadyForMLv2=a}),98);
__d("MLV2RangeExtensionLogger",["I64","MAWQPLLogger","qpl"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function j(){i==null&&(i=c("MAWQPLLogger")(c("qpl")._(1056843758,"1768")));return i}var k=new Map();function l(a,b){return(h||(h=d("I64"))).to_string(a)+b}function a(a,b,c,e){var f=l(a,b),g=k.get(f);g!=null&&g.markQPLCancel("restart_logger");var i=j().markQPLStart(),m=new Set();g={addQPLAnnotations:function(a){j().addQPLAnnotations(i,a)},annotateMessageRangesDataSource:function(a){m.add(a),j().addQPLAnnotations(i,{string_array:{message_ranges_source:Array.from(m.keys())}})},getInstanceKey:function(){return i},markQPLCancel:function(a){j().addQPLAnnotations(i,{string:{cancel_reason:a}}),j().markQPLCancel(i),k["delete"](f)},markQPLFailure:function(a){j().markQPLFailure(i,a),k["delete"](f)},markQPLFailureWithMsg:function(a){j().markQPLFailureWithMsg(i,a),k["delete"](f)},markQPLPoint:function(a){j().markQPLPoint(i,a)},markQPLSuccess:function(){j().markQPLSuccess(i),k["delete"](f)}};g.addQPLAnnotations({bool:{is_initial_range:(h||(h=d("I64"))).equal(c.minTimestampMs,(h||(h=d("I64"))).max_int)&&(h||(h=d("I64"))).equal(c.maxTimestampMs,(h||(h=d("I64"))).max_int)},"int":{page_size:e},string:{direction:b,start_range:JSON.stringify(babelHelpers["extends"]({},c,{maxTimestampMs:c.maxTimestampMs==null?null:(h||(h=d("I64"))).to_string(c.maxTimestampMs),minTimestampMs:c.minTimestampMs==null?null:(h||(h=d("I64"))).to_string(c.minTimestampMs)})),thread_id:(h||(h=d("I64"))).to_string(a)}});k.set(f,g);return g}function b(a,b){a=l(a,b);return k.get(a)}g.startRangeExtensionLoggerForThread=a;g.getRangeExtensionLoggerForThread=b}),98);
__d("MessageRangeSet",["I64","ReplayLastSubject","err"],(function(a,b,c,d,e,f,g){"use strict";var h,i=function(b){babelHelpers.inheritsLoose(a,b);function a(a){var c;c=b.call(this,a)||this;c.value=a;return c}var c=a.prototype;c.next=function(a){this.value=a,b.prototype.next.call(this,a)};return a}(d("ReplayLastSubject").ReplayLastSubject),j=function(b){babelHelpers.inheritsLoose(a,b);function a(a){var c;c=b.call(this,a)||this;for(var d=arguments.length,e=new Array(d>1?d-1:0),f=1;f<d;f++)e[f-1]=arguments[f];e.forEach(function(a){c.subscribe({complete:function(){return a.complete()},error:function(b){return a.error(b)},next:function(b){return a.next(b)}})});c.next(a);return c}return a}(i);a=function(){function a(){this.$1=new Set()}var b=a.prototype;b.$2=function(a){for(var b=this.$1,c=Array.isArray(b),e=0,b=c?b:b[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var f;if(c){if(e>=b.length)break;f=b[e++]}else{e=b.next();if(e.done)break;f=e.value}f=f;var g=f.value;if((h||(h=d("I64"))).le(g.minTimestampMs,a)&&((h||(h=d("I64"))).ge(g.maxTimestampMs,a)||!g.hasMoreAfter))return f}return null};b.getRangeForTimestamp=function(a){return this.$2(a)};b.upsertRange=function(a){var b=Array.from(this.$1.values()).filter(function(b){return l(b.value,a)});if(b.length===0){var c=new i(a);this.$1.add(c);return c}c=k.apply(void 0,b.map(function(a){return a.value}).concat([a]));if(b.length===1){var d=b[0];d.next(c);return d}for(var d=b,e=Array.isArray(d),f=0,d=e?d:d[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var g;if(e){if(f>=d.length)break;g=d[f++]}else{f=d.next();if(f.done)break;g=f.value}g=g;this.$1["delete"](g)}g=babelHelpers.construct(j,[c].concat(b));this.$1.add(g);return g};return a}();function k(){for(var a=arguments.length,b=new Array(a),e=0;e<a;e++)b[e]=arguments[e];if(b.length===0)throw c("err")("Cannot merge 0 ranges");var f=b[0].threadKey,g=b[0].minTimestampMs,i=b[0].hasMoreAfter,j=b[0].hasMoreBefore,k=b[0].maxMessageId,l=b[0].minMessageId,m=b[0].maxTimestampMs;for(var n=1;n<b.length;n++){var o=b[n];(h||(h=d("I64"))).le(o.minTimestampMs,g)&&((h||(h=d("I64"))).equal(o.minTimestampMs,g)?j=j&&o.hasMoreBefore:j=o.hasMoreBefore,g=o.minTimestampMs,l=o.minMessageId);(h||(h=d("I64"))).ge(o.maxTimestampMs,m)&&((h||(h=d("I64"))).equal(o.maxTimestampMs,m)?i=i&&o.hasMoreAfter:i=o.hasMoreAfter,m=o.maxTimestampMs,k=o.maxMessageId)}return{hasMoreAfter:i,hasMoreBefore:j,isLoadingAfter:!1,isLoadingBefore:!1,maxMessageId:k,maxTimestampMs:m,minMessageId:l,minTimestampMs:g,threadKey:f}}function l(a,b){var c=(h||(h=d("I64"))).le(b.minTimestampMs,a.minTimestampMs),e=c?b:a;c=c?a:b;return m(e,c.minTimestampMs)?!0:!1}function m(a,b){return(h||(h=d("I64"))).ge(b,a.minTimestampMs)&&(h||(h=d("I64"))).le(b,a.maxTimestampMs)}g.MessageRangeSet=a;g.Subject=i}),98);
__d("EBMessageRangeDataSource",["EBDeanonRangeExtension","FBLogger","I64","LSDatabaseSingleton","LSEncryptedBackupsBackupTenancy","LSIntEnum","MAWEncryptedBackupUtils","MAWFetchMessagesForMLv2","MAWFetchMessagesFromEBForMLv2","MAWFindMsgsWithMinAndMaxTimestamp","MAWMessageIntegrityEBFetchStatus","MAWMessageRangeDataExternalObservables","MAWMessagesDirection","MAWMessagesPaginationUtils","MAWMessagesRangesUtils","MAWPutMessagesToDB","MAWWaitForACTThreadReadyForMLv2","MLV2DataSourceLogger","MLV2RangeExtensionLogger","MessageRangeSet","Promise","ReQL","ReQLObservable","ReplayLastSubject","asyncToGeneratorRuntime","err","gkx","nullthrows","recoverableViolation","relay-runtime","switchMap"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k,l=function(){function a(a){var e=this;this.$2=new(d("MessageRangeSet").MessageRangeSet)();this.$3=new(d("MAWMessageRangeDataExternalObservables").MAWMessageRangeDataExternalObservables)();this.getOrCreateMessageRangeCoveringCursor=function(a,b,c){c=e.$2.getRangeForTimestamp(a.timestampMs);b==null?void 0:b.annotateMessageRangesDataSource("EBMessageRangeDataSource");if(c!=null){b={maxExternalId:null,minExternalId:null};return e.$3.getOrCreateExternalObservableForRange(c,b)}c=(k||(k=d("I64"))).equal(a.timestampMs,k.max_int);b={hasMoreAfter:!c,hasMoreBefore:!0,isLoadingAfter:!1,isLoadingBefore:!1,maxMessageId:(b=a.messageId)!=null?b:"",maxTimestampMs:a.timestampMs,minMessageId:(c=a.messageId)!=null?c:"",minTimestampMs:a.timestampMs,threadKey:e.$1};c=e.$2.upsertRange(b);return e.$3.getOrCreateExternalObservableForRange(c,{maxExternalId:a==null?void 0:a.externalId,minExternalId:a==null?void 0:a.externalId})};this.$4=function(a){var b=d("MLV2DataSourceLogger").getMLV2LoggerForThread(e.$1,a),c=d("MLV2RangeExtensionLogger").getRangeExtensionLoggerForThread(e.$1,a);a={addQPLAnnotations:function(a){b==null?void 0:b.addQPLAnnotations(a),c==null?void 0:c.addQPLAnnotations(a)},annotateMessageRangesDataSource:function(a){b==null?void 0:b.annotateMessageRangesDataSource(a),c==null?void 0:c.annotateMessageRangesDataSource(a)},getInstanceKey:function(){var a;return(a=b==null?void 0:b.getInstanceKey())!=null?a:0},markQPLCancel:function(a){b==null?void 0:b.markQPLCancel(a),c==null?void 0:c.markQPLCancel(a)},markQPLFailure:function(a){b==null?void 0:b.markQPLFailure(a),c==null?void 0:c.markQPLFailure(a)},markQPLFailureWithMsg:function(a){b==null?void 0:b.markQPLFailureWithMsg(a),c==null?void 0:c.markQPLFailureWithMsg(a)},markQPLPoint:function(a,d){b==null?void 0:b.markQPLPoint(a,d),c==null?void 0:c.markQPLPoint(a,d)},markQPLSuccess:function(a){b==null?void 0:b.markQPLSuccess(a),c==null?void 0:c.markQPLSuccess()}};return a};this.extendRange=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,f,g,i,j){var k=e.$4(g);k==null?void 0:k.annotateMessageRangesDataSource("EBMessageRangeDataSource");k==null?void 0:k.markQPLPoint("eb_extend_range_start");var l=e.$2.getRangeForTimestamp(a.minTimestampMs);if(l==null){c("recoverableViolation")("EBDataSource: Requested to extend a nonexisting range","maw_message_core");k==null?void 0:k.markQPLPoint("extend_range_invalid");return(h||(h=b("Promise"))).resolve()}var m=l.value;a=(yield d("MAWMessagesPaginationUtils").getMessagesRangesV2ExternalIdsIfChanged(a,m,f));if(g==="asc"&&(!m.hasMoreAfter||m.isLoadingAfter)){k==null?void 0:k.markQPLPoint("extend_range_skipped");return(h||(h=b("Promise"))).resolve()}if(g==="desc"&&(!m.hasMoreBefore||m.isLoadingBefore)){k==null?void 0:k.markQPLPoint("extend_range_skipped");return(h||(h=b("Promise"))).resolve()}f=e.$3.getOrCreateExternalObservableForRange(l,a);f.next({range:babelHelpers["extends"]({},m,{isLoadingAfter:m.isLoadingAfter||g==="asc",isLoadingBefore:m.isLoadingBefore||g==="desc"}),rangeExternalIds:a,type:"range_only"});return e.$5(l.value,a,f,g,i,j)["catch"](function(a){k==null?void 0:k.markQPLPoint("eb_extend_range_failed");k==null?void 0:k.addQPLAnnotations({string:{range_extension_error:a instanceof Error?a.message:"unknown_error"}});throw a})});return function(b,c,d,e,f){return a.apply(this,arguments)}}();this.$5=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,f,g,h,j){var k=e.$4(g),l=(yield (i||(i=d("LSDatabaseSingleton"))).LSDatabaseSingleton);k==null?void 0:k.markQPLPoint("eb_wait_act_thread_start");var m=(yield d("MAWWaitForACTThreadReadyForMLv2").waitForACTThreadReadyForMLv2(l.tables,e.$1,"EBMessageRangeDataSourceForThread",k));m=m.chatJid;k==null?void 0:k.markQPLPoint("eb_wait_act_thread_end");var n=(yield d("EBDeanonRangeExtension").getRangeFromLocalDataIfConsistent({chatJid:m,db:l,direction:g,dispatch:j,logger:k,pageSize:h,range:a,rangeExternalIds:b}));if(n!=null){var o=n[0];n=n[1];k==null?void 0:k.addQPLAnnotations({string:{eb_restore_status:"skipped"}});k==null?void 0:k.markQPLPoint("maw_upsert_range_from_local_start");e.$7(f,babelHelpers["extends"]({},o,{threadKey:e.$1}),n);k==null?void 0:k.markQPLPoint("maw_upsert_range_from_local_end");return}k==null?void 0:k.addQPLAnnotations({string:{eb_restore_status:"pending"}});o=(yield c("MAWFetchMessagesFromEBForMLv2")({chatJid:m,db:l,direction:g,logger:k,pageSize:h,range:a}));if(o.success===!1){d("MAWMessageIntegrityEBFetchStatus").recordEBFailure(e.$1);k==null?void 0:k.markQPLPoint("eb_fallback_fetch_messages_from_maw_start");n=(yield d("MAWFetchMessagesForMLv2").fetchMessagesFromMAW({chatJid:m,direction:g,includeOriginalMsg:!1,pageSize:h,range:a}));k==null?void 0:k.markQPLPoint("eb_fallback_fetch_messages_from_maw_end");if(n.success===!1){k==null?void 0:k.markQPLPoint("eb_fallback_update_range_failed");e.$7(f,d("MAWMessagesRangesUtils").getRangeForFailure(e.$1),d("MAWMessagesRangesUtils").getRangeExternalIdsForFailure());return}n=d("MAWMessagesRangesUtils").mergeMoreMessagesResponseIntoRange(a,b,n.value,g);var p=n[0];n=n[1];k==null?void 0:k.markQPLPoint("eb_fallback_update_range_success");e.$7(f,p,n);return}k==null?void 0:k.markQPLPoint("maw_fetch_messages_from_eb_range_start");p=(yield d("MAWFetchMessagesForMLv2").fetchMessagesFromMAW({chatJid:m,direction:g,includeOriginalMsg:!1,pageSize:h,range:a}));if(p.success===!1){k==null?void 0:k.markQPLPoint("maw_fetch_messages_from_eb_range_failed");throw(n=p.payload)!=null?n:c("err")(p.error)}k==null?void 0:k.markQPLPoint("maw_fetch_messages_from_eb_range_end");k==null?void 0:k.markQPLPoint("insert_msgs_to_lsdb_start","begin inserting the messages into LSDB");yield d("MAWPutMessagesToDB").insertMessageResponseIntoDatabase(l,p.value,j,k==null?void 0:k.getInstanceKey());k==null?void 0:k.markQPLPoint("insert_msgs_to_lsdb_end");e.$6({direction:g,ebFetchResult:o.value,externalObservable:f,logger:k,mawFetchResult:p.value,range:a,rangeExternalIds:b})});return function(b,c,d,e,f,g){return a.apply(this,arguments)}}();this.$1=a}var e=a.prototype;e.$6=function(a){var b=a.direction,e=a.ebFetchResult,f=a.externalObservable,g=a.logger,h=a.mawFetchResult,i=a.range;a=a.rangeExternalIds;g==null?void 0:g.markQPLPoint("maw_upsert_range_from_eb_start");var j=e.raw,l=e.recovered.messages,m=l.map(function(a){return a.sortOrderMs}).filter(Boolean);m=[Math.min.apply(Math,m),Math.max.apply(Math,m)];var n=m[0];m=m[1];var o=d("MAWMessagesDirection").getI64RangeTimestampForDirection(b,i),p=b==="desc"?[(k||(k=d("I64"))).of_float(n),o]:[o,(k||(k=d("I64"))).of_float(m)];n=h.msgs.filter(function(a){return(k||(k=d("I64"))).ge((k||(k=d("I64"))).of_float(a.sortOrderMs),p[0])&&(k||(k=d("I64"))).le((k||(k=d("I64"))).of_float(a.sortOrderMs),p[1])});var q,r;if(n.length===0){o=c("gkx")("842")||c("gkx")("4767");if(!o){c("recoverableViolation")("EBMessageRangeDataSource: No local messages found within EB response range","messenger_web_product");g==null?void 0:g.markQPLPoint("eb_fetch_has_no_local_msg_overlap");this.$7(f,d("MAWMessagesRangesUtils").getRangeForFailure(this.$1),d("MAWMessagesRangesUtils").getRangeExternalIdsForFailure());return}c("FBLogger")("messenger_web_product").mustfix("EBMessageRangeDataSource: No local messages found within EB response range for protobuf. Filtered EB payload size: %s, original EB payload size: %s, original EB hasMoreBefore: %s, original EB hasMoreAfter: %s",l.length,j.messages.length,j.hasMoreBefore,j.hasMoreAfter);m=d("MAWFindMsgsWithMinAndMaxTimestamp").findEBMsgsWithMinAndMaxTimestamp(l);q=m[0];r=m[1]}else{h=d("MAWFindMsgsWithMinAndMaxTimestamp").findMsgsWithMinAndMaxTimestamp(n);q=h[0];r=h[1]}o=d("MAWMessagesDirection").switchOnMWPMessagesDirection(b,{asc:function(){var a,b;a=(a=(a=r)==null?void 0:a.msgId)!=null?a:i.maxMessageId;b=(k||(k=d("I64"))).max(i.maxTimestampMs,((b=r)==null?void 0:b.sortOrderMs)!=null?(k||(k=d("I64"))).of_float((b=r)==null?void 0:b.sortOrderMs):i.maxTimestampMs);if(j.hasMoreAfter===!0){var f=!1;(k||(k=d("I64"))).equal(i.maxTimestampMs,b)&&i.maxMessageId===a?(c("FBLogger")("messenger_web_product").mustfix("EBMessageRangeDataSource: stuck in the same max timestamp: %s",(k||(k=d("I64"))).to_string(b)),f=!0,b=k.add(b,k.of_int32(1))):j.isEndOfCurrentFormat===!0&&(f=!0);f&&(b=(k||(k=d("I64"))).equal(b,(k||(k=d("I64"))).max_int)?b:(k||(k=d("I64"))).add(b,(k||(k=d("I64"))).of_int32(1)))}return babelHelpers["extends"]({},i,{hasMoreAfter:e.recovered.hasMoreAfter,isLoadingAfter:!1,maxMessageId:a,maxTimestampMs:b})},desc:function(){var a,b;a=(a=(a=q)==null?void 0:a.msgId)!=null?a:i.minMessageId;b=(k||(k=d("I64"))).min(i.minTimestampMs,((b=q)==null?void 0:b.sortOrderMs)!=null?(k||(k=d("I64"))).of_float((b=q)==null?void 0:b.sortOrderMs):i.minTimestampMs);if(j.hasMoreBefore===!0){var f=!1;(k||(k=d("I64"))).equal(i.minTimestampMs,b)&&i.minMessageId===a?(c("FBLogger")("messenger_web_product").mustfix("EBMessageRangeDataSource: stuck in the same min timestamp: %s",(k||(k=d("I64"))).to_string(b)),f=!0):j.isEndOfCurrentFormat===!0&&(f=!0);f&&(b=(k||(k=d("I64"))).equal(b,(k||(k=d("I64"))).min_int)?b:(k||(k=d("I64"))).sub(b,(k||(k=d("I64"))).of_int32(1)))}return babelHelpers["extends"]({},i,{hasMoreBefore:e.recovered.hasMoreBefore,isLoadingBefore:!1,minMessageId:a,minTimestampMs:b})}});l=o();m=d("MAWMessagesRangesUtils").getNewMsgsRangesExternalIds(b,q,r,a);this.$7(f,l,m);g==null?void 0:g.markQPLPoint("maw_upsert_range_from_eb_end")};e.$7=function(a,b,c){b=this.$2.upsertRange(b);a.next({range:b.value,rangeExternalIds:c,type:"range_only"})};return a}(),m=function(){function a(a){var e=this;this.$1=new Map();this.$3=!1;this.getOrCreateMessageRangeCoveringCursor=function(a,b,f){var g=a.threadKey;return c("switchMap")(e.$2,function(c){return!c?d("relay-runtime").Observable.from(new(d("ReplayLastSubject").ReplayLastSubject)({range:{hasMoreAfter:!1,hasMoreBefore:!1,isLoadingAfter:!1,isLoadingBefore:!1,maxMessageId:"",maxTimestampMs:(k||(k=d("I64"))).max_int,minMessageId:"",minTimestampMs:k.min_int,threadKey:g},rangeExternalIds:{maxExternalId:null,minExternalId:null},type:"range_only"})):d("relay-runtime").Observable.from(e.$4(g).getOrCreateMessageRangeCoveringCursor(a,b,f))})};this.extendRange=function(a,c,f,g,i){var j=a.threadKey,k=d("MLV2DataSourceLogger").getMLV2LoggerForThread(j,f);if(!e.$3){k==null?void 0:k.markQPLPoint("eb_extend_range_skipped_due_to_disabled");return(h||(h=b("Promise"))).resolve()}return e.$4(j).extendRange(a,c,f,g,i)};this.$2=d("ReQLObservable").create(a,function(){return d("ReQL").fromTableAscending(a.tables.secure_encrypted_backups_client_state).take(1).map(function(a){var b=d("MAWEncryptedBackupUtils").getBackupTenancyFromClientStateRow(a);b!=null&&a.backupTenancy==null&&c("FBLogger")("messenger_web_product").warn("Previously broken state of invalid backup tenancy is caught");return b!=null&&(k||(k=d("I64"))).equal(b,(j||(j=d("LSIntEnum"))).ofNumber(c("LSEncryptedBackupsBackupTenancy").PRODUCTION))})}).map(function(a){return Boolean(a==null?void 0:(a=a[0])==null?void 0:a[1])})["do"]({next:function(a){e.$3=a}})}var e=a.prototype;e.$4=function(a){var b=(k||(k=d("I64"))).to_string(a);if(!this.$1.has(b)){a=new l(a);this.$1.set(b,a)}return c("nullthrows")(this.$1.get(b))};return a}(),n,o;function a(a){(n==null||o!==a)&&(o=a,n=new m(a));return n}g["default"]=a}),98);
__d("FBIconArrowDownOutline20.svg.react",["XPlatReactSVG","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){return i.jsxs(d("XPlatReactSVG").Svg,babelHelpers["extends"]({viewBox:"0 0 20 20",width:"1em",height:"1em",fill:"currentColor",title:a.title},a,{children:[a.children!=null&&i.jsx(d("XPlatReactSVG").Defs,{children:a.children}),i.jsxs(d("XPlatReactSVG").G,{fillRule:"evenodd",transform:"translate(-90 -248)",children:[i.jsx(d("XPlatReactSVG").Path,{fillRule:"nonzero",d:"M95.322 258.928a.75.75 0 0 0-1.06 1.06l5.208 5.209a.75.75 0 0 0 1.06 0l5.209-5.208a.75.75 0 0 0-1.06-1.06L100 263.605l-4.678-4.678z"}),i.jsx(d("XPlatReactSVG").Path,{fillRule:"nonzero",d:"M99.25 251.333v12.813a.75.75 0 1 0 1.5 0v-12.813a.75.75 0 1 0-1.5 0z"})]})]}))}a.displayName=a.name+" [from "+f.id+"]";a._isSVG=!0;b=a;g["default"]=b}),98);
__d("FBIconFaceHappyFilled12.svg.react",["XPlatReactSVG","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){return i.jsxs(d("XPlatReactSVG").Svg,babelHelpers["extends"]({viewBox:"0 0 12 13",width:"1em",height:"1em",fill:"currentColor",title:a.title},a,{children:[a.children!=null&&i.jsx(d("XPlatReactSVG").Defs,{children:a.children}),i.jsx(d("XPlatReactSVG").G,{fillRule:"evenodd",transform:"translate(-450 -1073)",children:i.jsx(d("XPlatReactSVG").Path,{d:"M458.508 1078.5a1 1 0 1 1-.015-2.002 1 1 0 0 1 .015 2.002m-.037 1.668c-.324.91-1.273 1.832-2.46 1.832h-.002c-1.2 0-2.157-.922-2.48-1.832a.5.5 0 1 1 .942-.335c.204.573.835 1.167 1.538 1.167h.001c.692 0 1.315-.593 1.519-1.168a.5.5 0 0 1 .942.335m-5.971-2.667a1 1 0 1 1 2 0 1 1 0 0 1-2 0m3.5-3.5a5.506 5.506 0 0 0-5.5 5.5c0 3.033 2.467 5.5 5.5 5.5s5.5-2.467 5.5-5.5-2.467-5.5-5.5-5.5"})})]}))}a.displayName=a.name+" [from "+f.id+"]";a._isSVG=!0;b=a;g["default"]=b}),98);
__d("FBIconLinkFilled12.svg.react",["XPlatReactSVG","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){return i.jsxs(d("XPlatReactSVG").Svg,babelHelpers["extends"]({viewBox:"0 0 12 13",width:"1em",height:"1em",fill:"currentColor",title:a.title},a,{children:[a.children!=null&&i.jsx(d("XPlatReactSVG").Defs,{children:a.children}),i.jsx(d("XPlatReactSVG").G,{fillRule:"evenodd",transform:"translate(-450 -1073)",children:i.jsxs(d("XPlatReactSVG").G,{children:[i.jsx(d("XPlatReactSVG").Path,{d:"m101.888 922.704-.336.336-.058.42a3.218 3.218 0 0 0 2.745 1.527 3.22 3.22 0 0 0 2.284-.943l1.952-1.952c1.16-1.16 1.363-3.026.361-4.325a3.233 3.233 0 0 0-4.848-.321l-1.842 1.843c.204-.032.41-.052.62-.052.46 0 .904.081 1.324.228l.923-.923c.584-.584 1.51-.72 2.198-.266a1.731 1.731 0 0 1 .283 2.676l-1.997 1.997c-.416.415-1.012.636-1.587.516a1.765 1.765 0 0 1-1.172-.846.956.956 0 0 0-.85.085",transform:"translate(352.5 157)"}),i.jsx(d("XPlatReactSVG").Path,{d:"m105.09 922.294.346-.346.058-.433a3.257 3.257 0 0 0-.45-.56 3.23 3.23 0 0 0-2.59-.939c-.792.07-1.522.462-2.084 1.024l-1.82 1.819c-1.293 1.292-1.367 3.482-.044 4.744a3.235 3.235 0 0 0 2.24.895c.831 0 1.662-.316 2.295-.949l1.848-1.848c-.223.038-.448.06-.673.06a4 4 0 0 1-1.29-.218l-.91.91c-.589.589-1.523.727-2.218.269a1.75 1.75 0 0 1-.287-2.703l2.002-2.002a1.754 1.754 0 0 1 2.466-.007c.12.12.17.18.25.323.245.146.57.147.862-.039",transform:"translate(352.5 157)"})]})})]}))}a.displayName=a.name+" [from "+f.id+"]";a._isSVG=!0;b=a;g["default"]=b}),98);
__d("FBIconNaviconFilled12.svg.react",["XPlatReactSVG","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){return i.jsxs(d("XPlatReactSVG").Svg,babelHelpers["extends"]({viewBox:"0 0 12 13",width:"1em",height:"1em",fill:"currentColor",title:a.title},a,{children:[a.children!=null&&i.jsx(d("XPlatReactSVG").Defs,{children:a.children}),i.jsx(d("XPlatReactSVG").G,{fillRule:"evenodd",transform:"translate(-450 -1073)",children:i.jsx(d("XPlatReactSVG").Path,{fillRule:"nonzero",d:"M452.75 1077.5h6.5a.75.75 0 1 0 0-1.5h-6.5a.75.75 0 1 0 0 1.5zm0 3h6.5a.75.75 0 1 0 0-1.5h-6.5a.75.75 0 1 0 0 1.5zm0 3h6.5a.75.75 0 1 0 0-1.5h-6.5a.75.75 0 1 0 0 1.5z"})})]}))}a.displayName=a.name+" [from "+f.id+"]";a._isSVG=!0;b=a;g["default"]=b}),98);
__d("FBIconPhotoAddFilled12.svg.react",["XPlatReactSVG","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){return i.jsxs(d("XPlatReactSVG").Svg,babelHelpers["extends"]({viewBox:"0 0 12 13",width:"1em",height:"1em",fill:"currentColor",title:a.title},a,{children:[a.children!=null&&i.jsx(d("XPlatReactSVG").Defs,{children:a.children}),i.jsx(d("XPlatReactSVG").G,{fillRule:"evenodd",transform:"translate(-450 -1073)",children:i.jsxs(d("XPlatReactSVG").G,{children:[i.jsx(d("XPlatReactSVG").Path,{d:"M107.5 923.64a.682.682 0 0 1-.07-.003l-1.567-.146-.148 1.579a.75.75 0 0 1-1.493-.14l.148-1.579-1.43-.134a.75.75 0 0 1-.677-.816.744.744 0 0 1 .816-.677l1.431.134.133-1.428a.749.749 0 1 1 1.493.14l-.133 1.428 1.567.146a.75.75 0 0 1-.07 1.497m1.126-6.13-5.797-.51a1.512 1.512 0 0 0-1.63 1.377l-.693 7.966c-.035.402.088.794.347 1.104.26.31.622.501 1.022.537l5.795.51a1.485 1.485 0 0 0 1.098-.35c.308-.26.498-.625.533-1.027l.693-7.967a1.506 1.506 0 0 0-.347-1.104 1.494 1.494 0 0 0-1.022-.537",transform:"translate(352 157)"}),i.jsx(d("XPlatReactSVG").Path,{d:"M100.27 927.842a2.528 2.528 0 0 1-.565-1.83l.165-1.926-.403-4.71a.183.183 0 0 1 .042-.132.178.178 0 0 1 .12-.065l.665-.06.09-1.037c.013-.167.046-.329.09-.484l-.973.087c-.437.038-.833.25-1.116.595a1.696 1.696 0 0 0-.379 1.227l.638 7.46c.038.448.245.853.582 1.142a1.61 1.61 0 0 0 1.2.389l.574-.052a2.456 2.456 0 0 1-.73-.604",transform:"translate(352 157)"})]})})]}))}a.displayName=a.name+" [from "+f.id+"]";a._isSVG=!0;b=a;g["default"]=b}),98);
__d("FBIconShareFilled12.svg.react",["XPlatReactSVG","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){return i.jsxs(d("XPlatReactSVG").Svg,babelHelpers["extends"]({viewBox:"0 0 12 13",width:"1em",height:"1em",fill:"currentColor",title:a.title},a,{children:[a.children!=null&&i.jsx(d("XPlatReactSVG").Defs,{children:a.children}),i.jsx(d("XPlatReactSVG").G,{fillRule:"evenodd",transform:"translate(-450 -1073)",children:i.jsxs(d("XPlatReactSVG").G,{children:[i.jsx(d("XPlatReactSVG").Path,{d:"M102 936.5c-1.903 0-3.847.017-5.811 3.326-.053.09-.192.048-.189-.057.213-8.03 6-7.769 6-7.769v-2.75c0-.112.17-.112.25-.034l4.712 4.978c.05.05.05.132 0 .182l-4.712 4.879c-.08.078-.25.022-.25-.091V936.5z",transform:"translate(354.5 145)"}),i.jsx(d("XPlatReactSVG").Path,{fillRule:"nonzero",d:"m101.352 937.011-.293.015c-1.954.125-3 .734-4.258 2.755l-.182.299c-.318.539-1.136.291-1.119-.324.096-3.613 1.284-5.962 3.22-7.246a6.126 6.126 0 0 1 2.136-.888c.235-.05.452-.082.644-.1v-2.272c0-.673.751-.733 1.113-.377l4.7 4.966a.625.625 0 0 1 .009.884l-4.722 4.888c-.385.378-1.1.127-1.1-.447v-2.157l-.148.004zm-4.637 1.151c1.39-1.738 2.83-2.162 5.285-2.162h.5v2.276l3.857-3.993-3.857-4.075v2.315l-.521-.023-.08-.001a5.134 5.134 0 0 0-2.627.845c-1.345.891-2.28 2.412-2.628 4.728l-.03.22.1-.13z",transform:"translate(354.5 145)"})]})})]}))}a.displayName=a.name+" [from "+f.id+"]";a._isSVG=!0;b=a;g["default"]=b}),98);
__d("NFXContextFactory",["FBLogger","uuidv4"],(function(a,b,c,d,e,f,g){"use strict";function h(a){var b=function(a,b){if(b!==null)return b};return JSON.stringify({reportable_ent_token:a.reportable_ent_token,story_location:a.story_location,entry_point:a.entry_point,type:a.type,session_id:c("uuidv4")(),initial_action_name:a.initial_action_name,reportable_id:a.reportable_id,page_id:a.page_id,responsible_id:a.responsible_id},b)}function a(a){var b=a.reportable_ent_token,c=a.story_location,d=a.entry_point;d=d===void 0?"unknown":d;a=a.responsible_id;return h({type:1,story_location:c,entry_point:d,reportable_ent_token:b,responsible_id:a})}function b(a){var b=a.reportable_id,c=a.page_id;a=a.storyLocation;return h({type:6,story_location:a,entry_point:"unknown",initial_action_name:"POLITICAL_ARCHIVE_REPORT_AD",reportable_id:b,page_id:c})}function d(a){var b=a.reportable_ent_token,c=a.story_location,d=a.entry_point;d=d===void 0?"unknown":d;var e=a.initial_action_name;a=a.page_id;return h({type:11,story_location:c,entry_point:d,reportable_ent_token:b,initial_action_name:e,page_id:a})}function e(a){var b=a.reportable_ent_token,d=a.story_location,e=a.entry_point;e=e===void 0?"unknown":e;a=a.initial_action_name;b===null&&c("FBLogger")("frx").warn("null or undefined reportable_ent_token in forEntReportable, location=%s entry_point=%s",d,e);return h({type:2,story_location:d,entry_point:e,reportable_ent_token:b,initial_action_name:a})}g.withEntMessageThread=a;g.withPoliticalArchiveAds=b;g.withEntReportableOnPage=d;g.withEntReportable=e}),98);
__d("XRapidReportingDialogController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/rapid_report/",{__asyncDialog:{type:"Int"},context:{type:"String",required:!0},preselectedtagid:{type:"Enum",enumType:1}})}),null);
__d("FRXURI",["ActorURI","NFXContextFactory","XRapidReportingDialogController"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=a.reportable_ent_token,e=a.story_location,f=a.entry_point;f=f===void 0?"unknown":f;var g=a.responsible_id;a=a.actor_id;b=d("NFXContextFactory").withEntMessageThread({reportable_ent_token:b,story_location:e,entry_point:f,responsible_id:g});e=c("XRapidReportingDialogController").getURIBuilder().setString("context",b).getURI();a!=null&&(e=d("ActorURI").create(e,a));return e}function b(a){var b=a.reportable_ent_token,e=a.story_location,f=a.entry_point;f=f===void 0?"unknown":f;var g=a.initial_action_name,h=a.actor_id;a=a.page_id;b=d("NFXContextFactory").withEntReportableOnPage({reportable_ent_token:b,story_location:e,entry_point:f,initial_action_name:g,page_id:a});e=c("XRapidReportingDialogController").getURIBuilder().setString("context",b).getURI();h!=null&&(e=d("ActorURI").create(e,h));return e}function e(a){var b=a.reportable_ent_token,e=a.story_location,f=a.entry_point;f=f===void 0?"unknown":f;var g=a.initial_action_name;a=a.actor_id;b=d("NFXContextFactory").withEntReportable({reportable_ent_token:b,story_location:e,entry_point:f,initial_action_name:g});e=c("XRapidReportingDialogController").getURIBuilder().setString("context",b).getURI();a!=null&&(e=d("ActorURI").create(e,a));return e}function f(a,b){return btoa(a+":"+b)}g.withEntMessageThread=a;g.withEntReportableOnPage=b;g.withEntReportable=e;g.getReportableToken=f}),98);
__d("GroupsCometChatEditChatDialogQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="6517941274957526"}),null);
__d("GroupsCometChatEditChatDialogQuery$Parameters",["GroupsCometChatEditChatDialogQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a={kind:"PreloadableConcreteRequest",params:{id:b("GroupsCometChatEditChatDialogQuery_facebookRelayOperation"),metadata:{},name:"GroupsCometChatEditChatDialogQuery",operationKind:"query",text:null}};e.exports=a}),null);
__d("GroupsCometChatEditChatDialog.entrypoint",["GroupsCometChatEditChatDialogQuery$Parameters","JSResourceForInteraction"],(function(a,b,c,d,e,f,g){"use strict";a={getPreloadProps:function(a){a=a.threadID;return{queries:{queryReference:{options:{fetchPolicy:"network-only"},parameters:c("GroupsCometChatEditChatDialogQuery$Parameters"),variables:{threadID:a}}}}},root:c("JSResourceForInteraction")("GroupsCometChatEditChatDialog.react").__setRef("GroupsCometChatEditChatDialog.entrypoint")};g["default"]=a}),98);
__d("WebBloksLogEvent",["FalcoLoggerInternal","WebBloksFalcoPolicyData"],(function(a,b,c,d,e,f,g){function a(a,b,e,f){a=d("FalcoLoggerInternal").create(b,c("WebBloksFalcoPolicyData").get(b));a.log(function(){return f})}g["default"]=a}),98);
__d("WebBloksLogEventCritical",["FalcoLoggerInternal","WebBloksFalcoPolicyData"],(function(a,b,c,d,e,f,g){function a(a,b,e,f){a=d("FalcoLoggerInternal").create(b,c("WebBloksFalcoPolicyData").get(b));a.logCritical(function(){return f})}g["default"]=a}),98);
__d("WebBloksOpenFRXAction",["FRXURI","JSResource"],(function(a,b,c,d,e,f,g){function a(a,b,e,f){var g=d("FRXURI").withEntReportable({reportable_ent_token:f,story_location:e,entry_point:b});c("JSResource")("XAsyncRequest").__setRef("WebBloksOpenFRXAction").load().then(function(a){a=new a().setURI(g);return a.send()})["catch"](function(b){a.objectSet.environment.logger.mustfix("WebBloksOpenFRXAction fetch failure",b)})}g["default"]=a}),98);
__d("WebBloksQPLUtils",[],(function(a,b,c,d,e,f){"use strict";function a(a,b,c){c=c!=null?c:void 0;return{i:a,m:c,r:b}}f.createSyntheticQPLEvent=a}),66);
__d("WebBloksQPLMarkerAnnotateV2",["QuickPerformanceLogger","WebBloksQPLUtils"],(function(a,b,c,d,e,f,g){var h;function a(a,b,e,f,g){a=g.get("sample_rate");g=g.get("sampling_type");b=d("WebBloksQPLUtils").createSyntheticQPLEvent(b,a,g);(h||(h=c("QuickPerformanceLogger"))).markerAnnotate(b,{string:f},{instanceKey:e})}g["default"]=a}),98);
__d("WebBloksQPLMarkerEndV3",["QuickPerformanceLogger","WebBloksQPLUtils"],(function(a,b,c,d,e,f,g){var h;function a(a,b,e,f,g,i){a=g.get("sample_rate");i=g.get("sampling_type");g=d("WebBloksQPLUtils").createSyntheticQPLEvent(b,a,i);(h||(h=c("QuickPerformanceLogger"))).markerEnd(g,f,e)}g["default"]=a}),98);
__d("WebBloksQPLMarkerPointV2",["QuickPerformanceLogger","WebBloksQPLUtils"],(function(a,b,c,d,e,f,g){var h;function a(a,b,e,f,g,i){a=g.get("sample_rate");i=g.get("sampling_type");g=d("WebBloksQPLUtils").createSyntheticQPLEvent(b,a,i);(h||(h=c("QuickPerformanceLogger"))).markerPoint(g,f,{instanceKey:e})}g["default"]=a}),98);
__d("WebBloksQPLMarkerStartV3",["QuickPerformanceLogger","WebBloksQPLUtils"],(function(a,b,c,d,e,f,g){var h;function a(a,b,e,f,g){a=f.get("sample_rate");g=f.get("sampling_type");f=d("WebBloksQPLUtils").createSyntheticQPLEvent(b,a,g);(h||(h=c("QuickPerformanceLogger"))).markerStart(f,e)}g["default"]=a}),98);
__d("WebBloksQPLUserFlowAnnotateV3",["QPLUserFlow","WebBloksQPLUtils"],(function(a,b,c,d,e,f,g){function a(a,b,e,f,g){a=g.get("sample_rate");g=g.get("sampling_type");b=d("WebBloksQPLUtils").createSyntheticQPLEvent(b,a,g);c("QPLUserFlow").addAnnotations(b,{string:f},{instanceKey:e})}g["default"]=a}),98);
__d("WebBloksQPLUserFlowEndFlowCancelV3",["QPLUserFlow","WebBloksQPLUtils"],(function(a,b,c,d,e,f,g){function a(a,b,e,f,g){a=g.get("sample_rate");g=g.get("sampling_type");b=d("WebBloksQPLUtils").createSyntheticQPLEvent(b,a,g);c("QPLUserFlow").endCancel(b,{annotations:{string:{cancel_reason:f}},instanceKey:e})}g["default"]=a}),98);
__d("WebBloksQPLUserFlowEndFlowFailureV3",["QPLUserFlow","WebBloksQPLUtils"],(function(a,b,c,d,e,f,g){function a(a,b,e,f,g,h){a=h.get("sample_rate");h=h.get("sampling_type");b=d("WebBloksQPLUtils").createSyntheticQPLEvent(b,a,h);c("QPLUserFlow").endFailure(b,f,{debugInfo:g,instanceKey:e})}g["default"]=a}),98);
__d("WebBloksQPLUserFlowEndFlowSuccessV3",["QPLUserFlow","WebBloksQPLUtils"],(function(a,b,c,d,e,f,g){function a(a,b,e,f){a=f.get("sample_rate");f=f.get("sampling_type");b=d("WebBloksQPLUtils").createSyntheticQPLEvent(b,a,f);c("QPLUserFlow").endSuccess(b,{instanceKey:e})}g["default"]=a}),98);
__d("WebBloksQPLUserFlowMarkErrorV3",["QPLUserFlow","WebBloksQPLUtils"],(function(a,b,c,d,e,f,g){function a(a,b,e,f,g,h){a=h.get("sample_rate");h=h.get("sampling_type");b=d("WebBloksQPLUtils").createSyntheticQPLEvent(b,a,h);c("QPLUserFlow").markError(b,f,{debugInfo:g,instanceKey:e})}g["default"]=a}),98);
__d("WebBloksQPLUserFlowMarkPointV3",["QPLUserFlow","WebBloksQPLUtils"],(function(a,b,c,d,e,f,g){function a(a,b,e,f,g,h){a=h.get("sample_rate");h=h.get("sampling_type");b=d("WebBloksQPLUtils").createSyntheticQPLEvent(b,a,h);c("QPLUserFlow").addPoint(b,f,{instanceKey:e,data:{string:g}})}g["default"]=a}),98);
__d("WebBloksQPLUserFlowStartFlowV3",["QPLUserFlow","WebBloksQPLUtils"],(function(a,b,c,d,e,f,g){function a(a,b,e,f,g){a=f.get("sample_rate");f=f.get("sampling_type");g=g.get("trigger_source");b=d("WebBloksQPLUtils").createSyntheticQPLEvent(b,a,f);c("QPLUserFlow").start(b,{instanceKey:e,annotations:{string:{trigger_source:g}}})}g["default"]=a}),98);
__d("HasteSharedWebBloksPrimitives",["WebBloksLogEvent","WebBloksLogEventCritical","WebBloksOpenFRXAction","WebBloksQPLMarkerAnnotateV2","WebBloksQPLMarkerEndV3","WebBloksQPLMarkerPointV2","WebBloksQPLMarkerStartV3","WebBloksQPLUserFlowAnnotateV3","WebBloksQPLUserFlowEndFlowCancelV3","WebBloksQPLUserFlowEndFlowFailureV3","WebBloksQPLUserFlowEndFlowSuccessV3","WebBloksQPLUserFlowMarkErrorV3","WebBloksQPLUserFlowMarkPointV3","WebBloksQPLUserFlowStartFlowV3"],(function(a,b,c,d,e,f,g){a={};b={"bk.action.qpl.MarkerAnnotateV2":c("WebBloksQPLMarkerAnnotateV2"),"bk.action.qpl.MarkerEndV3":c("WebBloksQPLMarkerEndV3"),"bk.action.qpl.MarkerPointV2":c("WebBloksQPLMarkerPointV2"),"bk.action.qpl.MarkerStartV3":c("WebBloksQPLMarkerStartV3"),"bk.action.qpl.userflow.AnnotateV3":c("WebBloksQPLUserFlowAnnotateV3"),"bk.action.qpl.userflow.EndFlowCancelV3":c("WebBloksQPLUserFlowEndFlowCancelV3"),"bk.action.qpl.userflow.EndFlowFailureV3":c("WebBloksQPLUserFlowEndFlowFailureV3"),"bk.action.qpl.userflow.EndFlowSuccessV3":c("WebBloksQPLUserFlowEndFlowSuccessV3"),"bk.action.qpl.userflow.MarkErrorV3":c("WebBloksQPLUserFlowMarkErrorV3"),"bk.action.qpl.userflow.MarkPointV3":c("WebBloksQPLUserFlowMarkPointV3"),"bk.action.qpl.userflow.StartFlowV3":c("WebBloksQPLUserFlowStartFlowV3"),"bk.action.OpenFRXAction":c("WebBloksOpenFRXAction"),"bk.action.logging.LogEvent":c("WebBloksLogEvent"),"bk.action.logging.LogEventCritical":c("WebBloksLogEventCritical")};d={};g.COMPONENTS=a;g.ACTIONS=b;g.EXTENSION_HANDLERS=d}),98);
__d("LSAnonymizedMsgrWebE2EEXmaReceiverFetchDispatch",["LSInsertAnonymousTaskContext","LSIssueNewTaskUsingSyncChannel","LSMailboxTaskCompletionApiOnTaskInsertion"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(e){return c.sequence([function(e){return d[0]=new c.Map(),d[0].set("message_id",a[0]),d[0].set("content_ref",a[1]),d[0].set("video_ps_product_holdout_2024h2_launch",a[2]),d[1]=d[0].get("message_id"),d[4]=["LSMailboxAnonymizedMsgrWebE2EEXmaReceiverFetchSyncAction",".",d[1]].join(""),d[2]=c.toJSON(d[0]),c.storedProcedure(b("LSIssueNewTaskUsingSyncChannel"),d[4],c.i64.cast([0,1006]),d[2],void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]),void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,2]),!1,c.i64.cast([0,0])).then(function(a){return a=a,d[3]=a[0],a})},function(a){return c.storedProcedure(b("LSMailboxTaskCompletionApiOnTaskInsertion"),d[3])},function(a){return c.storedProcedure(b("LSInsertAnonymousTaskContext"),d[3],"LS_MsgrXmaReceiverFetch")}])},function(a){return c.resolve(e)}])}a.__sproc_name__="LSMailboxAnonymizedMsgrWebE2EEXmaReceiverFetchDispatchStoredProcedure";a.__tables__=[];e.exports=a}),null);
__d("LSAnonymizedMsgrWebE2EEXmaReceiverFetchDispatchStoredProcedure",["LSAnonymizedMsgrWebE2EEXmaReceiverFetchDispatch","LSSynchronousPromise","Promise","cr:8709"],(function(a,b,c,d,e,f,g){var h;function a(a,e){a=a.storedProcedure(c("LSAnonymizedMsgrWebE2EEXmaReceiverFetchDispatch"),e.messageId,e.contentRef,e.videoPsProductHoldout2024h2Launch);return(h||(h=b("Promise"))).resolve(d("LSSynchronousPromise").maybeExtractValueIfSynchronousPromise(a))}g["default"]=a}),98);
__d("LSClearReactionsV2DetailsAndRange",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[];return b.sequence([function(a){return b.sequence([function(a){return b.forEach(b.db.table(239).fetch(),function(a){return a["delete"]()})},function(a){return b.forEach(b.db.table(243).fetch(),function(a){return a["delete"]()})}])},function(a){return b.resolve(c)}])}a.__sproc_name__="LSMailboxClearReactionsV2DetailsAndRangeStoredProcedure";a.__tables__=["reactions_v2_details","reactions_v2_details_ranges_v2__generated"];e.exports=a}),null);
__d("LSClearReactionsV2DetailsAndRangeStoredProcedure",["LSClearReactionsV2DetailsAndRange","LSSynchronousPromise","Promise","cr:8709"],(function(a,b,c,d,e,f,g){var h;function a(a){a=a.storedProcedure(c("LSClearReactionsV2DetailsAndRange"));return(h||(h=b("Promise"))).resolve(d("LSSynchronousPromise").maybeExtractValueIfSynchronousPromise(a))}g["default"]=a}),98);
__d("LSCommunityPublicGroupParticipationApprovalStatus",[],(function(a,b,c,d,e,f){a=Object.freeze({CAN_PARTICIPATE:1,PARTICIPATION_REQUEST_REQUIRED:2,PARTICIPATION_REQUEST_PENDING:3});f["default"]=a}),66);
__d("LSContactCapabilityBitOffset",[],(function(a,b,c,d,e,f){a=Object.freeze({MESSAGE:0,REPLY_MESSAGE:1,JOIN_GROUP:2,BLOCK:3,SEE:4,SEE_FACEBOOK_PROFILE:5,PAYMENT:6,CAMERA:7,MEDIA_PICKER:8,STICKER:9,GIF:10,AUDIO_CLIPS:11,SHARED_MEDIA:12,REACTIONS:13,SEEN_HEADS:14,THREAD_DETAILS:15,RTC_VIDEO_CALL:16,RTC_VOICE_CALL:17,THREAD_FEEDBACK_AND_REPORT:18,GO_TO_SECRET_CONVERSATION:19,MAKE_ADMIN:20,REMOVE_FROM_GROUP:21,REMOVE_AS_ADMIN:22,VERIFIED:23,DISAPPEARING_MODE:24,SEE_MESSAGE:25,PSEUDO_BLOCK:26,PUSHABLE:27,MESSAGE_BLOCK_PLACED:28,FACEBOOK_BLOCK_PLACED:29,VIEWER_IS_UNCONNECTED:64,PAGE_PLATFORM_BOT:65,RESTRICT_PLACED:66,IS_XAC_ELIGIBLE:67,IS_GROUPS_XAC_ELIGIBLE:68,IS_GROUPS_XAC_CALLING_ELIGIBLE:69,IS_E2EE_ONLY:70,IS_ELIGIBLE_FOR_SAFETY_NOTICE:71,NOVI:72,IS_CONTACT_SHAREABLE:73,IS_HIDDEN:74,IS_THREAD_CUTOVER_USER:75,HAS_CUTOVER_THREAD:76,IS_COMMUNITY_BOT_PAGE:77,IS_NOT_SEARCHABLE:78,CAN_UPSELL_VOICEMAIL:79,DEFAULT_E2EE_THREADS:80,INCALL_CAPTIONS:81,IS_INTERNAL:82,DEFAULT_E2EE_THREAD_ONE_TO_ONE:83,IS_GROUP_UPDATES_BOT:84,LINK_TO_IG_PROFILE:85,IS_MARKETPLACE_NOT_CONSENTED:86,IS_GAMING_NOT_CONSENTED:87,DISABLE_MP_DMA_THREAD_COMPOSER:88,IS_GAMING_CONSENT_UNDECIDED:89,IS_GAMING_CONSENTED:90,IS_MSPLIT_NOT_CONSENTED:91,IS_MSPLIT_CONSENT_UNDECIDED:92,WORK_CHAT_GOVERNANCE_BLOCKED:93,HAS_P2P_DISAPPEARING_MESSAGES_THREAD:94,HAS_INSTAMADILLO_CUTOVER_THREAD:95,HAS_TTLC_CLIP_ENABLED:96,HAS_TTLC_GENERIC_XMA_SHARE_ENABLED:97,HAS_TTLC_MEDIA_SHARE_ENABLED:98,HAS_TTLC_STORY_SHARE_ENABLED:99,ELIGIBLE_FOR_META_VERIFIED_LABEL:100,HAS_JENGA_WORKCHAT_DEFLECTION_ENABLED:101,RESTRICT_CREATING_GROUP_THREAD:102,IS_USER_GENERATED_CHARACTER_BOT:103,IS_FRIENDING_RESTRICTED:104,SHARING_MESSAGES_TO_META_AI_ENABLED:105,IS_INELIGIBLE_FOR_DISPLAY_IN_BCF_NS:106});f["default"]=a}),66);
__d("LS_Contact",[],(function(a,b,c,d,e,f){function a(a){return a.context}function b(a){return a.value}function c(a){return a.value.phoneNumber}function d(a){return a.value.normalizedNameForSearch}function e(a){return a.value.profilePictureFallbackUrl}function g(a){return a.value.profilePictureUrlExpirationTimestampMs}function h(a){return a.value.profilePictureLargeUrl}function i(a){return a.value.profilePictureLargeFallbackUrl}function j(a){return a.value.profilePictureLargeUrlExpirationTimestampMs}function k(a){return a.value.contactReachabilityStatusType}function l(a){return a.value.capabilities2}function m(a){return a.value.id}function n(a){return a.value.profilePictureUrl}function o(a){return a.value.name}function p(a){return a.value.normalizedSearchTerms}function q(a){return a.value.isMessengerUser}function r(a){return a.value.isMemorialized}function s(a){return a.value.isManagedByViewer}function t(a){return a.value.blockedByViewerStatus}function u(a){return a.value.optimisticBlockedByViewerStatus}function v(a){return a.value.optimisticBlockedByViewerStatusTimestampMs}function w(a){return a.value.pendingMnUserBlockAction}function x(a){return a.value.pendingMnUserBlockActionTimestampMs}function y(a){return a.value.pendingFbUserBlockAction}function z(a){return a.value.pendingFbUserBlockActionTimestampMs}function A(a){return a.value.rank}function B(a){return a.value.firstName}function C(a){return a.value.contactType}function D(a){return a.value.pendingMessengerRestrictAction}function E(a){return a.value.contactTypeExact}function F(a){return a.value.messengerCallLogThirdPartyId}function G(a){return a.value.profileRingColor}function H(a){return a.value.requiresMultiway}function I(a){return a.value.blockedSinceTimestampMs}function J(a){return a.value.fbUnblockedSinceTimestampMs}function K(a){return a.value.canViewerMessage}function L(a){return a.value.emailAddress}function M(a){return a.value.profileRingColorExpirationTimestampMs}function N(a){return a.value.workCompanyId}function O(a){return a.value.workCompanyName}function P(a){return a.value.workJobTitle}function Q(a){return a.value.profileRingState}function R(a){return a.value.deviceContactId}function S(a){return a.value.workForeignEntityType}function T(a){return a.value.capabilities}function U(a){return a.value.contactViewerRelationship}function V(a){return a.value.gender}function W(a){return a.value.secondaryName}function X(a){return a.value.username}function Y(a){return a.value.restrictionType}function Z(a){return a.value.waConnectStatus}function $(a){return a.value.isEmployee}function aa(a){return a.value.pageType}function ba(a){return a.value.authorityLevel}f.__context=a;f.__lightspeed_table_row=b;f.phone_number=c;f.normalized_name_for_search=d;f.profile_picture_fallback_url=e;f.profile_picture_url_expiration_timestamp_ms=g;f.profile_picture_large_url=h;f.profile_picture_large_fallback_url=i;f.profile_picture_large_url_expiration_timestamp_ms=j;f.contact_reachability_status_type=k;f.capabilities_2=l;f.id_=m;f.profile_picture_url=n;f.name=o;f.normalized_search_terms=p;f.is_messenger_user=q;f.is_memorialized=r;f.is_managed_by_viewer=s;f.blocked_by_viewer_status=t;f.optimistic_blocked_by_viewer_status=u;f.optimistic_blocked_by_viewer_status_timestamp_ms=v;f.pending_mn_user_block_action=w;f.pending_mn_user_block_action_timestamp_ms=x;f.pending_fb_user_block_action=y;f.pending_fb_user_block_action_timestamp_ms=z;f.rank=A;f.first_name=B;f.contact_type=C;f.pending_messenger_restrict_action=D;f.contact_type_exact=E;f.messenger_call_log_third_party_id=F;f.profile_ring_color=G;f.requires_multiway=H;f.blocked_since_timestamp_ms=I;f.fb_unblocked_since_timestamp_ms=J;f.can_viewer_message=K;f.email_address=L;f.profile_ring_color_expiration_timestamp_ms=M;f.work_company_id=N;f.work_company_name=O;f.work_job_title=P;f.profile_ring_state=Q;f.device_contact_id=R;f.work_foreign_entity_type=S;f.capabilities=T;f.contact_viewer_relationship=U;f.gender=V;f.secondary_name=W;f.username=X;f.restriction_type=Y;f.wa_connect_status=Z;f.is_employee=$;f.page_type=aa;f.authority_level=ba}),66);
__d("LSContactHasCapability__has_capability$normalization.graphql",["LS_Contact","LS_Contact"],(function(a,b,c,d,e,f){"use strict";a={kind:"SplitOperation",metadata:{},name:"LSContactHasCapability__has_capability$normalization",selections:[{kind:"ClientExtension",selections:[{name:"capabilities",args:null,kind:"RelayResolver",storageKey:null,isOutputType:!0,resolverInfo:{resolverFunction:b("LS_Contact").capabilities,rootFragment:null}},{name:"capabilities_2",args:null,kind:"RelayResolver",storageKey:null,isOutputType:!0,resolverInfo:{resolverFunction:b("LS_Contact").capabilities_2,rootFragment:null}}]}]};e.exports=a}),null);
__d("LSContactHasCapability__has_capability.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"LSContactHasCapability__has_capability",selections:[{alias:null,args:null,kind:"ScalarField",name:"capabilities",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"capabilities_2",storageKey:null}],type:"LS_Contact",abstractKey:null};e.exports=a}),null);
__d("LSFetchAdditionalThreadData",["LSIssueNewTask"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(e){return d[0]=new c.Map(),d[0].set("thread_key",a[0]),d[1]=d[0].get("thread_key"),d[2]=c.toJSON(d[0]),c.storedProcedure(b("LSIssueNewTask"),["fetch_additional_thread_data","_",c.i64.to_string(d[1])].join(""),c.i64.cast([0,733]),d[2],void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]),void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]))},function(a){return c.resolve(e)}])}a.__sproc_name__="LSMailboxFetchAdditionalThreadDataStoredProcedure";a.__tables__=[];e.exports=a}),null);
__d("LSFetchAdditionalThreadDataStoredProcedure",["LSFetchAdditionalThreadData","LSSynchronousPromise","Promise","cr:8709"],(function(a,b,c,d,e,f,g){var h;function a(a,e){a=a.storedProcedure(c("LSFetchAdditionalThreadData"),e.threadKey);return(h||(h=b("Promise"))).resolve(d("LSSynchronousPromise").maybeExtractValueIfSynchronousPromise(a))}g["default"]=a}),98);
__d("LSFetchProactiveWarningsIfNeeded",["LSIssueNewTask"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(e){return c.sequence([function(b){return c.db.table(9).fetch([[[a[0]]]]).next().then(function(a,b){var e=a.done;a=a.value;return e?d[0]=c.i64.cast([0,1]):(b=a.item,d[5]=b.syncGroup,c.i64.neq(d[5],void 0)?d[4]=d[5]:d[4]=c.i64.cast([0,1]),d[0]=d[4])})},function(e){return c.db.table(183).fetch([[[a[0]]]]).next().then(function(e,f){var g=e.done;e=e.value;return g?c.sequence([function(b){return c.db.table(183).put({threadKey:a[0],suspectId:a[0]})},function(e){return d[4]=new c.Map(),d[4].set("thread_key",a[0]),d[4].set("sync_group",d[0]),d[5]=c.toJSON(d[4]),c.storedProcedure(b("LSIssueNewTask"),"proactive_warnings_fetch_queue",c.i64.cast([0,192]),d[5],void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]),void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]))},function(a){return d[2]=c.i64.cast([0,1])}]):(f=e.item,c.sequence([function(e){return d[5]=f.nextCheckTimestampMs,d[4]=c.i64.of_float(Date.now()),c.i64.neq(d[5],void 0)&&c.i64.ge(d[4],d[5])?c.sequence([function(b){return c.db.table(183).put({threadKey:a[0],suspectId:a[0]})},function(e){return d[7]=new c.Map(),d[7].set("thread_key",a[0]),d[7].set("sync_group",d[0]),d[8]=c.toJSON(d[7]),c.storedProcedure(b("LSIssueNewTask"),"proactive_warnings_fetch_queue",c.i64.cast([0,192]),d[8],void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]),void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]))},function(a){return d[6]=c.i64.cast([0,1])}]):c.resolve((c.i64.neq(d[5],void 0)&&f.tag!==void 0?d[7]=c.i64.cast([0,2]):d[7]=c.i64.cast([0,3]),d[6]=d[7]))},function(a){return d[2]=d[6]}]))})}])},function(a){return c.resolve(e)}])}a.__sproc_name__="LSProactiveWarningsFetchProactiveWarningsIfNeededStoredProcedure";a.__tables__=["threads","thread_proactive_warning_settings"];e.exports=a}),null);
__d("LSFetchProactiveWarningsIfNeededStoredProcedure",["LSFetchProactiveWarningsIfNeeded","LSSynchronousPromise","Promise","cr:8709"],(function(a,b,c,d,e,f,g){var h;function a(a,e){a=a.storedProcedure(c("LSFetchProactiveWarningsIfNeeded"),e.threadKey);return(h||(h=b("Promise"))).resolve(d("LSSynchronousPromise").maybeExtractValueIfSynchronousPromise(a))}g["default"]=a}),98);
__d("LSIssuePointQueryForRollCallConversion",["LSIssueNewTask"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(e){return d[0]=new c.Map(),d[0].set("roll_call_id",a[1]),d[0].set("thread_key",a[0]),d[0].set("query_purpose",c.i64.cast([0,2])),d[1]=c.toJSON(d[0]),c.storedProcedure(b("LSIssueNewTask"),"roll_call_point_query",c.i64.cast([0,611]),d[1],void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]),void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]))},function(a){return c.resolve(e)}])}a.__sproc_name__="LSMailboxIssuePointQueryForRollCallConversionStoredProcedure";a.__tables__=[];e.exports=a}),null);
__d("LSIssuePointQueryForRollCallConversionStoredProcedure",["LSIssuePointQueryForRollCallConversion","LSSynchronousPromise","Promise","cr:8709"],(function(a,b,c,d,e,f,g){var h;function a(a,e){a=a.storedProcedure(c("LSIssuePointQueryForRollCallConversion"),e.threadKey,e.rollCallId);return(h||(h=b("Promise"))).resolve(d("LSSynchronousPromise").maybeExtractValueIfSynchronousPromise(a))}g["default"]=a}),98);
__d("LSMessageTakedownState",[],(function(a,b,c,d,e,f){a=Object.freeze({TAKEN_DOWN_BY_META:1,TAKEN_DOWN_BY_ADMIN:2,GEO_BLOCKED:3,MESSENGER_KIDS_PARENT_UNSENT:4});f["default"]=a}),66);
__d("LSNullstateCTAType",[],(function(a,b,c,d,e,f){a=Object.freeze({NONE:0,GET_STARTED:1,ICEBREAKER:2,PRIVACY_DISCLOSURE:3,MP_EMPTY_ICEBREAKER:4});f["default"]=a}),66);
__d("LSRelayConnections",["FBLogger"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return a.end_cursor}function b(a){return a.has_next_page}function d(a){return a.has_previous_page}function e(a){return(a=a.is_loading_next)!=null?a:!1}function f(a){return(a=a.is_loading_previous)!=null?a:!1}function h(a){return a.start_cursor}function i(a){return JSON.stringify(a)}function j(a){return JSON.parse(a)}function k(a,b){if(a.length>b.first+1)throw c("FBLogger")("meteora").mustfixThrow("Got more edges (%s) than expected given the limit (%s).",a.length,b.first);var d=a[0],e=a.length>=b.first+1;b=e?b.first-1:a.length-1;a=a.length>0?a[b]:null;return{end_cursor:a!=null?i(a.value[0]):null,has_next_page:e,has_previous_page:!1,start_cursor:d!=null?i(d.value[0]):null}}function l(a){var b;if(((b=a.first)!=null?b:0)<=0)throw c("FBLogger")("meteora").mustfixThrow("Invalid `first` argument passed to connection: expected > 0 but got %s",String(a.first))}function m(a,b){a=a;b.after!=null&&(a=a.bounds({gt:j(b.after)}));b.before!=null&&(a=a.bounds({lt:j(b.before)}));a=a.take(b.first+1);return a}g.end_cursor=a;g.has_next_page=b;g.has_previous_page=d;g.is_loading_next=e;g.is_loading_previous=f;g.start_cursor=h;g.keyToCursor=i;g.cursorToKey=j;g.pageInfoFromEdges=k;g.validateArgsOrThrow=l;g.applyConnectionArgs=m}),98);
__d("LSRelayContextDB",["LSDatabaseSingleton","cr:8556","err","unrecoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a){switch(a){case"PROD":return(h||(h=d("LSDatabaseSingleton"))).getLSDatabaseSingletonPromiseOrValue();case"EXAMPLE":if(b("cr:8556")==null)throw c("err")("Loading test data on prod");return b("cr:8556").getExampleLSDatabasePromise();default:throw c("unrecoverableViolation")("Unsupported dbType: "+a,"lightspeed_resolvers")}}g.getLSDbStoragePromise=a}),98);
__d("LSRelayContext",["LSRelayContextDB","Promise","RelayAPIConfig","isPromise","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function a(a){a=a.dbType;a=k(a);return a instanceof(i||(i=b("Promise")))?a.then(function(a){return{actorID:c("RelayAPIConfig").actorID,db:a}}):{actorID:c("RelayAPIConfig").actorID,db:a}}var j={};function k(a){if(j[a]==null){var b=d("LSRelayContextDB").getLSDbStoragePromise(a);j[a]=b;(h||(h=c("isPromise")))(b)&&c("promiseDone")(b,function(b){j[a]=b})}return j[a]}g.getContext=a}),98);
__d("LSRelayLiveResolvers",["LSRelayConnections","ReQLObservable","areEqual","emptyFunction","relay-runtime","transformObservableToLiveState"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a,b){return j(k(a,b),function(b){return b.map(function(b){b[0];b=b[1];return{context:a,value:b}})})}function b(a,b,c){d("LSRelayConnections").validateArgsOrThrow(c);return j(k(a,function(a){return d("LSRelayConnections").applyConnectionArgs(b(a),c)}),function(b){b=b.map(function(b){return{context:a,value:b}});return{context:a,value:{edges:b.slice(0,c.first),page_info:d("LSRelayConnections").pageInfoFromEdges(b,c)}}})}function e(a,b){return j(k(a,function(a){return b(a).take(1)}),function(b){return b.length>0?{context:a,value:b[0][1]}:null})}function f(a,b,c){return j(k(a,function(a){return b(a).take(1)}),function(b){return{context:a,value:c(b==null?void 0:(b=b[0])==null?void 0:b[1])}})}var i={read:function(){return null},subscribe:function(){return c("emptyFunction")}};function j(a,b){var c=a.read;a=a.subscribe;return{read:function(){var a=c();if(d("relay-runtime").isSuspenseSentinel(a))return d("relay-runtime").suspenseSentinel();else return b(a)},subscribe:a}}function k(a,b){return c("transformObservableToLiveState")(d("relay-runtime").Observable.create(function(e){var f,g=d("ReQLObservable").create(a.db,b).subscribe({complete:e.complete,error:e.error,next:function(a){if((h||(h=c("areEqual")))(a,f))return;f=a;e.next(a)}});return g}))}g.iterableToPluralFieldLiveResolver_MAY_CAUSE_OVERFETCHING=a;g.iterableToConnectionLiveResolver=b;g.iterableToFirstValueLiveResolver=e;g.iterableToMappedValueLiveResolver=f;g.nullValueLiveState=i;g.mapLiveState=j;g.makeLiveState=k}),98);
__d("LSRoot__thread",["LSRelayLiveResolvers","ReQL"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){a=a.context;return d("LSRelayLiveResolvers").iterableToFirstValueLiveResolver(a,function(a){return d("ReQL").fromTableAscending(a.tables.threads).getKeyRange(b.threadKey).take(1)})}g.thread=a}),98);
__d("LSRoot__viewer",[],(function(a,b,c,d,e,f){"use strict";function a(a){a=a.context;return{context:a,value:{}}}f.viewer=a}),66);
__d("LSSendTypingIndicator",["LSIssueNewFireAndForgetTask"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(e){return c.sequence([function(b){return c.db.table(9).fetch([[[a[0]]]]).next().then(function(a,b){var e=a.done;a=a.value;return e?d[0]=c.i64.cast([0,1]):(b=a.item,d[6]=b.syncGroup,c.i64.neq(d[6],void 0)?d[5]=d[6]:d[5]=c.i64.cast([0,1]),d[0]=d[5])})},function(b){return d[4]=["typing","_",c.i64.to_string(a[0])].join(""),c.forEach(c.filter(c.db.table(5).fetch(),function(a){return d[4]===a.queueName}),function(a){return a["delete"]()})},function(e){return d[2]=new c.Map(),d[2].set("thread_key",a[0]),d[2].set("is_group_thread",a[1]),d[2].set("is_typing",a[2]),d[2].set("attribution",c.i64.cast([0,0])),d[2].set("sync_group",d[0]),d[3]=c.toJSON(d[2]),c.storedProcedure(b("LSIssueNewFireAndForgetTask"),d[4],c.i64.cast([0,3]),d[3])}])},function(a){return c.resolve(e)}])}a.__sproc_name__="LSTypingSendTypingIndicatorStoredProcedure";a.__tables__=["threads","pending_fire_and_forget_tasks"];e.exports=a}),null);
__d("LSSendTypingIndicatorStoredProcedure",["LSSendTypingIndicator","LSSynchronousPromise","Promise","cr:8709"],(function(a,b,c,d,e,f,g){var h;function a(a,e){a=a.storedProcedure(c("LSSendTypingIndicator"),e.threadKey,e.isGroupThread,e.isTyping);return(h||(h=b("Promise"))).resolve(d("LSSynchronousPromise").maybeExtractValueIfSynchronousPromise(a))}g["default"]=a}),98);
__d("LSThreadCapabilityBitOffset",[],(function(a,b,c,d,e,f){a=Object.freeze({PAYMENT:0,CAMERA:1,MEDIA_PICKER:2,STICKER:3,GIF:4,GO_TO_SECRET_CONVERSATION:5,COLOR_CUSTOMIZATION:6,EMOJI_CUSTOMIZATION:7,THREAD_DETAILS_PROFILE_BUTTON:8,NICKNAMES:9,BLOCK:10,CALIBRA:12,MESSENGER_KIDS_MANAGE_KID_ACCOUNT:13,AUDIO_CLIPS:14,SHARED_MEDIA:15,BLOCK_GROUP_MEMBER:16,FEEDBACK_AND_REPORT:17,REACTIONS:18,MUTE_THREAD:19,SEEN_HEADS:20,MESSAGE_REQUEST_COMPOSER_BANNER:21,IN_THREAD_PROFILE_BUTTON:22,THREAD_DETAILS:23,RTC_VIDEO_CALL:24,RTC_VOICE_CALL:25,MEMBER_LIST:26,ADD_MEMBER:27,LEAVE_THREAD:28,BLOCKED_USER_INTERSTITIAL:29,OPTIMISTIC_THREAD_FEEDBACK_AND_REPORT:30,LOCATION_SHARING:31,IGNORE_MESSAGES:32,FOCUS_MODE:33,SEARCH_IN_CONVERSATION:34,CREATE_GROUP:35,POLL_CREATION:36,DISPLAY_ACTOR_TYPE_IN_THREAD_VIEW_HEADER:37,DISAPPEARING_MODE:38,FORCE_ONE_PHASE_SEND:39,SPLIT_MULTI_SEND_PHOTO:40,THREAD_DETAILS_IG_PROFILE_BUTTON:41,MESSAGE_REPLY:42,MENTIONS:43,GAMES_BOT_THREAD:44,DISABLE_LINKS:45,BLUR_MEDIA:46,DISABLE_CONTEXT_BANNER:47,TOP_LEVEL_SELF_REMEDIATION:48,DISABLE_USER_CONTROL:49,THREAD_DETAILS_SHOW_USER_NAME:50,DISABLE_MESSAGE_BUBBLE_SWIPE:51,IGNORED_THREAD:52,PAGE_BAN:53,CUSTOM_THREAD_NOTIFICATION_SOUNDS:54,ROOM_CREATION:55,FILE_PICKER:56,JOIN_ROOM:57,SELFIE_STICKER:58,POWER_UP:59,THREAD_NAME_CUSTOMIZATION:60,THREAD_PHOTO_CUSTOMIZATION:61,STRUCTURED_INPUT:62,SUPPRESS_NULLSTATE_HEADER:63,ARCHIVE_THREAD:64,UNARCHIVE_THREAD:65,MEMBER_REQUEST:66,BUSINESS_INBOX_BAN:67,CTM_AD_THREAD_WITH_AD_WARNING:68,BUSINESS_INBOX_SAVED_REPLIES:69,GARDEN_THREAD_SETTINGS:70,MARKETPLACE_SAVED_REPLIES:71,CARRIER_MESSAGING_ADD_MEMBER:72,PHONE_CALL:73,THREAD_DETAILS_DELETE_THREAD:74,EPHEMERAL_MESSAGE_TIMER:75,MESSAGE_EXPIRATION:76,MESSAGE_SOUND_SETTINGS:77,RINGTONE_SOUND_SETTINGS:78,HIDE_FROM_ACTIVE_NOW:79,MAGIC_WORDS:80,THREAD_DESCRIPTION_CUSTOMIZATION:81,BUSINESS_INBOX_CATALOG:82,ADMIN_RECALL_MESSAGE:83,SHARE_CONTACT:84,RESTRICT_CONTACT:85,SOUND_BITE:86,MOST_LIKELY_TO_POLL_CREATION:87,REPORT_CHAT_TO_ADMIN:88,CAN_MARK_READ_OR_UNREAD:89,BUSINESS_TOOLS:90,REMOVE_MEMBER:91,GROUP_GO_TO_SECRET_CONVERSATION:92,REPORT_MESSAGE_TO_ADMIN:93,MANAGE_MEMBER:94,SHARED_LINKS:95,SHARED_CONTENT:96,ADD_XAC_USERS:97,BUSINESS_ORDER_MANAGEMENT:98,RTC_MARKETPLACE_COMPOSER_BANNER:99,IS_SELLER_RTC_ELIGIBLE:100,IS_BUYER_RTC_ELIGIBLE:101,MESSAGE_LOCAL_DELETE:102,MESSAGE_FORWARD:103,IS_NFB_ELIGIBLE:104,MESSAGE_REQUEST_GROUP_INVITE:105,VIEW_PINNED_MESSAGES_V2:106,BUSINESS_APPOINTMENT_BOOKING:107,THREAD_DETAILS_SHOW_CHAT_INVITE_LINK:108,HOTLIKE_STICKER:109,IS_LEARNING_SPACE_CHAT:110,AUDIO_CAPTIONS:111,COMMAND_SILENT:112,MARKETPLACE_THREAD_COMMERCE_PROFILE_BUTTON:113,EPHEMERAL_MEDIA:114,COMMAND_EVERYONE:115,COMMAND_GIF:116,MARKETPLACE_THREAD_COMMERCE_PRODUCT_BUTTON:117,CAMERA_BACKUP:118,BLOCK_MARKETPLACE_USER:119,COMMUNITY_MESSAGING_CHANNEL_INVITE:120,COMMAND_TEXT_REPLACEMENT:121,MESSAGE_UNSEND:122,IMMERSIVE_MODES_SPACES:123,COMMUNITY_MESSAGING_LINK_SHARING_V2:124,COMMUNITY_MESSAGING_AUDIO_ROOMS:125,BUMP_MESSAGE_ACTION:126,CUTOVER_BLOCK_COMPOSER:128,FAVORITE_THREAD:129,BUMP_THREAD:131,IS_BUSINESS_APPOINTMENT_THREAD_INTENT_ENABLED:132,COMMUNITY_MESSAGING_ICEBREAKERS:133,COMMUNITY_MESSAGING_CHANNEL_EMOJI_CUSTOMIZATION:134,COMMUNITY_MESSAGING_CHANNEL_DESCRIPTION_CUSTOMIZATION:135,IS_MESSENGER_CHAT_ENTITY_THREAD:136,RESHARE_HUB:138,REACTIONS_V2:139,SEEN_COUNTS_V2:140,IS_LARGE_THREAD:141,PUBLIC_CHAT_BAN_USER:143,CONTENT_EXPLORER:144,PRO_MODE:145,CUSTOMER_APPOINTMENT_REQUEST:146,IS_MESSENGER_GUIDE_CHAT_ENTITY_THREAD:147,COMMUNITY_MESSAGING_THREAD_LEAVE_UPSELL:148,GENERATED_STICKERS:149,ROLLCALL:152,BUSINESS_CHAT_PRIVACY_DISCLOSURE:153,PAUSE_CHAT:154,GAMES_DISCOVERY:155,MULTI_REACT:156,STICKER_TRAY_SEARCH:157,POLL_V1_UI:158,POLL_V2_UI:159,DEIDENTIFIED_STICKER_SEARCH:160,PIN_CHANNEL_ON_PROFILE:161,ARMADILLO_TLC_CONTROL_OPEN_THREAD:162,SUGGESTED_TAB:163,GROUP_CHAT_UPGRADE_ELIGIBILITY:164,HAS_GROUP_UPDATES_BOT_ATTACHED:165,HAS_GROUP_UPDATES_SETTING_ENABLED:166,SUB_THREAD_CREATION_ENABLED:167,COMMUNITY_MESSAGING_FIRST_MESSAGE_UPSELL_WITH_ICE_BREAKERS:168,REACTIONS_V2_WRITE:169,POLL_VOTING:170,AUTO_ENDED_CHANNEL_COMPOSER:171,MODIFY_PINNED_MESSAGES_V2:172,CUSTOM_GHOST_TEXT:173,AVATAR_DETAILS:174,COLLAPSIBLE_XMAT:175,ADD_YOURS:176,PAUSE_CHAT_ON_BLUE:177,UPGRADED_COMMUNITY_JOINED:178,IS_UPGRADED_COMMUNITY_OWNER:179,AI_BOT_DATA_USAGE_IN_THREAD_DETAILS:180,AI_BOT_FEEDBACK_IN_THREAD_DETAILS:181,AI_BOT_TIPS_IN_THREAD_DETAILS:182,AI_BOT_SUMMONING:183,VIEW_REACTION_DETAILS:184,BUSINESS_PROFILE_BADGE:185,HINT_CARD_IN_CHANNEL_UPGRADED_FROM_GROUP_CHAT:186,AI_BOT_EMBODIMENT:187,BMOP_IN_THREAD_CATALOG_ENTRY_POINT:188,OPTIMISTIC_THREAD_APPOINTMENT_REQUEST:189,IS_GAME_RECOMMENDATIONS_CHAT_ENTITY_THREAD:190,IS_XAC_READ_ONLY:192,WILL_XAC_BE_READ_ONLY:193,IS_EDIT_MESSAGE_ENABLED:194,SUB_THREAD_LIST:195,TRANSLATE_MESSAGE:196,MANAGE_CHAT_THREAD_DETAILS:197,CUSTOMER_LEAD_FORM_APPOINTMENT_REQUEST:198,ADMOD_ONBOARDING_ACTIONS_V2:199,RTC_OPTIN_REQUEST:200,CUSTOMER_LEAD_FORM_GET_QUOTE:201,PAUSED_BY_SOFT_ACTION_COMPOSER_BLOCK:202,DISABLE_MARKETPLACE_DMA_THREAD_COMPOSER:203,CUSTOMIZE_WELCOME_PROMPT_THREAD_DETAILS:204,IS_COMMUNITY_MESSAGING_FIRST_THREAD_JOIN_PER_COMMUNITY_FOR_MEMBER_ONBOARDING:205,SUB_THREAD_OPTIMISTIC_CREATE_ENABLED:206,ONE_CLICK_MUTE_ENABLED:207,GEOCHATS_CAN_SET_LOCATION:208,GEOCHATS_CAN_VIEW_LOCATION:209,WORK_CHAT_GOVERNANCE_BLOCK:210,INSTAMADILLO_TRANSPORT_ENABLED:211,INSTAMADILLO_DISAPPEARING_MESSAGES_TOGGLE_ENABLED:212,IS_BSG_THREAD:213,IS_INSTAMADILLO_CUTOVER:214,WRITE_WITH_AI_ENABLED:215,SHOW_FOLLOW_PAGE_CTA:216,CAN_VIEWING_PAGE_BE_LIKED:217,DELETE_FROM_THREAD_LIST_VIEW:218,INVITE_MODEL_TEXT_ONLY:219,COMMAND_SUMMARY:220,COMMUNITY_AI:221,BUSINESS_INBOX_FILE_SHARING:222,MESSAGE_AS_PAGE:223,COMPOSER_INLINE_MEDIA:224,INSTAMADILLO_TTLC_TEXT:225,INSTAMADILLO_TTLC_CLIP:226,INSTAMADILLO_TTLC_REEL_SHARE:227,INSTAMADILLO_TTLC_MEDIA_SHARE:228,INSTAMADILLO_TTLC_STORY_SHARE:229,INSTAMADILLO_TTLC_LINK:230,INSTAMADILLO_TTLC_GENERIC_XMA:231,INSTAMADILLO_TTLC_IMAGE:232,INSTAMADILLO_TTLC_VIDEO:233,INSTAMADILLO_TTLC_AUDIO:234,INSTAMADILLO_TTLC_CALLING:235,INSTAMADILLO_TTLC_PROFILE:236,AI_BOT_MEMU_ONBOARDING_IN_THREAD_DETAILS:237,CHANNELS_VOICE_SWITCHING_ENABLED:238,AI_BOT_CREATOR_INFO:239,AI_BOT_HALLUCINATION_DISCLAIMER_IN_THREAD_DETAILS:240,BUSINESS_FORM_MANAGEMENT:241,AI_STUDIO_IN_THREAD:242,AI_UGC_BOT:243,AI_BOT_FBGROUP_INFO:244,MAGIC_MESSENGER:245,AI_BOT_MANAGE_AI_MEMORY_IN_THREAD_DETAILS:246,GROUP_CHAT_AI_IMAGE_ENABLED:247,GROUP_UGC_EDIT_ENABLED:248,RESUME_GROUP_CHAT_UPGRADED_TO_COMMUNITY:249,FRIENDING_ACTION:250,ELIGIBLE_FOR_GROUP_CHAT_UPGRADE_TO_COMMUNITY:251,AI_STUDIO_CAN_EDIT_UGC:252,PIN_OR_UNPIN_THREAD_FOR_COMMUNITY_USER:253,IS_USER_PAGE_ADMIN:254,IS_GC_DEFAULTED_TO_HIGHLIGHTS_SETTING:255,AIR131_SHARE_CHAT_MESSAGES_WITH_META_AI:256,RTC_BLOCK_ADDITIONAL_CALL_ENTRYPOINTS_ENABLED:257,AI_LOOKUP:258,MESSAGE_REQUEST_EYEBROW_TEXT:259,IS_SECRET_CONVERSATION_FOR_DEPRECATION:260,INSTAMADILLO_OPTIONAL_E2EE:261});f["default"]=a}),66);
__d("LS_Participant",["LSRelayLiveResolvers","ReQL"],(function(a,b,c,d,e,f,g){function a(a){return a.context}function b(a){return a.value}function c(a){return a.value.readWatermarkTimestampMs}function e(a){return a.value.deliveredWatermarkTimestampMs}function f(a){return a.value.nickname}function h(a){return a.value.authorityLevel}function i(a){return a.value.threadKey}function j(a){return a.value.contactId}function k(a){return a.value.readActionTimestampMs}function l(a){return a.value.isAdmin}function m(a){return a.value.subscribeSource}function n(a){return a.value.normalizedSearchTerms}function o(a){return a.value.participantCapabilities}function p(a){return a.value.groupParticipantJoinState}function q(a){return a.value.isModerator}function r(a){return a.value.isSuperAdmin}function s(a){return a.value.threadRoles}function t(a){return d("LSRelayLiveResolvers").iterableToFirstValueLiveResolver(a.context,function(b){return d("ReQL").fromTableAscending(b.tables.contacts).getKeyRange(a.value.contactId)})}g.__context=a;g.__lightspeed_table_row=b;g.read_watermark_timestamp_ms=c;g.delivered_watermark_timestamp_ms=e;g.nickname=f;g.authority_level=h;g.thread_key=i;g.contact_id=j;g.read_action_timestamp_ms=k;g.is_admin=l;g.subscribe_source=m;g.normalized_search_terms=n;g.participant_capabilities=o;g.group_participant_join_state=p;g.is_moderator=q;g.is_super_admin=r;g.thread_roles=s;g.contact=t}),98);
__d("LS_Participant_Connection",["LSRelayConnections"],(function(a,b,c,d,e,f,g){function a(a){return a.value.edges}function b(a){return a.value.page_info}function c(a){return d("LSRelayConnections").keyToCursor(a.value[0])}function e(a){return{context:a.context,value:a.value[1]}}g.edges=a;g.page_info=b;g.cursor=c;g.node=e}),98);
__d("LS_Thread",["LSRelayLiveResolvers","ReQL"],(function(a,b,c,d,e,f,g){function a(a){return a.context}function b(a){return a.value}function c(a){return a.value.lastActivityTimestampMs}function e(a){return a.value.lastReadWatermarkTimestampMs}function f(a){return a.value.snippet}function h(a){return a.value.threadName}function i(a){return a.value.threadPictureUrl}function j(a){return a.value.needsAdminApprovalForNewParticipant}function k(a){return a.value.authorityLevel}function l(a){return a.value.threadKey}function m(a){return a.value.mailboxType}function n(a){return a.value.threadType}function o(a){return a.value.folderName}function p(a){return a.value.threadPictureUrlFallback}function q(a){return a.value.threadPictureUrlExpirationTimestampMs}function r(a){return a.value.removeWatermarkTimestampMs}function s(a){return a.value.muteExpireTimeMs}function t(a){return a.value.muteMentionExpireTimeMs}function u(a){return a.value.muteCallsExpireTimeMs}function v(a){return a.value.groupNotificationSettings}function w(a){return a.value.isAdminSnippet}function x(a){return a.value.snippetSenderContactId}function y(a){return a.value.snippetText}function z(a){return a.value.snippetStringHash}function A(a){return a.value.snippetStringArgument1}function B(a){return a.value.snippetAttribution}function C(a){return a.value.snippetAttributionStringHash}function D(a){return a.value.disappearingSettingTtl}function E(a){return a.value.disappearingSettingUpdatedTs}function F(a){return a.value.disappearingSettingUpdatedBy}function G(a){return a.value.ongoingCallState}function H(a){return a.value.cannotReplyReason}function I(a){return a.value.customEmoji}function J(a){return a.value.customEmojiImageUrl}function K(a){return a.value.avatarStickerInstructionKeyId}function L(a){return a.value.avatarStickerId}function M(a){return a.value.avatarStickerThumbnailImageUrl}function N(a){return a.value.avatarStickerThumbnailImageMimeType}function O(a){return a.value.avatarStickerOriginalImageUrl}function P(a){return a.value.avatarStickerOriginalImageMimeType}function Q(a){return a.value.outgoingBubbleColor}function R(a){return a.value.themeFbid}function S(a){return a.value.parentThreadKey}function T(a){return a.value.nullstateDescriptionText1}function U(a){return a.value.nullstateDescriptionType1}function V(a){return a.value.nullstateDescriptionText2}function W(a){return a.value.nullstateDescriptionType2}function X(a){return a.value.nullstateDescriptionText3}function Y(a){return a.value.nullstateDescriptionType3}function Z(a){return a.value.snippetHasEmoji}function $(a){return a.value.hasPersistentMenu}function aa(a){return a.value.disableComposerInput}function ba(a){return a.value.cannotUnsendReason}function ca(a){return a.value.viewedPluginKey}function da(a){return a.value.viewedPluginContext}function ea(a){return a.value.clientThreadKey}function fa(a){return a.value.capabilities}function ga(a){return a.value.shouldRoundThreadPicture}function ha(a){return a.value.proactiveWarningDismissTime}function ia(a){return a.value.isCustomThreadPicture}function ja(a){return a.value.otidOfFirstMessage}function ka(a){return a.value.normalizedSearchTerms}function la(a){return a.value.additionalThreadContext}function ma(a){return a.value.disappearingThreadKey}function na(a){return a.value.isDisappearingMode}function oa(a){return a.value.disappearingModeInitiator}function pa(a){return a.value.unreadDisappearingMessageCount}function qa(a){return a.value.lastMessageCtaId}function ra(a){return a.value.lastMessageCtaType}function sa(a){return a.value.lastMessageCtaTimestampMs}function ta(a){return a.value.consistentThreadFbid}function ua(a){return a.value.threadDescription}function va(a){return a.value.unsendLimitMs}function wa(a){return a.value.capabilities2}function xa(a){return a.value.capabilities3}function ya(a){return a.value.syncGroup}function za(a){return a.value.threadInvitesEnabled}function Aa(a){return a.value.threadInviteLink}function Ba(a){return a.value.isAllUnreadMessageMissedCallXma}function Ca(a){return a.value.numUnreadSubthreads}function Da(a){return a.value.subthreadCount}function Ea(a){return a.value.lastNonMissedCallXmaMessageTimestampMs}function Fa(a){return a.value.isHidden}function Ga(a){return a.value.threadInvitesEnabledV2}function Ha(a){return a.value.joinRequestApprovalSetting}function Ia(a){return a.value.hasPendingJoinRequest}function Ja(a){return a.value.pendingJoinRequestsCount}function Ka(a){return a.value.hasPendingInvitation}function La(a){return a.value.eventStartTimestampMs}function Ma(a){return a.value.eventEndTimestampMs}function Na(a){return a.value.takedownState}function Oa(a){return a.value.memberCount}function Pa(a){return a.value.admodCount}function Qa(a){return a.value.secondaryParentThreadKey}function Ra(a){return a.value.igFolder}function Sa(a){return a.value.inviterId}function Ta(a){return a.value.threadTags}function Ua(a){return a.value.isReadReceiptsDisabled}function Va(a){return a.value.readReceiptsDisabledV2}function Wa(a){return a.value.threadStatus}function Xa(a){return a.value.ctmAdId}function Ya(a){return a.value.ctmAdgroupId}function Za(a){return a.value.ctmAdCampaignId}function $a(a){return a.value.ctmAdCampaignGroupId}function ab(a){return a.value.ctmAdAccountId}function bb(a){return a.value.threadSubtype}function cb(a){return a.value.pauseThreadTimestamp}function db(a){return a.value.metadata}function eb(a){return a.value.capabilities4}function fb(a){return a.value.typingIndicatorDisabled}function gb(a){return a.value.syncSource}function hb(a){return a.value.capabilities5}function ib(a,b){return d("LSRelayLiveResolvers").iterableToConnectionLiveResolver(a.context,function(b){return d("ReQL").fromTableAscending(b.tables.participants).getKeyRange(a.value.threadKey)},b)}function jb(a,b){return d("LSRelayLiveResolvers").iterableToConnectionLiveResolver(a.context,function(b){return d("ReQL").fromTableDescending(b.tables.messages.index("messageDisplayOrder")).getKeyRange(a.value.threadKey)},b)}function kb(a){return d("LSRelayLiveResolvers").iterableToFirstValueLiveResolver(a.context,function(b){return d("ReQL").fromTableAscending(b.tables.thread_nullstate).getKeyRange(a.value.threadKey)})}function lb(a){return d("LSRelayLiveResolvers").iterableToFirstValueLiveResolver(a.context,function(b){return d("ReQL").fromTableAscending(b.tables.community_folders).getKeyRange(a.value.parentThreadKey)})}function mb(a,b){return d("LSRelayLiveResolvers").iterableToConnectionLiveResolver(a.context,function(b){return d("ReQL").fromTableAscending(b.tables.mi_act_mapping_table).getKeyRange(a.value.threadKey)},b)}function nb(a){return d("LSRelayLiveResolvers").iterableToFirstValueLiveResolver(a.context,function(b){return d("ReQL").fromTableAscending(b.tables.rtc_ongoing_calls_on_threads_v2).getKeyRange(a.value.threadKey)})}function ob(a){return d("LSRelayLiveResolvers").iterableToFirstValueLiveResolver(a.context,function(b){return d("ReQL").fromTableAscending(b.tables.thread_proactive_warning_settings).getKeyRange(a.value.threadKey)})}function pb(a,b){return d("LSRelayLiveResolvers").iterableToConnectionLiveResolver(a.context,function(b){return d("ReQL").fromTableAscending(b.tables.in_thread_banner).getKeyRange(a.value.threadKey)},b)}function qb(a){return d("LSRelayLiveResolvers").iterableToFirstValueLiveResolver(a.context,function(b){return d("ReQL").fromTableAscending(b.tables.cutover_threads).getKeyRange(a.value.threadKey)})}function rb(a,b){return d("LSRelayLiveResolvers").iterableToConnectionLiveResolver(a.context,function(b){return d("ReQL").fromTableAscending(b.tables.custom_thread_commands).getKeyRange(a.value.threadKey)},b)}function sb(a,b){return d("LSRelayLiveResolvers").iterableToConnectionLiveResolver(a.context,function(b){return d("ReQL").fromTableAscending(b.tables.discoverable_chat_participants).getKeyRange(a.value.threadKey)},b)}function tb(a,b){return d("LSRelayLiveResolvers").iterableToConnectionLiveResolver(a.context,function(b){return d("ReQL").fromTableAscending(b.tables.persistent_menu_items).getKeyRange(a.value.threadKey)},b)}function ub(a){return d("LSRelayLiveResolvers").iterableToFirstValueLiveResolver(a.context,function(b){return d("ReQL").fromTableDescending(b.tables.thread_limits).getKeyRange(a.value.threadKey)})}g.__context=a;g.__lightspeed_table_row=b;g.last_activity_timestamp_ms=c;g.last_read_watermark_timestamp_ms=e;g.snippet=f;g.thread_name=h;g.thread_picture_url=i;g.needs_admin_approval_for_new_participant=j;g.authority_level=k;g.thread_key=l;g.mailbox_type=m;g.thread_type=n;g.folder_name=o;g.thread_picture_url_fallback=p;g.thread_picture_url_expiration_timestamp_ms=q;g.remove_watermark_timestamp_ms=r;g.mute_expire_time_ms=s;g.mute_mention_expire_time_ms=t;g.mute_calls_expire_time_ms=u;g.group_notification_settings=v;g.is_admin_snippet=w;g.snippet_sender_contact_id=x;g.snippet_text=y;g.snippet_string_hash=z;g.snippet_string_argument1=A;g.snippet_attribution=B;g.snippet_attribution_string_hash=C;g.disappearing_setting_ttl=D;g.disappearing_setting_updated_ts=E;g.disappearing_setting_updated_by=F;g.ongoing_call_state=G;g.cannot_reply_reason=H;g.custom_emoji=I;g.custom_emoji_image_url=J;g.avatar_sticker_instruction_key_id=K;g.avatar_sticker_id=L;g.avatar_sticker_thumbnail_image_url=M;g.avatar_sticker_thumbnail_image_mime_type=N;g.avatar_sticker_original_image_url=O;g.avatar_sticker_original_image_mime_type=P;g.outgoing_bubble_color=Q;g.theme_fbid=R;g.parent_thread_key=S;g.nullstate_description_text1=T;g.nullstate_description_type1=U;g.nullstate_description_text2=V;g.nullstate_description_type2=W;g.nullstate_description_text3=X;g.nullstate_description_type3=Y;g.snippet_has_emoji=Z;g.has_persistent_menu=$;g.disable_composer_input=aa;g.cannot_unsend_reason=ba;g.viewed_plugin_key=ca;g.viewed_plugin_context=da;g.client_thread_key=ea;g.capabilities=fa;g.should_round_thread_picture=ga;g.proactive_warning_dismiss_time=ha;g.is_custom_thread_picture=ia;g.otid_of_first_message=ja;g.normalized_search_terms=ka;g.additional_thread_context=la;g.disappearing_thread_key=ma;g.is_disappearing_mode=na;g.disappearing_mode_initiator=oa;g.unread_disappearing_message_count=pa;g.last_message_cta_id=qa;g.last_message_cta_type=ra;g.last_message_cta_timestamp_ms=sa;g.consistent_thread_fbid=ta;g.thread_description=ua;g.unsend_limit_ms=va;g.capabilities_2=wa;g.capabilities_3=xa;g.sync_group=ya;g.thread_invites_enabled=za;g.thread_invite_link=Aa;g.is_all_unread_message_missed_call_xma=Ba;g.num_unread_subthreads=Ca;g.subthread_count=Da;g.last_non_missed_call_xma_message_timestamp_ms=Ea;g.is_hidden=Fa;g.thread_invites_enabled_v2=Ga;g.join_request_approval_setting=Ha;g.has_pending_join_request=Ia;g.pending_join_requests_count=Ja;g.has_pending_invitation=Ka;g.event_start_timestamp_ms=La;g.event_end_timestamp_ms=Ma;g.takedown_state=Na;g.member_count=Oa;g.admod_count=Pa;g.secondary_parent_thread_key=Qa;g.ig_folder=Ra;g.inviter_id=Sa;g.thread_tags=Ta;g.is_read_receipts_disabled=Ua;g.read_receipts_disabled_v2=Va;g.thread_status=Wa;g.ctm_ad_id=Xa;g.ctm_adgroup_id=Ya;g.ctm_ad_campaign_id=Za;g.ctm_ad_campaign_group_id=$a;g.ctm_ad_account_id=ab;g.thread_subtype=bb;g.pause_thread_timestamp=cb;g.metadata=db;g.capabilities_4=eb;g.typing_indicator_disabled=fb;g.sync_source=gb;g.capabilities_5=hb;g.participants=ib;g.messages=jb;g.nullstate=kb;g.community_folder=lb;g.mi_act_mapping=mb;g.rtc_ongoing_calls=nb;g.thread_proactive_warning_settings=ob;g.in_thread_banner=pb;g.cutover_thread=qb;g.custom_thread_commands=rb;g.discoverable_chat_participants=sb;g.persistent_menu_items=tb;g.thread_limit=ub}),98);
__d("LSThreadComputedThreadTitle__computed_thread_title$normalization.graphql",["LS_Thread","LS_Participant_Connection","LS_Participant_Connection","LS_Participant","LS_Participant","LS_Participant","LS_Contact","LS_Contact","LS_Contact","LS_Thread","LS_Thread","LS_Thread"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{kind:"Literal",name:"first",value:8}];return{kind:"SplitOperation",metadata:{},name:"LSThreadComputedThreadTitle__computed_thread_title$normalization",selections:[{kind:"ClientEdgeToClientObject",backingField:{name:"participants",args:a,kind:"RelayLiveResolver",storageKey:"participants(first:8)",isOutputType:!0,resolverInfo:{resolverFunction:b("LS_Thread").participants,rootFragment:null}},linkedField:{alias:null,args:a,concreteType:"LS_Participant_Connection",kind:"LinkedField",name:"participants",plural:!1,selections:[{kind:"ClientEdgeToClientObject",backingField:{name:"edges",args:null,kind:"RelayResolver",storageKey:null,isOutputType:!0,resolverInfo:{resolverFunction:b("LS_Participant_Connection").edges,rootFragment:null}},linkedField:{alias:null,args:null,concreteType:"LS_Participant_Connection_Edge",kind:"LinkedField",name:"edges",plural:!0,selections:[{kind:"ClientEdgeToClientObject",backingField:{name:"node",args:null,kind:"RelayResolver",storageKey:null,isOutputType:!0,resolverInfo:{resolverFunction:b("LS_Participant_Connection").node,rootFragment:null}},linkedField:{alias:null,args:null,concreteType:"LS_Participant",kind:"LinkedField",name:"node",plural:!1,selections:[{name:"contact_id",args:null,kind:"RelayResolver",storageKey:null,isOutputType:!0,resolverInfo:{resolverFunction:b("LS_Participant").contact_id,rootFragment:null}},{name:"nickname",args:null,kind:"RelayResolver",storageKey:null,isOutputType:!0,resolverInfo:{resolverFunction:b("LS_Participant").nickname,rootFragment:null}},{kind:"ClientEdgeToClientObject",backingField:{name:"contact",args:null,kind:"RelayLiveResolver",storageKey:null,isOutputType:!0,resolverInfo:{resolverFunction:b("LS_Participant").contact,rootFragment:null}},linkedField:{alias:null,args:null,concreteType:"LS_Contact",kind:"LinkedField",name:"contact",plural:!1,selections:[{name:"first_name",args:null,kind:"RelayResolver",storageKey:null,isOutputType:!0,resolverInfo:{resolverFunction:b("LS_Contact").first_name,rootFragment:null}},{name:"name",args:null,kind:"RelayResolver",storageKey:null,isOutputType:!0,resolverInfo:{resolverFunction:b("LS_Contact").name,rootFragment:null}},{name:"rank",args:null,kind:"RelayResolver",storageKey:null,isOutputType:!0,resolverInfo:{resolverFunction:b("LS_Contact").rank,rootFragment:null}}],storageKey:null}}],storageKey:null}}],storageKey:null}}],storageKey:"participants(first:8)"}},{kind:"ClientExtension",selections:[{name:"__context",args:null,kind:"RelayResolver",storageKey:null,isOutputType:!0,resolverInfo:{resolverFunction:b("LS_Thread").__context,rootFragment:null}},{name:"thread_name",args:null,kind:"RelayResolver",storageKey:null,isOutputType:!0,resolverInfo:{resolverFunction:b("LS_Thread").thread_name,rootFragment:null}},{name:"thread_type",args:null,kind:"RelayResolver",storageKey:null,isOutputType:!0,resolverInfo:{resolverFunction:b("LS_Thread").thread_type,rootFragment:null}}]}]}}();e.exports=a}),null);
__d("LSThreadComputedThreadTitle__computed_thread_title.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:{hasClientEdges:!0},name:"LSThreadComputedThreadTitle__computed_thread_title",selections:[{kind:"RequiredField",field:{alias:null,args:null,kind:"ScalarField",name:"__context",storageKey:null},action:"THROW"},{alias:null,args:null,kind:"ScalarField",name:"thread_name",storageKey:null},{kind:"RequiredField",field:{alias:null,args:null,kind:"ScalarField",name:"thread_type",storageKey:null},action:"THROW"},{kind:"RequiredField",field:{alias:null,args:[{kind:"Literal",name:"first",value:8}],concreteType:"LS_Participant_Connection",kind:"LinkedField",name:"participants",plural:!1,selections:[{kind:"RequiredField",field:{alias:null,args:null,concreteType:"LS_Participant_Connection_Edge",kind:"LinkedField",name:"edges",plural:!0,selections:[{kind:"RequiredField",field:{alias:null,args:null,concreteType:"LS_Participant",kind:"LinkedField",name:"node",plural:!1,selections:[{kind:"RequiredField",field:{alias:null,args:null,kind:"ScalarField",name:"contact_id",storageKey:null},action:"THROW"},{alias:null,args:null,kind:"ScalarField",name:"nickname",storageKey:null},{alias:null,args:null,concreteType:"LS_Contact",kind:"LinkedField",name:"contact",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"first_name",storageKey:null},{kind:"RequiredField",field:{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},action:"THROW"},{kind:"RequiredField",field:{alias:null,args:null,kind:"ScalarField",name:"rank",storageKey:null},action:"THROW"}],storageKey:null}],storageKey:null},action:"THROW"}],storageKey:null},action:"THROW"}],storageKey:"participants(first:8)"},action:"THROW"}],type:"LS_Thread",abstractKey:null};e.exports=a}),null);
__d("LSThreadHasCapability__has_capability$normalization.graphql",["LS_Thread","LS_Thread","LS_Thread","LS_Thread","LS_Thread","LS_Thread"],(function(a,b,c,d,e,f){"use strict";a={kind:"SplitOperation",metadata:{},name:"LSThreadHasCapability__has_capability$normalization",selections:[{kind:"ClientExtension",selections:[{name:"capabilities",args:null,kind:"RelayResolver",storageKey:null,isOutputType:!0,resolverInfo:{resolverFunction:b("LS_Thread").capabilities,rootFragment:null}},{name:"capabilities_2",args:null,kind:"RelayResolver",storageKey:null,isOutputType:!0,resolverInfo:{resolverFunction:b("LS_Thread").capabilities_2,rootFragment:null}},{name:"capabilities_3",args:null,kind:"RelayResolver",storageKey:null,isOutputType:!0,resolverInfo:{resolverFunction:b("LS_Thread").capabilities_3,rootFragment:null}},{name:"capabilities_4",args:null,kind:"RelayResolver",storageKey:null,isOutputType:!0,resolverInfo:{resolverFunction:b("LS_Thread").capabilities_4,rootFragment:null}},{name:"capabilities_5",args:null,kind:"RelayResolver",storageKey:null,isOutputType:!0,resolverInfo:{resolverFunction:b("LS_Thread").capabilities_5,rootFragment:null}},{name:"thread_type",args:null,kind:"RelayResolver",storageKey:null,isOutputType:!0,resolverInfo:{resolverFunction:b("LS_Thread").thread_type,rootFragment:null}}]}]};e.exports=a}),null);
__d("LSThreadHasCapability__has_capability.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"LSThreadHasCapability__has_capability",selections:[{kind:"RequiredField",field:{alias:null,args:null,kind:"ScalarField",name:"capabilities",storageKey:null},action:"THROW"},{kind:"RequiredField",field:{alias:"capabilities2",args:null,kind:"ScalarField",name:"capabilities_2",storageKey:null},action:"THROW"},{kind:"RequiredField",field:{alias:"capabilities3",args:null,kind:"ScalarField",name:"capabilities_3",storageKey:null},action:"THROW"},{kind:"RequiredField",field:{alias:"capabilities4",args:null,kind:"ScalarField",name:"capabilities_4",storageKey:null},action:"THROW"},{kind:"RequiredField",field:{alias:"capabilities5",args:null,kind:"ScalarField",name:"capabilities_5",storageKey:null},action:"THROW"},{kind:"RequiredField",field:{alias:"threadType",args:null,kind:"ScalarField",name:"thread_type",storageKey:null},action:"THROW"}],type:"LS_Thread",abstractKey:null};e.exports=a}),null);
__d("LS_Thread__other_participant",["I64","LSMessagingThreadTypeUtil","LSRelayLiveResolvers","ReQL"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a){var b=a.context;a=a.value;var c=a.threadKey;a=a.threadType;return!d("LSMessagingThreadTypeUtil").isOneToOne(a)?d("LSRelayLiveResolvers").nullValueLiveState:d("LSRelayLiveResolvers").iterableToFirstValueLiveResolver(b,function(a){return d("ReQL").fromTableAscending(a.tables.participants).getKeyRange(c).take(2).filter(function(a){a=a.contactId;return(h||(h=d("I64"))).to_string(a)!==b.actorID})})}g.other_participant=a}),98);
__d("LSThreadIsPage__is_page$normalization.graphql",["LS_Thread__other_participant","LS_Participant","LS_Contact"],(function(a,b,c,d,e,f){"use strict";a={kind:"SplitOperation",metadata:{},name:"LSThreadIsPage__is_page$normalization",selections:[{kind:"ClientEdgeToClientObject",backingField:{name:"other_participant",args:null,kind:"RelayLiveResolver",storageKey:null,isOutputType:!0,resolverInfo:{resolverFunction:b("LS_Thread__other_participant").other_participant,rootFragment:null}},linkedField:{alias:"otherParticipant",args:null,concreteType:"LS_Participant",kind:"LinkedField",name:"other_participant",plural:!1,selections:[{kind:"ClientEdgeToClientObject",backingField:{name:"contact",args:null,kind:"RelayLiveResolver",storageKey:null,isOutputType:!0,resolverInfo:{resolverFunction:b("LS_Participant").contact,rootFragment:null}},linkedField:{alias:null,args:null,concreteType:"LS_Contact",kind:"LinkedField",name:"contact",plural:!1,selections:[{name:"contact_type",args:null,kind:"RelayResolver",storageKey:null,isOutputType:!0,resolverInfo:{resolverFunction:b("LS_Contact").contact_type,rootFragment:null}}],storageKey:null}}],storageKey:null}}]};e.exports=a}),null);
__d("LSThreadIsPage__is_page.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:{hasClientEdges:!0},name:"LSThreadIsPage__is_page",selections:[{alias:"otherParticipant",args:null,concreteType:"LS_Participant",kind:"LinkedField",name:"other_participant",plural:!1,selections:[{alias:null,args:null,concreteType:"LS_Contact",kind:"LinkedField",name:"contact",plural:!1,selections:[{alias:"contactType",args:null,kind:"ScalarField",name:"contact_type",storageKey:null}],storageKey:null}],storageKey:null}],type:"LS_Thread",abstractKey:null};e.exports=a}),null);
__d("LSThreadIsSecureThread__is_secure_thread$normalization.graphql",["LS_Thread"],(function(a,b,c,d,e,f){"use strict";a={kind:"SplitOperation",metadata:{},name:"LSThreadIsSecureThread__is_secure_thread$normalization",selections:[{kind:"ClientExtension",selections:[{name:"thread_type",args:null,kind:"RelayResolver",storageKey:null,isOutputType:!0,resolverInfo:{resolverFunction:b("LS_Thread").thread_type,rootFragment:null}}]}]};e.exports=a}),null);
__d("LSThreadIsSecureThread__is_secure_thread.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"LSThreadIsSecureThread__is_secure_thread",selections:[{kind:"RequiredField",field:{alias:null,args:null,kind:"ScalarField",name:"thread_type",storageKey:null},action:"THROW"}],type:"LS_Thread",abstractKey:null};e.exports=a}),null);
__d("LSThreadOtherParticipantOrSelf__other_participant_or_self$normalization.graphql",["LS_Thread","LS_Participant_Connection","LS_Thread","LS_Thread","LS_Thread"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{kind:"Literal",name:"first",value:2}];return{kind:"SplitOperation",metadata:{},name:"LSThreadOtherParticipantOrSelf__other_participant_or_self$normalization",selections:[{kind:"ClientEdgeToClientObject",backingField:{name:"participants",args:a,kind:"RelayLiveResolver",storageKey:"participants(first:2)",isOutputType:!0,resolverInfo:{resolverFunction:b("LS_Thread").participants,rootFragment:null}},linkedField:{alias:null,args:a,concreteType:"LS_Participant_Connection",kind:"LinkedField",name:"participants",plural:!1,selections:[{kind:"ClientEdgeToClientObject",backingField:{name:"edges",args:null,kind:"RelayResolver",storageKey:null,isOutputType:!0,resolverInfo:{resolverFunction:b("LS_Participant_Connection").edges,rootFragment:null}},linkedField:{alias:null,args:null,concreteType:"LS_Participant_Connection_Edge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:null}}],storageKey:"participants(first:2)"}},{kind:"ClientExtension",selections:[{name:"__context",args:null,kind:"RelayResolver",storageKey:null,isOutputType:!0,resolverInfo:{resolverFunction:b("LS_Thread").__context,rootFragment:null}},{name:"thread_key",args:null,kind:"RelayResolver",storageKey:null,isOutputType:!0,resolverInfo:{resolverFunction:b("LS_Thread").thread_key,rootFragment:null}},{name:"thread_type",args:null,kind:"RelayResolver",storageKey:null,isOutputType:!0,resolverInfo:{resolverFunction:b("LS_Thread").thread_type,rootFragment:null}}]}]}}();e.exports=a}),null);
__d("LSThreadOtherParticipantOrSelf__other_participant_or_self.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:{hasClientEdges:!0},name:"LSThreadOtherParticipantOrSelf__other_participant_or_self",selections:[{kind:"RequiredField",field:{alias:null,args:null,kind:"ScalarField",name:"__context",storageKey:null},action:"THROW"},{kind:"RequiredField",field:{alias:"threadKey",args:null,kind:"ScalarField",name:"thread_key",storageKey:null},action:"THROW"},{kind:"RequiredField",field:{alias:"threadType",args:null,kind:"ScalarField",name:"thread_type",storageKey:null},action:"THROW"},{kind:"RequiredField",field:{alias:null,args:[{kind:"Literal",name:"first",value:2}],concreteType:"LS_Participant_Connection",kind:"LinkedField",name:"participants",plural:!1,selections:[{kind:"RequiredField",field:{alias:null,args:null,concreteType:"LS_Participant_Connection_Edge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:null},action:"THROW"}],storageKey:"participants(first:2)"},action:"THROW"}],type:"LS_Thread",abstractKey:null};e.exports=a}),null);
__d("LSTypingIndicatorSettingState",[],(function(a,b,c,d,e,f){a=Object.freeze({DEFAULT:0,DISABLED:1,ENABLED:2});f["default"]=a}),66);
__d("LSUpdateE2eeHdMediaSettings",["LSGetViewerFBID","LSIssueNewTask"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(e){return c.sequence([function(a){return c.storedProcedure(b("LSGetViewerFBID")).then(function(a){return a=a,d[0]=a[0],a})},function(b){return c.forEach(c.db.table(288).fetch([[[d[0]]]]),function(b){var c=b.update;b.item;return c({e2eeHdMediaEnabled:a[0]})})},function(e){return d[1]=new c.Map(),d[1].set("hd_media_enabled",a[0]),d[2]=c.toJSON(d[1]),c.storedProcedure(b("LSIssueNewTask"),"toggle_e2ee_hd_media_settings",c.i64.cast([0,1030]),d[2],void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]),void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]))}])},function(a){return c.resolve(e)}])}a.__sproc_name__="LSOmnistoreSettingsUpdateE2eeHdMediaSettingsStoredProcedure";a.__tables__=["messaging_privacy_settings"];e.exports=a}),null);
__d("LS_CommunityFolder",[],(function(a,b,c,d,e,f){function a(a){return a.context}function b(a){return a.value}function c(a){return a.value.folderId}function d(a){return a.value.fbGroupId}function e(a){return a.value.name}function g(a){return a.value.description}function h(a){return a.value.memberCount}function i(a){return a.value.pictureUrl}function j(a){return a.value.pictureUrlFallback}function k(a){return a.value.pictureUrlExpirationTimestampMs}function l(a){return a.value.joiningChannelTaskId}function m(a){return a.value.afterJoiningOpenChannelId}function n(a){return a.value.capabilities}function o(a){return a.value.capabilities2}function p(a){return a.value.capabilities3}function q(a){return a.value.notificationSetting}function r(a){return a.value.notificationMutedUntil}function s(a){return a.value.sendsBlockedUntil}function t(a){return a.value.isHidden}function u(a){return a.value.hasSeenDisablingAlert}function v(a){return a.value.inviteLink}function w(a){return a.value.communityType}function x(a){return a.value.directInviteLink}function y(a){return a.value.enableState}function z(a){return a.value.takedownState}function A(a){return a.value.fbGroupType}function B(a){return a.value.threadCount}function C(a){return a.value.disableTimestamp}function D(a){return a.value.readTimestampMs}function E(a){return a.value.inviteStatus}function F(a){return a.value.blockedFromCommunityMemberCount}function G(a){return a.value.categoryCount}function H(a){return a.value.snippetText}function I(a){return a.value.coverPicUrl}function J(a){return a.value.coverPicUrlFallback}function K(a){return a.value.coverPicUrlExpirationTimestampMs}function L(a){return a.value.invitedThreadId}function M(a){return a.value.fbGroupUserParticipationApprovalStatus}function N(a){return a.value.ccAdminAssistRegistrationStatus}function O(a){return a.value.pauseStatus}function P(a){return a.value.isMember}f.__context=a;f.__lightspeed_table_row=b;f.folder_id=c;f.fb_group_id=d;f.name=e;f.description=g;f.member_count=h;f.picture_url=i;f.picture_url_fallback=j;f.picture_url_expiration_timestamp_ms=k;f.joining_channel_task_id=l;f.after_joining_open_channel_id=m;f.capabilities=n;f.capabilities_2=o;f.capabilities_3=p;f.notification_setting=q;f.notification_muted_until=r;f.sends_blocked_until=s;f.is_hidden=t;f.has_seen_disabling_alert=u;f.invite_link=v;f.community_type=w;f.direct_invite_link=x;f.enable_state=y;f.takedown_state=z;f.fb_group_type=A;f.thread_count=B;f.disable_timestamp=C;f.read_timestamp_ms=D;f.invite_status=E;f.blocked_from_community_member_count=F;f.category_count=G;f.snippet_text=H;f.cover_pic_url=I;f.cover_pic_url_fallback=J;f.cover_pic_url_expiration_timestamp_ms=K;f.invited_thread_id=L;f.fb_group_user_participation_approval_status=M;f.cc_admin_assist_registration_status=N;f.pause_status=O;f.is_member=P}),66);
__d("LS_Contact__has_capability",["LSContactBitOffset","LSContactCapabilityBitOffset","LSContactHasCapability__has_capability.graphql","ReactiveExecutorResolverFragments"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a,e){e=e.capability;a=d("ReactiveExecutorResolverFragments").readFragment(h!==void 0?h:h=b("LSContactHasCapability__has_capability.graphql"),a);var f=a.capabilities;a=a.capabilities_2;return e!=="%future added value"&&d("LSContactBitOffset").has(c("LSContactCapabilityBitOffset")[e],{capabilities:(e=f)!=null?e:void 0,capabilities2:(f=a)!=null?f:void 0})}g.has_capability=a}),98);
__d("LS_MiActMappingTable",[],(function(a,b,c,d,e,f){function a(a){return a.context}function b(a){return a.value}function c(a){return a.value.serverThreadKey}function d(a){return a.value.clientThreadPk}function e(a){return a.value.jid}f.__context=a;f.__lightspeed_table_row=b;f.server_thread_key=c;f.client_thread_pk=d;f.jid=e}),66);
__d("LS_MiActMappingTable_Connection",["LSRelayConnections"],(function(a,b,c,d,e,f,g){function a(a){return a.value.edges}function b(a){return a.value.page_info}function c(a){return d("LSRelayConnections").keyToCursor(a.value[0])}function e(a){return{context:a.context,value:a.value[1]}}g.edges=a;g.page_info=b;g.cursor=c;g.node=e}),98);
__d("LS_Thread__computed_thread_title",["fbt","CurrentEnvironment","I64","LSMessagingThreadTypeUtil","LSThreadComputedThreadTitle__computed_thread_title.graphql","ReactiveExecutorResolverFragments","intlList","mwCMIsAnyCMThread","recoverableViolation"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j;function a(a){a=d("ReactiveExecutorResolverFragments").readFragment(i!==void 0?i:i=b("LSThreadComputedThreadTitle__computed_thread_title.graphql"),a);var c=a.__context,e=a.participants,f=a.thread_name;a=a.thread_type;return f!=null?f:l(a,e.edges.map(function(a){return a.node}),c.actorID)}function k(a,b){return a.filter(function(a){return(j||(j=d("I64"))).to_string(a.contact_id)!==b}).map(function(a){return a.contact==null?null:{first_name:a.contact.first_name,name:a.contact.name,nickname:a.nickname,rank:a.contact.rank}}).filter(Boolean).sort(function(a,b){return b.rank-a.rank})}function l(a,b,e){if(c("mwCMIsAnyCMThread")(a)){c("recoverableViolation")("community message should not use computed thread title","messenger_comet");return n}if(b.length===0){c("recoverableViolation")("No participants in thread","lightspeed_resolvers");return d("LSMessagingThreadTypeUtil").isGroup(a)?n:m}if(b.length===1){return(a=(a=b[0].contact)==null?void 0:a.name)!=null?a:m}a=k(b,e);var f=a.length>2;b=a.map(function(a){return o(a,f)});a.length>7&&b.push(String(h._(/*BTDS*/"__JHASH__p-5gRHawKL0__JHASH__")));return c("intlList")(b,c("intlList").CONJUNCTIONS.AND,c("intlList").DELIMITERS.COMMA).toString()}var m=(c("CurrentEnvironment").workplacedotcom?h._(/*BTDS*/"__JHASH__WW0S3bu0Fvp__JHASH__"):c("CurrentEnvironment").instagramdotcom?h._(/*BTDS*/"__JHASH__PghB4SzSbNm__JHASH__"):c("CurrentEnvironment").messengerdotcom?h._(/*BTDS*/"__JHASH__I44_DhMSYWP__JHASH__"):h._(/*BTDS*/"__JHASH__AaE4hJExM0x__JHASH__")).toString(),n=(c("CurrentEnvironment").workplacedotcom?h._(/*BTDS*/"__JHASH__2SG6KMU4AFK__JHASH__"):c("CurrentEnvironment").instagramdotcom?h._(/*BTDS*/"__JHASH__wXDLgcJTU51__JHASH__"):c("CurrentEnvironment").messengerdotcom?h._(/*BTDS*/"__JHASH__Kz0QpoJHutZ__JHASH__"):h._(/*BTDS*/"__JHASH__CGopUYR1PJW__JHASH__")).toString();function o(a,b){var c=a.first_name,d=a.name;a=a.nickname;b===void 0&&(b=!1);if(a!=null)return a;if(c!=null&&b)return c;return d!=null?d:m}g.computed_thread_title=a}),226);
__d("LS_Thread__has_capability",["LSThreadBitOffset","LSThreadCapabilityBitOffset","LSThreadHasCapability__has_capability.graphql","ReactiveExecutorResolverFragments"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a,e){e=e.capability;a=d("ReactiveExecutorResolverFragments").readFragment(h!==void 0?h:h=b("LSThreadHasCapability__has_capability.graphql"),a);var f=a.capabilities,g=a.capabilities2,i=a.capabilities3,j=a.capabilities4,k=a.capabilities5;a=a.threadType;return e!=="%future added value"&&d("LSThreadBitOffset").has(c("LSThreadCapabilityBitOffset")[e],{capabilities:f,capabilities2:g,capabilities3:i,capabilities4:j,capabilities5:k,threadType:a})}g.has_capability=a}),98);
__d("LS_Thread__has_messages_ranges_v2",["LSRelayLiveResolvers","ReQL"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=a.context;a=a.value;var c=a.threadKey;return d("LSRelayLiveResolvers").mapLiveState(d("LSRelayLiveResolvers").iterableToMappedValueLiveResolver(b,function(a){return d("ReQL").fromTableDescending(a.tables.messages_ranges_v2__generated).getKeyRange(c).take(1)},function(a){return a!=null}),function(a){return a==null?void 0:a.value})}g.computed_has_messages_ranges_v2=a}),98);
__d("LS_Thread__is_cutover_thread",["LSRelayLiveResolvers","ReQL"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=a.context;a=a.value;var c=a.threadKey;return d("LSRelayLiveResolvers").mapLiveState(d("LSRelayLiveResolvers").iterableToMappedValueLiveResolver(b,function(a){return d("ReQL").fromTableAscending(a.tables.cutover_threads).getKeyRange(c).take(1)},function(a){return a!=null}),function(a){return a==null?void 0:a.value})}g.is_cutover_thread=a}),98);
__d("LS_Thread__is_page",["I64","LSContactType","LSIntEnum","LSThreadIsPage__is_page.graphql","ReactiveExecutorResolverFragments"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j;function a(a){a=d("ReactiveExecutorResolverFragments").readFragment(h!==void 0?h:h=b("LSThreadIsPage__is_page.graphql"),a);a=a.otherParticipant;a=a==null?void 0:(a=a.contact)==null?void 0:a.contactType;return a!=null&&(i||(i=d("I64"))).equal(a,(j||(j=d("LSIntEnum"))).ofNumber(c("LSContactType").PAGE))}g.computed_is_page=a}),98);
__d("LS_Thread__is_secure_thread",["LSMessagingThreadTypeUtil","LSThreadIsSecureThread__is_secure_thread.graphql","ReactiveExecutorResolverFragments"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a){a=d("ReactiveExecutorResolverFragments").readFragment(h!==void 0?h:h=b("LSThreadIsSecureThread__is_secure_thread.graphql"),a);a=a.thread_type;return d("LSMessagingThreadTypeUtil").isArmadilloSecure(a)}g.is_secure_thread=a}),98);
__d("LS_Thread__other_participant_or_self",["I64","LSMessagingThreadTypeUtil","LSRelayLiveResolvers","LSThreadOtherParticipantOrSelf__other_participant_or_self.graphql","ReQL","ReactiveExecutorResolverFragments"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function a(a){a=d("ReactiveExecutorResolverFragments").readFragment(h!==void 0?h:h=b("LSThreadOtherParticipantOrSelf__other_participant_or_self.graphql"),a);var c=a.__context,e=a.participants.edges,f=a.threadKey;a=a.threadType;if(!d("LSMessagingThreadTypeUtil").isOneToOne(a))return d("LSRelayLiveResolvers").nullValueLiveState;var g=c.actorID;return e.length===1?d("LSRelayLiveResolvers").iterableToFirstValueLiveResolver(c,function(a){return d("ReQL").fromTableAscending(a.tables.participants).getKeyRange(f)}):d("LSRelayLiveResolvers").iterableToFirstValueLiveResolver(c,function(a){return d("ReQL").fromTableAscending(a.tables.participants).getKeyRange(f).filter(function(a){a=a.contactId;return(i||(i=d("I64"))).to_string(a)!==g})})}g.other_participant_or_self=a}),98);
__d("LS_Thread__other_participants_MAY_CAUSE_OVERFETCHING",["I64","LSRelayLiveResolvers","ReQL"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a){var b=a.context,c=a.value.threadKey;return d("LSRelayLiveResolvers").iterableToPluralFieldLiveResolver_MAY_CAUSE_OVERFETCHING(b,function(a){return d("ReQL").fromTableAscending(a.tables.participants).getKeyRange(c).filter(function(a){a=a.contactId;return(h||(h=d("I64"))).to_string(a)!==b.actorID})})}g.other_participants_MAY_CAUSE_OVERFETCHING=a}),98);
__d("LS_Viewer",["I64","LSFeatureLimitsType","LSIntEnum","LSRelayLiveResolvers","ReQL"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function a(a){return a.context.actorID}function b(a){a=a.context;var b=(h||(h=d("I64"))).of_float(Date.now()/1e3);return d("LSRelayLiveResolvers").mapLiveState(d("LSRelayLiveResolvers").iterableToMappedValueLiveResolver(a,function(a){return d("ReQL").fromTableAscending(a.tables.feature_limits).filter(function(a){return k(a)&&(h||(h=d("I64"))).gt(a.expirationTimestampSeconds,b)}).take(1)},function(a){return a!=null}),function(a){return a==null?void 0:a.value})}var j=[(i||(i=d("LSIntEnum"))).ofNumber(c("LSFeatureLimitsType").READ_ONLY),i.ofNumber(c("LSFeatureLimitsType").GENERIC_READ_ONLY_BLOCK),i.ofNumber(c("LSFeatureLimitsType").MESSAGE_SEND)],k=function(a){return j.some(function(b){return(h||(h=d("I64"))).equal(b,a.type_)})};function e(a){a=a.context;return d("LSRelayLiveResolvers").iterableToFirstValueLiveResolver(a,function(a){return d("ReQL").fromTableAscending(a.tables.user_visible_errors).filter(function(a){return a.presentationStyle==="banner"})})}g.actor_id=a;g.is_read_only_feature_limited=b;g.user_visible_error_banner=e}),98);
__d("MAWBumpThread",["MAWLogAuthThreadWith0LAT","ODS","ReQL","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a){return i.apply(this,arguments)}function i(){i=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){a.description;var b=a.lastActivityTs,c=a.lastMessageCtaType,e=a.lastReadTs,f=a.snippet,g=a.snippetSenderContactId,i=a.threadKey;a=a.txn;i=(yield d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.threads).getKeyRange(i)));if(i==null)return(h||(h=d("ODS"))).bumpEntityKey(3185,"armadillo_thread_bump","missing_thread");g=(g=g)!=null?g:i.snippetSenderContactId;c=babelHelpers["extends"]({},i,{lastActivityTimestampMs:(b=b)!=null?b:i.lastActivityTimestampMs,lastMessageCtaType:c,lastReadWatermarkTimestampMs:(b=e)!=null?b:i.lastReadWatermarkTimestampMs,snippet:f,snippetSenderContactId:g});d("MAWLogAuthThreadWith0LAT").logAuthThreadWith0LAT(c,"MAWBumpThread");yield a.threads.put(c)});return i.apply(this,arguments)}g.threadMutation_DEPRECATED=a}),98);
__d("MAWCreateGroupThread",["fbt","I64","LSFactory","LSIssueNewErrorStoredProcedure","LSMessagingThreadAttributionType","MAWBridgeSendAndReceive","MAWJobDefinitions","MAWTimedJob","MWSharedMsgLogUtils","WAJobOrchestratorTypes","asyncToGeneratorRuntime","promiseDone","sendToSentQPLLogger","unrecoverableViolation"],(function(a,b,c,d,e,f,g,h){"use strict";var i;function j(a){return k.apply(this,arguments)}function k(){k=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=a.db,e=a.deduplicationKey,g=a.isDualSend;g=g===void 0?!1:g;var j=a.offlineThreadingId,k=a.participantIds;a=a.threadName;j=j!=null?(i||(i=d("I64"))).to_string(j):void 0;var l="msgr",m=d("sendToSentQPLLogger").markSendToSentStart();d("sendToSentQPLLogger").addSendToSentAnnotations(m,yield d("MWSharedMsgLogUtils").getSendToSentBaseAnnotations(d("MWSharedMsgLogUtils").getMessageTypeParams({isGroupInvite:!0}),c("LSMessagingThreadAttributionType").UNKNOWN));e=(yield d("MAWTimedJob").TimedUIJobStarters.waitUntilCompleted(d("MAWJobDefinitions").createStartJobInfo("createGroup",{extras:{clientThreadKey:j,deduplicationKey:e,isDualSend:g,platform:l},key:j,s2sInstanceKey:m,scheduleConfig:{priority:d("WAJobOrchestratorTypes").JOB_PRIORITY.UI_ACTION},subject:a,uniqKey:j,users:k})));a=e.error;j=e.value;if(a==null&&j!=null&&j.type===l){d("sendToSentQPLLogger").markSendToSentSuccess(m);return{created:!0,jid:j.chatJid}}if(!g){var n=h._(/*BTDS*/"__JHASH__Q8EKHlLB3en__JHASH__").toString();c("promiseDone")(b.runInTransaction(function(a){return c("LSIssueNewErrorStoredProcedure")(c("LSFactory")(a),{errorBodyText:n,errorTitleText:n})},"readwrite",void 0,void 0,f.id+":105"))}d("sendToSentQPLLogger").markSendToSentFail(m,"failed_to_send_group_invite");throw c("unrecoverableViolation")("Unable to create group","maw_threads")});return k.apply(this,arguments)}function a(a){return l.apply(this,arguments)}function l(){l=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=a.deduplicationKey;if(b==null)return j(a);b=(yield d("MAWBridgeSendAndReceive").sendAndReceive("backend","getThreadIdByDeduplicationKey",{deduplicationKey:b}));return b!=null?{created:!1,jid:b.jid}:j(a)});return l.apply(this,arguments)}g["default"]=a}),226);
__d("MAWCreateOptimisticSecureMessage",["I64","LSAuthorityLevel","LSIntEnum","LSMessageReplySourceType","LSMessageReplySourceTypeV2","LSMessageSendStatus","LSQuickReplyType","LSReplyMessageAttachmentType","LSReplyMessageStatus","MAWBridgeBuildMsg","MAWMsgReplySnippet","MessagingAttachmentType","QPLUserFlow","ReQL","asyncToGeneratorRuntime","isMWBumpMessage","qpl","sendToSentQPLLogger"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function j(a,b,c,d){return k.apply(this,arguments)}function k(){k=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,e,f){if(e==null)return[void 0,void 0];var g=(yield d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.messages).getKeyRange(b,e.timestampMs,e.messageId)));c("QPLUserFlow").addPoint(c("qpl")._(25313175,"1551"),"get_reply_msg_end",{instanceKey:f});a=(yield d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.attachments).getKeyRange(b,e.messageId)));c("QPLUserFlow").addPoint(c("qpl")._(25313175,"1551"),"get_reply_attachment_end",{instanceKey:f});return[g,a]});return k.apply(this,arguments)}function l(a,b){return m.apply(this,arguments)}function m(){m=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){a=(yield d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.tables.contacts).getKeyRange(b)));return a==null?void 0:a.firstName});return m.apply(this,arguments)}function n(a,b,c){return o.apply(this,arguments)}function o(){o=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,e){if(b==null)return;var f=c("isMWBumpMessage")(b)&&b.replyToUserId!=null?b.replyToUserId:b.senderId;a=(yield l(a,f));return(b=d("MAWMsgReplySnippet").buildLocalizedReplySnippet({isAuthorMe:!0,isDeletedMsg:b.replyStatus===c("LSReplyMessageStatus").DELETED,recipientName:a,replySenderIsMe:(h||(h=d("I64"))).equal(f,e)}))==null?void 0:b.toString()});return o.apply(this,arguments)}function p(a){if(a==null)return;var b=a.attachmentType;return(h||(h=d("I64"))).equal(b,(i||(i=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").IMAGE))||(h||(h=d("I64"))).equal(b,(i||(i=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").STICKER))?a.previewUrl:void 0}function q(a){if(a!=null){if((h||(h=d("I64"))).equal(a==null?void 0:a.attachmentType,(i||(i=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").IMAGE)))return(i||(i=d("LSIntEnum"))).ofNumber(c("LSReplyMessageAttachmentType").PHOTO);if((h||(h=d("I64"))).equal(a==null?void 0:a.attachmentType,(i||(i=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").STICKER)))return(i||(i=d("LSIntEnum"))).ofNumber(c("LSReplyMessageAttachmentType").STICKER);if((h||(h=d("I64"))).equal(a==null?void 0:a.attachmentType,(i||(i=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").VIDEO)))return(i||(i=d("LSIntEnum"))).ofNumber(c("LSReplyMessageAttachmentType").VIDEO);if((h||(h=d("I64"))).equal(a==null?void 0:a.attachmentType,(i||(i=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").ANIMATED_IMAGE)))return(i||(i=d("LSIntEnum"))).ofNumber(c("LSReplyMessageAttachmentType").GIF);return(h||(h=d("I64"))).equal(a==null?void 0:a.attachmentType,(i||(i=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").EPHEMERAL_IMAGE))||(h||(h=d("I64"))).equal(a==null?void 0:a.attachmentType,(i||(i=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").EPHEMERAL_VIDEO))?(i||(i=d("LSIntEnum"))).ofNumber(c("LSReplyMessageAttachmentType").EPHEMERAL_RAVEN_MESSAGE):(i||(i=d("LSIntEnum"))).ofNumber(c("LSReplyMessageAttachmentType").OTHER)}}function a(a,b,c,d,e,f,g,h,i,j,k,l){return r.apply(this,arguments)}function r(){r=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,e,f,g,h,k,l,m,o,r,s){var t=(yield d("sendToSentQPLLogger").measureSendToSentPerformance("optimistic_message_get_reply",l,function(){return j(b,h,f,l)})),u=t[0];t=t[1];g=d("MAWBridgeBuildMsg").buildOptimisticMessage(g,u,m);m=(yield d("sendToSentQPLLogger").measureSendToSentPerformance("optimistic_message_reply_snippet",l,function(){return n(a,u,e)}));g=babelHelpers["extends"]({},g,{authorityLevel:(i||(i=d("LSIntEnum"))).ofNumber(c("LSAuthorityLevel").OPTIMISTIC),displayedContentTypes:i.ofNumber(s),hasQuickReplies:!1,hotEmojiSize:k,isAdminMessage:!1,isCollapsed:!1,isUnsent:!1,messageId:o,offlineThreadingId:o,primarySortKey:r,quickReplyType:i.ofNumber(c("LSQuickReplyType").NONE),replyAttachmentType:q(t),replyMediaPreviewHeight:t==null?void 0:t.previewHeight,replyMediaPreviewWidth:t==null?void 0:t.previewWidth,replyMediaUrl:p(t),replyMediaUrlMimeType:t==null?void 0:t.playableUrlMimeType,replySnippet:m,replySourceId:f==null?void 0:f.messageId,replySourceType:f!=null?(i||(i=d("LSIntEnum"))).ofNumber(c("LSMessageReplySourceType").MESSAGE):void 0,replySourceTypeV2:f!=null?(i||(i=d("LSIntEnum"))).ofNumber(c("LSMessageReplySourceTypeV2").MESSAGE):void 0,senderId:e,sendStatus:i.ofNumber(c("LSMessageSendStatus").SENDING_TO_SERVER),sendStatusV2:i.ofNumber(1),textHasLinks:!1,threadKey:h,timestampMs:r,transportKey:"WhatsApp",viewFlags:i.ofNumber(0)});return g});return r.apply(this,arguments)}g.buildOptimisticLsMessage=a}),98);
__d("MAWOptimisticMessageUtils",["I64","LSAuthorityLevel","LSHotEmojiSize","LSIntEnum","MAWAckLevel","MAWAdminMsg","MAWBridgeBuildMsgMentions","MAWBumpThread","MAWLocalizationType","MAWMsgType","MessagingAttachmentType","ReQL","WAJids","WATimeUtils","asyncToGeneratorRuntime","cr:2472","qex"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function a(){return d("WATimeUtils").millisTime()}function j(a,b){return k.apply(this,arguments)}function k(){k=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){a=(yield d("ReQL").firstAsync(d("ReQL").fromTableDescending(a.threads.index("lastActivityTimestampMs"))));return a==null||(h||(h=d("I64"))).equal(a.threadKey,b)?null:(h||(h=d("I64"))).add(a.lastActivityTimestampMs,h.one)});return k.apply(this,arguments)}function e(a,b){return l.apply(this,arguments)}function l(){l=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,e){var f=e.hotEmojiSize,g=e.mentionedJids,k=e.messageText,l=e.senderId,n=e.threadKey;e=e.ts;k=b("cr:2472")==null?k:b("cr:2472").unvault(k);f=f!=null&&(h||(h=d("I64"))).equal(f,(i||(i=d("LSIntEnum"))).ofNumber(c("LSHotEmojiSize").SMALL))&&k==="\ud83d\udc4d";f=f?"(Y)":m(k,g);k=d("MAWAdminMsg").buildLocalizedString([f],[],d("MAWLocalizationType").CURRENT_USER_SEND_TEXT);g=null;c("qex")._("1706")?g=(yield j(a,n)):g=e;yield d("MAWBumpThread").threadMutation_DEPRECATED({description:"MAWOptimisticMessageUtils",lastActivityTs:g,lastReadTs:g,snippet:k,snippetSenderContactId:l,threadKey:n,txn:a})});return l.apply(this,arguments)}function m(a,b){b=d("MAWBridgeBuildMsgMentions").buildThreadSnippetWithMentions(a,b,[],d("MAWLocalizationType").CURRENT_USER_SEND_TEXT);var c=b[0];b[1];return(b=c)!=null?b:a}function f(a,b){return n.apply(this,arguments)}function n(){n=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){var e=b.optimisticMediaAttachment,f=b.senderId,g=b.threadKey;b=b.timestampMsI64;e=r(e.type);if(e!=null){var h=null;c("qex")._("1706")?h=(yield j(a,g)):h=b;yield d("MAWBumpThread").threadMutation_DEPRECATED({description:"MAWCreateOptimisticSecureMessageWithAttachment",lastActivityTs:h,lastReadTs:h,snippet:e,snippetSenderContactId:f,threadKey:g,txn:a})}});return n.apply(this,arguments)}function o(a){var b=a.ephemeralSettings,c=a.externalId,e=a.threadJid;a=a.ts;return{ack:d("MAWAckLevel").ACK.partialOptimistic,altIndex:void 0,author:d("WAJids").AUTHOR_ME,ephemeralSetting:(b=b)!=null?b:void 0,externalId:c,isForwarded:!1,specialTextSize:void 0,threadJid:e,ts:d("WATimeUtils").castMilliSecondsToUnixTime(a)}}function p(a){var b=a.content,c=a.initiatingSource,d=a.isFirstMsg,e=a.mentionedJids,f=a.optimisticMsg,g=a.quote,h=a.specialTextSize;a=a.threadSource;return{content:b,initiatingSource:c,isFirstMsg:d,isForwarded:!1,mentionedJids:e==null?void 0:e.slice(),openMessageOtid:void 0,openMessageParticipantCount:void 0,optimisticMsg:f,participantCount:void 0,quote:g,source:a,specialTextSize:h}}function q(a){var b=a.optimisticMediaAttachment,e=a.threadKey,f=a.timestampMsI64;e={attachmentFbid:a.offlineAttachmentId,attachmentIndex:(h||(h=d("I64"))).zero,attachmentType:a.attachmentType,authorityLevel:(i||(i=d("LSIntEnum"))).ofNumber(c("LSAuthorityLevel").OPTIMISTIC),filename:b==null?void 0:b.filename,hasMedia:!h.equal(a.attachmentType,i.ofNumber(c("MessagingAttachmentType").XMA)),hasXma:h.equal(a.attachmentType,i.ofNumber(c("MessagingAttachmentType").XMA)),isHd:a.isHd,isSharable:!1,messageId:a.messageExternalId,offlineAttachmentId:a.offlineAttachmentId,subtitleText:a.subtitleText,threadKey:e,timestampMs:f,titleText:a.titleText,transportKey:"WhatsApp"};if(b){e=babelHelpers["extends"]({},e,{filesize:(h||(h=d("I64"))).of_float(b.file.size),previewUrl:b.url});if(b.type==="image"||b.type==="animated_image"||b.type==="video"||b.type==="sticker"){e=babelHelpers["extends"]({},e,{previewHeight:((f=b.thumbnailSpec)==null?void 0:f.height)?(h||(h=d("I64"))).of_float((a=b.thumbnailSpec)==null?void 0:a.height):void 0,previewWidth:((f=b.thumbnailSpec)==null?void 0:f.width)?(h||(h=d("I64"))).of_float((a=b.thumbnailSpec)==null?void 0:a.width):void 0})}}return e}function r(a){switch(a){case"animated_image":return d("MAWAdminMsg").buildLocalizedString([],[],d("MAWLocalizationType").CURRENT_USER_SEND_GIF);case"image":return d("MAWAdminMsg").buildLocalizedString([],[],d("MAWLocalizationType").CURRENT_USER_SEND_IMAGE);case"video":return d("MAWAdminMsg").buildLocalizedString([],[],d("MAWLocalizationType").CURRENT_USER_SEND_VIDEO);case"audio":return d("MAWAdminMsg").buildLocalizedString([],[],d("MAWLocalizationType").CURRENT_USER_SEND_AUDIO);case"document":return d("MAWAdminMsg").buildLocalizedString([],[],d("MAWLocalizationType").CURRENT_USER_SEND_ATTACHMENT);case"sticker":return d("MAWAdminMsg").buildLocalizedString([],[],d("MAWLocalizationType").CURRENT_USER_SEND_STICKER);default:return null}}function s(a){switch(a){case(i||(i=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").STICKER):return d("MAWMsgType").MSG_TYPE.STICKER;case(i||(i=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").IMAGE):return d("MAWMsgType").MSG_TYPE.IMAGE;case(i||(i=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").ANIMATED_IMAGE):return d("MAWMsgType").MSG_TYPE.GIF;case(i||(i=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").VIDEO):return d("MAWMsgType").MSG_TYPE.VIDEO;case(i||(i=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").AUDIO):return d("MAWMsgType").MSG_TYPE.PTT;default:return d("MAWMsgType").MSG_TYPE.DOCUMENT_FILE}}function t(a){if(a==null)return;if((h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(c("LSHotEmojiSize").SMALL)))return 1;if((h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(c("LSHotEmojiSize").MEDIUM)))return 2;if((h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(c("LSHotEmojiSize").LARGE)))return 3}g.getOptimisticMessageTimestamp=a;g.getOptimisticThreadBumpTimestamp=j;g.optimisticBumpThread=e;g.optimisticBumpThreadMedia=f;g.buildMAWOptimisticBaseMsg=o;g.buildMAWBaseSendMsgArgs=p;g.buildOptimisticAttachment=q;g.lsAttachmentTypeToMsgType=s;g.getSpecialTextSize=t}),98);
__d("MAWCreateOptimisticSecureMessageWithAttachment",["I64","MAWCreateOptimisticSecureMessage","MAWOptimisticMessageUtils","MAWSendFileMsgTypes","QPLUserFlow","asyncToGeneratorRuntime","qpl"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a,b,c,d,e,f,g,h,j,k,l,m,n){return i.apply(this,arguments)}function i(){i=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,e,f,g,i,k,l,m,n,o,p,q){m(o);m=d("MAWOptimisticMessageUtils").getOptimisticMessageTimestamp();var r=(h||(h=d("I64"))).of_float(m);a=(yield d("MAWCreateOptimisticSecureMessage").buildOptimisticLsMessage(a,b,e,f,"",g,void 0,l,void 0,o,r,j(k.type)));f=p==null?void 0:p.get(d("MAWSendFileMsgTypes").toOfflineAttachmentIDFromString(i));f!=null&&(a=babelHelpers["extends"]({},a,{groupId:f.groupId,groupIndex:(h||(h=d("I64"))).of_float(f.groupIndex),groupSize:h.of_float(f.groupSize)}));yield b.messages.add(a);p=d("MAWOptimisticMessageUtils").buildOptimisticAttachment({attachmentType:n,isHd:q,messageExternalId:o,offlineAttachmentId:i,optimisticMediaAttachment:k,senderId:e,threadKey:g,timestampMsI64:r});yield b.attachments.add(p);c("QPLUserFlow").addPoint(c("qpl")._(25313175,"1551"),"after_create_optimistic_message",{instanceKey:l});c("QPLUserFlow").addPoint(c("qpl")._(25313175,"1551"),"optimistic_bump_thread_start",{instanceKey:l});yield d("MAWOptimisticMessageUtils").optimisticBumpThreadMedia(b,{optimisticMediaAttachment:k,senderId:e,threadKey:g,timestampMsI64:r});c("QPLUserFlow").addPoint(c("qpl")._(25313175,"1551"),"optimistic_bump_thread_end",{instanceKey:l});return{messageExternalId:o,offlineAttachmentId:d("MAWSendFileMsgTypes").toOfflineAttachmentIDFromString(i),offlineMsgTimestamp:m}});return i.apply(this,arguments)}function j(a){switch(a){case"animated_image":return 16384;case"image":return 2;case"video":return 2;case"audio":return 4;case"document":return 64;case"sticker":return 4096;default:return 1}}g.createOptimisticMessageWithAttachment=a}),98);
__d("MAWDumbRangeDataSource",["I64","ReplayLastSubject","asyncToGeneratorRuntime","relay-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=function(){this.getOrCreateMessageRangeCoveringCursor=function(a,b,c){return d("relay-runtime").Observable.from(new(d("ReplayLastSubject").ReplayLastSubject)({range:{hasMoreAfter:!1,hasMoreBefore:!1,isLoadingAfter:!1,isLoadingBefore:!1,maxMessageId:"",maxTimestampMs:(h||(h=d("I64"))).max_int,minMessageId:(b=a.messageId)!=null?b:"",minTimestampMs:h.min_int,threadKey:a.threadKey},rangeExternalIds:{maxExternalId:null,minExternalId:null},type:"range_only"}))},this.extendRange=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,c,d,e){});return function(b,c,d,e,f){return a.apply(this,arguments)}}()},j;function a(){j==null&&(j=new i());return j}g["default"]=a}),98);
__d("MAWMessageRangeDataSource",["I64","LSDatabaseSingleton","MAWFetchMessagesForMLv2","MAWMessageRangeDataExternalObservables","MAWMessagesPaginationUtils","MAWMessagesRangesUtils","MAWPutMessagesToDB","MAWTimedBridge","MAWWaitForACTThreadReadyForMLv2","MLV2DataSourceLogger","MLV2RangeExtensionLogger","MessageRangeSet","Promise","WATagsLogger","asyncToGeneratorRuntime","err","gkx","nullthrows"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j;function k(){var a=babelHelpers.taggedTemplateLiteralLoose(["MAWMessageRangeDataSource: Failed to fetch messages from worker due to ",". Error: ",""]);k=function(){return a};return a}var l=5,m=function(){function a(a){var e=this;this.$2=new(d("MessageRangeSet").MessageRangeSet)();this.$3=l;this.$4=new(d("MAWMessageRangeDataExternalObservables").MAWMessageRangeDataExternalObservables)();this.getOrCreateMessageRangeCoveringCursor=function(a,b,c){b==null?void 0:b.annotateMessageRangesDataSource("MAWMessageRangeDataSource");b==null?void 0:b.markQPLPoint("maw_get_or_create_range_start");c=e.$2.getRangeForTimestamp(a.timestampMs);if(c!=null){b==null?void 0:b.markQPLPoint("maw_preexisting_range");b==null?void 0:b.markQPLPoint("maw_get_or_create_range_end");var f={maxExternalId:null,minExternalId:null};return e.$4.getOrCreateExternalObservableForRange(c,f)}c=(j||(j=d("I64"))).equal(a.timestampMs,j.max_int);f={hasMoreAfter:!c,hasMoreBefore:!0,isLoadingAfter:!1,isLoadingBefore:!1,maxMessageId:(f=a.messageId)!=null?f:"",maxTimestampMs:a.timestampMs,minMessageId:(c=a.messageId)!=null?c:"",minTimestampMs:a.timestampMs,threadKey:e.$1};c=e.$2.upsertRange(f);b==null?void 0:b.markQPLPoint("maw_range_created");b==null?void 0:b.markQPLPoint("maw_get_or_create_range_end");return e.$4.getOrCreateExternalObservableForRange(c,{maxExternalId:a==null?void 0:a.externalId,minExternalId:a==null?void 0:a.externalId})};this.$5=function(a){var b=d("MLV2DataSourceLogger").getMLV2LoggerForThread(e.$1,a),c=d("MLV2RangeExtensionLogger").getRangeExtensionLoggerForThread(e.$1,a);a={addQPLAnnotations:function(a){b==null?void 0:b.addQPLAnnotations(a),c==null?void 0:c.addQPLAnnotations(a)},annotateMessageRangesDataSource:function(a){b==null?void 0:b.annotateMessageRangesDataSource(a),c==null?void 0:c.annotateMessageRangesDataSource(a)},getInstanceKey:function(){var a;return(a=b==null?void 0:b.getInstanceKey())!=null?a:0},markQPLCancel:function(a){b==null?void 0:b.markQPLCancel(a),c==null?void 0:c.markQPLCancel(a)},markQPLFailure:function(a){b==null?void 0:b.markQPLFailure(a),c==null?void 0:c.markQPLFailure(a)},markQPLFailureWithMsg:function(a){b==null?void 0:b.markQPLFailureWithMsg(a),c==null?void 0:c.markQPLFailureWithMsg(a)},markQPLPoint:function(a,d){b==null?void 0:b.markQPLPoint(a,d),c==null?void 0:c.markQPLPoint(a,d)},markQPLSuccess:function(a){b==null?void 0:b.markQPLSuccess(a),c==null?void 0:c.markQPLSuccess()}};return a};this.extendRange=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,c,f,g,i){var j=e.$5(f);j==null?void 0:j.annotateMessageRangesDataSource("MAWMessageRangeDataSource");j==null?void 0:j.markQPLPoint("maw_extend_range_start");var k=e.$2.getRangeForTimestamp(a.minTimestampMs);if(k==null){j==null?void 0:j.markQPLPoint("extend_range_canceled");return(h||(h=b("Promise"))).resolve()}var l=k.value;a=(yield d("MAWMessagesPaginationUtils").getMessagesRangesV2ExternalIdsIfChanged(a,l,c));if(f==="asc"&&(!l.hasMoreAfter||l.isLoadingAfter)){j==null?void 0:j.markQPLPoint("extend_range_canceled");return(h||(h=b("Promise"))).resolve()}if(f==="desc"&&(!l.hasMoreBefore||l.isLoadingBefore)){j==null?void 0:j.markQPLPoint("extend_range_canceled");return(h||(h=b("Promise"))).resolve()}c=e.$4.getOrCreateExternalObservableForRange(k,a);c.next({range:babelHelpers["extends"]({},l,{isLoadingAfter:l.isLoadingAfter||f==="asc",isLoadingBefore:l.isLoadingBefore||f==="desc"}),rangeExternalIds:a,type:"range_only"});return e.$6(k.value,a,c,f,g,i)["catch"](function(a){j==null?void 0:j.markQPLPoint("maw_extend_range_failed");j==null?void 0:j.addQPLAnnotations({string:{range_extension_error:a instanceof Error?a.message:"unknown_error"}});throw a})});return function(b,c,d,e,f){return a.apply(this,arguments)}}();this.$6=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,f,g,h,j){var l=e.$5(g);l==null?void 0:l.markQPLPoint("maw_wait_act_thread_start");var m=(yield d("MAWWaitForACTThreadReadyForMLv2").waitForACTThreadReadyForMLv2((yield (i||(i=d("LSDatabaseSingleton"))).LSDatabaseSingleton).tables,e.$1,"MAWMessageRangeDataSource",l));m=m.chatJid;l==null?void 0:l.markQPLPoint("maw_wait_act_thread_end");l==null?void 0:l.markQPLPoint("maw_fetch_messages_start");m=(yield d("MAWFetchMessagesForMLv2").fetchMessagesFromMAW({chatJid:m,direction:g,includeOriginalMsg:!0,pageSize:h,range:a}));if(m.success===!1){h=m.payload;h=h==null?"unknown":"["+h.name+"]: "+h.message;d("WATagsLogger").TAGS(["maw_message_core","MAWMessageRangeDataSource"]).ERROR(k(),m.error,h);if(c("gkx")("7409")&&m.payload instanceof d("MAWTimedBridge").MAWBridgeTimeoutError&&e.$3>0){l==null?void 0:l.markQPLPoint("maw_fetch_messages_timed_out");e.$3-=1;e.$7(f,babelHelpers["extends"]({},a,{isLoadingAfter:!1,isLoadingBefore:!1}),b);return}l==null?void 0:l.markQPLPoint("maw_fetch_messages_failed");throw(h=m.payload)!=null?h:c("err")("Failed to fetch messages from worker")}l==null?void 0:l.markQPLPoint("maw_fetch_messages_end");h=m.value;l==null?void 0:l.markQPLPoint("insert_msgs_to_lsdb_start");yield d("MAWPutMessagesToDB").insertMessageResponseIntoDatabase(yield i.LSDatabaseSingleton,h,j,l==null?void 0:l.getInstanceKey());l==null?void 0:l.markQPLPoint("insert_msgs_to_lsdb_end");l==null?void 0:l.markQPLPoint("maw_upsert_range_start");m=d("MAWMessagesRangesUtils").mergeMoreMessagesResponseIntoRange(a,b,h,g);j=m[0];a=m[1];e.$7(f,j,a);l==null?void 0:l.markQPLPoint("maw_upsert_range_end")});return function(b,c,d,e,f,g){return a.apply(this,arguments)}}();this.$1=a}var e=a.prototype;e.$7=function(a,b,c){b=this.$2.upsertRange(b);a.next({range:b.value,rangeExternalIds:c,type:"range_only"})};return a}();a=function(){function a(){var a=this;this.$1=new Map();this.getOrCreateMessageRangeCoveringCursor=function(b,c,d){var e=b.threadKey;return a.$2(e).getOrCreateMessageRangeCoveringCursor(b,c,d)};this.extendRange=function(b,c,d,e,f){var g=b.threadKey;return a.$2(g).extendRange(b,c,d,e,f)}}var b=a.prototype;b.$2=function(a){var b=(j||(j=d("I64"))).to_string(a);if(!this.$1.has(b)){a=new m(a);this.$1.set(b,a)}return c("nullthrows")(this.$1.get(b))};return a}();e=new a();g["default"]=e}),98);
__d("combineLatestWith",["relay-runtime"],(function(a,b,c,d,e,f,g){"use strict";function a(){for(var a=arguments.length,b=new Array(a),c=0;c<a;c++)b[c]=arguments[c];return d("relay-runtime").Observable.create(function(a){var c=new Set(b),d=new Set(b),e=b.map(function(){return void 0}),f=b.map(function(b,f){return b.subscribe({complete:function(){d["delete"](b),d.size===0&&a.complete()},error:a.error,next:function(d){e[f]=d,c["delete"](b),c.size===0&&a.next(e)}})});return function(){f.forEach(function(a){return a.unsubscribe()})}})}g["default"]=a}),98);
__d("MAWEBCombinedRangeDataSource",["EBMessageRangeDataSource","I64","MAWMessageRangeDataSource","MLV2RangeExtensionLogger","Promise","asyncToGeneratorRuntime","combineLatestWith"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function j(a,b){var c;c=(i||(i=d("I64"))).ge((c=a.range.minTimestampMs)!=null?c:(i||(i=d("I64"))).min_int,(c=b.range.minTimestampMs)!=null?c:(i||(i=d("I64"))).min_int)?[a.range,a.rangeExternalIds]:[b.range,b.rangeExternalIds];var e=c[0];c=c[1];return e.hasMoreBefore===!1?{minExternalId:c==null?void 0:c.minExternalId,minMessageId:(i||(i=d("I64"))).le(a.range.minTimestampMs,b.range.minTimestampMs)?a.range.minMessageId:b.range.minMessageId,minTimestampMs:(i||(i=d("I64"))).min(a.range.minTimestampMs,b.range.minTimestampMs)}:{minExternalId:c==null?void 0:c.minExternalId,minMessageId:e.minMessageId,minTimestampMs:e.minTimestampMs}}function k(a,b){var c=(i||(i=d("I64"))).le(a.range.maxTimestampMs,b.range.maxTimestampMs)?[a.range,a.rangeExternalIds]:[b.range,b.rangeExternalIds],e=c[0];c=c[1];return e.hasMoreAfter===!1?{maxExternalId:c==null?void 0:c.maxExternalId,maxMessageId:(i||(i=d("I64"))).ge(a.range.maxTimestampMs,b.range.maxTimestampMs)?a.range.maxMessageId:b.range.maxMessageId,maxTimestampMs:(i||(i=d("I64"))).max(a.range.maxTimestampMs,b.range.maxTimestampMs)}:{maxExternalId:c==null?void 0:c.maxExternalId,maxMessageId:e.maxMessageId,maxTimestampMs:e.maxTimestampMs}}var l=function(a){var e=this;this.getOrCreateMessageRangeCoveringCursor=function(a,b,d){b==null?void 0:b.annotateMessageRangesDataSource("MAWEBCombinedRangeDataSource");var f=c("MAWMessageRangeDataSource").getOrCreateMessageRangeCoveringCursor(a,b,d);b=c("EBMessageRangeDataSource")(e.$1).getOrCreateMessageRangeCoveringCursor(a,b,d);return c("combineLatestWith")(f,b).map(function(b){var c=b[0];b=b[1];var d=k(c,b),e=j(c,b);return{range:{hasMoreAfter:Boolean(c.range.hasMoreAfter||b.range.hasMoreAfter),hasMoreBefore:Boolean(c.range.hasMoreBefore||b.range.hasMoreBefore),isLoadingAfter:Boolean(c.range.isLoadingAfter||b.range.isLoadingAfter),isLoadingBefore:Boolean(c.range.isLoadingBefore||b.range.isLoadingBefore),maxMessageId:d.maxMessageId,maxTimestampMs:d.maxTimestampMs,minMessageId:e.minMessageId,minTimestampMs:e.minTimestampMs,threadKey:a.threadKey},rangeExternalIds:{maxExternalId:d.maxExternalId,minExternalId:e.minExternalId},type:"range_only"}})};this.extendRange=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,f,g,i,j){var k=d("MLV2RangeExtensionLogger").startRangeExtensionLoggerForThread(a.threadKey,g,a,i);yield (h||(h=b("Promise"))).all([c("EBMessageRangeDataSource")(e.$1).extendRange(a,f,g,i,j),c("MAWMessageRangeDataSource").extendRange(a,f,g,i,j)]).then(function(){k.markQPLSuccess()})["catch"](function(a){k.markQPLFailure(a);throw a})});return function(b,c,d,e,f){return a.apply(this,arguments)}}();this.$1=a},m,n;function a(a){(m==null||n!==a)&&(n=a,m=new l(a));return m}g["default"]=a}),98);
__d("MAWFetchExternalAttachmentBlob",["asyncToGeneratorRuntime","sendToSentQPLLogger"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){return h.apply(this,arguments)}function h(){h=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){a=(yield window.fetch(a,{}).then(function(a){return a.blob()})["catch"](function(a){d("sendToSentQPLLogger").markSendToSentPoint(b,"fetch_external_attachment_failed");throw a}));return a});return h.apply(this,arguments)}g.fetchExternalAttachmentBlob=a}),98);
__d("MAWLinkPreviewDataStatusUtils",["I64","LSIntEnum"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function a(a,b){return a!=null&&(h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(b))}g.linkPreviewDataStatusIsOfType=a}),98);
__d("MAWLinkPreviewDataTypeUtils",["I64","LSIntEnum"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function a(a,b){return a!=null&&(h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(b))}g.linkPreviewDataTypeIsOfType=a}),98);
__d("MAWLoadingStateOutstandingUIReadyOfflineQueueSelector",["MAWSharedProtocolQueueConst"],(function(a,b,c,d,e,f,g){"use strict";a=function(a){return function(b){var c=b.offlineQueueCount,e=b.offlineQueueSyncState;b=b.offlineQueueThreadStatus;return a!=null&&Object.keys(b).length>0?b[a]!=null&&b[a].chatStatus!==d("MAWSharedProtocolQueueConst").OfflineConsumerStatus.Complete:c>0&&e!==d("MAWSharedProtocolQueueConst").OfflineConsumerStatus.Complete}};g.outstandingUIReadyOfflineQueueSelector=a}),98);
__d("MAWMiActMaybeCreateActThread",["FBLogger","I64","LSAuthorityLevel","LSFactory","LSIntEnum","LSMessagingThreadTypeUtil","LSVerifyE2EEMetadataThreadExistsV2StoredProcedure","MAWCreateGroupThread","MAWCreateOneToOneThread","MAWMiActBulkCreateThreadInActWithMiData","MAWMiActGetThreadLifecycleState","MAWMiActThreadLifecycleState","WAJids","WATagsLogger","asyncToGeneratorRuntime","sendToSentQPLLogger"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["Duplicated thread creation for ",""]);j=function(){return a};return a}function k(a,b){return a.runInTransaction(function(a){return c("LSVerifyE2EEMetadataThreadExistsV2StoredProcedure")(c("LSFactory")(a),{authorityLevel:(h||(h=d("LSIntEnum"))).ofNumber(c("LSAuthorityLevel").AUTHORITATIVE),threadKey:b,threadType:h.ofNumber(15)}).then(function(){})},"readwrite",void 0,void 0,f.id+":48")}function l(a,b,e,f,g){var j=e.actorId;e=e.participantIds;var k=e.filter(function(a){return a!==(i||(i=d("I64"))).to_string(j)});if(d("LSMessagingThreadTypeUtil").isOneToOne(b.threadType)){var l=k.length===1?k:e;return d("sendToSentQPLLogger").measureSendToSentPerformance("maybe-create-1-1-thread",g,function(){return d("MAWCreateOneToOneThread").call(a,(i||(i=d("I64"))).of_string(l[0]),i.to_string(b.threadKey),f,g)})}else if(d("LSMessagingThreadTypeUtil").isGroup(b.threadType)&&k.length>1)return c("MAWCreateGroupThread")({db:a,offlineThreadingId:b.threadKey,participantIds:e});throw c("FBLogger")("messenger_e2ee_web").mustfixThrow("[MiActMapping] Did not know which type of optimistic thread to create for\n    threadKey: %s, participantsCount: %s, threadType: %s",(i||(i=d("I64"))).to_string(b.threadKey),e.length,(h||(h=d("LSIntEnum"))).toNumber(b.threadType))}function m(a,b){return n.apply(this,arguments)}function n(){n=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){b=(yield d("MAWMiActBulkCreateThreadInActWithMiData").miActBulkCreateThreadInActWithMiData([{description:b,fbid:a.serverThreadKey,isGroupThread:d("LSMessagingThreadTypeUtil").isGroup(a.thread.threadType),jid:a.jidInt64,lastActivityTimestampMs:a.thread.lastActivityTimestampMs,lastReadWatermarkTimestampMs:a.thread.lastReadWatermarkTimestampMs}],"create_thread"));b=b[0];if(b.status==="rejected")throw c("FBLogger")("messenger_e2ee_web").mustfixThrow("[MiActMapping] Failed to create ACT thread for threadKey: %s, error: %s",(i||(i=d("I64"))).to_string(a.serverThreadKey),b.reason);a=b.value;return{created:a.isCreated,jid:a.chatJid}});return n.apply(this,arguments)}function o(a,b){if(!d("LSMessagingThreadTypeUtil").isOneToOne(a.thread.threadType))return null;var c=b.actorId;b=b.participantIds;b=b.filter(function(a){return a!==(i||(i=d("I64"))).to_string(c)});if(b.length!==1)return null;b=b[0];return{jid:d("WAJids").unsafeCoerceToChatJid(b+"@msgr"),jidInt64:(i||(i=d("I64"))).of_string(b),serverThreadKey:a.thread.threadKey,thread:a.thread,type:"AUTHORITATIVE_THREAD_ONLY"}}var p=new Map(),q=new Set();function a(a,b,c,d,e){return r.apply(this,arguments)}function r(){r=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,e,f,g){var h=(yield d("MAWMiActGetThreadLifecycleState").getThreadLifecycleStateByThreadKey(a.tables,b,g));f!=null&&d("sendToSentQPLLogger").addSendToSentAnnotations(f,{string:{miActThreadState:h.type.toString()}});switch(h.type){case d("MAWMiActThreadLifecycleState").MiActThreadStatesEnum.THREAD_KEY_ONLY:yield k(a,b);throw c("FBLogger")("messenger_e2ee_web").mustfixThrow("[MiActMapping] We did not call MiActLoadExistingThread for threadKey: %s, threadState: %s",(i||(i=d("I64"))).to_string(b),h.type);case d("MAWMiActThreadLifecycleState").MiActThreadStatesEnum.AUTHORITATIVE_THREAD_MISSING_MAPPING_ROW:var n=o(h,e);if(n!=null){q.has(n.jid)&&d("WATagsLogger").TAGS(["occamadillo","retry_create_thread"]).LOG(j(),n.jid);q.add(n.jid);return m(n,g)}else throw c("FBLogger")("messenger_e2ee_web").mustfixThrow("[MiActMapping] MI inserted the thread but the mapping row was not\n        written or it was deleted for threadKey: %s",(i||(i=d("I64"))).to_string(b));case d("MAWMiActThreadLifecycleState").MiActThreadStatesEnum.OPTIMISTIC_THREAD_NO_ACT:n=(i||(i=d("I64"))).to_string(b);var r=p.get(n);if(r!=null)return r;r=l(a,h.thread,e,g,f);p.set(n,r);return r;case d("MAWMiActThreadLifecycleState").MiActThreadStatesEnum.CLIENT_PARTIAL_MI_THREAD_WITH_ACT:yield k(a,b);return{created:!1,jid:h.jid};case d("MAWMiActThreadLifecycleState").MiActThreadStatesEnum.OPTIMISTIC_THREAD_WITH_ACT:return{created:!1,jid:h.jid};case d("MAWMiActThreadLifecycleState").MiActThreadStatesEnum.AUTHORITATIVE_THREAD_ONLY:return m(h,g);case d("MAWMiActThreadLifecycleState").MiActThreadStatesEnum.MI_AND_ACT_THREAD_COMPLETE:return{created:!1,jid:h.jid};case d("MAWMiActThreadLifecycleState").MiActThreadStatesEnum.CLIENT_PARTIAL_MI_THREAD:case d("MAWMiActThreadLifecycleState").MiActThreadStatesEnum.SERVER_PARTIAL_MI_THREAD:case d("MAWMiActThreadLifecycleState").MiActThreadStatesEnum.JID_MISSING_MI_THREAD:case d("MAWMiActThreadLifecycleState").MiActThreadStatesEnum.JID_MISSING_MAPPING_ROW:throw c("FBLogger")("messenger_e2ee_web").mustfixThrow("[MiActMapping] Unhandled ACT thread creation state %s for threadKey:\n        %s",h.type,(i||(i=d("I64"))).to_string(b));default:h.type;throw c("FBLogger")("messenger_e2ee_web").mustfixThrow("[MiActMapping] Unreachable miActThreadState.type: %s",h.type)}});return r.apply(this,arguments)}g["default"]=a}),98);
__d("MAWObservableUtils",["Random","ReStoreKeyComparer","err"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(){return{id:c("Random").uint32()}}function b(a,b){if(!(Array.isArray(a)||Array.isArray(b)))return(h||(h=d("ReStoreKeyComparer"))).compareKey([a],[b]);else if(Array.isArray(a)&&Array.isArray(b))return(h||(h=d("ReStoreKeyComparer"))).compareKey(a,b);throw c("err")("[Separate Read Chunked Observable] Cannot compare array and non-array")}function e(a,b,d,e){var f=[];for(var g=0;g<a.length;g+=b){var h=g+b;while(h>g&&h<a.length-1&&d(e(a[h-1]),e(a[h]))===0)h--;if(h===g)throw c("err")("Entire pagination window sorts identically: this should never happen.");f.push(a.slice(g,h));g-=g+b-h}return f}g.getUniqueRef=a;g.wrappedCompareKey=b;g.chunkArray=e}),98);
__d("MAWOptimisticUpdateContactRelationship",["I64","LSAddMessengerContactStoredProcedure","LSFactory","LSMessagingThreadTypeUtil","ReQL","asyncToGeneratorRuntime","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a,e,g){if(!d("LSMessagingThreadTypeUtil").isOneToOne(a.threadType))return;c("promiseDone")(e.runInTransaction(function(){var f=b("asyncToGeneratorRuntime").asyncToGenerator(function*(b){var f;f=(f=(yield d("ReQL").firstAsync(d("ReQL").mergeJoin(d("ReQL").fromTableAscending(e.tables.participants).getKeyRange(a.threadKey),d("ReQL").fromTableAscending(e.tables.contacts)).filter(function(a){a[0];a=a[1];return!(h||(h=d("I64"))).equal(a.id,g)}))))!=null?f:[void 0,void 0];f[0];f=f[1];if(f==null)return;var i=babelHelpers["extends"]({},f,{contactViewerRelationship:(h||(h=d("I64"))).of_string("2")});yield b.contacts.upsert([f.id],i);d("LSMessagingThreadTypeUtil").isArmadilloSecure(a.threadType)&&(yield c("LSAddMessengerContactStoredProcedure")(c("LSFactory")(b),{contactId:f.id}))});return function(a){return f.apply(this,arguments)}}(),"readwrite",void 0,void 0,f.id+":39"))}g.call=a}),98);
__d("MAWParseLinkPreviewXMAData",["E2EELinkPreviewXMADataStatus","I64","LSIntEnum"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function a(a){var b=a==null?void 0:a.status,e=a==null?void 0:a.data;if(a==null||b==null||e==null)return null;a=(h||(h=d("I64"))).equal(b,(i||(i=d("LSIntEnum"))).ofNumber(c("E2EELinkPreviewXMADataStatus").DISABLED));b=JSON.parse(e);return Object.keys(b).length===0||b.url==null||a?null:b}g.parseLinkPreviewXMAData=a}),98);
__d("MAWPrepareAttachmentsFromMediaManager",["MAWExternalId","MAWSendFileMsgTypes","sendToSentQPLLogger"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b,c,e,f){d("sendToSentQPLLogger").addSendToSentAnnotations(f,{"int":{media_staging_count:a.length}});var g=b.hasFile,h=b.hasImage;b=b.hasVideo;var i=null;if(b||h||g){b=a[a.length-1];i=d("MAWSendFileMsgTypes").toOfflineAttachmentIDFromString(b.offlineAttachmentId)}else i=d("MAWSendFileMsgTypes").toOfflineAttachmentIDFromStanzaId(d("MAWExternalId").generateExternalId());c(i);h=a.reduce(function(a,b){var c=e.get(d("MAWSendFileMsgTypes").toOfflineAttachmentIDFromString(b.offlineAttachmentId));c!=null?a.push([c,d("MAWSendFileMsgTypes").toOfflineAttachmentIDFromString(b.offlineAttachmentId)]):d("sendToSentQPLLogger").markSendToSentPoint(f,"prepare_attachments_from_media_manager_missing_attachment");return a},[]);return{attachmentOfflineId:i,attachments:h}}g.prepareAttachmentsFromMediaManagerImpl=a}),98);
__d("MAWSecureComposerUtils",["I64","LSMessagingThreadTypeUtil","MAWJobDefinitions","MAWMiActOnActThreadReady","MAWUIJob","MessageRequestsLog","Promise","WAJobOrchestratorTypes","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function a(a,e,f,g){if(d("LSMessagingThreadTypeUtil").isArmadilloSecure(e.threadType)){f!=null&&d("MessageRequestsLog").logActionConfirmed(e,8,(i||(i=d("I64"))).to_string(f));c("promiseDone")(d("MAWMiActOnActThreadReady").onActThreadReady(a.tables,e.threadKey,"MAWSecureComposerUtils",function(a,c){d("MAWUIJob").UIJobStarters.fireAndForget(d("MAWJobDefinitions").createStartJobInfo("deleteThread",{chatJid:c,scheduleConfig:{priority:d("WAJobOrchestratorTypes").JOB_PRIORITY.UI_ACTION}}));return(h||(h=b("Promise"))).resolve()}));return}}g.onDeleteThread=a}),98);
__d("MAWUnavailablePlaceholder.react",["fbt","MWV2TombstonedMessage.react","gkx","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react");function a(a){a=a.isOutgoing;return j.jsx(c("MWV2TombstonedMessage.react"),{isOutgoing:a,children:c("gkx")("2161")?h._(/*BTDS*/"__JHASH__bLtIFgZUFni__JHASH__"):h._(/*BTDS*/"__JHASH__M9fzIhDqITQ__JHASH__")})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("MAWUnavailableStoryPlaceholder.react",["fbt","MWV2TombstonedMessage.react","react","vulture"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react");function a(a){a=a.isOutgoing;c("vulture")("2O7EnYtfyK9");return j.jsx(c("MWV2TombstonedMessage.react"),{isOutgoing:a,children:h._(/*BTDS*/"__JHASH__pGZ-I0iz-G0__JHASH__")})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("MAWSecurePlaceholderTombstone.react",["MAWUnavailablePlaceholder.react","MAWUnavailableStoryPlaceholder.react","MAWXMAUtils","ReQL","ReQLSuspense","justknobx","react","recoverableViolation","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||d("react");function k(a){var b=(h||(h=c("useReStore")))();return d("ReQLSuspense").useFirst(function(){return d("ReQL").fromTableAscending(b.tables.attachments).getKeyRange(a.threadKey,a.messageId)},[b,a.threadKey,a.messageId],f.id+":27")}function a(a){var b=a.isOutgoing;a=a.message;a=a;a=k(a);if(a==null)return null;var e=a.defaultCtaType;a=a.xmaContentType;if(c("justknobx")._("3425"))return a!=null&&d("MAWXMAUtils").isXMAFBStory(a)?j.jsx(c("MAWUnavailableStoryPlaceholder.react"),{isOutgoing:b}):j.jsx(c("MAWUnavailablePlaceholder.react"),{isOutgoing:b});else{if(e==="xma_montage_share")return j.jsx(c("MAWUnavailableStoryPlaceholder.react"),{isOutgoing:b});c("recoverableViolation")("Unexpected case where message is tombstone type but the attachment is not xma montage share","messenger_web_sharing");return j.jsx(c("MAWUnavailablePlaceholder.react"),{isOutgoing:b})}}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MAWSecurePlaceholder.react",["fbt","FBLogger","I64","Int64Hooks","LSIntEnum","MAWLocalizationType","MAWSecurePlaceholderTombstone.react","MAWUnavailablePlaceholder.react","MWPMessageListColumn.react","MWV2TombstonedMessage.react","MWXLink.react","MWXText.react","getMAWLocalizedFallbackMsgSnippet","gkx","justknobx","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k,l=i||d("react");function m(a){var b=a.actorId;a=a.message;var e=a.displayedContentTypes,f=a.senderId;f=(j||(j=d("I64"))).equal(f,b);d("Int64Hooks").useEffectInt64(function(){if(!c("justknobx")._("3168"))return;(j||(j=d("I64"))).equal(e,(k||(k=d("LSIntEnum"))).ofNumber(65536))&&c("FBLogger")("messenger_encryption_placeholder").info("Message show up as encryption placeholder")},[e]);if((j||(j=d("I64"))).equal(e,(k||(k=d("LSIntEnum"))).ofNumber(65536)))return l.jsxs(c("MWV2TombstonedMessage.react"),{isOutgoing:f,children:[c("getMAWLocalizedFallbackMsgSnippet")(d("MAWLocalizationType").LOCALIZATION_TYPE.USER_SEND_ENCRYPTED_MESSAGE_FALLBACK),c("gkx")("3328")&&l.jsxs(l.Fragment,{children:[" ",l.jsx(c("MWXText.react"),{color:f?"white":"primary",type:"bodyLink3",children:l.jsx(c("MWXLink.react"),{href:"https://www.facebook.com/help/messenger-app/2751245661706174?cms_platform=iphone-app&helpref=platform_switcher&locale=en_US",target:"_blank",children:h._(/*BTDS*/"__JHASH__LQVpvI75ts___JHASH__")})})]})]});if((j||(j=d("I64"))).equal(e,(k||(k=d("LSIntEnum"))).ofNumber(131072)))return l.jsx(c("MWV2TombstonedMessage.react"),{isOutgoing:f,children:c("getMAWLocalizedFallbackMsgSnippet")(f?d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_SEND_UNRENDERABLE_MESSAGE_FALLBACK:d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_SEND_UNRENDERABLE_MESSAGE_FALLBACK)});if((j||(j=d("I64"))).equal(e,(k||(k=d("LSIntEnum"))).ofNumber(524288)))return l.jsx(c("MWV2TombstonedMessage.react"),{isOutgoing:f,children:c("getMAWLocalizedFallbackMsgSnippet")(f?d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_SEND_LOCATION_FALLBACK:d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_SEND_LOCATION_FALLBACK)});if((j||(j=d("I64"))).equal(e,(k||(k=d("LSIntEnum"))).ofNumber(4294967296)))return l.jsx(c("MWV2TombstonedMessage.react"),{isOutgoing:f,children:c("getMAWLocalizedFallbackMsgSnippet")(f?d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_SEND_LIVE_LOCATION_FALLBACK:d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_SEND_LIVE_LOCATION_FALLBACK)});if((j||(j=d("I64"))).equal(e,(k||(k=d("LSIntEnum"))).ofNumber(1048576)))return l.jsx(c("MWV2TombstonedMessage.react"),{isOutgoing:f,children:c("getMAWLocalizedFallbackMsgSnippet")(f?d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_SEND_POLL_CREATION_FALLBACK:d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_SEND_POLL_CREATION_FALLBACK)});if((j||(j=d("I64"))).equal(e,(k||(k=d("LSIntEnum"))).ofNumber(2097152)))return l.jsx(c("MWV2TombstonedMessage.react"),{isOutgoing:f,children:c("getMAWLocalizedFallbackMsgSnippet")(f?d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_SEND_CONTACT_SHARE_FALLBACK:d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_SEND_CONTACT_SHARE_FALLBACK)});if((j||(j=d("I64"))).equal(e,(k||(k=d("LSIntEnum"))).ofNumber(8589934592)))return l.jsx(c("MWV2TombstonedMessage.react"),{isOutgoing:f,children:c("getMAWLocalizedFallbackMsgSnippet")(d("MAWLocalizationType").LOCALIZATION_TYPE.MESSENGER_MEMORY_ENCRYPTED_MESSAGE_FALLBACK)});if((j||(j=d("I64"))).equal(e,(k||(k=d("LSIntEnum"))).ofNumber(4194304)))return l.jsx(c("MWV2TombstonedMessage.react"),{isOutgoing:f,children:c("getMAWLocalizedFallbackMsgSnippet")(f?d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_SEND_STORY_MENTION_FALLBACK:d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_SEND_STORY_MENTION_FALLBACK)});if((j||(j=d("I64"))).equal(e,(k||(k=d("LSIntEnum"))).ofNumber(2147483648)))return l.jsx(c("MWV2TombstonedMessage.react"),{isOutgoing:f,children:c("getMAWLocalizedFallbackMsgSnippet")(f?d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_SEND_POST_MENTION_FALLBACK:d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_SEND_POST_MENTION_FALLBACK)});if((j||(j=d("I64"))).equal(e,(k||(k=d("LSIntEnum"))).ofNumber(8388608)))return l.jsx(c("MWV2TombstonedMessage.react"),{isOutgoing:f,children:c("getMAWLocalizedFallbackMsgSnippet")(d("MAWLocalizationType").LOCALIZATION_TYPE.META_AI_SEND_MESSAGE_FALLBACK)});if((j||(j=d("I64"))).equal(e,(k||(k=d("LSIntEnum"))).ofNumber(16777216)))return l.jsx(c("MWV2TombstonedMessage.react"),{isOutgoing:f,children:c("getMAWLocalizedFallbackMsgSnippet")(f?d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_SEND_BUMP_MESSAGE_FALLBACK:d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_SEND_BUMP_MESSAGE)});if((j||(j=d("I64"))).equal(e,(k||(k=d("LSIntEnum"))).ofNumber(262144)))return l.jsx(c("MAWUnavailablePlaceholder.react"),{isOutgoing:f});if((j||(j=d("I64"))).equal(e,(k||(k=d("LSIntEnum"))).ofNumber(256)))return l.jsx(c("MAWSecurePlaceholderTombstone.react"),{isOutgoing:f,message:a});if((j||(j=d("I64"))).equal(e,(k||(k=d("LSIntEnum"))).ofNumber(33554432)))return l.jsx(c("MWV2TombstonedMessage.react"),{isOutgoing:f,children:c("getMAWLocalizedFallbackMsgSnippet")(d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_SEND_BUMP_MESSAGE_ORIGINAL_UNAVAILABLE_FALLBACK)});if((j||(j=d("I64"))).equal(e,(k||(k=d("LSIntEnum"))).ofNumber(67108864)))return l.jsx(c("MWV2TombstonedMessage.react"),{isOutgoing:f,children:c("getMAWLocalizedFallbackMsgSnippet")(f?d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_SEND_STICKER_RECEIVER_FETCH_MESSAGE_FALLBACK:d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_SEND_STICKER_RECEIVER_FETCH_MESSAGE_FALLBACK)});return(j||(j=d("I64"))).equal(e,(k||(k=d("LSIntEnum"))).ofNumber(1073741824))?l.jsx(c("MWV2TombstonedMessage.react"),{isOutgoing:f,children:c("getMAWLocalizedFallbackMsgSnippet")(f?d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_SEND_NOTE_MENTION_FALLBACK:d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_SEND_NOTE_MENTION_FALLBACK)}):null}m.displayName=m.name+" [from "+f.id+"]";function a(a){var b=a.actorId;a=a.message;return l.jsxs(d("MWPMessageListColumn.react").MWPMessageListColumnShrinkwrap,{children:[l.jsx("div",{className:"x1eb86dx x36qwtl xh8yej3"}),l.jsx(m,{actorId:b,message:a})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("MAWSecureTypingState",["I64","Int64Hooks","LSAuthorityLevel","LSContactBlockedByViewerStatus","LSIntEnum","LSMessagingThreadTypeUtil","MAWBridgeFireAndForget","MAWMiActOnActThreadReady","MWPActor.react","MessengerWebUXLogger","Promise","ReQL","ReQLSuspense","WAChatState","WAJids","asyncToGeneratorRuntime","promiseDone","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k;function l(a,b,c,d){return m.apply(this,arguments)}function m(){m=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,e,f,g){if(!(j||(j=d("I64"))).equal(f,(k||(k=d("LSIntEnum"))).ofNumber(15)))return(i||(i=b("Promise"))).resolve(!0);f=(yield d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.tables.participants,["contactId"]).getKeyRange(e).filter(function(a){return!(j||(j=d("I64"))).equal(a.contactId,g)})));if(f==null)return!1;e=(yield d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.tables.contacts).getKeyRange(f.contactId)));return e==null?!1:(j||(j=d("I64"))).equal(e.blockedByViewerStatus,(k||(k=d("LSIntEnum"))).ofNumber(c("LSContactBlockedByViewerStatus").UNBLOCKED))});return m.apply(this,arguments)}function a(a,e,g){var m=(h||(h=c("useReStore")))(),n=d("MWPActor.react").useActor(),o=(j||(j=d("I64"))).to_string(e),p=c("MessengerWebUXLogger").useInteractionLogger(),q=d("ReQLSuspense").useArray(function(){return d("ReQL").fromTableAscending(m.tables.participants,["contactId"]).getKeyRange(e).map(function(a){return d("WAJids").toMsgrUserJid((j||(j=d("I64"))).to_string(a.contactId))})},[m,e],f.id+":83");return d("Int64Hooks").useCallbackInt64(function(f){(j||(j=d("I64"))).ge(a,(k||(k=d("LSIntEnum"))).ofNumber(c("LSAuthorityLevel").AUTHORITATIVE))&&d("LSMessagingThreadTypeUtil").isArmadilloSecure(g)&&c("promiseDone")(l(m,e,g,n).then(function(a){return!a?(i||(i=b("Promise"))).resolve():d("MAWMiActOnActThreadReady").onActThreadReady(m.tables,e,"MAWSecureTypingState",function(a,c){p==null?void 0:p({eventName:"send_typing_indicators",threadKey:e,threadType:g});d("MAWBridgeFireAndForget").fireAndForget("backend","sendChatStateFromComposer",{chatJid:c,state:f?d("WAChatState").TYPING:d("WAChatState").IDLE});return(i||(i=b("Promise"))).resolve()})}))},[m,q,a,e,g,n,o,p])}g.useOnTypingStateChanged=a}),98);
__d("MAWSendExternalLinkXMAV2",["ConstUriUtils","MAWBridgeSendAndReceive","MAWExternalId","MAWExternalLinkUtil","MAWGetEphemeralSettings","MAWImagePreProcess","MAWMessageSendReporter","MAWMessageSendReporterV2","MAWParseXMAProtocol","MAWXMALoggingUtils","MWPBumpEntityKey","WAArmadilloXMA.pb","WALogger","WAMediaQplHelper","WAResultOrError","asyncToGeneratorRuntime","justknobx","qpl","sendToSentQPLLogger"],(function(a,b,c,d,e,f,g){"use strict";function h(){var a=babelHelpers.taggedTemplateLiteralLoose(['S410301 The externalLinkUrl set as native and action URL in XMA is not a valid URI"']);h=function(){return a};return a}function a(a,b){return i.apply(this,arguments)}function i(){i=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){var e=a.chatJid,f=a.mentionedJids,g=a.message,i=a.offlineAttachmentId,j=a.optimisticMessageData,k=a.previewBlob,l=a.quote,m=a.s2sInstanceKey,n=a.source,o=a.threadKey;a=a.xmaData;d("sendToSentQPLLogger").markSendToSentPoint(m,"send_secure_link_preview_xma_message_start");o=(yield d("MAWGetEphemeralSettings").getEphemeralSetting(e,o));var p=void 0;if(k!=null&&d("MAWExternalLinkUtil").allowedPreviewTypes.includes(k.type)){k=new File([k],"preview",{type:k.type});k=(yield d("MAWImagePreProcess").generateImageThumbnailInWorkerWithFallback(k,c("justknobx")._("2033")));var q=new File([k.jpegThumbnail],"preview",{type:"image/jpeg"});p={file:q,height:k.height,width:k.width};d("sendToSentQPLLogger").addSendToSentAnnotations(m,{string:{sent_xma_preview_file_size_bucket:d("WAMediaQplHelper").convertIntegerSizeToStringBucket(p.file.size)}})}d("sendToSentQPLLogger").addSendToSentAnnotations(m,{bool:{has_xma_preview:p!=null}});q={content:g,ephemeralSetting:o==null?void 0:o,mentionedJids:f?Array.from(f):void 0,offlineAttachmentId:i==null?void 0:i,optimisticMsg:j==null?void 0:{msgId:j==null?void 0:j.messageExternalId,ts:j==null?void 0:j.offlineMsgTimestamp},quote:l,source:n,xmaMessageType:d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.MSG_EXTERNAL_LINK_SHARE};g=(k=d("ConstUriUtils").getUri(a.url))==null?void 0:k.getDomain();o=d("MAWXMALoggingUtils").getXmaTargetTypeStringFromEnum(q.xmaMessageType);d("sendToSentQPLLogger").addSendToSentAnnotations(m,{string:{xmaTargetType:o}});d("ConstUriUtils").isValidUri(a.url)||d("WALogger").ERROR(h());d("MAWParseXMAProtocol").isURLValid(a.url,d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.MSG_EXTERNAL_LINK_SHARE,!1,!0)?d("MWPBumpEntityKey").bumpEntityKey("maw.xma_invalid_url","web_link_preview_url_valid"):d("MWPBumpEntityKey").bumpEntityKey("maw.xma_invalid_url","web_link_preview_url_invalid");i={defaultCTA:{actionUrl:a.url,buttonType:d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_CTA_BUTTON_TYPE.OPEN_NATIVE,nativeUrl:a.url},overlayIconGlyph:void 0,subtitleText:a.author_name,titleText:(f=a.title)!=null?f:g};d("sendToSentQPLLogger").markSendToSentPoint(m,"sending_message_to_wajob_start");n=(l=j==null?void 0:j.messageExternalId)!=null?l:d("MAWExternalId").generateExternalId();o=d("MAWBridgeSendAndReceive").sendAndReceive("backend","sendXMAShareMsg",{args:q,chatJid:e,previewFile:(k=p)!=null?k:void 0,qplEventType:c("qpl")._(25313175,"1551"),qplInstanceKey:m,xmaArgs:i,xmaMsgExternalId:n});d("sendToSentQPLLogger").markSendToSentPoint(m,"sending_message_to_wajob_end");if(d("MAWMessageSendReporterV2").isMessageSendReporterV2Enabled())return o;else{yield d("MAWMessageSendReporter").MAWMessageSendReporter({chatJid:e,externalId:n},o,{qplEventType:c("qpl")._(25313175,"1551"),qplInstanceKey:m},b);return d("WAResultOrError").makeResult({description:"removal pending rollout of Message Send Reporter V2",messageType:"fixMe"})}});return i.apply(this,arguments)}g.sendExternalLinkXMAV2=a}),98);
__d("MAWSendSecureAttachment",["FBLogger","I64","MAWBridgeSendAndReceive","MAWDbMsg","MAWGetProtocolMsgIdByMsgIdInUI","MAWMessageSendReporter","MAWMessageSendReporterV2","WABlobToArrayBuffer","WALoggerDeferred","WAMediaHdType","WAResultOrError","asyncToGeneratorRuntime","qex","qpl","requireDeferred","sendToSentQPLLogger"],(function(a,b,c,d,e,f,g){"use strict";var h,i=c("requireDeferred")("MWLogSend").__setRef("MAWSendSecureAttachment");function a(a,b,c,d,e,f,g,h,i,k,l,m,n,o,p,q,r){return j.apply(this,arguments)}function j(){j=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,e,f,g,j,k,l,m,n,o,p,q,r,s,t,u){yield d("WALoggerDeferred").logWithTags(["MAWSendSecureMessageV2","Composer","MAWSendSecureAttachment"],["Starting attachment message send"],"LOG");if(b==null){d("MAWMessageSendReporterV2").isMessageSendReporterV2Enabled()||d("sendToSentQPLLogger").markSendToSentFail(o,"no_chat_jid");return d("WAResultOrError").makeError({isRetriable:!1,type:"no-chat-jid"})}var v=null;if(m!=null){d("sendToSentQPLLogger").markSendToSentPoint(o,"get_reply_message_start");m=d("MAWDbMsg").toMsgId(m.messageId);m!=null&&(v=(yield d("MAWGetProtocolMsgIdByMsgIdInUI").getProtocolMsgIdByMsgIdUI(m)));d("sendToSentQPLLogger").markSendToSentPoint(o,"get_reply_message_end")}d("sendToSentQPLLogger").markSendToSentPoint(o,"sending_message_to_wajob_start");var w;switch(j.type){case"image":case"animated_image":case"sticker":var x;m=j.imageSpec;var y=j.thumbnailUrlAndSpec;w={args:{ephemeralSetting:(x=p)!=null?x:void 0,hdType:c("qex")._("512")===!0?u===!0?d("WAMediaHdType").HD_TYPE_HQ_4K:d("WAMediaHdType").HD_TYPE_NONE:void 0,height:m.height,initiatingSource:q,isFirstMsg:n,isForwarded:!1,jpegThumbnail:y==null?void 0:y.jpegThumbnail,jpegThumbnailHeight:y==null?void 0:y.height,jpegThumbnailWidth:y==null?void 0:y.width,mediaGroupMetadata:t,offlineAttachmentId:k,optimisticMsg:r,quote:(x=v)!=null?x:void 0,source:l,width:m.width},attachmentType:"image",chatJid:b,externalId:s};break;case"video":u=j.thumbnailUrlAndSpec;w={args:{duration:u.duration,ephemeralSetting:(y=p)!=null?y:void 0,height:u.height,initiatingSource:q,isFirstMsg:n,isForwarded:!1,jpegThumbnail:u.jpegThumbnail,jpegThumbnailHeight:u.height,jpegThumbnailWidth:u.width,offlineAttachmentId:k,optimisticMsg:r,quote:(t=v)!=null?t:void 0,source:l,width:u.width},attachmentType:"video",chatJid:b,externalId:s};break;case"audio":x=j.durations;m=j.isPtt;w={args:{duration:Math.round(x),ephemeralSetting:(y=p)!=null?y:void 0,initiatingSource:q,isFirstMsg:n,isForwarded:!1,isPtt:m,offlineAttachmentId:k,optimisticMsg:r,quote:(t=v)!=null?t:void 0,source:l},attachmentType:"audio",chatJid:b,externalId:s};break;case"document":u=j.filename;w={args:{ephemeralSetting:(x=p)!=null?x:void 0,filename:u,initiatingSource:q,isFirstMsg:n,isForwarded:!1,offlineAttachmentId:k,optimisticMsg:r,quote:(y=v)!=null?y:void 0,source:l},attachmentType:"application",chatJid:b,externalId:s};break;default:d("sendToSentQPLLogger").markSendToSentPoint(o,"unknown_file_type_sendMediaMsg_not_fired"),c("FBLogger")("messenger_web_media").addMetadata("MESSENGER_E2EE_WEB","ERROR_MESSAGE","failed while sending attachment").mustfix("sendSecureAttachment: Failed while sending attachment, unknown attachment type %s",j.type)}var z;switch(j.type){case"image":z=8;break;case"video":z=10;break;case"audio":z=11;break;case"document":z=34;break}yield d("WALoggerDeferred").logWithTags(["MAWSendSecureMessageV2","Composer","MAWSendSecureAttachment"],["Send attachment message is done"],"LOG");i.onReady(function(b){var c=(h||(h=d("I64"))).to_string(e);return b.log(a,{actor:g,attachmentFbids:[],attachmentType:z,backend:1,hasReply:!1,messagingThreadId:c,offlineThreadingId:k,sendType:0,source:l,threadKey:e,threadType:f})});if(w==null)return d("WAResultOrError").makeError({isRetriable:!1,type:"send-media-msg-args-null"});t=d("MAWBridgeSendAndReceive").sendAndReceive("backend","sendMediaMsgV2",babelHelpers["extends"]({},w,{mimeType:j.file.type,plaintext:(m=j.plaintext)!=null?m:yield d("WABlobToArrayBuffer").blobToArrayBuffer(j.file),qplEventType:c("qpl")._(25313175,"1551"),qplInstanceKey:o}));d("sendToSentQPLLogger").markSendToSentPoint(o,"sending_message_to_wajob_end");return d("MAWMessageSendReporterV2").isMessageSendReporterV2Enabled()?t:d("MAWMessageSendReporter").MAWMessageSendReporter({chatJid:b,externalId:s},t,{qplEventType:c("qpl")._(25313175,"1551"),qplInstanceKey:o},a)});return j.apply(this,arguments)}g.sendSecureAttachment=a}),98);
__d("MAWSendFileMsgIfNecessaryV2",["FBLogger","MAWExternalId","MAWMessageSendReporterV2","MAWSendSecureAttachment","Promise","WAResultOrError","sendToSentQPLLogger"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a,e){var f=e.actorId,g=e.attachments,i=e.chatJid,j=e.ephemeralSetting,k=e.hdMediaMap,l=e.initiatingSource,m=e.isFirstMsg,n=e.mediaGroupMetadataMap,o=e.offlineAttachmentIdToMessageData,p=e.reply,q=e.s2sInstanceKey,r=e.source,s=e.thread;if(g.length===0){d("MAWMessageSendReporterV2").isMessageSendReporterV2Enabled()||d("sendToSentQPLLogger").markSendToSentFail(q,"empty_attachments");return(h||(h=b("Promise"))).resolve([d("WAResultOrError").makeError({isRetriable:!1,type:"empty-attachments"})])}d("sendToSentQPLLogger").markSendToSentPoint(q,"send_attachment_start",null,{"int":{attachment_count:g.length}});e=g.map(function(b){var c,e=b[0];b=b[1];var g=o==null?void 0:o.get(b);c=(c=k==null?void 0:k.get(b))!=null?c:void 0;return d("MAWSendSecureAttachment").sendSecureAttachment(a,i,s.threadKey,s.threadType,f,e,b,r,p,m,q,j,l,g==null?void 0:{msgId:g==null?void 0:g.messageExternalId,ts:g==null?void 0:g.offlineMsgTimestamp},(e=g==null?void 0:g.messageExternalId)!=null?e:d("MAWExternalId").generateExternalId(),n==null?void 0:n.get(b),c)});return(h||(h=b("Promise"))).all(e).then(function(a){var b=a==null?void 0:a.find(function(a){return(a==null?void 0:a.success)===!1});d("sendToSentQPLLogger").markSendToSentPoint(q,"send_attachment_end");return b!=null?[b]:a})["catch"](function(a){d("MAWMessageSendReporterV2").isMessageSendReporterV2Enabled()||d("sendToSentQPLLogger").markSendToSentFail(q,"send_attachment_fail",a);a instanceof Error?c("FBLogger")("messenger_web_media").catching(a).addMetadata("MESSENGER_E2EE_WEB","ERROR_MESSAGE","failed while sending attachment promise").mustfix("Failed while sending message"):c("FBLogger")("messenger_web_media").addMetadata("MESSENGER_E2EE_WEB","ERROR_MESSAGE","failed while sending attachment promise").mustfix("Failed while sending attachment, %s",a.message);throw a})}g.sendFileMsgIfNecessaryV2=a}),98);
__d("MAWSupportedFileTypes",[],(function(a,b,c,d,e,f){"use strict";a=["*/*"];f.supportedFileTypes=a}),66);
__d("MAWVoiceClipLimit",["gkx"],(function(a,b,c,d,e,f,g){"use strict";var h=60,i=180;function a(a){return a?c("gkx")("4187")?i:h:h}g.getMAWMaxVoiceClipDurationInSeconds=a}),98);
__d("MDSForwardStackSvgIcon.react",["MDSSvgIcon.react","react","vulture"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){c("vulture")("2vJEqnzmAtR");return i.jsxs(c("MDSSvgIcon.react"),babelHelpers["extends"]({},a,{children:[i.jsx("path",{d:"M10.5 14a.5.5 0 0 0 .5-.5v-2.536c0-1.608 1.769-2.532 3.02-1.578l9.21 7.026c1.026.783 1.027 2.37.002 3.154l-9.21 7.046c-1.25.957-3.022.034-3.022-1.576V22.5a.5.5 0 0 0-.5-.5H5a2 2 0 0 1-2-2v-4a2 2 0 0 1 2-2h5.5Z"}),i.jsx("path",{d:"M20.38 24.265a.97.97 0 0 0-.38.771c0 1.61 1.771 2.533 3.022 1.576l9.21-7.046c1.025-.784 1.024-2.37-.002-3.154l-9.21-7.026c-1.251-.954-3.02-.03-3.02 1.578 0 .295.138.574.373.753l4.07 3.105c2.074 1.583 2.076 4.747.004 6.332l-4.066 3.111Z"})]}))}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MDSPinnedMessageIcon.react",["MDSSvgIcon.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react")),j=h.useId;function a(a){var b=j(),d=j(),e=j(),f=j();return i.jsxs(c("MDSSvgIcon.react"),babelHelpers["extends"]({},a,{children:[i.jsx("g",{filter:"url(#"+b+")",children:i.jsx("rect",{fill:"url(#"+d+")",height:"2",width:"8",x:"17",y:"26"})}),i.jsx("path",{d:"M23.9989 27.5928L23.9988 27.5383L24.0367 27.585C24.1817 27.7518 24.7409 28.2715 25.8875 27.9427C26.9382 27.6414 26.5281 26.8227 26.371 26.5705C26.3138 26.4819 26.2525 26.3965 26.1873 26.3135L16.8703 14.3899C16.2845 15.045 15.5884 15.6539 14.8084 16.0737L23.9989 27.5928Z",fill:"url(#"+e+")"}),i.jsx("path",{d:"M11.5653 17.1305C15.7434 17.1305 19.1305 13.7434 19.1305 9.56526C19.1305 5.38708 15.7434 2 11.5653 2C7.38708 2 4 5.38708 4 9.56526C4 13.7434 7.38708 17.1305 11.5653 17.1305Z",fill:"#FF0D0D"}),i.jsx("path",{d:"M9.19306 12.5345C6.38338 10.2164 5.72669 6.37369 7.72578 3.95078C9.72486 1.52787 13.6231 1.44245 16.432 3.76062C19.2417 6.07879 19.8984 9.92145 17.8993 12.3444C15.9002 14.7673 12.0019 14.8519 9.19306 12.5345Z",fill:"url(#"+f+")"}),i.jsxs("defs",{children:[i.jsxs("filter",{colorInterpolationFilters:"sRGB",filterUnits:"userSpaceOnUse",height:"2.8",id:b,width:"8.8",x:"16.6",y:"25.6",children:[i.jsx("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),i.jsx("feBlend",{"in":"SourceGraphic",in2:"BackgroundImageFix",mode:"normal",result:"shape"}),i.jsx("feGaussianBlur",{result:"effect1_foregroundBlur_28_51",stdDeviation:"0.2"})]}),i.jsxs("linearGradient",{gradientUnits:"userSpaceOnUse",id:d,x1:"25",x2:"17.6667",y1:"27",y2:"27",children:[i.jsx("stop",{stopColor:"#969495"}),i.jsx("stop",{offset:"1",stopColor:"#D9D9D9",stopOpacity:"0"})]}),i.jsxs("linearGradient",{gradientUnits:"userSpaceOnUse",id:e,x1:"20.4956",x2:"21.941",y1:"22.4135",y2:"21.2698",children:[i.jsx("stop",{stopColor:"#666666"}),i.jsx("stop",{offset:"1",stopColor:"#CACCCD"})]}),i.jsxs("radialGradient",{cx:"0",cy:"0",gradientTransform:"translate(12.8132 8.1471) rotate(129.523) scale(5.68739 6.59482)",gradientUnits:"userSpaceOnUse",id:f,r:"1",children:[i.jsx("stop",{stopColor:"white",stopOpacity:"0.5"}),i.jsx("stop",{offset:"1",stopColor:"white",stopOpacity:"0"})]})]})]}))}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MSGWebBloksVideoV2",["CometAudioManager.react","CometPlaceholder.react","CometRelayEnvironmentProvider","MWVideoPlayerControllerContext.react","MWXGlimmer.react","VideoAutoplayManagerX.react","VideoPlayerHTML5ApiWebVttState","WebBloksComponentContext","deferredLoadComponent","react","requireDeferredForDisplay"],(function(a,b,c,d,e,f,g){"use strict";var h,i;b=i||d("react");var j=h||(h=c("react")),k=b.useContext,l=b.useEffect,m=b.useMemo,n=b.useRef,o=c("deferredLoadComponent")(c("requireDeferredForDisplay")("MWChatVideoPlayer.react").__setRef("MSGWebBloksVideoV2")),p=new Map(),q={glimmer:{borderTopStartRadius:"x1tlxs6b",borderTopEndRadius:"x1g8br2z",borderBottomEndRadius:"x1gn5b1j",borderBottomStartRadius:"x230xth",height:"x5yr21d",width:"xh8yej3",$$css:!0}};function a(a){a=a.node;var b=n(null),d=m(function(){return{ref:b}},[b]);return j.jsx(c("CometPlaceholder.react"),{fallback:j.jsx(c("MWXGlimmer.react"),{index:0,xstyle:q.glimmer}),children:j.jsx(c("CometRelayEnvironmentProvider"),{children:j.jsx(c("VideoAutoplayManagerX.react"),{children:j.jsx(c("CometAudioManager.react"),{children:j.jsx(c("MWVideoPlayerControllerContext.react").Provider,{value:d,children:j.jsx(r,{node:a})})})})})})}a.displayName=a.name+" [from "+f.id+"]";function r(a){var b=a.node,e=d("WebBloksComponentContext").useWebBloksContext(),f=k(c("MWVideoPlayerControllerContext.react")),g=(a=b.get("player_identifier"))==null?void 0:a.get("media_id");l(function(){if(g==null)return;var a=f.ref.current;a!=null&&!p.has(g)&&p.set(g,a);return function(){p["delete"](g)}},[f.ref,g]);var h=b.getExpression("on_state_change"),i=b.getExpression("on_progress_update"),m=n(null);l(function(){var a=f.ref.current,c=null;a!=null&&(c=a.subscribe(function(){var c=a.getCurrentState();if(h!=null){c=s(c);var d=m.current;c==="playing"&&d!=="playing"?e.executeCatch(b,h,["playing",e]):c==="paused"&&d==="paused"?e.executeCatch(b,h,["paused",e]):c==="error"&&d==="error"?e.executeCatch(b,h,["error",e]):c==="seeking"&&d==="seeking"?e.executeCatch(b,h,["seeking",e]):c==="buffering"&&d==="buffering"?e.executeCatch(b,h,["buffering",e]):c==="playback_complete"&&d==="playback_complete"?e.executeCatch(b,h,["playback_complete",e]):c==="prepared"&&d==="prepared"?e.executeCatch(b,h,["prepared",e]):c==="unprepared"&&d==="unprepared"&&e.executeCatch(b,h,["unprepared",e]);m.current=c}d=Math.round(a.getPlayheadPosition()*1e3);i!=null&&e.executeCatch(b,i,[d,e])}));return function(){var a;m.current=null;(a=c)==null?void 0:a.remove()}},[e,f.ref,b,i,h]);l(function(){var a=b==null?void 0:b.get("mute_on_mount");if(a!=null){var c=f.ref.current;c==null?void 0:c.setMuted(a,"product_initiated")}},[]);var q=b.get("subtitle_url"),r=b.getExpression("on_cues"),v=n(null);l(function(){var a=null;q!=null&&u({captionsUrl:q,onCaptionsLoaded:function(b){a=b}});var c=f.ref.current,d=null;c!=null&&(d=c.subscribe(function(){var d,f=Math.round(c.getPlayheadPosition());d=(d=a)==null?void 0:d.getSubtitles(f).join("\n");r!=null&&d!==v&&e.executeCatch(b,r,[d]);v.current=(f=d)!=null?f:null}));return function(){var a;(a=d)==null?void 0:a.remove()}},[e,f.ref,b,r,q]);a=b.get("scale_type");var w=b.get("loop")?-1:0,x=b.get("video_versions");x=x==null?void 0:x[0];var y=x==null?void 0:x.get("url"),z=x==null?void 0:x.get("width"),A=x==null?void 0:x.get("height"),B=x==null?void 0:x.get("quality_type");x=x==null?void 0:x.get("url");return y==null||g==null?null:j.jsx(o,{controls:"mwchat",fbid:(x=x)!=null?x:"",hdSrc:y,hideExpandButton:!1,initialForceHD:B==="hd",loopCount:w,mediaRenderQpl:null,originalHeight:(x=A)!=null?x:0,originalWidth:(B=z)!=null?B:0,pixelsFit:t(a),sdSrc:y,shouldForcePauseOnClick:!1})}r.displayName=r.name+" [from "+f.id+"]";function s(a){if(a.ended)return"playback_complete";else if(a.seeking)return"seeking";else if(a.stalling)return"buffering";else if(a.playing)return"playing";else if(a.paused&&a.watchTimeMs===0)return"prepared";else if(a.paused)return"paused";return"unprepared"}function t(a){switch(a){case"cover":case"stretch":return"cover";case"contain":default:return"contain"}}function u(a){var b=a.captionsUrl;a=a.onCaptionsLoaded;a=new(c("VideoPlayerHTML5ApiWebVttState"))({captionsDisplay:null,onCaptionsLoaded:a,onReady:function(a){return a.loadFromUrl(b)}});return a}g.webBloksVideoPlayerIDToControllerMap=p;g.MSGWebBloksVideoV2=a;g.getPlaybackState=s}),98);
__d("MSGWebBloksVideoGetIsMutedV2",["MSGWebBloksVideoV2"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){a=b==null?void 0:b.get("media_id");b=d("MSGWebBloksVideoV2").webBloksVideoPlayerIDToControllerMap.get(a);return(a=b==null?void 0:b.getCurrentState().muted)!=null?a:!1}g["default"]=a}),98);
__d("MSGWebBloksVideoGetPlaybackStateV3",["MSGWebBloksVideoV2"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){a=b==null?void 0:b.get("media_id");b=d("MSGWebBloksVideoV2").webBloksVideoPlayerIDToControllerMap.get(a);if(b==null)return"unprepared";a=b.getCurrentState();return d("MSGWebBloksVideoV2").getPlaybackState(a)}g["default"]=a}),98);
__d("MSGWebBloksVideoGetPositionV2",["MSGWebBloksVideoV2"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){a=b==null?void 0:b.get("media_id");b=d("MSGWebBloksVideoV2").webBloksVideoPlayerIDToControllerMap.get(a);return b==null?-1:Math.round(b.getPlayheadPosition()*1e3)}g["default"]=a}),98);
__d("MSGWebBloksVideoSendEventV2",["MSGWebBloksVideoV2"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b,c){a=c==null?void 0:c.get("media_id");c=d("MSGWebBloksVideoV2").webBloksVideoPlayerIDToControllerMap.get(a);if(c==null)return;switch(b){case"play":c.play("user_initiated");break;case"pause":c.pause("user_initiated");break;case"mute":c.setMuted(!0,"user_initiated");break;case"unmute":c.setMuted(!1,"user_initiated");break}}g["default"]=a}),98);
__d("MSGWebBloksVideoSetPositionV2",["MSGWebBloksVideoV2"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b,c){a=c==null?void 0:c.get("media_id");c=d("MSGWebBloksVideoV2").webBloksVideoPlayerIDToControllerMap.get(a);a=c==null?void 0:c.getCurrentState();b=b/1e3;if(!c||a&&b>a.duration)return;c.seek(b)}g["default"]=a}),98);
__d("MSGWebBloksPrimitives",["MSGWebBloksVideoGetIsMutedV2","MSGWebBloksVideoGetPlaybackStateV3","MSGWebBloksVideoGetPositionV2","MSGWebBloksVideoSendEventV2","MSGWebBloksVideoSetPositionV2","MSGWebBloksVideoV2","WebBloksDummy"],(function(a,b,c,d,e,f,g){"use strict";a={"bk.components.VideoV2":d("MSGWebBloksVideoV2").MSGWebBloksVideoV2};b={"bk.action.msg.wbloks.qpl.EndSuccess":c("WebBloksDummy"),"bk.action.video.GetIsMutedV2":c("MSGWebBloksVideoGetIsMutedV2"),"bk.action.video.GetPlaybackStateV3":c("MSGWebBloksVideoGetPlaybackStateV3"),"bk.action.video.GetPositionV2":c("MSGWebBloksVideoGetPositionV2"),"bk.action.video.SendEventV2":c("MSGWebBloksVideoSendEventV2"),"bk.action.video.SetPositionV2":c("MSGWebBloksVideoSetPositionV2")};e={};g.COMPONENTS=a;g.ACTIONS=b;g.EXTENSION_HANDLERS=e}),98);
__d("WebBloksAnimatedAddOnCompleteListener",[],(function(a,b,c,d,e,f){function a(a,b,c){b.addOnCompleteListener(function(d){return c==null?void 0:c(a,b,d,a.bloksContext)});return b}f["default"]=a}),66);
__d("WebBloksAnimationsSet",["WebBloksErrors"],(function(a,b,c,d,e,f,g){a=function(){function a(a){var b=a.animations;a=a.startDelay;this.isCancelled=!1;this.isPaused=!1;this.isInfinite=!1;this.onCompleteListeners=new Set();this.startDelay=0;this.animations=b.slice();this.startDelay=a||0}var b=a.prototype;b.play=function(){throw new(d("WebBloksErrors").WebBloksError)("`play` method must be implemented on the subclass of this animation set")};b.addOnCompleteListener=function(a){var b=this,c=0;this.onCompleteListeners.add(a);this.animations.forEach(function(a){var d=function(a){c++,(!a||c===b.animations.length)&&(c=0,b.onCompleteListeners.forEach(function(b){return b(a)}))};a.addOnCompleteListener(d)})};b.removeOnCompleteListener=function(a){this.onCompleteListeners["delete"](a)};b.getTotalDuration=function(){throw new(d("WebBloksErrors").WebBloksError)("`getTotalDuration` method must be implemented on the subclass of this animation set")};b.getComputedTimes=function(){throw new(d("WebBloksErrors").WebBloksError)("`getComputedTimes` method must be implemented on the subclass of this animation set")};return a}();g.WebBloksAnimationsSet=a}),98);
__d("WebBloksAnimatedUtils",["WebBloksAnimationsSet"],(function(a,b,c,d,e,f,g){function h(a,b){return(a=a.bloksContext.bkContextKeyAnimations.get(b))!=null?a:null}function a(a,b){return a.bloksContext.bkContextKeyAnimations.has(b)}function b(a,b){var c=h(a,b);c==null?void 0:c.play(a.bloksContext.bkContextKeyAnimations,b)}function i(a,b){var c=h(a,b);c==null?void 0:c.cancel();return a.bloksContext.bkContextKeyAnimations["delete"](b)}function c(a,b,c,d){d===void 0&&(d=!0);a.bloksContext.bkContextKeyAnimations.set(b,c);if(d){d=function(){i(a,b)};c.addOnCompleteListener(d)}return c}function j(a){var b=a.constructor.name;if(a instanceof d("WebBloksAnimationsSet").WebBloksAnimationsSet)for(var a=a.animations,c=Array.isArray(a),e=0,a=c?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var f;if(c){if(e>=a.length)break;f=a[e++]}else{e=a.next();if(e.done)break;f=e.value}f=f;b+=j(f)}return b}g.getAnimationWithToken=h;g.hasAnimationWithToken=a;g.startAnimationWithToken=b;g.deleteAnimationWithToken=i;g.associateAnimationWithToken=c;g.getIDTokenForLegacyAnimation=j}),98);
__d("WebBloksAnimationValue",[],(function(a,b,c,d,e,f){a=function(){function a(a){var b=a.id,c=a.animation;a=a.animatedValue;this.isInfinite=!1;this.animatedValue=null;this.onUpdateListeners=new Set();this.onCompleteListeners=new Set();this.$1=null;this.$2=null;this.id=b;this.animatedValue=a;this.animation=c}var b=a.prototype;b.addUpdateListener=function(a){this.onUpdateListeners.has(a)||this.onUpdateListeners.add(a)};b.removeUpdateListener=function(a){this.onUpdateListeners["delete"](a)};b.addOnCompleteListener=function(a){this.onCompleteListeners.add(a)};b.removeOnCompleteListener=function(a){this.onCompleteListeners["delete"](a)};b.setAnimatedValue=function(a){this.animatedValue=a};b.getTotalDuration=function(){return this.animation.duration};b.getCurrentTime=function(){var a;return(a=this.$2)!=null?a:0};b.setCurrentTime=function(a){this.$2=a,this.$1=window.performance.now()-this.$2};b.calculateTimelineAnimatedValue=function(a){var b=this.animation,c=b.duration,d=b.format,e=b.from,f=b.interpolator;b=b.to;e=[].concat(e);b=[].concat(b);a=a/c;Number.isNaN(a)&&(a=0);c=[];for(var g=0;g<e.length;g++)b[g]>e[g]?c.push(e[g]+f(a)*(b[g]-e[g])):c.push(e[g]-f(a)*(e[g]-b[g]));return d.apply(void 0,c)};return a}();f.WebBloksAnimationValue=a}),66);
__d("WebBloksAnimationsTimeline",["WebBloksAnimationValue","webBloksPerformanceUtils"],(function(a,b,c,d,e,f,g){a=function(){function a(a){var b=this;this.id=null;this.isCancelled=!1;this.isPaused=!1;this.$1=new Set();this.$2=[];this.$3=null;this.$4=null;this.$5=null;this.$14=function(){document.visibilityState==="hidden"&&!b.isPaused?b.pause():document.visibilityState==="visible"&&b.isPaused&&b.resume()};this.$2=this.$6(a)}var b=a.prototype;b.setID=function(a){this.id=a};b.getID=function(){return this.id};b.play=function(a,b){var c=this;this.isCancelled=!1;this.isPaused=!1;var e=this.$4,f=function f(g){var h;if(b!=null&&!(a==null?void 0:a.has(b)))return;e=(h=e)!=null?h:g;h=Math.floor(g-e);c.$3=h;g=c.$7(h);for(var g=g,i=Array.isArray(g),j=0,g=i?g:g[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var k;if(i){if(j>=g.length)break;k=g[j++]}else{j=g.next();if(j.done)break;k=j.value}k=k;var l=k[0];k=k[1];l=k.calculateTimelineAnimatedValue(h-l);l!=null&&(k.setAnimatedValue(l),k.onUpdateListeners.forEach(function(a){return a()}))}if(h/c.getTotalDuration()<1)c.$5=window.requestAnimationFrame(f);else{l=c.$8();k=l[1];k.isInfinite?(c.$9(),c.$5=window.requestAnimationFrame(f)):c.$10()}d("webBloksPerformanceUtils").addWebBloksPerformanceMark("--web-bloks-animation-frame",{detail:{animationID:c.id,timestamp:c.getCurrentTime()}})};this.$5=window.requestAnimationFrame(f);this.$11()};b.pause=function(){if(this.isPaused)return;this.isPaused=!0;window.cancelAnimationFrame(this.$5);this.$5=null;this.$4=null};b.resume=function(){var a;if(!this.isPaused)return;this.isPaused=!1;this.setCurrentTime((a=this.$3)!=null?a:0);this.play();d("webBloksPerformanceUtils").addWebBloksPerformanceMark("--web-bloks-animation-resume")};b.addOnCompleteListener=function(a){this.$1.has(a)||this.$1.add(a)};b.removeOnCompleteListener=function(a){this.$1["delete"](a)};b.cancel=function(){this.isCancelled=!0,window.cancelAnimationFrame(this.$5),this.$5=null,this.$12()};b.getStartTimeToAnimationInstance=function(){return this.$2};b.getTotalDuration=function(){var a=this.$8(),b=a[0];a=a[1];return b+a.getTotalDuration()};b.getCurrentTime=function(){var a;return(a=this.$3)!=null?a:0};b.setCurrentTime=function(a){this.$4=window.performance.now()-a};b.$9=function(){var a=this.$13(),b=this.$2.slice(a),c=b[0];c=c[0];c=this.getTotalDuration()-c;for(var d=0;d<a;d++)this.$2.pop();for(d=b,a=Array.isArray(d),b=0,d=a?d:d[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var e;if(a){if(b>=d.length)break;e=d[b++]}else{b=d.next();if(b.done)break;e=b.value}e=e;var f=e[0];e=e[1];this.$2.push([c+f,e])}};b.$7=function(a){return this.$2.filter(function(b){var c=b[0];b=b[1];return a>=c&&a<=c+b.getTotalDuration()})};b.$13=function(){var a=this.$2.length-1;while(a>0){var b=this.$2[a];b[0];b=b[1];b.isInfinite&&a--}return a};b.$10=function(){this.$2.forEach(function(a){a=a[1];return a.onCompleteListeners.forEach(function(a){return a(!0)})}),this.$1.forEach(function(a){return a(!0)}),this.$4=null,this.$12()};b.$8=function(){var a=Array.from(this.$2);return a[a.length-1]};b.$6=function(a){var b=[],c=function a(c){if(!c||!c.length)return;var e=c[0];c=c[1];if(c instanceof d("WebBloksAnimationValue").WebBloksAnimationValue){b.push([e,c]);return}for(var c=c.getComputedTimes(),f=Array.isArray(c),g=0,c=f?c:c[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var h;if(f){if(g>=c.length)break;h=c[g++]}else{g=c.next();if(g.done)break;h=g.value}h=h;var i=h[0];h=h[1];a([e+i,h])}};c([0,a]);return b};b.$11=function(){window.addEventListener("visibilitychange",this.$14)};b.$12=function(){window.removeEventListener("visibilitychange",this.$14)};return a}();g.WebBloksAnimationsTimeline=a}),98);
__d("WebBloksAnimatedBuild",["WebBloksAnimatedUtils","WebBloksAnimationsTimeline"],(function(a,b,c,d,e,f,g){function a(a,b,c){var e=new(d("WebBloksAnimationsTimeline").WebBloksAnimationsTimeline)(b);d("WebBloksAnimatedUtils").associateAnimationWithToken(a,c,e,!1);return b}g["default"]=a}),98);
__d("WebBloksAnimatedCancel",["WebBloksAnimatedUtils","WebBloksAnimationsTimeline"],(function(a,b,c,d,e,f,g){function a(a,b){if(b instanceof d("WebBloksAnimationsTimeline").WebBloksAnimationsTimeline)b.cancel();else{b=d("WebBloksAnimatedUtils").getIDTokenForLegacyAnimation(b);d("WebBloksAnimatedUtils").deleteAnimationWithToken(a,b)}}g["default"]=a}),98);
__d("WebBloksAnimatedCancelToken",["WebBloksAnimatedUtils"],(function(a,b,c,d,e,f,g){function a(a,b){a=d("WebBloksAnimatedUtils").getAnimationWithToken(a,b);a!==null&&a.cancel()}g["default"]=a}),98);
__d("WebBloksAnimationFunctions",[],(function(a,b,c,d,e,f){function g(a,b,c,d){var e=1e-6,f=3*a-3*c+1,g=3*c-6*a,h=3*a,i=3*b-3*d+1,j=3*d-6*b,k=3*b;function l(a){return(3*f*a+2*g)*a+h}function m(a){return((f*a+g)*a+h)*a}function n(a){return((i*a+j)*a+k)*a}function o(a){var b=a,c,d;for(var f=0;f<8;f++){d=m(b)-a;if(Math.abs(d)<e)return b;c=l(b);if(Math.abs(c)<e)break;b-=d/c}c=1;f=0;b=a;while(c>f){d=m(b)-a;if(Math.abs(d)<e)return b;d>0?c=b:f=b;b=(c+f)/2}return b}function p(a){return n(o(a))}return p}function a(){return g(0,0,1,1)}f.cubicBezier=g;f.linearInterpolator=a}),66);
__d("WebBloksAnimatedCreate",["WebBloksAnimationFunctions","WebBloksAnimationValue","WebBloksUtils"],(function(a,b,c,d,e,f,g){function a(a,b,c,e,f,g,h){var i=new(d("WebBloksAnimationValue").WebBloksAnimationValue)({id:""+d("WebBloksUtils").getNextGlobalBloksClientId(),animation:{style:"transform",from:parseFloat(e),to:parseFloat(f),format:function(a){return String(a)},duration:g*1e3,interpolator:(e=h)!=null?e:d("WebBloksAnimationFunctions").linearInterpolator()},animatedValue:null});i.addUpdateListener(function(){b(a,i)});i.addOnCompleteListener(function(b){c==null?void 0:c(a,i,b,a.bloksContext)});return i}g["default"]=a}),98);
__d("WebBloksAnimatedCreateColor",["WebBloksAnimationFunctions","WebBloksAnimationValue","WebBloksUtils"],(function(a,b,c,d,e,f,g){function a(a,b,c,e,f,g,h){var i=new(d("WebBloksAnimationValue").WebBloksAnimationValue)({id:""+d("WebBloksUtils").getNextGlobalBloksClientId(),animation:{style:"color",from:d("WebBloksUtils").convertRGBOrHexStringToArr(e),to:d("WebBloksUtils").convertRGBOrHexStringToArr(f),format:function(a,b,c){return d("WebBloksUtils").convertRGBArrToString([a,b,c,1])},duration:g*1e3,interpolator:(e=h)!=null?e:d("WebBloksAnimationFunctions").linearInterpolator()},animatedValue:null});i.addUpdateListener(function(){b(a,i)});c&&i.addOnCompleteListener(function(b){return c==null?void 0:c(a,i,b,a.bloksContext)});return i}g["default"]=a}),98);
__d("WebBloksAnimatedCreateCubicBezier",["WebBloksAnimationFunctions"],(function(a,b,c,d,e,f,g){function a(a,b,c,e,f){return d("WebBloksAnimationFunctions").cubicBezier(b,c,e,f)}g["default"]=a}),98);
__d("WebBloksAnimatedCreateDimension",["WebBloksAnimationFunctions","WebBloksAnimationValue","WebBloksDimensionUtils","WebBloksErrors","WebBloksUtils"],(function(a,b,c,d,e,f,g){function a(a,b,c,e,f,g,h){var i=d("WebBloksDimensionUtils").parseDimension(e);if(!i)throw new(d("WebBloksErrors").WebBloksError)("Failed to parse dimension ("+e+")");var j=i.type;e=i.value;i=(i=d("WebBloksDimensionUtils").parseDimension(f))==null?void 0:i.value;if(i==null)throw new(d("WebBloksErrors").WebBloksError)("Failed to parse dimension ("+f+")");var k=new(d("WebBloksAnimationValue").WebBloksAnimationValue)({id:""+d("WebBloksUtils").getNextGlobalBloksClientId(),animation:{style:"transform",from:e,to:i,format:function(a){return d("WebBloksUtils").toPx(String(a)+j)},duration:g*1e3,interpolator:(f=h)!=null?f:d("WebBloksAnimationFunctions").linearInterpolator()},animatedValue:null});k.addUpdateListener(function(){b(a,k)});c&&k.addOnCompleteListener(function(b){return c==null?void 0:c(a,k,b,a.bloksContext)});return k}g["default"]=a}),98);
__d("WebBloksAnimatedDestroy",["WebBloksAnimatedUtils"],(function(a,b,c,d,e,f,g){function a(a,b){d("WebBloksAnimatedUtils").deleteAnimationWithToken(a,b)}g["default"]=a}),98);
__d("WebBloksAnimatedGetCurrentColorValue",["WebBloksAnimationValue"],(function(a,b,c,d,e,f,g){function a(a,b){if(b instanceof d("WebBloksAnimationValue").WebBloksAnimationValue)return String(b.animatedValue)}g["default"]=a}),98);
__d("WebBloksAnimatedGetCurrentDimensionValue",["WebBloksAnimationValue"],(function(a,b,c,d,e,f,g){function a(a,b){if(b instanceof d("WebBloksAnimationValue").WebBloksAnimationValue)return String(b.animatedValue)}g["default"]=a}),98);
__d("WebBloksAnimatedGetCurrentPlayTime",["WebBloksAnimatedUtils"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){a=d("WebBloksAnimatedUtils").getAnimationWithToken(a,b);if(a!=null){b=a.getCurrentTime();a=b/1e3;return a}return 0}g["default"]=a}),98);
__d("WebBloksAnimatedGetCurrentValue",["WebBloksAnimationValue"],(function(a,b,c,d,e,f,g){function a(a,b){if(b instanceof d("WebBloksAnimationValue").WebBloksAnimationValue)return parseFloat(b.animatedValue)}g["default"]=a}),98);
__d("WebBloksAnimatedGetTotalDuration",["WebBloksAnimatedUtils"],(function(a,b,c,d,e,f,g){function a(a,b){a=d("WebBloksAnimatedUtils").getAnimationWithToken(a,b);if(a!=null){b=a.getTotalDuration();a=b/1e3;return a}return}g["default"]=a}),98);
__d("WebBloksAnimatedIsInitialized",["WebBloksAnimatedUtils"],(function(a,b,c,d,e,f,g){function a(a,b){return d("WebBloksAnimatedUtils").hasAnimationWithToken(a,b)}g["default"]=a}),98);
__d("WebBloksAnimationsLoopSet",["WebBloksAnimationsSet"],(function(a,b,c,d,e,f,g){a=function(a){babelHelpers.inheritsLoose(b,a);function b(b){var c=b.limit;b=babelHelpers.objectWithoutPropertiesLoose(b,["limit"]);b=a.call(this,b)||this;b.limit=Infinity;b.limit=c||Infinity;return b}var c=b.prototype;c.getTotalDuration=function(){if(this.limit===Infinity)return Infinity;var a=this.animations.reduce(function(a,b){return a+b.getTotalDuration()},0);return a*this.limit+this.startDelay};c.getComputedTimes=function(){var a=this.startDelay,b=[],c=this.animations[0];if(this.limit===Infinity){c.isInfinite=!0;return[[a,c]]}else for(var d=0;d<this.limit;d++)b.push([a,c]),a+=c.getTotalDuration();return b};return b}(d("WebBloksAnimationsSet").WebBloksAnimationsSet);g.WebBloksAnimationsLoopSet=a}),98);
__d("WebBloksAnimatedLoop",["WebBloksAnimationsLoopSet"],(function(a,b,c,d,e,f,g){function a(a,b,c){a=new(d("WebBloksAnimationsLoopSet").WebBloksAnimationsLoopSet)({limit:b<0?Infinity:b,animations:[c]});return a}g["default"]=a}),98);
__d("WebBloksAnimationsParallelSet",["WebBloksAnimationsSet"],(function(a,b,c,d,e,f,g){a=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}var c=b.prototype;c.getTotalDuration=function(){var a=Math.max.apply(Math,this.animations.map(function(a){return a.getTotalDuration()}));return a+this.startDelay};c.getComputedTimes=function(){var a=[];for(var b=this.animations,c=Array.isArray(b),d=0,b=c?b:b[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var e;if(c){if(d>=b.length)break;e=b[d++]}else{d=b.next();if(d.done)break;e=d.value}e=e;e.isInfinite=this.isInfinite;a.push([this.startDelay,e])}return a};return b}(d("WebBloksAnimationsSet").WebBloksAnimationsSet);g.WebBloksAnimationsParallelSet=a}),98);
__d("WebBloksAnimatedParallel",["WebBloksAnimationsParallelSet"],(function(a,b,c,d,e,f,g){function a(a,b,c,e){var f=new(d("WebBloksAnimationsParallelSet").WebBloksAnimationsParallelSet)({animations:e,startDelay:c*1e3});b&&f.addOnCompleteListener(function(c){return b==null?void 0:b(a,f,c,a.bloksContext)});return f}g["default"]=a}),98);
__d("WebBloksAnimatedPause",["WebBloksAnimatedUtils"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){a=d("WebBloksAnimatedUtils").getAnimationWithToken(a,b);if(a!=null&&!a.isCancelled){b=a.isPaused;a.pause();return!b&&a.isPaused}return!1}g["default"]=a}),98);
__d("WebBloksAnimatedResume",["WebBloksAnimatedUtils"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){a=d("WebBloksAnimatedUtils").getAnimationWithToken(a,b);if(a!=null&&!a.isCancelled){b=a.isPaused;a.resume();return b&&!a.isPaused}return!1}g["default"]=a}),98);
__d("WebBloksAnimationsSequenceSet",["WebBloksAnimationsSet"],(function(a,b,c,d,e,f,g){a=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}var c=b.prototype;c.getTotalDuration=function(){var a=this.animations.reduce(function(a,b){return a+b.getTotalDuration()},0);return a+this.startDelay};c.getComputedTimes=function(){var a=this.startDelay,b=[];for(var c=this.animations,d=Array.isArray(c),e=0,c=d?c:c[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var f;if(d){if(e>=c.length)break;f=c[e++]}else{e=c.next();if(e.done)break;f=e.value}f=f;f.isInfinite=this.isInfinite;b.push([a,f]);a+=f.getTotalDuration()}return b};return b}(d("WebBloksAnimationsSet").WebBloksAnimationsSet);g.WebBloksAnimationsSequenceSet=a}),98);
__d("WebBloksAnimatedSequence",["WebBloksAnimationsSequenceSet"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b,c,e){var f=new(d("WebBloksAnimationsSequenceSet").WebBloksAnimationsSequenceSet)({animations:b,startDelay:e*1e3});c&&f.addOnCompleteListener(function(b){return c==null?void 0:c(a,f,b,a.bloksContext)});return f}g["default"]=a}),98);
__d("WebBloksAnimatedSetCurrentPlayTime",["WebBloksAnimatedUtils"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b,c){a=d("WebBloksAnimatedUtils").getAnimationWithToken(a,b);if(a!=null&&c!=null){b=c*1e3;a.setCurrentTime(b)}}g["default"]=a}),98);
__d("WebBloksAnimationsStaggerSet",["WebBloksAnimationsSet"],(function(a,b,c,d,e,f,g){a=function(a){babelHelpers.inheritsLoose(b,a);function b(b){var c=b.delay;b=babelHelpers.objectWithoutPropertiesLoose(b,["delay"]);b=a.call(this,b)||this;b.delay=0;b.delay=c;return b}var c=b.prototype;c.getTotalDuration=function(){var a=this,b=this.animations.map(function(b,c){return b.getTotalDuration()+c*a.delay});b=Math.max.apply(Math,b);return b+this.startDelay};c.getComputedTimes=function(){var a=this.startDelay,b=[];for(var c=this.animations,d=Array.isArray(c),e=0,c=d?c:c[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var f;if(d){if(e>=c.length)break;f=c[e++]}else{e=c.next();if(e.done)break;f=e.value}f=f;f.isInfinite=this.isInfinite;b.push([a,f]);a+=this.delay}return b};return b}(d("WebBloksAnimationsSet").WebBloksAnimationsSet);g.WebBloksAnimationsStaggerSet=a}),98);
__d("WebBloksAnimatedStagger",["WebBloksAnimationsStaggerSet"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b,c){a=new(d("WebBloksAnimationsStaggerSet").WebBloksAnimationsStaggerSet)({animations:c,delay:b*1e3});return a}g["default"]=a}),98);
__d("WebBloksAnimatedStart",["WebBloksAnimatedUtils","WebBloksAnimationsTimeline","webBloksPerformanceUtils"],(function(a,b,c,d,e,f,g){function a(a,b){var c=a.bloksContext.loggingIDForInternalFrameworkUseOnly,e={detail:{loggingID:c}};if(b instanceof d("WebBloksAnimationsTimeline").WebBloksAnimationsTimeline)b.play(),e.detail=babelHelpers["extends"]({},e.detail,{animationID:b.getID()});else{c=new(d("WebBloksAnimationsTimeline").WebBloksAnimationsTimeline)(b);var f=d("WebBloksAnimatedUtils").getIDTokenForLegacyAnimation(b);c.setID(f);e.detail=babelHelpers["extends"]({},e.detail,{animationID:c.getID()});d("WebBloksAnimatedUtils").associateAnimationWithToken(a,f,c,!1);d("WebBloksAnimatedUtils").startAnimationWithToken(a,f)}d("webBloksPerformanceUtils").addWebBloksPerformanceMark("--web-bloks-animation-start",e);c=function a(){d("webBloksPerformanceUtils").addWebBloksPerformanceMark("--web-bloks-animation-end",e),b==null?void 0:b.removeOnCompleteListener(a)};b==null?void 0:b.addOnCompleteListener(c)}g["default"]=a}),98);
__d("WebBloksAnimatedStartToken",["WebBloksAnimatedUtils","webBloksPerformanceUtils"],(function(a,b,c,d,e,f,g){function a(a,b){var c=d("WebBloksAnimatedUtils").getAnimationWithToken(a,b);c!=null&&c.setID(b);d("WebBloksAnimatedUtils").startAnimationWithToken(a,b);a=a.bloksContext.loggingIDForInternalFrameworkUseOnly;var e={detail:{animationID:b,loggingID:a}};d("webBloksPerformanceUtils").addWebBloksPerformanceMark("--web-bloks-animation-start",e);b=function a(){d("webBloksPerformanceUtils").addWebBloksPerformanceMark("--web-bloks-animation-end",e),c==null?void 0:c.removeOnCompleteListener(a)};c==null?void 0:c.addOnCompleteListener(b)}g["default"]=a}),98);
__d("WebBloksCollectionSetIndex",["WebBloksCollectionScrollTo"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b,c,e){if(!b.uiMutableContainer.domNode)return;d("WebBloksCollectionScrollTo").scrollWebBloksCollectionToIndex(b,{index:c,isAnimated:e})}g["default"]=a}),98);
__d("WebBloksRichTextResizeToFit",["WebBloksRichTextContext","WebBloksUtils","react"],(function(a,b,c,d,e,f,g){var h,i=h||(h=d("react"));b=h;var j=b.useCallback,k=b.useContext,l=b.useLayoutEffect,m=b.useRef,n=b.useState,o=12,p=128;function a(a){var b=a.children;a=a.node;var d=m(null),e=m(null),f=m(null),g=k(c("WebBloksRichTextContext")),h=g.maxNumberOfLines;g=a.get("styles");a=r(g);var s=a.maxFontSize,t=a.minFontSize;g=n(function(){return q(o,p)});var u=g[0],v=g[1],w=j(function(){var a=u.min,b=u.max;function c(){var a;a=(a=d==null?void 0:(a=d.current)==null?void 0:a.offsetHeight)!=null?a:0;var b=window.getComputedStyle(d==null?void 0:d.current).getPropertyValue("line-height");return Math.floor(a/parseInt(b,10))}c=c()<=h;var e=Math.floor((a+b)/2);c?a=u.mid+1:b=u.mid-1;v(function(c){return babelHelpers["extends"]({},c,{mid:e,max:b,min:a})})},[h,u.max,u.mid,u.min]);l(function(){return w()},[w,h,u.max,u.mid,u.min]);l(function(){f.current!==h&&(f.current=h,v(function(){return q(t-1,s)}))},[s,h,t]);l(function(){var a=d.current;if(a!=null){var b=new ResizeObserver(function(){window.clearTimeout(e.current),e.current=window.setTimeout(function(){v(function(){return q(t,s)})},100)});b.observe(a);return function(){b.unobserve(a),window.clearTimeout(e.current)}}},[s,t]);return i.jsx("span",{ref:d,style:{fontSize:u.mid+"px",display:"inline-block"},children:b})}a.displayName=a.name+" [from "+f.id+"]";function q(a,b){return{min:a,max:b,mid:Math.floor(b/2)}}function r(a){var b=p,c=o;if(a!=null)for(var a=a,e=Array.isArray(a),f=0,a=e?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var g;if(e){if(f>=a.length)break;g=a[f++]}else{f=a.next();if(f.done)break;g=f.value}g=g;switch(g==null?void 0:g.styleId){case"bk.style.textspan.ResizeToFitStyle":var h=g.get("min_text_size");h!=null&&(c=parseFloat(d("WebBloksUtils").toPx(h)));h=g.get("max_text_size");h!=null&&(b=parseFloat(d("WebBloksUtils").toPx(h)))}}return{maxFontSize:b,minFontSize:c}}g["default"]=a}),98);
__d("WebBloksDataComposableTextSpan",["WebBloksComponentContext","WebBloksDataTextSpanUtils","WebBloksRichTextContext","WebBloksRichTextResizeToFit","WebBloksStyle","react"],(function(a,b,c,d,e,f,g){var h,i=h||(h=d("react"));b=h;var j=b.useContext,k=b.useEffect,l=b.useMemo;function a(a){var b=a.node;a=a.externalStyle;var e=b.get("styles"),f=d("WebBloksStyle").useStyle(b,a);f=f.wrapper;var g=d("WebBloksComponentContext").useWebBloksContext(),h=g.renderNode;g=j(c("WebBloksRichTextContext"));var m=g.isRootFontSizeEnabled,n=g.setIsRootFontSizeEnabled;g=d("WebBloksDataTextSpanUtils").useWebBloksBaseTextSpanProps(b,a);a=(a=b.getSubNodes("spans"))==null?void 0:a.map(function(a){return h(a)});var o=l(function(){var a;return(a=e==null?void 0:e.some(function(a){return a.styleId==="bk.style.textspan.ResizeToFitStyle"}))!=null?a:!1},[e]);k(function(){!m&&o&&n(!0)},[o,m,n]);return o?f(i.jsx(c("WebBloksRichTextResizeToFit"),{node:b,children:i.jsx("span",babelHelpers["extends"]({},g,{children:a}))})):f(i.jsx("span",babelHelpers["extends"]({},g,{children:a})))}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("WebBloksDataImageSpan",["WebBloksImageSpan","react"],(function(a,b,c,d,e,f,g){var h,i=h||d("react");function a(a){var b=a.externalStyle;a=a.node;return i.jsx(c("WebBloksImageSpan"),{node:a,externalStyle:b})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("WebBloksDataTextSpan",["WebBloksComponentContext","WebBloksDataTextSpanUtils","WebBloksStyle","react"],(function(a,b,c,d,e,f,g){var h,i=h||d("react");function a(a){var b=a.node;a=a.externalStyle;var c=b.get("text_provider"),e=d("WebBloksStyle").useStyle(b,a);e=e.wrapper;var f=d("WebBloksComponentContext").useWebBloksContext();f=f.renderNode;f=c!=null?f(c):b.get("text");c=d("WebBloksDataTextSpanUtils").useWebBloksBaseTextSpanProps(b,a);return e(i.jsx("span",babelHelpers["extends"]({},c,{children:f})))}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("WebBloksScreenClose",["WebBloksBooleanUtils","WebBloksErrors"],(function(a,b,c,d,e,f,g){function a(a,b){b=b.getValues();var c=b.type,e=b.is_inclusive;b=b.screen_id;if(c==null)throw new(d("WebBloksErrors").WebBloksError)("WebBloksScreenCloseType must be provided to close a screen");a.objectSet.navigationManager.close(c,(a=b)!=null?a:void 0,e!=null?d("WebBloksBooleanUtils").isTrue(e):void 0)}g["default"]=a}),98);
__d("WebBloksScreenOpen",["WebBloksContainerConfig","WebBloksErrors","WebBloksPayloadParser","WebBloksScreen","webBloksPerformanceUtils"],(function(a,b,c,d,e,f,g){function a(a,b,c,e){var f=a.bloksContext.objectSet.environment,g=f.screenQueryTemplate;f=f.traversalKeys;if(g==null)throw new(d("WebBloksErrors").WebBloksError)("Missing screen query template when calling bk.action.screen.Open");var h=b.get("props"),i=h.__infra__screen_id,j=d("WebBloksContainerConfig").getContainerConfig(a.bloksContext,c);c={initialContainer:{model:c,config:j},screenId:i!=null?String(i):void 0};d("webBloksPerformanceUtils").addWebBloksPerformanceMark("--web-bloks-ttrc-start");j=d("WebBloksPayloadParser").parseTree(g,f);i=d("WebBloksScreen").WebBloksScreen.fromBloksParseResult(a.bloksContext.objectSet,j,c,h,b.get("url_relative_path"));a.objectSet.navigationManager.open(i,e)}g["default"]=a}),98);
__d("WebBloksScreenQueryScreenWrapper",["WebBloksComponentContext","WebBloksStyle","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react")),j=h.useEffect;function a(a){var b=a.node;a=d("WebBloksComponentContext").useWebBloksContext();var c=a.bloksContext,e=a.renderNode,f=a.executeOnNextTickCatch;a=b.getValues();var g=a.content,h=a.container_config;a=a.navigation_callbacks;e=e(g);var l=a==null?void 0:a.getExpression("on_enter"),m=a==null?void 0:a.get("on_exit");j(function(){if(h==null)return;var a=c.objectSet.navigationManager.getCurrentScreen();a==null?void 0:a.setContainerConfigModel(c,h)},[c,h]);j(function(){if(l!=null){var a=c.objectSet.navigationManager.getCurrentScreen(),d=c.objectSet.navigationManager.getNavigationDirection();f(b,l,[c,d]);a==null?void 0:a.setOnExitCallback(m)}},[]);return i.jsx("div",{"data-bloks-name":b.styleId,className:k.root,children:e})}a.displayName=a.name+" [from "+f.id+"]";var k=d("WebBloksStyle").createStyles({root:{height:"100%",width:"100%",display:"flex",flexDirection:"column"}});g.WebBloksScreenQueryScreenWrapper=a}),98);
__d("WebBloksIconSpinner",["WebBloksStyle","WebBloksTheme","WebBloksUtils","react"],(function(a,b,c,d,e,f,g){var h,i=h||d("react");function a(a){a=a.color;var b="20",c=d("WebBloksTheme").useTheme().getTheme();a=a?d("WebBloksUtils").getRGBColorWithTheme(a,c):d("WebBloksTheme").WebBloksThemeVars["fig-blue-tint-10"];return i.jsx("div",{className:j.loader,"data-visualcompletion":"loading-state",children:i.jsxs("svg",{className:d("WebBloksStyle").classNames(j.iconSpinnerCircular,j.iconSpinnerRotating,j.iconSpinnerStroke),viewBox:"25 25 50 50",children:[i.jsx("title",{children:"Spinner"}),i.jsx("circle",{cx:"50",cy:"50",r:b,fill:"none",stroke:d("WebBloksTheme").WebBloksThemeVars["fig-blue-tint-90"]}),i.jsx("circle",{className:d("WebBloksStyle").classNames(j.iconSpinnerPath,j.iconSpinnerStroke),cx:"50",cy:"50",r:b,fill:"none",stroke:a})]})})}a.displayName=a.name+" [from "+f.id+"]";b=d("WebBloksStyle").keyframes({"100%":{transform:"rotate(360deg)"}});c=d("WebBloksStyle").keyframes({"0%":{strokeDasharray:"1, 200",strokeDashoffset:"0"},"50%":{strokeDasharray:"200, 200",strokeDashoffset:"0px"},"75%,100%":{strokeDasharray:"89, 200",strokeDashoffset:"-125px"}});var j=d("WebBloksStyle").createStyles({loader:function(a){var b;return b={},b[a]={margin:0,position:"relative",width:65},b[a+"::before"]={content:"''",display:"block",paddingTop:"100%"},b},iconSpinnerCircular:{bottom:0,height:"100%",left:0,margin:"auto",position:"absolute",right:0,top:0,transformOrigin:"center center",width:"100%"},iconSpinnerRotating:{animation:b+" 3s linear infinite"},iconSpinnerPath:{animation:c+" 2s ease-in-out infinite",strokeDasharray:"1, 200",strokeDashoffset:"0",strokeLinecap:"round"},iconSpinnerStroke:{strokeMiterlimit:"10",strokeWidth:"1.5"}});g["default"]=a}),98);
__d("WebBloksSpinner",["WebBloksIconSpinner","WebBloksStyle","react"],(function(a,b,c,d,e,f,g){var h,i=h||d("react");function a(a){var b=a.node;a=a.externalStyle;a=d("WebBloksStyle").useStyle(b,a);var e=a.wrapper,f=a.wrapperProps;a=a.style;return e(i.jsx("div",babelHelpers["extends"]({},f,d("WebBloksStyle").getStyleProps(a),{children:i.jsx(c("WebBloksIconSpinner"),{color:b.get("color")})})))}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("WebBloksEntryPointContainerContext",["WebBloksSSRUtils","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react"),j=i.createContext({current:d("WebBloksSSRUtils").canUseDOM?document.body:null});function a(a){var b=a.children;a=a.value;return i.jsx(j.Provider,{value:a,children:b})}a.displayName=a.name+" [from "+f.id+"]";g.WebBloksEntryPointContainerContext=j;g.WebBloksEntryPointContainerContextProvider=a}),98);
__d("useWebBloksAccessibilityModule",["WebBloksEnvironmentContext"],(function(a,b,c,d,e,f,g){"use strict";function a(){var a=d("WebBloksEnvironmentContext").useWebBloksEnvironment();a=a.accessibilityModule;return a}g["default"]=a}),98);
__d("WebBloksTooltip",["WebBloksComponentContext","WebBloksDecoration","WebBloksEntryPointContainerContext","WebBloksStyle","WebBloksTheme","WebBloksUtils","react","useWebBloksAccessibilityModule"],(function(a,b,c,d,e,f,g){var h,i;e=i||d("react");var j=h||(h=c("react")),k=e.useContext,l=e.useLayoutEffect,m=e.useMemo,n=e.useRef,o=e.useState,p=12;e=b(p);var q=d("WebBloksStyle").createStyles({root:{position:"absolute",left:"50%",transform:"translateX(-50%)"},contentWrapper:{position:"relative",display:"flex",flexDirection:"column",alignItems:"center",width:"85vw"},content:{display:"inline-block"},arrow:{height:p,width:e,zIndex:1},arrowDropShadow:{zIndex:-1,position:"absolute"}});function a(a){var b=a.node;a=a.externalStyle;var e=d("WebBloksComponentContext").useWebBloksContext();e=e.renderNode;e=e(b.getSubNode("child"));var f=b.getValues(),g=b.get("decoration");a=d("WebBloksStyle").useStyle(b,a);var h=a.wrapperProps;a=a.ref;var i=c("WebBloksDecoration")(f,a);f=c("useWebBloksAccessibilityModule")();a=f.FocusRegion;f=k(d("WebBloksEntryPointContainerContext").WebBloksEntryPointContainerContext);var l=n(null),o=b==null?void 0:b.get("arrow_type");f=r(f,l,b.get("position"),o);var t=f[0],u=f[1],w=d("WebBloksUtils").toPx(b.get("width")),x=d("WebBloksUtils").toPx(b.get("height")),y=d("WebBloksUtils").toPx(b.get("offset_horizontal")),z=d("WebBloksUtils").toPx(b.get("offset_vertical")),A=s(u);f=m(function(){var a=babelHelpers["extends"]({},A),b=parseFloat(y);o==="shark-fin"&&b>0?a.marginLeft=b+p/2:o==="shark-fin"?a.marginLeft=p/2:b>0&&(a.marginLeft=b);b=parseFloat(z);b>0&&(u==="top"?a.marginBottom=b:u==="bottom"&&(a.marginTop=b));return a},[o,y,z,u,A]);var B=m(function(){var a={};u==="bottom"&&(a.flexDirection="column-reverse");return a},[u]),C=d("WebBloksUtils").toPx(g==null?void 0:g.get("border_width")),D=parseFloat(C);C=b.get("margin");var E=d("WebBloksUtils").toPx(C==null?void 0:C.get("start")),F=d("WebBloksUtils").toPx(C==null?void 0:C.get("end"));b=m(function(){var a=babelHelpers["extends"]({},i);parseFloat(w)>0&&(a.width=w);parseFloat(x)>0&&(a.height=x);o==="none"?(a.marginTop=p,a.marginBottom=p):(a.marginTop=-D,a.marginBottom=-D);E!=null&&(a.marginLeft=E);F!=null&&(a.marginRight=F);return a},[o,D,i,x,F,E,w]);var G=d("WebBloksTheme").useTheme().getTheme();C=m(function(){var a=g==null?void 0:g.get("border_color"),b=g==null?void 0:g.get("border_themed_color");if(b!=null)return d("WebBloksUtils").getRGBColorWithTheme(b,G);else if(a!=null)return d("WebBloksUtils").convertRGBArrToString(d("WebBloksUtils").convertRGBOrHexStringToArr(a));return null},[g,G]);var H=m(function(){return D*(100/16)},[D]);t=v(t,u,o,H);var I=i.boxShadow!=null,J=m(function(){var a={};if(!I)return a;i.boxShadow!=null&&(a.filter="drop-shadow("+i.boxShadow+")");u==="top"?a.bottom=0:u==="bottom"&&(a.top=0);return a},[i.boxShadow,I,u]);return j.jsx("div",babelHelpers["extends"]({},h,{ref:l,className:q.root,style:f,children:j.jsxs("span",{className:q.contentWrapper,style:B,children:[i.boxShadow!=null?j.jsxs("svg",{label:"",preserveAspectRatio:"none",className:d("WebBloksStyle").classNames(q.arrow,q.arrowDropShadow),style:J,viewBox:"0 0 100 100",children:[j.jsx("title",{children:"Arrow drop shadow"}),j.jsx("polygon",{points:t})]}):null,j.jsx("span",{style:b,className:q.content,children:j.jsx(a,{children:e})}),o!=="none"?j.jsxs("svg",{label:"",preserveAspectRatio:"none",className:q.arrow,viewBox:"0 0 100 100",children:[j.jsx("title",{children:"Arrow pointing to tooltip"}),j.jsx("polyline",{points:t,strokeWidth:H,stroke:C,fill:b==null?void 0:b.background})]}):null]})}))}a.displayName=a.name+" [from "+f.id+"]";function r(a,b,c,d){var e=o("center"),f=e[0],g=e[1];e=o(c);var h=e[0],i=e[1];l(function(){var e,f;e=a==null?void 0:(e=a.current)==null?void 0:e.getBoundingClientRect();f=b==null?void 0:(f=b.current)==null?void 0:f.parentElement;f=f==null?void 0:f.getBoundingClientRect();if(e==null||f==null)return;if(d==="shark-fin"){var h=e.x+e.width/2,j=f.x+f.width/2;j>h?g("right"):g("left")}if(c!=null)return;j=e.y+e.height/2;h=f.y+f.height/2;h>j?i("top"):i("bottom")},[d,a,c,b]);return[f,h]}function b(a){return Math.sqrt(Math.pow(a,2)+Math.pow(a,2))}function s(a){return a==null?null:{top:{bottom:"100%"},bottom:{top:"100%"}}[a]}function t(a){return{bottom:"0,100 50,"+a+" 100,100",top:"0,0 50,"+(100-a)+" 100,0"}}function u(a){return{left:{bottom:a+",100 "+a+","+a+" 100,100",top:a+",0 "+a+","+(100-a)+" 100,0"},right:{bottom:"0,100 "+(100-a)+","+a+" "+(100-a)+",100",top:"0,0 "+(100-a)+","+(100-a)+" "+(100-a)+",0"}}}function v(a,b,c,d){if(b==null)return null;return c==="shark-fin"&&a!=="center"?u(d)[a][b]:t(d)[b]}g["default"]=a}),98);
__d("WebBloksTooltipContainer",["WebBloksComponentContext","WebBloksSSRUtils","WebBloksStyle","react"],(function(a,b,c,d,e,f,g){var h,i=h||(h=d("react"));c=h;var j=c.useCallback,k=c.useEffect;function a(a){var b=a.node;a=d("WebBloksComponentContext").useWebBloksContext();var c=a.renderNode,e=a.executeCatch;a=Boolean(b.get("tooltip_visibility"));var f=b.getExpression("on_visibility_update"),g=b.getExpression("on_touch_outside"),h=c(b.getSubNode("tooltip"));c=c(b.getSubNode("child"));var k=j(function(){f!=null&&e(b,f,[b,!1]),g!=null&&e(b,g,[b,!1])},[e,b,g,f]);return i.jsxs(m,{onHide:k,isVisible:a,children:[c,a?h:null]})}a.displayName=a.name+" [from "+f.id+"]";var l=d("WebBloksStyle").createStyles({root:{position:"relative",zIndex:99}}),m=i.forwardRef(b);function b(a,b){var c=a.children,e=a.isVisible,f=a.onHide;k(function(){if(!d("WebBloksSSRUtils").canUseDOM||!e)return;var a=document.documentElement;a.addEventListener("click",f,{passive:!0,once:!0});return function(){a.removeEventListener("click",f,{passive:!0})}},[e,f]);a=j(function(a){a.key==="Escape"&&(a.stopPropagation(),f())},[f]);return i.jsx("span",{className:l.root,ref:b,onKeyPress:a,children:c})}b.displayName=b.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("WebBloksTooltipConstants",[],(function(a,b,c,d,e,f){a=!1;f.ANIMATE_TOOLTIP_ON_ENTRY_AND_EXIT=a}),66);
__d("WebBloksTooltipHide",["WebBloksTooltipConstants"],(function(a,b,c,d,e,f,g){var h=!1;function a(a,b){var c=b.getExpression("on_visibility_update");c!=null&&(b.set("tooltip_visibility",h),a.executeCatch(c.getValue(),[h,d("WebBloksTooltipConstants").ANIMATE_TOOLTIP_ON_ENTRY_AND_EXIT]))}g["default"]=a}),98);
__d("WebBloksTooltipShow",["WebBloksTooltipConstants"],(function(a,b,c,d,e,f,g){var h=!0;function a(a,b){var c=b.getExpression("on_visibility_update");c!=null&&(b.set("tooltip_visibility",h),a.executeCatch(c.getValue(),[h,d("WebBloksTooltipConstants").ANIMATE_TOOLTIP_ON_ENTRY_AND_EXIT]))}g["default"]=a}),98);
__d("StdlibWebBloksPrimitives",["WebBloksAnimatedAddOnCompleteListener","WebBloksAnimatedBuild","WebBloksAnimatedCancel","WebBloksAnimatedCancelToken","WebBloksAnimatedCreate","WebBloksAnimatedCreateColor","WebBloksAnimatedCreateCubicBezier","WebBloksAnimatedCreateDimension","WebBloksAnimatedDestroy","WebBloksAnimatedGetCurrentColorValue","WebBloksAnimatedGetCurrentDimensionValue","WebBloksAnimatedGetCurrentPlayTime","WebBloksAnimatedGetCurrentValue","WebBloksAnimatedGetTotalDuration","WebBloksAnimatedIsInitialized","WebBloksAnimatedLoop","WebBloksAnimatedParallel","WebBloksAnimatedPause","WebBloksAnimatedResume","WebBloksAnimatedSequence","WebBloksAnimatedSetCurrentPlayTime","WebBloksAnimatedStagger","WebBloksAnimatedStart","WebBloksAnimatedStartToken","WebBloksCollectionSetIndex","WebBloksDataComposableTextSpan","WebBloksDataImageSpan","WebBloksDataTextSpan","WebBloksDummy","WebBloksScreenClose","WebBloksScreenOpen","WebBloksScreenQueryScreenWrapper","WebBloksSpinner","WebBloksTooltip","WebBloksTooltipContainer","WebBloksTooltipHide","WebBloksTooltipShow"],(function(a,b,c,d,e,f,g){a={"bk.components.Spinner":c("WebBloksSpinner"),"bk.components.screen.ScreenWrapper":d("WebBloksScreenQueryScreenWrapper").WebBloksScreenQueryScreenWrapper,"bk.data.ImageSpan":c("WebBloksDataImageSpan"),"bk.data.TextSpan":c("WebBloksDataTextSpan"),"bk.data.ComposableTextSpan":c("WebBloksDataComposableTextSpan"),"bk.components.TooltipContainer":c("WebBloksTooltipContainer"),"bk.components.Tooltip":c("WebBloksTooltip")};b={"bk.action.animated.AddOnCompleteListener":c("WebBloksAnimatedAddOnCompleteListener"),"bk.action.animated.Build":c("WebBloksAnimatedBuild"),"bk.action.animated.Cancel":c("WebBloksAnimatedCancel"),"bk.action.animated.Create":c("WebBloksAnimatedCreate"),"bk.action.animated.CancelToken":c("WebBloksAnimatedCancelToken"),"bk.action.animated.CreateColor":c("WebBloksAnimatedCreateColor"),"bk.action.animated.CreateDimension":c("WebBloksAnimatedCreateDimension"),"bk.action.animated.Destroy":c("WebBloksAnimatedDestroy"),"bk.action.animated.easing.CreateCubicBezier":c("WebBloksAnimatedCreateCubicBezier"),"bk.action.animated.GetCurrentColorValue":c("WebBloksAnimatedGetCurrentColorValue"),"bk.action.animated.GetCurrentDimensionValue":c("WebBloksAnimatedGetCurrentDimensionValue"),"bk.action.animated.GetCurrentPlayTime":c("WebBloksAnimatedGetCurrentPlayTime"),"bk.action.animated.GetCurrentValue":c("WebBloksAnimatedGetCurrentValue"),"bk.action.animated.GetTotalDuration":c("WebBloksAnimatedGetTotalDuration"),"bk.action.animated.IsInitialized":c("WebBloksAnimatedIsInitialized"),"bk.action.animated.Loop":c("WebBloksAnimatedLoop"),"bk.action.animated.Parallel":c("WebBloksAnimatedParallel"),"bk.action.animated.Pause":c("WebBloksAnimatedPause"),"bk.action.animated.Resume":c("WebBloksAnimatedResume"),"bk.action.animated.Sequence":c("WebBloksAnimatedSequence"),"bk.action.animated.SetCurrentPlayTime":c("WebBloksAnimatedSetCurrentPlayTime"),"bk.action.animated.Stagger":c("WebBloksAnimatedStagger"),"bk.action.animated.Start":c("WebBloksAnimatedStart"),"bk.action.animated.StartToken":c("WebBloksAnimatedStartToken"),"bk.action.collection.SetIndex":c("WebBloksCollectionSetIndex"),"bk.action.screen.Close":c("WebBloksScreenClose"),"bk.action.screen.Open":c("WebBloksScreenOpen"),"bk.action.tooltip.Show":c("WebBloksTooltipShow"),"bk.action.tooltip.Hide":c("WebBloksTooltipHide"),"bk.action.animated.CancelWithToken":c("WebBloksDummy"),"bk.action.animated.StartWithToken":c("WebBloksDummy")};e={};g.COMPONENTS=a;g.ACTIONS=b;g.EXTENSION_HANDLERS=e}),98);
__d("stdlibTraversalKeys",[],(function(a,b,c,d,e,f){"use strict";a={"bk.components.Tooltip":{subnodes:["_style","margin","child","decoration"],plural_subnodes:["extensions","child_templates"]},"bk.components.TooltipContainer":{subnodes:["_style","tooltip","child"],plural_subnodes:["extensions","child_templates"]},"bk.components.screen.ScreenWrapper":{subnodes:["_style","content","container_config","navigation_callbacks"],plural_subnodes:["extensions","child_templates"]},"bk.data.screen.CloseParams":{subnodes:["container_options"],plural_subnodes:["child_templates"]},"bk.data.screen.ScreenConfig":{subnodes:["prebundled_template"],plural_subnodes:["child_templates"]},"bk.AnyComponent":{subnodes:["style"],plural_subnodes:["extensions","child_templates"]},"bk.components.BoxDecoration":{subnodes:["background","foreground","corner_fill_themed_color","border_themed_color","shadow_themed_color","contrib","spot_shadow_color","ambient_shadow_color"],plural_subnodes:["child_templates"]}};b=a;f["default"]=b}),66);
__d("StdlibWebBloksEnvironmentConfig",["StdlibWebBloksPrimitives","stdlibTraversalKeys"],(function(a,b,c,d,e,f,g){a={actions:d("StdlibWebBloksPrimitives").ACTIONS,components:d("StdlibWebBloksPrimitives").COMPONENTS,extensionHandlers:d("StdlibWebBloksPrimitives").EXTENSION_HANDLERS,traversalKeys:c("stdlibTraversalKeys")};g.STDLIB_ENVIRONMENT_CONFIG=a}),98);
__d("WebBloksEnvironmentTypes",["react"],(function(a,b,c,d,e,f,g){var h;h||d("react");a=function(){function a(a){this.$1=new Map(),this.$1=a}var b=a.prototype;b.getGK=function(a){return(a=this.$1.get(a))!=null?a:!1};return a}();g.WebBloksGKs=a}),98);
__d("WebBloksDefaultGKs",["WebBloksEnvironmentTypes"],(function(a,b,c,d,e,f,g){a=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.call(this,new Map())||this}return b}(d("WebBloksEnvironmentTypes").WebBloksGKs);g["default"]=a}),98);
__d("WebBloksFragment",["react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){return i.jsx(i.Fragment,{children:a.children})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("WebBloksLogger",[],(function(a,b,c,d,e,f){a=function(){function a(){}var b=a.prototype;b.warn=function(a){var b;for(var c=arguments.length,d=new Array(c>1?c-1:0),e=1;e<c;e++)d[e-1]=arguments[e];(b=console).warn.apply(b,["[wbloks] "+a].concat(d))};b.mustfix=function(a){var b;for(var c=arguments.length,d=new Array(c>1?c-1:0),e=1;e<c;e++)d[e-1]=arguments[e];(b=console).error.apply(b,["[wbloks] "+a].concat(d))};b.scriptError=function(a){this.mustfix(a.message,a)};return a}();f["default"]=a}),66);
__d("WebBloksEnvironment",["CoreWebBloksEnvironmentConfig","StdlibWebBloksEnvironmentConfig","WebBloksDefaultGKs","WebBloksFragment","WebBloksI18nUtils","WebBloksLogger","react"],(function(a,b,c,d,e,f,g){var h,i=(h||d("react")).useState,j=["actions","components","containerConfigs","extensionHandlers","traversalKeys"];function a(){var a,b=(a=window.navigator)==null?void 0:a.languages,e=b!=null&&d("WebBloksI18nUtils").isLocaleRtl(b),f={actions:{},components:{},extensionHandlers:{},containerConfigs:{},traversalKeys:{},disableHistoryStack:!1,enableCometRouter:!1,embedded:!1,allowScreenOverflow:!1,appLoader:null,bridgeOverrides:{},logger:new(c("WebBloksLogger"))(),locale:b,isRtl:e,accessibilityModule:{FocusAppWrapper:c("WebBloksFragment"),FocusRegion:c("WebBloksFragment")},gkx:new(c("WebBloksDefaultGKs"))()};for(var g=arguments.length,h=new Array(g),i=0;i<g;i++)h[i]=arguments[i];var j=[d("CoreWebBloksEnvironmentConfig").CORE_ENVIRONMENT_CONFIG,d("StdlibWebBloksEnvironmentConfig").STDLIB_ENVIRONMENT_CONFIG].concat(h);return j.reduce(function(a,b){return k(a,b)},f)}function b(a){return i(a)[0]}function k(a,b){if(!b)return a;var c=babelHelpers["extends"]({},a),d=Object.keys(b);for(var e=0;e<d.length;e++){var f=d[e];b[f]!=null&&(c[f]=b[f])}j.forEach(function(d){c[d]=Object.assign({},a[d],b[d])});return c}g.createEnvironment=a;g.useWebBloksEnvironmentStore=b;g.mergeEnvironmentConfig=k}),98);
__d("WebBloksActiveFocusRegionUtilsContext",["react"],(function(a,b,c,d,e,f,g){"use strict";var h;a=h||d("react");b=a.createContext(null);c=b;g["default"]=c}),98);
__d("getWebBloksTabbableNodes",[],(function(a,b,c,d,e,f){function a(a,b){var c=document.activeElement,d=function(b,d,e){return e===c?!0:a(b,d,e)&&e.offsetWidth>0&&e.offsetHeight>0&&e.tabIndex!==-1&&window.getComputedStyle(e).visibility!=="hidden"};b=c?b.DO_NOT_USE_queryAllNodes(d):null;if(b===null)return[null,null,null,0,null];d={};for(var e=b,f=Array.isArray(e),g=0,e=f?e:e[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var h;if(f){if(g>=e.length)break;h=e[g++]}else{g=e.next();if(g.done)break;h=g.value}h=h;if(h instanceof HTMLInputElement&&h.tagName==="INPUT"&&h.type==="radio"&&h.name!=null){var i;d[h.name]=[].concat((i=d[h.name])!=null?i:[],[h])}}var j=Object.values(d).map(function(a){if(a.find(function(a){return a.checked}))return a.filter(function(a){return!a.checked});a[0];a=a.slice(1);return a}).flat();b=b.filter(function(a){return!j.includes(a)});i=b[0];h=b[b.length-1];g=b.indexOf(c);f=null;g!==-1&&(f=b[g]);return[b,i,h,g,f]}f["default"]=a}),66);
__d("WebBloksFocusManager",["getWebBloksTabbableNodes"],(function(a,b,c,d,e,f,g){var h=!1,i=!1,j=!1,k=500;function l(){try{var a=document.createElement("div");a.addEventListener("focus",function(a){a.preventDefault(),a.stopPropagation()},!0);a.focus(Object.defineProperty({},"preventScroll",{get:function(){i=!0}}))}catch(a){}}function m(a){a=a.parentElement;var b=[],c=document.scrollingElement||document.documentElement;while(a&&a!==c){var d=a,e=d.offsetHeight;d=d.offsetWidth;(e<a.scrollHeight||d<a.scrollWidth)&&b.push([a,a.scrollTop,a.scrollLeft]);a=a.parentElement}c&&b.push([c,c.scrollTop,c.scrollLeft]);return b}function n(a){for(var b=0;b<a.length;b++){var c=a[b],d=c[0],e=c[1];c=c[2];d.scrollTop=e;d.scrollLeft=c}}function a(a,b){a=Array.isArray(a)?a:[a];for(var c=0;c<a.length;c++){var d=b.DO_NOT_USE_queryAllNodes(a[c]);if(d)return d}return null}function o(a,b){a=Array.isArray(a)?a:[a];for(var c=0;c<a.length;c++){var d=b.DO_NOT_USE_queryFirstNode(a[c]);if(d)return d}return null}function b(a,b,c){c=c||{};var d=c.preventScroll,e=c.focusWithoutUserIntent;c=c.focusWithAutoFocus;a=o(a,b);a!=null&&p(a,{preventScroll:d,focusWithoutUserIntent:e,focusWithAutoFocus:c})}function d(){return h}function e(a){return a._focusWithAutoFocus===!0}function p(a,b){b=b||{};var c=b.preventScroll,d=b.focusWithoutUserIntent;b=b.focusWithAutoFocus;if(a!==null){j||(j=!0,l());var e=a._tabIndexState;if(e&&e.canTab===!1)return;e=e?e.value:a.tabIndex;a.tabIndex=-1;var f=h;c=c||!1;b===!0&&(a._focusWithAutoFocus=!0,window.setTimeout(function(){a._focusWithAutoFocus=!1},k));try{h=d||!1;if(!c)t(a);else if(i)t(a,{preventScroll:!0});else{b=m(a);t(a);n(b)}}catch(a){}finally{h=f}a.tabIndex=e}}function f(a,b,d){a=c("getWebBloksTabbableNodes")(a,b);b=a[0];var e=a[2],f=a[3];a=a[4];a!==null&&a!==e&&b&&p(b[f+1],{preventScroll:d})}function q(a,b,d){a=c("getWebBloksTabbableNodes")(a,b);b=a[0];var e=a[1],f=a[3];a=a[4];a!==null&&a!==e&&b&&p(b[f-1],{preventScroll:d})}function r(a,b,d,e,f){a=c("getWebBloksTabbableNodes")(a,b);b=a[0];var g=a[1],h=a[2],i=a[3];a=a[4];if(a===null||b===null)return;a===h?f!=null?f():e===!0&&(p(g),d.preventDefault(),d.stopPropagation()):(p(b[i+1]),d.preventDefault(),d.stopPropagation())}function s(a,b,d,e,f){a=c("getWebBloksTabbableNodes")(a,b);b=a[0];var g=a[1],h=a[2],i=a[3];a=a[4];if(a===null||b===null)return;a===g?f!=null?f():e===!0&&(p(h),d.preventDefault(),d.stopPropagation()):(p(b[i-1]),d.preventDefault(),d.stopPropagation())}var t=function(a,b){(a.focus||HTMLElement.prototype.focus).call(a,b)};g.getAllNodesFromOneOrManyQueries=a;g.getFirstNodeFromOneOrManyQueries=o;g.focusFirst=b;g.isFocusingWithoutUserIntent=d;g.wasElementAutoFocused=e;g.focusElement=p;g.focusNext=f;g.focusPrevious=q;g.focusNextContained=r;g.focusPreviousContained=s}),98);
__d("WebBloksFocusRegionType",["$InternalEnum","react"],(function(a,b,c,d,e,f,g){var h;h||d("react");a=b("$InternalEnum").Mirrored(["Nearest","First"]);g.RecoverFocusStrategy=a}),98);
__d("WebBloksReactEventHookPropagation",[],(function(a,b,c,d,e,f){"use strict";function a(a,b){a=a._stopEventHookPropagation;return a!==void 0&&a[b]}function b(a,b){var c=a._stopEventHookPropagation;c||(c=a._stopEventHookPropagation={});c[b]=!0}f.hasEventHookPropagationStopped=a;f.stopEventHookPropagation=b}),66);
__d("WebBloksReactEventHelpers",[],(function(a,b,c,d,e,f){b=typeof window!=="undefined"&&window.navigator!=null?/^Mac/.test(window.navigator.platform):!1;c=typeof window!=="undefined"&&window.PointerEvent!=null;function a(a,b){return b==null?!1:typeof a.containsNode==="function"?a.containsNode(b):a.contains(b)}f.isMac=b;f.hasPointerEvents=c;f.isRelatedTargetWithin=a}),66);
__d("useWebBloksUnsafeRef_DEPRECATED",["react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).useMemo;function a(a){return i(function(){return{current:a}},[])}g["default"]=a}),98);
__d("WebBloksReactUseEvent.react",["ReactDOM","react","useWebBloksUnsafeRef_DEPRECATED"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).useLayoutEffect;function a(a,b){var e=c("useWebBloksUnsafeRef_DEPRECATED")(null),f=e.current;b&&(b.passive=void 0);if(f===null){var g=d("ReactDOM").unstable_createEventHandle(a,b),h=new Map();f={setListener:function(a,b){var c=h.get(a);c!==void 0&&c();if(b===null){h["delete"](a);return}c=g(a,b);h.set(a,c)},clear:function(){var a=Array.from(h.values());for(var b=0;b<a.length;b++)a[b]();h.clear()}};e.current=f}i(function(){return function(){f!==null&&f.clear(),e.current=null}},[f]);return f}g["default"]=a}),98);
__d("WebBloksReactFocusEvent.react",["WebBloksReactEventHelpers","WebBloksReactEventHookPropagation","WebBloksReactUseEvent.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");var i=b.useCallback,j=b.useEffect,k=b.useMemo,l=b.useRef,m=d("WebBloksReactEventHelpers").hasPointerEvents?["keydown","pointermove","pointerdown","pointerup"]:["keydown","mousedown","mousemove","mouseup","touchmove","touchstart","touchend"],n={passive:!0},o=!0,p=!1;function q(){m.forEach(function(a){window.addEventListener(a,t,!0)})}function r(a){var b=a.metaKey,c=a.altKey;a=a.ctrlKey;return!(b||!d("WebBloksReactEventHelpers").isMac&&c||a)}function s(a){var b=a.key;a=a.target;if(b==="Tab"||b==="Escape")return!1;b=a.isContentEditable;a=a.tagName;return a==="INPUT"||a==="TEXTAREA"||b}function t(a){if(a.type==="keydown")r(a)&&(o=!0);else{a=a.target.nodeName;if(a==="HTML")return;o=!1}}function u(a,b){if(a.type==="keydown"){a=a.nativeEvent;r(a)&&!s(a)&&b(!0)}else o=!1,b(!1)}function v(a,b,c){a.forEach(function(a){a.setListener(b,function(a){return u(a,c)})})}function w(){var a=c("WebBloksReactUseEvent.react")("mousedown",n),b=c("WebBloksReactUseEvent.react")(d("WebBloksReactEventHelpers").hasPointerEvents?"pointerdown":"touchstart",n),e=c("WebBloksReactUseEvent.react")("keydown",n);return k(function(){return[a,b,e]},[e,a,b])}function x(){j(function(){p||(p=!0,q())},[])}function a(a,b){var e=b.disabled,f=b.onAfterBlurWithin,g=b.onBeforeBlurWithin,h=b.onBlurWithin,j=b.onFocusWithin,k=b.onFocusWithinChange,m=b.onFocusWithinVisibleChange,p=l({isFocused:!1,isFocusVisible:!1}),q=(b=c("WebBloksReactUseEvent.react"))("focusin",n),r=b("focusout",n),s=b("afterblur",n),t=b("beforeblur",n),u=w();b=i(function(b){typeof a==="function"?a(b):a.current=b;var c=p.current;b!==null&&c!==null&&(v(u,b,function(a){c.isFocused&&c.isFocusVisible!==a&&(c.isFocusVisible=a,m&&m(a))}),q.setListener(b,function(a){if(e===!0)return;if(d("WebBloksReactEventHookPropagation").hasEventHookPropagationStopped(a,"useFocusWithin"))return;c.isFocused||(c.isFocused=!0,c.isFocusVisible=o,k&&k(!0),c.isFocusVisible&&m&&m(!0));!c.isFocusVisible&&o&&(c.isFocusVisible=o,m&&m(!0));j&&j(a)}),r.setListener(b,function(a){if(e===!0)return;var f=a.nativeEvent.relatedTarget;if(d("WebBloksReactEventHookPropagation").hasEventHookPropagationStopped(a,"useFocusWithin"))return;c.isFocused&&!d("WebBloksReactEventHelpers").isRelatedTargetWithin(b,f)?(c.isFocused=!1,k&&k(!1),c.isFocusVisible&&m&&m(!1),h&&h(a)):d("WebBloksReactEventHookPropagation").stopEventHookPropagation(a,"useFocusWithin")}),t.setListener(b,function(a){if(e===!0)return;g&&(g(a),s.setListener(document,function(a){f&&f(a),s.setListener(document,null)}))}))},[s,t,r,e,q,u,a,f,g,h,j,k,m]);x();return b}g.useFocusWithin=a}),98);
__d("WebBloksReactKeyboardEvent.react",["WebBloksReactUseEvent.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).useEffect,j={passive:!0};function a(a,b){var d=b.disabled,e=d===void 0?!1:d,f=b.onKeyDown,g=b.onKeyUp,h=c("WebBloksReactUseEvent.react")("keydown"),k=c("WebBloksReactUseEvent.react")("keyup",j);i(function(){var b=a.current;b!==null&&(h.setListener(b,!e&&f||null),k.setListener(b,!e&&g||null))},[e,f,h,k,a,g])}g.useKeyboard=a}),98);
__d("setWebBloksElementCanTab",[],(function(a,b,c,d,e,f){c=Object.getOwnPropertyDescriptor(HTMLElement.prototype,"tabIndex");d=Object.getOwnPropertyDescriptor(SVGElement.prototype,"tabIndex");e=function(a){return a};var g=c?c.set:e,h=d?d.set:e;function i(a){return a instanceof SVGElement?h:g}function a(a,b,c){c===void 0&&(c=!1);var d=a._tabIndexState,e=i(a);if(!d){b&&c&&a.tabIndex<0&&(a.tabIndex=0);var f={value:a.tabIndex,canTab:b};a._tabIndexState=f;b||(a.tabIndex=-1);Object.defineProperty(a,"tabIndex",{enumerable:!1,configurable:!0,get:function(){return f.canTab?f.value:-1},set:function(a){f.canTab&&typeof e==="function"&&e.call(this,a),f.value=a}})}else d.canTab!==b&&typeof e==="function"&&(e.call(a,b?d.value:-1),d.canTab=b)}function b(a){var b=a._tabIndexState;if(!b)return a.tabIndex>0;else return b.canTab}f.setElementCanTab=a;f.canElementTab=b}),66);
__d("WebBloksFocusRegion.react",["WebBloksActiveFocusRegionUtilsContext","WebBloksFocusManager","WebBloksFocusRegionType","WebBloksReactEventHookPropagation","WebBloksReactFocusEvent.react","WebBloksReactKeyboardEvent.react","react","setWebBloksElementCanTab","useWebBloksUnsafeRef_DEPRECATED"],(function(a,b,c,d,e,f,g){var h,i=h||(h=d("react"));e=h;var j=e.useCallback,k=e.useContext,l=e.useEffect,m=e.useLayoutEffect,n=e.useMemo,o=e.useRef;function p(a,b,c){var e=document.activeElement;window.requestAnimationFrame(function(){document.activeElement===e&&d("WebBloksFocusManager").focusElement(a,{preventScroll:b,focusWithoutUserIntent:c})})}function q(a){return a.offsetWidth===0&&a.offsetHeight===0}var r=i.unstable_Scope,s=new Map();function a(a){var b=a.autoRestoreFocus,e=a.autoFocusQuery,f=a.children,g=a.containFocusQuery,h=a.forwardRef,t=a.id,u=a.onEscapeFocusRegion,v=a.recoverFocusStrategy,w=v===void 0?d("WebBloksFocusRegionType").RecoverFocusStrategy.Nearest:v,x=a.recoverFocusQuery;v=a.stopOnFocusWithinPropagation;var y=v===void 0?!0:v,z=o(null),A=o(null),B=k(c("WebBloksActiveFocusRegionUtilsContext"));a=B===null&&(b===!0||u!=null)?document.activeElement:null;var C=c("useWebBloksUnsafeRef_DEPRECATED")(a),D=(v=C.current)!=null?v:a,E=n(function(){return{lastFocused:null,scope:null,restorationFocusRegionItem:null,triggeredFocusRegionItems:new Set()}},[]),F=j(function(){if(B!=null){var a=B.getActiveFocusRegion();if(a!==E){if(E.restorationFocusRegionItem!==a){var b;if((a==null?void 0:a.lastFocused)!=null&&!((b=z.current)==null?void 0:b.containsNode(a.lastFocused)))a!=null&&a.triggeredFocusRegionItems.add(E),E.restorationFocusRegionItem=a;else if(E.restorationFocusRegionItem==null){b=a==null?void 0:a.restorationFocusRegionItem;E.restorationFocusRegionItem=b;a!=null&&(b==null?void 0:b.triggeredFocusRegionItems["delete"](a));b==null?void 0:b.triggeredFocusRegionItems.add(E);B.setActiveFocusRegion(E);return}}(a===null||a!=null&&E!=null&&a.lastFocused!==E.lastFocused)&&B.setActiveFocusRegion(E)}}},[B,E]),G=o(null);v=j(function(a){z.current=a;E.scope=a;var b=G.current;h&&(h.current=a);b!==null&&b!==t&&s.get(b)===null&&s["delete"](b);t!=null&&(a!==null?(G.current=t,s.set(t,a)):s.get(t)===null&&s["delete"](t))},[h,t,E]);v=d("WebBloksReactFocusEvent.react").useFocusWithin(v,n(function(){return{onBeforeBlurWithin:function(a){var b=z.current;if(b!==null&&x!==void 0){a.stopPropagation();if(x===null)return;a=a.target;b=d("WebBloksFocusManager").getAllNodesFromOneOrManyQueries(x,b);if(b===null)return;var c=b.indexOf(a);a=a._tabIndexState;A.current={detachedCanTab:a!=null&&a.canTab,recoveryIndex:c,recovery:b}}},onAfterBlurWithin:function(){var a=z.current,b=A.current;A.current=null;var c=document.activeElement;if(a!==null&&x!=null&&b!==null&&(c==null||c===document.body||!a.containsNode(c))){c=!0;var e=!0,f=b.recovery,g=b.recoveryIndex,h=d("WebBloksFocusManager").getAllNodesFromOneOrManyQueries(x,a);if(h!==null&&f!==null){var i=new Set(h),j=new Set(f);for(var k=g-1;k>=0;k--){var l=f[k];if(i.has(l)){var m=h.indexOf(l);m=m+1;if(m<h.length){m=h[m];if(!j.has(m)){b.detachedCanTab&&d("setWebBloksElementCanTab").setElementCanTab(m,!0);p(m,c,e);return}}b.detachedCanTab&&d("setWebBloksElementCanTab").setElementCanTab(l,!0);p(l,c,e);return}}if(w===d("WebBloksFocusRegionType").RecoverFocusStrategy.Nearest)for(m=g+1;m<f.length;m++){l=f[m];if(i.has(l)){j=h.indexOf(l);k=j-1;if(k>=0){g=h[k];b.detachedCanTab&&d("setWebBloksElementCanTab").setElementCanTab(g,!0);p(g,c,e);return}}}l=d("WebBloksFocusManager").getFirstNodeFromOneOrManyQueries(x,a);l&&(b.detachedCanTab&&d("setWebBloksElementCanTab").setElementCanTab(l,!0),p(l,c,e))}}},onFocusWithin:function(a){y&&d("WebBloksReactEventHookPropagation").stopEventHookPropagation(a,"useFocusWithin"),E.lastFocused=a.target,F()}}},[x,w,y,E,F]));a=j(function(){var a=z.current,b=document.activeElement;if(e!=null&&a!==null&&(!b||!a.containsNode(b))){b=E.lastFocused;b!=null&&a.containsNode(b)&&!q(b)?d("WebBloksFocusManager").focusElement(b,{focusWithAutoFocus:!0,focusWithoutUserIntent:!0,preventScroll:!0}):d("WebBloksFocusManager").focusFirst(e,a,{focusWithAutoFocus:!0,focusWithoutUserIntent:!0,preventScroll:!0})}},[e,E]);m(a,[a]);l(a,[a]);var H=j(function(a,c){c===void 0&&(c=!1);var e=z.current,f=document.activeElement,g=C.current;C.current=null;var h=a==null?void 0:a.triggeredFocusRegionItems,i=a==null?void 0:a.restorationFocusRegionItem;(h==null?void 0:h.size)&&h.forEach(function(a){return a.restorationFocusRegionItem=i});a!=null&&i!=null&&(i.triggeredFocusRegionItems["delete"](a),(h==null?void 0:h.size)&&h.forEach(function(a){i.triggeredFocusRegionItems.add(a)}));E.lastFocused=null;h=B==null?void 0:B.getActiveFocusRegion();var j=h!=null?h.restorationFocusRegionItem:{lastFocused:g};h===a&&(B==null?void 0:B.setActiveFocusRegion(i));g=e!==null&&f!==null&&e.containsNode(f)||f==null||f===document.body;if((b===!0||u!=null)&&g){var k=function(a){a===void 0&&(a=!1);if((j==null?void 0:j.lastFocused)!=null){var b=!0,c=!0,e=document.activeElement;(a||e===null||e===document.body)&&d("WebBloksFocusManager").focusElement(j.lastFocused,{preventScroll:b,focusWithoutUserIntent:c})}};c?k(c):window.requestAnimationFrame(function(){return k()})}},[B,b,u,E]),I=j(function(){H(E,!0),u&&u()},[H,u,E]);d("WebBloksReactKeyboardEvent.react").useKeyboard(z,n(function(){return{onKeyDown:function(a){if(g==null||a.key!=="Tab"||a.isDefaultPrevented())return;var b=z.current;b!==null&&(a.shiftKey?d("WebBloksFocusManager").focusPreviousContained(g,b,a,!0,u!=null?I:void 0):d("WebBloksFocusManager").focusNextContained(g,b,a,!0,u!=null?I:void 0))}}},[g,I,u]));m(function(){C.current=D;var a=E;return function(){H(a)}},[B,b,H,E,D]);return i.jsx(r,{ref:v,id:t,children:f})}a.displayName=a.name+" [from "+f.id+"]";function b(a,b,c){a=s.get(a);if(a){a=a.DO_NOT_USE_queryFirstNode(b);if(a!==null){d("WebBloksFocusManager").focusElement(a,{preventScroll:c});return a}}return null}g.FocusRegion=a;g.focusRegionById=b}),98);
__d("WebBloksFocusAppWrapper.react",["WebBloksActiveFocusRegionUtilsContext","WebBloksFocusRegion.react","react","useWebBloksUnsafeRef_DEPRECATED"],(function(a,b,c,d,e,f,g){var h,i=h||(h=d("react"));b=h;var j=b.useCallback,k=b.useRef;function a(a){a=a.children;var b=k(null),e=j(function(){return b.current},[b]),f=j(function(a){b.current=a},[b]);e=c("useWebBloksUnsafeRef_DEPRECATED")({getActiveFocusRegion:e,setActiveFocusRegion:f});return i.jsx(c("WebBloksActiveFocusRegionUtilsContext").Provider,{value:e.current,children:i.jsx(d("WebBloksFocusRegion.react").FocusRegion,{children:a})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("WebBloksFontOverrides",[],(function(a,b,c,d,e,f){"use strict";a={sfprotext:{webFontName:null}};b={"sans-serif":{webFontName:null},"sans-serif-medium":{webFontName:null}};c={"Optimistic Display App":{webFontName:null},"Optimistic Display App Medium":{webFontName:null},"Optimistic Text App":{webFontName:null},"Optimistic Text App Normal":{webFontName:null},"Optimistic Text App Regular":{webFontName:null},"Optimistic Text App Medium":{webFontName:null},"Optimistic Text App Bold":{webFontName:null},"Optimistic Text":{webFontName:null},"Optimistic Text Normal":{webFontName:null},"Optimistic Text Regular":{webFontName:null},"Optimistic Text Medium":{webFontName:null},"Optimistic Text Bold":{webFontName:null}};f.WBLOKS_RESET_SYSTEM_FONTS=a;f.WBLOKS_RESET_FDS_FONTS=b;f.WBLOKS_RESET_OPTIMISTIC_FONTS_AVOID_USING=c}),66);
__d("WebBloksAssetRenderer",["CometVisualCompletionAttributes","URI","WebBloksStyle","coerceImageishSprited","coerceImageishURL","getImageSourceURLFromImageish","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||d("react");function k(a){return a instanceof(h||(h=c("URI")))?a.toString():a}b=j.forwardRef(a);function a(a,b){a=babelHelpers["extends"]({},a);var e=d("WebBloksStyle").classNames(a.className,"img"),f=k(a.src);if(f==null)return j.jsx("img",babelHelpers["extends"]({},a,{className:e}));var g=c("coerceImageishSprited")(f),h=!!g&&a.alt!=null&&String(a.alt)!==""?j.jsx("u",{children:a.alt}):null;if(typeof f==="string")return j.jsx("img",babelHelpers["extends"]({},a,{className:e,src:f,children:h}));if(g){a.src;var i=a.style,l=babelHelpers.objectWithoutPropertiesLoose(a,["src","style"]);return j.jsx("i",babelHelpers["extends"]({},l,c("CometVisualCompletionAttributes").CSS_IMG,{className:d("WebBloksStyle").classNames(e,g.type==="css"?g.className:void 0),ref:b,style:g.type==="cssless"?babelHelpers["extends"]({},i,g.style):i,children:h}))}l=c("getImageSourceURLFromImageish")(f);g=c("coerceImageishURL")(f);return a.width===void 0&&a.height===void 0&&g?j.jsx("img",babelHelpers["extends"]({},a,{className:e,height:g.height,src:l,ref:b,width:g.width,children:h})):j.jsx("img",babelHelpers["extends"]({},a,{className:e,ref:b,src:l,children:h}))}a.displayName=a.name+" [from "+f.id+"]";e=b;g["default"]=e}),98);
__d("WebBloksHasteAnimationFrameRateAnalytics",["Promise","QuickPerformanceLogger","WebBloksErrors","qpl"],(function(a,b,c,d,e,f,g){var h,i,j=60,k=[30,48,j,120,240,300],l="sfd",m="lfd",n="animation_key",o="bloks_logging_id",p="ts",q=c("qpl")._(36713009,"1890"),r=0;a=function(){function a(){this.$1=null,this.$2=null,this.$3()}var e=a.prototype;e.$3=function(){var a=this;try{void this.$4().then(function(b){a.$1=b})}catch(a){throw new(d("WebBloksErrors").WebBloksError)("Failed to initialize WebBloksHasteAnimationFrameRateAnalytics")}};e.$5=function(a){return k.reduce(function(b,c){return Math.abs(c-a)<Math.abs(b-a)?c:b})};e.$4=function(){var a=this;return new(i||(i=b("Promise")))(function(b){window.requestAnimationFrame(function(c){window.requestAnimationFrame(function(d){return b(c<d?a.$5(1e3/(d-c)):j)})})})};e.reset=function(){this.$2=null};e.resume=function(a){this.$2=a};e.incrementDroppedFrames=function(a,b,d){var e=this.$1,f=this.$2;if(e!==null&&f!==null&&b>f){f=b-f;e=1e3/e;f=Math.max(Math.round(f/e)-1,0);e=f>=4?f/4:0;a=a!=null?this.$6(a):r;var g=(h||(h=c("QuickPerformanceLogger"))).getMarker(q,a);if(g!=null){var i;g=(g=g.annotations)==null?void 0:g["int"];i=((i=g==null?void 0:g[l])!=null?i:0)+f;g=((f=g==null?void 0:g[m])!=null?f:0)+e;(h||(h=c("QuickPerformanceLogger"))).markerAnnotate(q,{"int":(f={},f[l]=i,f[p]=d,f),"double":(e={},e[m]=g,e)},{instanceKey:a})}}this.$2=b};e.onStart=function(a,b){var d;this.$2=null;var e=a!=null?this.$6(a):r;(h||(h=c("QuickPerformanceLogger"))).markerStart(q,e);h.markerAnnotate(q,{string:(d={},d[n]=a,d[o]=b,d)},{instanceKey:e})};e.onEnd=function(a){a=a!=null?this.$6(a):r;(h||(h=c("QuickPerformanceLogger"))).markerEnd(q,2,a)};e.$6=function(a){var b=0;for(var c=0;c<a.length;c++){var d=a.charCodeAt(c);b=(b<<5)-b+d;b&=b}return Math.abs(b)};return a}();g["default"]=a}),98);
__d("WebBloksHasteAsyncActionAnalytics",["QPLJoinUtils","QuickPerformanceLogger","Random","guid","qpl"],(function(a,b,c,d,e,f,g){var h,i=Math.round(d("Random").random()*1e3),j=c("qpl")._(36707139,"1111"),k=c("guid")();a=function(){function a(){this.$1=j,this.$1=j}var b=a.prototype;b.onStart=function(a,b){(h||(h=c("QuickPerformanceLogger"))).markerStart(this.$1,i,a,{cancelExisting:!0}),d("QPLJoinUtils").setJoinId(h,this.$1,k,{instanceKey:i}),h.markerAnnotate(this.$1,{string:{app_id:b}},{instanceKey:i})};b.onEnd=function(a){(h||(h=c("QuickPerformanceLogger"))).markerEnd(this.$1,2,i,a.startTime)};b.onCancel=function(){(h||(h=c("QuickPerformanceLogger"))).markerDrop(this.$1,i)};return a}();g["default"]=a}),98);
__d("WebBloksHasteTTRCAnalytics",["QPLJoinUtils","QuickPerformanceLogger","Random","guid","qpl"],(function(a,b,c,d,e,f,g){var h,i=Math.round(d("Random").random()*1e3),j=c("qpl")._(719983200,"2401"),k=c("qpl")._(720000263,"2371"),l=c("guid")();a=function(){function a(){this.$1=j,this.$1=j}var b=a.prototype;b.setMarkerId=function(a){a===720000263?this.$1=k:this.$1=j};b.onStart=function(a,b){(h||(h=c("QuickPerformanceLogger"))).markerStart(this.$1,i,a,{cancelExisting:!0}),d("QPLJoinUtils").setJoinId(h,this.$1,l,{instanceKey:i}),h.markerAnnotate(this.$1,{string:{app_id:b}},{instanceKey:i})};b.onEnd=function(a){(h||(h=c("QuickPerformanceLogger"))).markerEnd(this.$1,2,i,a.startTime)};return a}();g["default"]=a}),98);
__d("WebBloksHasteAnalytics",["WebBloksHasteAnimationFrameRateAnalytics","WebBloksHasteAsyncActionAnalytics","WebBloksHasteTTRCAnalytics"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(){this.performanceObserver=null,this.$3=null,this.$2=new(c("WebBloksHasteAsyncActionAnalytics"))(),this.$1=new(c("WebBloksHasteTTRCAnalytics"))()}var b=a.prototype;b.$4=function(){var a=this;if(window.PerformanceObserver==null)return;this.performanceObserver=new PerformanceObserver(function(b){b.getEntries().forEach(function(b){var c=b.name,d=b.entryType;if(c==null&&d!=="mark")return;d=(d=b==null?void 0:b.detail)!=null?d:null;switch(c){case"--web-bloks-ttrc-start":if((d==null?void 0:d.markerId)!=null){(c=a.$1)==null?void 0:c.setMarkerId(d==null?void 0:d.markerId)}(c=a.$1)==null?void 0:c.onStart(b.startTime,d==null?void 0:d.appId);break;case"--web-bloks-ttrc-end":(c=a.$1)==null?void 0:c.onEnd(b);break;case"--web-bloks-animation-start":(c=a.$3)==null?void 0:c.onStart((c=d==null?void 0:d.animationID)!=null?c:null,d==null?void 0:d.loggingID);break;case"--web-bloks-animation-frame":(c=a.$3)==null?void 0:c.incrementDroppedFrames((c=d==null?void 0:d.animationID)!=null?c:null,b.startTime,d==null?void 0:d.timestamp);break;case"--web-bloks-animation-resume":(c=a.$3)==null?void 0:c.resume(b.startTime);break;case"--web-bloks-animation-end":(c=a.$3)==null?void 0:c.onEnd(d==null?void 0:d.animationID);break;case"--web-bloks-async-action-start":a.$2.onStart(b.startTime,d==null?void 0:d.appId);break;case"--web-bloks-async-action-success":(c=a.$2)==null?void 0:c.onEnd(b);break;case"--web-bloks-async-action-error":a.$2.onCancel();break}})})};b.subscribe=function(){var a,b=this;this.performanceObserver==null&&this.$4();(a=this.performanceObserver)==null?void 0:a.observe({entryTypes:["mark"]});return function(){return b.$5()}};b.$5=function(){var a;(a=this.performanceObserver)==null?void 0:a.disconnect()};b.subscribeFrameRate=function(){var a=this;this.$3=new(c("WebBloksHasteAnimationFrameRateAnalytics"))();return function(){var b;return(b=a.$3)==null?void 0:b.reset()}};return a}();g["default"]=a}),98);
__d("webBloksFetchJson",["WebBloksErrors","regeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";c="for (;;);";var h=c.length,i="content-type",j="application/x-javascript; charset=utf-8";function a(a,c){var e,f,g,k,l,m,n,o;return b("regeneratorRuntime").async(function(p){while(1)switch(p.prev=p.next){case 0:e=new URLSearchParams();for(f in c)g=c[f],g!=null&&e.append(f,String(g));p.prev=2;p.next=5;return b("regeneratorRuntime").awrap(window.fetch(a.toString(),{method:"post",body:e,credentials:"same-origin"}));case 5:k=p.sent;p.next=11;break;case 8:p.prev=8;p.t0=p["catch"](2);throw new(d("WebBloksErrors").WebBloksNetworkError)("Network error",p.t0);case 11:l=k.headers.get(i);if(!(k.status!==200)){p.next=18;break}if(!(k.status>=500)){p.next=15;break}throw new(d("WebBloksErrors").WebBloksError)("Status: "+k.status+" "+k.statusText);case 15:throw new(d("WebBloksErrors").WebBloksNetworkError)("Status: "+k.status+" "+k.statusText);case 18:if(!(l&&l!==j)){p.next=20;break}throw new(d("WebBloksErrors").WebBloksNetworkError)("Unexpected content-type: "+l);case 20:p.next=22;return b("regeneratorRuntime").awrap(k.text());case 22:m=p.sent;n=m.substr(h);o=JSON.parse(n);if(!(o==null?void 0:o.redirect)){p.next=27;break}throw new(d("WebBloksErrors").WebBloksNetworkError)("Unexpected redirect: "+o.redirect);case 27:return p.abrupt("return",o);case 28:case"end":return p.stop()}},null,this,[[2,8]])}g["default"]=a}),98);
__d("WebBloksHasteAppLoader",["AbstractWebBloksAppLoader","URI","WebBloksVersioningID","getAsyncParams","webBloksFetchJson"],(function(a,b,c,d,e,f,g){"use strict";var h;a=function(a){babelHelpers.inheritsLoose(b,a);function b(b){var c;c=a.call(this)||this;c.$WebBloksHasteAppLoader$p_1=b;return c}var e=b.prototype;e.makePostRequest=function(a,b){return c("webBloksFetchJson")(new(h||(h=c("URI")))(a).addQueryData({__bkv:d("WebBloksVersioningID").versioningID}).toString(),babelHelpers["extends"]({},c("getAsyncParams")("POST"),b))};e.getAsyncFetchURI=function(a,b,c){return this.$WebBloksHasteAppLoader$p_1.getURIBuilder().setParams({appid:a,type:c}).getURI().toString()};e.getAsyncFetchData=function(a,b,c){return{params:b!==null?JSON.stringify(b):null}};return b}(d("AbstractWebBloksAppLoader").AbstractWebBloksAppLoader);g.WebBloksHasteAppLoader=a}),98);
__d("WebBloksHasteGKs",["WebBloksEnvironmentTypes"],(function(a,b,c,d,e,f,g){"use strict";a=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.call(this,new Map())||this}return b}(d("WebBloksEnvironmentTypes").WebBloksGKs);g["default"]=a}),98);
__d("WebBloksHasteScriptErrorReporter",["QuickPerformanceLogger","qpl"],(function(a,b,c,d,e,f,g){var h,i=c("qpl")._(36705544,"1960"),j="unknown_callsite";function a(a){var b,d;b=(b=a.stackFrame)==null?void 0:b.loggingID;d=(d=a.stackFrame)==null?void 0:d.toArray();(h||(h=c("QuickPerformanceLogger"))).markerStart(i);h.markerAnnotate(i,{string:{exception_message:String(a),bloks_logging_id:(a=b)!=null?a:j},string_array:{bloks_raw_stack_trace:d}});h.markerEnd(i,2)}g.DEFAULT_CATEGORY=j;g.reportWebBloksScriptError=a}),98);
__d("WebBloksHasteLogger",["FBLogger","WebBloksHasteScriptErrorReporter"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(){this.$1=function(){return c("FBLogger")("wbloks")}}var b=a.prototype;b.warn=function(a,b){for(var c=arguments.length,d=new Array(c>2?c-2:0),e=2;e<c;e++)d[e-2]=arguments[e];if(b instanceof Error){var f;(f=this.$1().catching(b).addMetadata("WEBBLOKS","ERROR_STACK",b.stack)).info.apply(f,[a].concat(d))}else{var g;(g=this.$1()).info.apply(g,[a,b].concat(d))}};b.mustfix=function(a,b){for(var c=arguments.length,d=new Array(c>2?c-2:0),e=2;e<c;e++)d[e-2]=arguments[e];if(b instanceof Error){var f;(f=this.$1().catching(b)).mustfix.apply(f,[a].concat(d))}else{var g;(g=this.$1()).mustfix.apply(g,[a,b].concat(d))}};b.scriptError=function(a){var b;d("WebBloksHasteScriptErrorReporter").reportWebBloksScriptError(a);b=(b=(b=a.stackFrame)==null?void 0:b.toArray())!=null?b:["(unknown)"];a instanceof Error?this.$1().addMetadata("WEBBLOKS","ERROR_STACK",b.join(":")).catching(a).mustfix(a.message):this.$1().addMetadata("WEBBLOKS","ERROR_STACK",b.join(":")).mustfix(a.message,a)};return a}();g["default"]=a}),98);
__d("XWebBloksAsyncRawController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/async/wbloks/fetch/",{appid:{type:"String",required:!0},params:{type:"String"},type:{type:"Enum",required:!0,enumType:1},debug_tooling_metadata_token:{type:"String"}})}),null);
__d("WebBloksHasteEnvironment",["ix","ACQWebBloksEnvironmentConfig","CurrentLocale","HasteSharedWebBloksPrimitives","WebBloksAssetRenderer","WebBloksEnvironment","WebBloksHasteAnalytics","WebBloksHasteAppLoader","WebBloksHasteGKs","WebBloksHasteLogger","WebBloksI18nUtils","WebBloksUtils","XWebBloksAsyncRawController","cr:5126"],(function(a,b,c,d,e,f,g,h){"use strict";var i={navCross:h("1356754"),settings:h("1361369"),nav3DotHorizontal:h("184566"),chevronLeft:h("1362297"),chevronLeftDark:h("166735"),chevronLeft24:h("1296473"),appMessenger:h("1350889"),navIcon:h("1729923"),navShoppingCart:h("1795210"),navInfoCircle:h("1346159")};function a(){var a=j(),e=d("WebBloksI18nUtils").isLocaleRtl(a),f=d("WebBloksEnvironment").createEnvironment({analytics:new(c("WebBloksHasteAnalytics"))(),appLoader:new(d("WebBloksHasteAppLoader").WebBloksHasteAppLoader)(c("XWebBloksAsyncRawController")),actions:d("HasteSharedWebBloksPrimitives").ACTIONS,components:d("HasteSharedWebBloksPrimitives").COMPONENTS,extensionHandlers:d("HasteSharedWebBloksPrimitives").EXTENSION_HANDLERS,navigationTrackingUtils:null,debugMetadataProvider:b("cr:5126")?new(b("cr:5126"))():null,logger:new(c("WebBloksHasteLogger"))(),AssetRenderer:d("WebBloksUtils").cast(c("WebBloksAssetRenderer")),staticAssets:i,locale:a,isRtl:e,gkx:new(c("WebBloksHasteGKs"))()});for(var g=arguments.length,h=new Array(g),k=0;k<g;k++)h[k]=arguments[k];var l=[d("ACQWebBloksEnvironmentConfig").ACQ_ENVIRONMENT_CONFIG].concat(h);return l.reduce(function(a,b){return d("WebBloksEnvironment").mergeEnvironmentConfig(a,b)},f)}function j(){var a=c("CurrentLocale").get().split("_"),b=a[0];a=a[1];return b+"-"+a.toUpperCase()}g.createWebBloksHasteEnvironment=a}),98);
__d("msgTraversalKeys",[],(function(a,b,c,d,e,f){"use strict";a={"bk.components.VideoV2":{subnodes:["_style","player_identifier"],plural_subnodes:["extensions","video_versions","child_templates"]}};b=a;f["default"]=b}),66);
__d("MSGWebBloksEnvironment",["MSGWebBloksPrimitives","WebBloksEnvironment","WebBloksFocusAppWrapper.react","WebBloksFocusRegion.react","WebBloksFontOverrides","WebBloksHasteEnvironment","msgTraversalKeys"],(function(a,b,c,d,e,f,g){"use strict";function a(a){a===void 0&&(a={});return d("WebBloksEnvironment").useWebBloksEnvironmentStore(function(){return d("WebBloksHasteEnvironment").createWebBloksHasteEnvironment({accessibilityModule:{FocusAppWrapper:c("WebBloksFocusAppWrapper.react"),FocusRegion:d("WebBloksFocusRegion.react").FocusRegion},actions:d("MSGWebBloksPrimitives").ACTIONS,components:d("MSGWebBloksPrimitives").COMPONENTS,extensionHandlers:d("MSGWebBloksPrimitives").EXTENSION_HANDLERS,fontFamilyMappings:babelHelpers["extends"]({},d("WebBloksFontOverrides").WBLOKS_RESET_SYSTEM_FONTS),inferAccessibilityRolesForPressables:!1,timeoutIDS:new Map(),traversalKeys:c("msgTraversalKeys")},a)})}g.useMSGBloksEnvironment=a}),98);
__d("WebBloksErrorRenderer",["WebBloksTheme","react"],(function(a,b,c,d,e,f,g){var h,i=h||d("react");function a(a){a=a.error;return i.jsxs("div",{style:{backgroundColor:d("WebBloksTheme").WebBloksThemeVars["error-or-destructive"],borderRadius:8,display:"flex",flexDirection:"column",margin:16,overflow:"hidden",padding:16,width:"100%",minHeight:400,minWidth:200,boxSizing:"border-box"},children:[i.jsxs("div",{style:{color:"white",fontWeight:"bolder",justifyContent:"center"},children:["[fb-only] WebBloks Render error ",a.name,": ",a.message]}),i.jsx("div",{style:{color:"white",fontWeight:"bolder",justifyContent:"center",fontSize:"75%"},children:"this will throw in production"}),i.jsx("pre",{style:{backgroundColor:d("WebBloksTheme").WebBloksThemeVars["primary-bg"],borderRadius:4,flexGrow:1,fontFamily:"monospace",marginTop:16,overflow:"scroll",padding:16,whiteSpace:"pre-wrap",lineBreak:"anywhere"},children:a.stack})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("WebBloksFocusScopeQueries",[],(function(a,b,c,d,e,f){"use strict";function g(a,b){return a==="h1"||a==="h2"||a==="h3"||b.role==="heading"&&(b["aria-level"]===1||b["aria-level"]===2||b["aria-level"]===3)||b["aria-busy"]===!0||b.role==="progressbar"||b.role==="status"?!0:!1}function a(a,b){return b.tabIndex===-1&&!(b.disabled===!0||b.type==="hidden"||b["aria-disabled"]===!0||b["aria-hidden"]===!0)?!0:i(a,b)}function h(a){return a.type!=="hidden"&&a.type!=="file"}function b(a,b){return a==="input"&&h(b)}function i(a,b){if(b.tabIndex===-1||b.disabled===!0)return!1;if(b.tabIndex===0||b.contentEditable===!0)return!0;if(a==="a"||a==="area")return b.href!=null&&b.href!==""&&b.rel!=="ignore";return a==="input"?h(b):a==="button"||a==="textarea"||a==="select"||a==="iframe"||a==="embed"}b=[b,i];function j(a){return a.offsetWidth===0&&a.offsetHeight===0}function c(a,b,c){return!j(c)&&i(a,b)}function k(a,b){return a==="td"||a==="th"||b.role==="gridcell"||b.role==="columnheader"||b.role==="rowheader"?!0:!1}function d(a,b){return!k(a,b)&&i(a,b)}var l=[g,i];function e(a,b){return g(a,b)||i(a,b)}var m=function(a,b){return b["data-focus-target"]===!0&&(b["aria-busy"]===!0||b.role==="progressbar")?!0:!1};function n(a,b){return b.role==="dialog"?!0:!1}f.headerAndSpinnerFocusScopeQuery=g;f.focusableScopeQuery=a;f.tabbableScopeQuery=i;f.inputFirstTabbbableScopeQuery=b;f.displayedTabbableScopeQuery=c;f.tableCellScopeQuery=k;f.tableCellTabbableContentScopeQuery=d;f.headerFirstTabbableSecondScopeQuery=l;f.headerOrTabbableScopeQuery=e;f.topLoadingScopeQuery=m;f.dialogScopeQuery=n}),66);
__d("WebBloksScreenWrapper",["WebBloksEnvironmentContext","WebBloksFocusScopeQueries","WebBloksIconSpinner","WebBloksScreen","WebBloksScreenHost","WebBloksStyle","WebBloksTheme","WebBloksTreeResources","react","useWebBloksAccessibilityModule"],(function(a,b,c,d,e,f,g){var h,i=h||(h=d("react"));b=h;var j=b.useEffect,k=b.useState;function l(){return i.jsx("div",babelHelpers["extends"]({},d("WebBloksStyle").getStyleProps({alignItems:"center",justifyContent:"center",flex:1}),{children:i.jsx(c("WebBloksIconSpinner"),{})}))}l.displayName=l.name+" [from "+f.id+"]";function a(a){var b=a.externalVariables,e=a.screen;a=d("WebBloksEnvironmentContext").useWebBloksEnvironment();var f=a.embedded,g=a.allowScreenOverflow;a=a.loadingFallback;var h=c("useWebBloksAccessibilityModule")();h=h.FocusRegion;var o=k(e.value),p=o[0],q=o[1];j(function(){e.stateChangeListener.on(q);return function(){e.stateChangeListener.off(q)}},[e]);o=e.objectSet;var r=e.options,s=r.loadingNavbar,t=r.loadingScreen,u=r.initialTreeResources;r=r.ownerContext;var v=o.environment.navigationTrackingUtils,w=e.getIsOverlay();return i.jsx(h,{autoRestoreFocus:!0,containFocusQuery:d("WebBloksFocusScopeQueries").tabbableScopeQuery,children:i.jsx("div",{className:d("WebBloksStyle").classNames(d("WebBloksStyle").WebBloksStyles.container,n.root,!f&&w!==!0&&n.rootBackground,w===!0&&n.rootOverlay),children:i.jsx("div",babelHelpers["extends"]({},d("WebBloksStyle").getStyleProps({display:"block",flexBasis:"100%",flexGrow:1,flexShrink:1,overflow:g===!0?"visible":"hidden"}),{children:p.state==="ready"?i.jsx(c("WebBloksScreenHost"),{screen:e,externalVariables:b},e.screenId):p.state==="error"?i.jsxs(i.Fragment,{children:[s&&m(o,s,u,r),i.jsx("div",{style:{marginTop:44,textAlign:"center"},children:(h=p.error.summary)!=null?h:"Failed to load"})]}):i.jsxs(i.Fragment,{children:[v==null?void 0:v.loadingIndicatorTrackingComponent,s&&m(o,s,u,r),t?m(o,t,u,r):(f=a)!=null?f:i.jsx(l,{})]})}))})})}a.displayName=a.name+" [from "+f.id+"]";function m(a,b,e,f){return i.jsx(c("WebBloksScreenHost"),{isLoadingNode:!0,screen:d("WebBloksScreen").WebBloksScreen.fromBloksModel(a,b,(a=e)!=null?a:d("WebBloksTreeResources").WebBloksTreeResources.empty(),{isEmbedded:!0,ownerContext:(b=f)!=null?b:void 0})})}m.displayName=m.name+" [from "+f.id+"]";var n=d("WebBloksStyle").createStyles({rootBackground:{backgroundColor:d("WebBloksTheme").WebBloksThemeVars["screen-wrapper-bg"]},root:{color:d("WebBloksTheme").WebBloksThemeVars["primary-text"],flexDirection:"column",height:"100%",width:"100%"},rootOverlay:{position:"absolute",top:0,left:0,right:0,bottom:0}});g.ScreenWrapper=a;g.renderLoadingNode=m}),98);
__d("WebBloksModalWrapper",["WebBloksFocusScopeQueries","WebBloksScreenHost","WebBloksScreenWrapper","WebBloksStyle","react","useWebBloksAccessibilityModule"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));b=h;var j=b.useEffect,k=b.useState;function a(a){var b=a.externalVariables,e=a.modal;a=c("useWebBloksAccessibilityModule")();a=a.FocusRegion;var f=k(e.value),g=f[0],h=f[1];j(function(){e.stateChangeListener.on(h);return function(){e.stateChangeListener.off(h)}},[e]);f=e.objectSet;var m=e.options,n=m.loadingScreen,o=m.initialTreeResources;m=m.ownerContext;b=g.state==="ready"?i.jsx(c("WebBloksScreenHost"),{screen:e,externalVariables:b},e.screenId):g.state==="loading"&&n?d("WebBloksScreenWrapper").renderLoadingNode(f,n,o,m):null;e.options.outerScreenComponent?b=e.options.outerScreenComponent(b):b=i.jsx("div",{className:l.modalContainer,children:b});return i.jsx(a,{autoFocusQuery:d("WebBloksFocusScopeQueries").dialogScopeQuery,autoRestoreFocus:!0,containFocusQuery:d("WebBloksFocusScopeQueries").tabbableScopeQuery,children:i.jsx("div",{"aria-modal":!0,role:"dialog",children:b})})}a.displayName=a.name+" [from "+f.id+"]";var l=d("WebBloksStyle").createStyles({modalContainer:{position:"absolute",top:0,left:0,right:0,bottom:0}});g["default"]=a}),98);
__d("WebBloksCacheUtils",["WebBloksInt64","WebBloksUtils"],(function(a,b,c,d,e,f,g){var h=1e3;function a(a,b){var d,e=Date.now();b=(d=c("WebBloksInt64")).fromString(b).multiply(d.fromNumber(h));a=d.fromString(a.responseTimestampMs).add(b);return a.greaterThan(d.fromNumber(e))}function b(a,b){return a+":"+i(b)}function i(a,b){b===void 0&&(b=!1);var c=Array.isArray(a),e=d("WebBloksUtils").isObject(a);if(c||e){var f=Object.keys(a);if(f.length){f=f.sort();var g=[];for(var h=0;h<f.length;h++){var j=f[h],k=a[j];if(b&&k==null&&e)continue;var l;d("WebBloksUtils").isObject(k)||Array.isArray(k)?l=i(k,b):l=JSON.stringify(k);g.push(j+":"+l)}if(c)return"["+g.join(",")+"]";else return"{"+g.join(",")+"}"}}return JSON.stringify(a)}g.isResponseFresh=a;g.generateCacheKey=b}),98);
__d("WebBloksComponentQueryFetcher",["WebBloksCacheUtils","WebBloksErrors","WebBloksPayloadParser","WebBloksUtils"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(a,b,c){this.$1=new Set(),this.$2=a,this.$3=b,this.$4=c}var b=a.prototype;b.runQuery=function(a,b,c){var e=this.$3.get(a);if(e!=null&&d("WebBloksCacheUtils").isResponseFresh(e,b.cacheTtlSeconds)){e={result:e.response,success:!0};c(e)}else this.$5(a,b,c)};b.$5=function(a,b,c){var e=this;if(this.$1.has(a))return;this.$1.add(a);var f=d("WebBloksUtils").nullthrows(this.$2);f.fetchComponentQuery(b.appId,b.params).then(function(f){var g=new Map();for(var h=f.components,i=Array.isArray(h),j=0,h=i?h:h[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var k;if(i){if(j>=h.length)break;k=h[j++]}else{j=h.next();if(j.done)break;k=j.value}k=k;var l=d("WebBloksPayloadParser").parseTree(k.payload,e.$4);g.set(k.id,l)}k={components:g,prefetchScript:f.prefetchScript};l={result:k,success:!0};e.$3.set(a,{response:k,responseTimestampMs:Date.now().toString(),queryPurpose:b.queryPurpose});e.$1["delete"](a);c(l)})["catch"](function(a){throw new(d("WebBloksErrors").WebBloksError)("Failed to fetch async component for appId: "+b.appId,a)})};return a}();g["default"]=a}),98);
__d("WebBloksComponentQueryStore",["WebBloksCacheUtils","WebBloksComponentQueryFetcher","WebBloksFunctionTableManager","WebBloksPayloadParser"],(function(a,b,c,d,e,f,g){a=function(){function a(a,b){this.$2=[],this.$4=b,this.$1=new Map(),this.$3=new(c("WebBloksComponentQueryFetcher"))(a,this.$1,b)}var b=a.prototype;b.getCachedComponentsOrSubscribeToQuery=function(a,b,c,e){a=d("WebBloksCacheUtils").generateCacheKey(a,b);b=this.$1.get(a);if(b!=null&&d("WebBloksCacheUtils").isResponseFresh(b,c)){c={result:b.response,success:!0};return{value:c,cancelToken:null}}else{b=this.$5(e,a);return{value:null,cancelToken:b.token}}};b.fetch=function(a,b,c,e){var f=this,g=d("WebBloksCacheUtils").generateCacheKey(a,b),h=d("WebBloksFunctionTableManager").WebBloksFunctionTableManager.getKnownFt(a);b=babelHelpers["extends"]({},b);h!=null&&(b.__knownFt=h);h={appId:a,params:b,cacheTtlSeconds:c,queryPurpose:e};this.$3.runQuery(g,h,function(a){f.$6(g,a)})};b.invalidate=function(a,b){a=d("WebBloksCacheUtils").generateCacheKey(a,b);this.$1["delete"](a)};b.writeInitialPayload=function(a,b,c){a=d("WebBloksCacheUtils").generateCacheKey(a,b);b=new Map();for(var e=c.components,f=Array.isArray(e),g=0,e=f?e:e[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var h;if(f){if(g>=e.length)break;h=e[g++]}else{g=e.next();if(g.done)break;h=g.value}h=h;var i=d("WebBloksPayloadParser").parseTree(h.payload,this.$4);b.set(h.id,i)}h={components:b,prefetchScript:c.prefetchScript};this.$1.set(a,{response:h,responseTimestampMs:Date.now().toString(),queryPurpose:"PREFETCH"})};b.$5=function(a,b){this.$2=this.$2.filter(function(a){return!a.token.canceled});a=new i(a,b);this.$2.push(a);return a};b.$6=function(a,b){var c=[],d=[];for(var e=this.$2,f=Array.isArray(e),g=0,e=f?e:e[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var h;if(f){if(g>=e.length)break;h=e[g++]}else{g=e.next();if(g.done)break;h=g.value}h=h;h.token.canceled||(h.cacheKey===a?c.push(h.callback):d.push(h))}this.$2=d;for(h=0;h<c.length;h++){g=c[h];g(a,b)}};return a}();var h=function(){function a(){this.canceled=!1}var b=a.prototype;b.run=function(){this.canceled=!0};return a}(),i=function(a,b){this.callback=a,this.cacheKey=b,this.token=new h()};g["default"]=a}),98);
__d("WebBloksGlobalState",["WebBloksDataModule","WebBloksErrors"],(function(a,b,c,d,e,f,g){var h=function(){function a(a){this.variableIds=new Map(),this.observer=a}var b=a.prototype;b.add=function(a,b){var c;c=(c=this.variableIds.get(a))!=null?c:new Set();c.add(b);this.variableIds.set(a,c)};return a}();a=function(){function a(){this.store=new Map(),this.subscribers=[]}var b=a.prototype;b.fetchAndSubscribe=function(a,b,c,d){var e=this.store.get(a);e==null&&(e=b,this.store.set(a,b));return this.$1(a,e,c,d)};b.publishAndSubscribe=function(a,b,c,d){this.publish(a,b);return this.$1(a,b,c,d)};b.publish=function(a,b){if(b==null){if(!this.store.has(a))return}else if(b===this.store.get(a))return;this.store.set(a,b);for(var c=this.subscribers,d=Array.isArray(c),e=0,c=d?c:c[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var f;if(d){if(e>=c.length)break;f=c[e++]}else{e=c.next();if(e.done)break;f=e.value}f=f;var g=f.observer;f=f.variableIds.get(a);if(f)for(var f=f,h=Array.isArray(f),i=0,f=h?f:f[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var j;if(h){if(i>=f.length)break;j=f[i++]}else{i=f.next();if(i.done)break;j=i.value}j=j;g.enqueueVariableUpdateOperation(j,b)}}};b.subscriberForObserver=function(a){if(a==null)return null;for(var b=this.subscribers,c=Array.isArray(b),d=0,b=c?b:b[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var e;if(c){if(d>=b.length)break;e=b[d++]}else{d=b.next();if(d.done)break;e=d.value}e=e;if(e.observer===a)return e}e=new h(a);this.subscribers.push(e);return e};b.$1=function(a,b,c,d){d=this.subscriberForObserver(d);d&&d.add(a,c);return{initialValue:b}};return a}();b=function(){function a(a){this.store=a}var b=a.prototype;b.setup=function(a,b,c,e){var f;a=b.data.key;if(a==null)throw new(d("WebBloksErrors").WebBloksError)("Key not found in global state data manifest entry");e=d("WebBloksDataModule").getDataEntryInitialValue(b,e);f=(f=(f=b.data)==null?void 0:f.mode)!=null?f:"d";b=b.id;if(f==="p")return this.store.publishAndSubscribe(a,e,b,c);else return this.store.fetchAndSubscribe(a,e,b,c)};b.publish=function(a,b){this.store.publish(a,b)};return a}();c=new a();g.WebBloksGlobalStateStore=a;g.WebBloksGlobalStateDataModule=b;g.GLOBAL_STATE_STORE=c}),98);
__d("WebBloksNavigationManagerV2",["WebBloksErrors","WebBloksSSRUtils","WebBloksScreen","WebBloksUtils"],(function(a,b,c,d,e,f,g){"use strict";var h=Date.now().toString(36)+Math.random().toString(36).substring(2);a=function(){function a(a,b){var c=this;this.screenChangeListener=new(d("WebBloksUtils").EventEmitter)();this.screenStacks=[];this.modals=[];this.screensCache=new Map();this.navigationDirection="forward";this.pendingCloses=[];this.pendingOpen=null;this.currentScreenPointer={stackIndex:-1,screenIndex:-1,isModal:!1,modalIndex:-1};this.$1=function(a){a=a.state;c.$3(a)};this.$2=function(){document.visibilityState==="hidden"&&(c.pendingCloses.length>0&&c.pendingCloses.map(function(){return c.pendingCloses.pop()==null?void 0:c.pendingCloses.pop()()}))};this.disableHistoryStack=d("WebBloksSSRUtils").canUseDOM?a:!0;this.enableCometRouter=b;if(this.disableHistoryStack)return;if(this.enableCometRouter)return;window.addEventListener("popstate",this.$1);window.addEventListener("visibilitychange",this.$2)}var b=a.prototype;b.$3=function(a){var b;if(!a.isWebBloks)return;this.navigationDirection=this.$4(babelHelpers["extends"]({},a.screenPointer));b=(b=this.getCurrentModal())!=null?b:this.getCurrentScreen();b==null?void 0:b.onExit(this.navigationDirection);b==null?void 0:b.dismiss();b=this.screensCache.get(a.screenId);(a.sessionId!==h||b==null)&&window.location.reload();this.currentScreenPointer=babelHelpers["extends"]({},a.screenPointer);this.notifyChanged();if(this.pendingCloses.length>0){b=this.pendingCloses.pop();b&&b()}if(this.pendingOpen&&this.pendingCloses.length===0){b=this.pendingOpen;this.pendingOpen=null;b()}a.pageTitle!=null&&d("WebBloksSSRUtils").canUseDOM&&(document.title=a.pageTitle)};b.open=function(a,b,c){var d=this;c===void 0&&(c=!1);this.$5("open",function(){d.$6(a,b,c)})};b.$6=function(a,b,c){var d;c===void 0&&(c=!1);d=(d=this.getCurrentModal())!=null?d:this.getCurrentScreen();d==null?void 0:d.onExit("forward");this.navigationDirection="forward";if(a.options.isModal===!0){d=this.currentScreenPointer;var e=d.stackIndex;d=d.modalIndex;e=this.$7(a,e);this.modals.splice(d+1);this.modals.push(e);this.$8({isModal:!0,modalIndex:this.modals.length-1});this.$9(a,c);this.notifyChanged();return}d=this.getModalCount();d>0&&(this.modals.splice(0),this.$8({isModal:!1,modalIndex:-1}),this.$10(d));if(b===!0){e=this.$11();e!=null?this.$12(a,e):this.$13(a)}else this.$13(a);this.$9(a,c);this.notifyChanged()};b.close=function(a,b,c){var d=this;this.$5("close",function(){d.$14(a,b,c)})};b.$14=function(a,b,c){var e=this.currentScreenPointer.isModal,f=this.$11();if(f==null)throw new(d("WebBloksErrors").WebBloksError)("Tried closing a screen when there are no modals or stacks");this.navigationDirection="back";var g=0;switch(a){case"close":if(e)this.$15("modal"),g=this.getModalCount(),this.$16();else{this.$15("screen");var h=this.currentScreenPointer.screenIndex;g=h+1;this.$17()}break;case"pop":e?(this.$15("modal"),this.$8({modalIndex:this.currentScreenPointer.modalIndex-1})):(this.$15("screen"),this.$8({screenIndex:this.currentScreenPointer.screenIndex-1}));g=1;break;case"pop_to_screen":this.$15("screen");h=this.currentScreenPointer.screenIndex;var i=!1;while(!i&&h>=0){var j=this.screensCache.get(f[h]);j=j==null?void 0:j.screenId;j!==b?(h--,g++):(i=!0,c===!0&&(h--,g++))}if(!i)throw new(d("WebBloksErrors").WebBloksError)("Tried popping to a screenId that does not exist in the current stack");this.$8({screenIndex:h});break;case"close_all":e?(this.$15("modal"),g=this.getModalCount()+this.getScreenCount()):(this.$15("screen"),g=this.getScreenCount());this.$18();break}!e&&(a==="pop"||a==="pop_to_screen")&&this.currentScreenPointer.screenIndex===-1&&this.$17();e&&a==="pop"&&this.currentScreenPointer.modalIndex===-1&&this.$16();this.$10(g);this.notifyChanged()};b.getVisibleScreens=function(){var a=[],b=!1,c=this.getCurrentScreen();c!=null&&(a.push(c),c.getIsOverlay()!==!0&&(b=!0));c=this.currentScreenPointer.stackIndex-1;while(c>-1&&!b){var d=this.screenStacks[c];d=d[d.length-1];d=this.screensCache.get(d);d!=null&&(a.push(d),d.getIsOverlay()!==!0&&(b=!0));c--}return{screens:a.reverse(),modal:this.getCurrentModal()}};b.notifyChanged=function(){this.screenChangeListener.emit(this.getVisibleScreens())};b.destroy=function(){window.removeEventListener("popstate",this.$1),window.removeEventListener("visibilitychange",this.$2),this.$18(),this.enableCometRouter||(this.screensCache.forEach(function(a){return a.destroy()}),this.screensCache.clear())};b.refresh=function(){var a;a=(a=this.screenStacks[this.currentScreenPointer.stackIndex])==null?void 0:a[this.currentScreenPointer.screenIndex];a=this.screensCache.get(a);if(a!=null){var b=a.uri,c=a.appId,e=a.params,f=a.options;b=b!=null?d("WebBloksScreen").WebBloksScreen.fromURI(a.objectSet,b,c,e,f):c!=null?d("WebBloksScreen").WebBloksScreen.fromAppId(a.objectSet,c,e,f):null;if(b){this.push(b,!0);return}}};b.replaceState=function(a){if(this.disableHistoryStack)return;var b=history.state;b.uri!==a&&window.history.replaceState(b,null,a)};b.replacePageTitle=function(a){if(this.disableHistoryStack)return;var b=history.state;b.pageTitle!==a&&d("WebBloksSSRUtils").canUseDOM&&(document.title=a)};b.attachAndTriggerPopStateHandler=function(){window.addEventListener("popstate",this.$1),window.addEventListener("visibilitychange",this.$2),this.$3(window.history.state)};b.push=function(a,b){this.open(a,!0,b)};b.pop=function(){this.close("pop")};b.popAllModals=function(){this.getModalCount()>0&&this.close("close")};b.getModalCount=function(){return!this.currentScreenPointer.isModal?0:this.currentScreenPointer.modalIndex+1};b.getScreenCount=function(a){a===void 0&&(a=!1);var b=this.currentScreenPointer,c=b.stackIndex;b=b.screenIndex;if(c<0)return 0;b=b+1;if(a)return b;a=this.screenStacks.slice(0,c).reduce(function(a,b){return a+b.length},0);return b+a};b.getCurrentScreen=function(){var a=this.currentScreenPointer,b=a.stackIndex;a=a.screenIndex;if(b<0||a<0)return null;b=this.screenStacks[b];if(b==null)return null;b=b[a];return this.screensCache.get(b)};b.getCurrentModal=function(){var a=this.currentScreenPointer,b=a.isModal;a=a.modalIndex;if(!b||a<0)return null;b=this.modals[a];return this.screensCache.get(b)};b.getNavigationDirection=function(){return this.navigationDirection};b.$11=function(){if(this.currentScreenPointer.isModal===!0)return this.modals;var a=this.currentScreenPointer.stackIndex;return a!=null?this.screenStacks[a]:null};b.$12=function(a,b){var c=this.currentScreenPointer,d=c.stackIndex;c=c.screenIndex;var e=b.splice(c+1);this.$19(e);e=this.screenStacks.splice(d+1);for(var e=e,f=Array.isArray(e),g=0,e=f?e:e[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var h;if(f){if(g>=e.length)break;h=e[g++]}else{g=e.next();if(g.done)break;h=g.value}h=h;this.$19(h)}h=this.modals.splice(0);this.$19(h);b.push(this.$7(a,d));this.$8({screenIndex:c+1})};b.$13=function(a){var b=this.currentScreenPointer,c=b.stackIndex;b=b.screenIndex;var d=this.screenStacks[c];if(d!=null){d=d.splice(b+1);this.$19(d)}b=this.screenStacks.splice(c+1);for(var d=b,b=Array.isArray(d),e=0,d=b?d:d[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var f;if(b){if(e>=d.length)break;f=d[e++]}else{e=d.next();if(e.done)break;f=e.value}f=f;this.$19(f)}f=this.modals.splice(0);this.$19(f);this.screenStacks.push([this.$7(a,c+1)]);this.$8({stackIndex:c+1,screenIndex:0,isModal:!1})};b.$19=function(a){for(var a=a,b=Array.isArray(a),c=0,a=b?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var d;if(b){if(c>=a.length)break;d=a[c++]}else{c=a.next();if(c.done)break;d=c.value}d=d;var e=this.screensCache.get(d);e!=null&&e.destroy();this.screensCache["delete"](d)}};b.$15=function(a){if(!this.disableHistoryStack)return;var b;a==="screen"?b=this.getCurrentScreen():b=this.getCurrentModal();if(b==null)throw new(d("WebBloksErrors").WebBloksError)("Unexpected null "+a+" while executing onExit callback");b.onExit("back");b.dismiss()};b.$4=function(a){var b=this.currentScreenPointer;a=babelHelpers["extends"]({},b,a);if(b.isModal&&!a.isModal)return"back";if(!b.isModal&&a.isModal)return"forward";if(b.isModal&&a.isModal)return a.modalIndex>b.modalIndex?"forward":"back";if(a.stackIndex!==b.stackIndex)return a.stackIndex>b.stackIndex?"forward":"back";else return a.screenIndex>b.screenIndex?"forward":"back"};b.$8=function(a){var b=this.$4(a);if(b==="back"&&!this.disableHistoryStack)return;this.currentScreenPointer=babelHelpers["extends"]({},this.currentScreenPointer,a)};b.$16=function(){this.$8({isModal:!1,modalIndex:-1})};b.$17=function(){var a=this.currentScreenPointer.stackIndex;a===0?this.$8({stackIndex:-1,screenIndex:-1,isModal:!1,modalIndex:-1}):this.$8({stackIndex:a-1,screenIndex:this.screenStacks[a-1].length-1})};b.$18=function(){this.$8({stackIndex:-1,screenIndex:-1,isModal:!1,modalIndex:-1})};b.$9=function(a,b){if(this.disableHistoryStack)return;var c=a.uri!=null?a.uri:"#",e=null;d("WebBloksSSRUtils").canUseDOM&&(e=document.title);a={uri:c,pageTitle:e,screenId:this.$7(a,this.currentScreenPointer.stackIndex),appId:a.appId,isWebBloks:!0,sessionId:h,screenPointer:babelHelpers["extends"]({},this.currentScreenPointer),key:(e=window.history.state)==null?void 0:e.key};b?window.history.replaceState(a,null,c):window.history.pushState(a,null,c)};b.$10=function(a){if(this.disableHistoryStack)return;window.history.go(-a)};b.$7=function(a,b){b=a.options.isModal===!0?"modal":"stack_"+b;b=b+":"+a.screenId;a.screenIdWithStackIndex=b;this.screensCache.has(b)||this.screensCache.set(b,a);return b};b.$5=function(a,b){if(this.disableHistoryStack){b();return}if(a==="open"){this.pendingCloses.length?this.pendingOpen=b:b();return}if(a==="close"){this.pendingOpen=null;this.pendingCloses.length>0?this.pendingCloses.push(b):(this.pendingCloses.push(null),b());return}};return a}();g.NavigationManagerV2=a}),98);
__d("WebBloksNode",["WebBloksComponentContext","react"],(function(a,b,c,d,e,f,g){var h;e=h||d("react");var i=e.memo,j=e.useDebugValue,k=e.useEffect,l=e.useRef,m=e.useState;function a(a,b){var c=function(a){return b(a)};c.displayName=a;return i(c)}function b(a){j(a,function(){return a.toJSON()})}function c(a){var b=d("WebBloksComponentContext").useWebBloksContext(),c=m(null),e=c[0],f=c[1],g=l(),h=b.bloksContext.objectSet.environment.debugMetadataProvider;k(function(){var b=a.getValues()["nt-debug-metadata-v2"],c;if(b!=null){b=JSON.parse(b);c=b.metadata_id;g.current=b.trace_id}c!=null&&h&&h.get(c).then(f)["catch"](function(){})},[]);j(a,function(){return h?h.computeReductionTrace(e,g.current):[]})}g.createBridgedComponent=a}),98);
__d("WebBloksToast",["WebBloksAbstractButton","WebBloksStyle","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react")),j=h.useCallback,k=d("WebBloksStyle").createStyles({root:{backgroundColor:"#262626",flexDirection:"row",minHeight:"44px",padding:"0 16px!important",width:"100%"},messageContainer:{flexGrow:1,flexShrink:1,justifyContent:"center",minWidth:"200px"},message:{color:"#fff",fontSize:"14px",lineHeight:"18px",maxHeight:"72px",overflow:"hidden",padding:"12px 0!important"}});function a(a){var b=a.actionText,e=a.className,f=a.onActionClick;a=a.text;var g=j(function(a){a.preventDefault(),f&&f(a)},[f]);return i.jsxs("div",{className:d("WebBloksStyle").classNames(e,k.root),children:[i.jsx("div",{className:k.messageContainer,children:i.jsx("p",{className:k.message,children:a})}),b!=null&&i.jsx(c("WebBloksAbstractButton"),{title:b,onClick:g})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("WebBloksToastManager",["WebBloksToast","WebBloksUtils","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react"),j={autoDismissDurationMs:3e3,showAnimationDurationMs:200,dismissAnimationDurationMs:200,showAnimationInterpolator:"ease-out",dismissAnimationInterpolator:"ease-out"};a=function(){function a(a){this.$1=null,this.$2=[],this.$3=!1,this.$5=[],this.$4=a}var b=a.prototype;b.getDefaultCurrentToast=function(){return null};b.getEmptyState=function(){return{currentToast:null,pendingToasts:[],isToastHiding:!1}};b.getCurrentToast=function(){return this.$1};b.getPendingToasts=function(){return this.$2};b.enqueueBloksModelToast=function(a,b,c){var d;c=this.$6(c);this.$2.push({id:(d=b.getId())!=null?d:b.clientId+"",type:"bloksModel",context:a,model:b,options:c,timeoutID:null});this.$7()};b.enqueueBloksParseResultToast=function(a,b,c){var d;c=this.$6(c);var e=b.unboundModel;this.$2.push({id:(d=e.getId())!=null?d:e.clientId+"",type:"bloksParseResult",context:a,parseResult:b,options:c,timeoutID:null});this.$7()};b.enqueueSimpleToast=function(a){this.$2.push({id:d("WebBloksUtils").getNextGlobalBloksClientId()+"",type:"simple",component:i.jsx(c("WebBloksToast"),{text:a}),options:j,timeoutID:null}),this.$7()};b.enqueueMiniToast=function(a){this.$2.push({id:d("WebBloksUtils").getNextGlobalBloksClientId()+"",type:"mini",component:a,options:j,timeoutID:null}),this.$7()};b.dismissToastWithID=function(a,b){this.$1!=null&&this.$1.id===a?this.$8():this.$2=this.$2.filter(function(b){return b.id!==a})};b.$8=function(){var a=this,b=this.$1;if(b==null)return;window.clearTimeout(b.timeoutID);this.$3=!0;this.$9();if(b.type==="bloksModel"){var c=b.options.onDismiss;c!=null&&b.context.executeCatch(c,[])}b.timeoutID=window.setTimeout(function(){a.$3=!1,a.$1=null,a.$9(),a.$7()},b.options.dismissAnimationDurationMs);this.$1=b};b.$7=function(){var a=this;if(this.$1!==null)return;if(this.$2.length===0)return;var b=this.$2.shift();if(b!=null){var c=window.setTimeout(function(){return a.$8()},b.options.autoDismissDurationMs+b.options.showAnimationDurationMs);b.timeoutID=c;if(b.type==="bloksModel"){c=b.options.onShow;c!=null&&b.context.executeCatch(c,[])}}this.$1=b;this.$9()};b.$6=function(a){var b;a=a.getValues();var c=this.parseToastInterpolator(a.show_animation_interpolator,j.showAnimationInterpolator),d=this.parseToastInterpolator(a.dismiss_animation_interpolator,j.dismissAnimationInterpolator);return{autoDismissDurationMs:(b=a.auto_dismiss_duration_ms)!=null?b:j.autoDismissDurationMs,showAnimationDurationMs:(b=a.show_animation_duration_ms)!=null?b:j.showAnimationDurationMs,dismissAnimationDurationMs:(b=a.dismiss_animation_duration_ms)!=null?b:j.dismissAnimationDurationMs,showAnimationInterpolator:c,dismissAnimationInterpolator:d,onShow:a.on_show,onDismiss:a.on_dismiss}};b.parseToastInterpolator=function(a,b){if(a==null)return b;b=a.getValues();a=b.x_a;var c=b.y_a,d=b.x_b;b=b.y_b;return"cubic-bezier("+a+","+c+","+d+","+b+")"};b.addListener=function(a){var b=this;this.$5.push(a);return{remove:d("WebBloksUtils").once(function(){d("WebBloksUtils").removeFromArray(b.$5,a)})}};b.$9=function(){var a=this;this.$5.forEach(function(b){return window.setTimeout(function(){b({currentToast:a.$1,pendingToasts:a.$2,isToastHiding:a.$3})},0)})};return a}();g["default"]=a}),98);
__d("WebBloksObjectSet",["WebBloksComponentQueryStore","WebBloksContext","WebBloksErrors","WebBloksGlobalState","WebBloksInterpreterEnvironment","WebBloksIsUnitTest","WebBloksModel","WebBloksNavigationManagerV2","WebBloksNode","WebBloksPando","WebBloksParseResult","WebBloksSSRUtils","WebBloksScreen","WebBloksToastManager","WebBloksTreeManager","WebBloksTreeResources"],(function(a,b,c,d,e,f,g){a=function(){function a(a){var b;this.$1=new Map();this.environment=a;this.globalStateDataModule=new(d("WebBloksGlobalState").WebBloksGlobalStateDataModule)((b=a.globalStateStore)!=null?b:d("WebBloksGlobalState").GLOBAL_STATE_STORE);this.pandoDataModule=new(d("WebBloksPando").WebBloksPandoDataModule)();this.waBloksStateDataModule=a.waBloksStateDataModule;this.navigationManager=new(d("WebBloksNavigationManagerV2").NavigationManagerV2)(a.disableHistoryStack,a.enableCometRouter);this.toastManager=new(c("WebBloksToastManager"))(this);this.componentQueryStore=new(c("WebBloksComponentQueryStore"))(a.appLoader,a.traversalKeys)}var b=a.prototype;b.createInitialScreenWithParseResult=function(a,b){this.navigationManager.push(d("WebBloksScreen").WebBloksScreen.fromBloksParseResult(this,a,void 0,b,window.location.href),!0)};b.createInitialScreenWithAppResponse=function(a,b){this.navigationManager.push(d("WebBloksScreen").WebBloksScreen.fromBloksAppResponse(this,a,void 0,b,window.location.href),!0)};b.createInitialScreenWithAppId=function(a,b){this.navigationManager.push(d("WebBloksScreen").WebBloksScreen.fromAppId(this,a,b),!0)};b.createInitialScreenWithScreenQuery=function(a){var b=a.screen_query_payload,e=b.app_id,f=b.params;b=b.component_query_payload;this.componentQueryStore.writeInitialPayload(e,f,b);e=a.screen_query_payload.open_screen_script;f=new(c("WebBloksParseResult"))(new(d("WebBloksModel").WebBloksModel)("-2",{}),new(d("WebBloksTreeResources").WebBloksTreeResources)());b=new(c("WebBloksTreeManager"))(f);a=new(d("WebBloksContext").WebBloksContext)(b,this);f=new(c("WebBloksInterpreterEnvironment"))(a);f.executeCatch(e,[])};b.getComponentForName=function(a){var b=this.getNullableComponentForName(a);if(b==null)throw new(d("WebBloksErrors").WebBloksUnknownComponentError)(a);return b};b.getNullableComponentForName=function(a){var b=this.$1.get(a);if(b)return b;b=this.environment.components[a];if(b==null)return null;b=d("WebBloksNode").createBridgedComponent(a,b);this.$1.set(a,b);return b};b.getContainerConfigModuleForName=function(b){var a=this.environment.containerConfigs[b];if(a==null)throw new(d("WebBloksErrors").WebBloksUnknownContainerConfigError)("Container config "+b+" not found");return a};b.getAsset=function(a){var b;b=(b=this.environment.staticAssets)==null?void 0:b[a];b==null&&this.environment.logger.mustfix("StaticAsset is not configured '%s'",a);return b};return a}();g["default"]=a}),98);
__d("WebBloksToastPresenter",["WebBloksFocusScopeQueries","WebBloksScreen","WebBloksScreenHost","WebBloksStyle","WebBloksTreeResources","react","useWebBloksAccessibilityModule"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));b=h;var j=b.useEffect,k=b.useState,l=d("WebBloksStyle").createStyles({root:{display:"flex",justifyContent:"center"},defaultRoot:{bottom:0,left:0,position:"fixed !important",right:0,width:"100%",zIndex:100},defaultInnerContainer:{transform:"translateY(0)"},defaultInnerContainerHidden:{transform:"translateY(100%)"},miniToastRoot:{alignItems:"center !important",boxSizing:"border-box",bottom:"50%",display:"flex",flexDirection:"column",left:0,overflow:"hidden",position:"fixed !important",right:0,zIndex:100},miniToastInnerContainer:{opacity:1,transitionProperty:"opacity!important"},miniToastInnerContainerHidden:{opacity:0,transitionProperty:"opacity!important"}});function a(a){a=a.objectSet;var b=a.toastManager,e=k(function(){return b.getEmptyState()}),f=e[0],g=e[1];j(function(){var a=b.addListener(g);return function(){a.remove()}},[b]);e=c("useWebBloksAccessibilityModule")();e=e.FocusRegion;var h=f.currentToast;f=f.isToastHiding;var m=d("WebBloksStyle").classNames(l.defaultInnerContainer,(h==null||f)&&l.defaultInnerContainerHidden),n=d("WebBloksStyle").classNames(l.miniToastInnerContainer,(h==null||f)&&l.miniToastInnerContainerHidden),o=null,p=null,q=0,r="ease-out";if(h!=null){switch(h.type){case"simple":o=h.component;break;case"bloksModel":var s=d("WebBloksScreen").WebBloksScreen.fromBloksModel(a,h.model,d("WebBloksTreeResources").WebBloksTreeResources.empty(),{isModal:!1,isEmbedded:!0});o=i.jsx(c("WebBloksScreenHost"),{screen:s},s.screenId);break;case"bloksParseResult":s=d("WebBloksScreen").WebBloksScreen.fromBloksParseResult(a,h.parseResult,{isModal:!1,isEmbedded:!0});o=i.jsx(c("WebBloksScreenHost"),{screen:s},s.screenId);break;case"mini":p=h.component;break}!f?(q=h.options.dismissAnimationDurationMs/1e3,r=h.options.dismissAnimationInterpolator):(q=h.options.showAnimationDurationMs/1e3,r=h.options.showAnimationInterpolator)}o!=null&&(o=i.jsx(e,{autoFocusQuery:d("WebBloksFocusScopeQueries").tabbableScopeQuery,autoRestoreFocus:!0,containFocusQuery:d("WebBloksFocusScopeQueries").tabbableScopeQuery,children:o}));p!=null&&(p=i.jsx(e,{autoFocusQuery:d("WebBloksFocusScopeQueries").tabbableScopeQuery,autoRestoreFocus:!0,containFocusQuery:d("WebBloksFocusScopeQueries").tabbableScopeQuery,children:p}));return i.jsxs("div",{role:f?void 0:"alert","aria-atomic":"true",name:"WebBloksToastPresenter","data-testid":void 0,className:l.root,children:[i.jsx("div",{className:l.defaultRoot,children:i.jsx("div",{className:m,style:{transition:"transform "+q+"s "+r},children:o})}),i.jsx("div",{className:l.miniToastRoot,children:i.jsx("div",{className:n,style:{transition:"opacity "+q+"s "+r},children:p})})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("WebBloksApp",["WebBloksAppAccessibilityStyles","WebBloksEnvironmentContext","WebBloksErrorRenderer","WebBloksErrors","WebBloksModalWrapper","WebBloksObjectSet","WebBloksParseResult","WebBloksSSRUtils","WebBloksScreenWrapper","WebBloksStyle","WebBloksToastPresenter","WebBloksUtils","WebDriverConfig","react","useWebBloksAccessibilityModule"],(function(a,b,c,d,e,f,g){var h,i=h||(h=d("react"));e=h;var j=e.useEffect,k=e.useRef,l=e.useState;function a(a){var b=a._objectSetRef,e=a.appId,f=a.externalObjectSet,g=a.externalVariables,h=a.node;a=a.params;var o=a===void 0?d("WebBloksUtils").EMPTY_OBJECT:a,r=d("WebBloksEnvironmentContext").useWebBloksEnvironment();a=c("useWebBloksAccessibilityModule")();a=a.FocusAppWrapper;var s=l(function(){var a;f!=null?(a=f,a.navigationManager.attachAndTriggerPopStateHandler()):(a=new(c("WebBloksObjectSet"))(r),m(a,e,h,o));b&&(b.current=a);return a}),t=s[0];s=l(function(){return t.navigationManager.getVisibleScreens()});var u=s[0],v=u.screens;u=u.modal;var w=s[1];j(function(){t.navigationManager.screenChangeListener.on(w);return function(){t.navigationManager.screenChangeListener.off(w),t.navigationManager.destroy()}},[t]);var x=k(!0);j(function(){x.current?x.current=!1:m(t,e,h,o)},[t,e,h,o]);s={};r.isRtl&&(s={direction:"rtl",textAlign:"right"});s=i.jsx(a,{children:i.jsxs("div",{style:babelHelpers["extends"]({fontFamily:d("WebBloksUtils").getWrapperFontFamily(r.fontFamilyMappings)},s),"data-testid":void 0,className:d("WebBloksStyle").classNames(d("WebBloksAppAccessibilityStyles").ACCESSIBILITY_STYLES.outlines,r.embedded===!0?p.bloksAppEmbedded:d("WebBloksStyle").classNames(p.bloksAppFullscreen,q.bloksAppFullscreenDVH)),children:[v.map(function(a){var b;return i.jsx(d("WebBloksScreenWrapper").ScreenWrapper,{screen:a,externalVariables:g},(b=a.screenIdWithStackIndex)!=null?b:a.screenId)}),u&&i.jsx(c("WebBloksModalWrapper"),{modal:u,externalVariables:g},(a=u.screenIdWithStackIndex)!=null?a:u.screenId),i.jsx(c("WebBloksToastPresenter"),{objectSet:t})]})});return t.environment.disableErrorBoundary===!0?s:n(t.environment.logger,s)}a.displayName=a.name+" [from "+f.id+"]";function m(a,b,e,f){if(b==null&&e==null)throw new(d("WebBloksErrors").WebBloksError)("Both appId and node are null while creating initial screen");a.navigationManager.getScreenCount()+a.navigationManager.getModalCount()>0&&a.navigationManager.close("close_all");if(e!=null)if(e instanceof c("WebBloksParseResult"))a.createInitialScreenWithParseResult(e,f);else if(e.screen_query_payload!=null)a.createInitialScreenWithScreenQuery(e);else return a.createInitialScreenWithAppResponse(e,f);else if(b!=null)return a.createInitialScreenWithAppId(b,f)}function n(a,b){return i.jsx(o,{logger:a,children:b})}n.displayName=n.name+" [from "+f.id+"]";var o=function(b){babelHelpers.inheritsLoose(a,b);function a(){var a,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(a=c=b.call.apply(b,[this].concat(e))||this,c.state={error:null},a)||babelHelpers.assertThisInitialized(c)}a.getDerivedStateFromError=function(a){return{hasError:!0,error:a}};var c=a.prototype;c.componentDidCatch=function(a,b){this.props.logger.mustfix("Error rendering components: %s",a,b==null?void 0:b.componentStack)};c.render=function(){var a=this.state.error;return a!=null?i.jsxs("div",{className:p.errorRoot,children:[i.jsx("div",{className:p.errorText,children:"An error occurred. Please reload to try again."}),null]}):this.props.children};return a}(i.Component);function b(a){j(function(){if(d("WebDriverConfig").isJestE2ETestRun)return;var b=0,c=function(c){c.key==="r"&&(Date.now()-b<500?a.navigationManager.refresh():b=Date.now())};document.addEventListener("keypress",c);return function(){document.removeEventListener("keypress",c)}},[a])}var p=d("WebBloksStyle").createStyles({bloksAppEmbedded:{height:"100%",width:"100%"},bloksAppFullscreen:{height:"100vh",width:"100%"},errorRoot:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",height:"100%",width:"100%"},errorText:{fontWeight:"bold"}}),q=d("WebBloksStyle").createStylesIfSupported({key:"height",value:"100dvh",type:"regular"},{bloksAppFullscreenDVH:{height:"100dvh !important"}});b={width:"100%",height:"100%"};g.WebBloksApp=a;g.createInitialScreenForObjectSet=m;g.bloksRootStyles=b}),98);
__d("WebBloksMergeRefs",["WebBloksErrors","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).useMemo;function a(){for(var a=arguments.length,b=new Array(a),c=0;c<a;c++)b[c]=arguments[c];return i(function(){return j.apply(void 0,b)},[].concat(b))}function j(){for(var a=arguments.length,b=new Array(a),c=0;c<a;c++)b[c]=arguments[c];return function(a){b.forEach(function(b){if(b==null)return;if(typeof b==="function"){b(a);return}if(typeof b==="object"){b.current=a;return}})}}g["default"]=a}),98);
__d("WebBloksViewpointManager",["WebBloksViewpoint"],(function(a,b,c,d,e,f,g){var h="data-bloks-visibility-state";a=function(){function a(){var a=this;this.$1=new Map();this.$2=null;this.$3=null;this.$4=!1;this.$5=new Set();this.$9=function(){for(var b=a.$5,c=Array.isArray(b),d=0,b=c?b:b[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var e;if(c){if(d>=b.length)break;e=b[d++]}else{d=b.next();if(d.done)break;e=d.value}e=e;if(!(e instanceof HTMLElement&&e instanceof Element))return;var f=a.$1.get(e);if(!f)return;var g;document.visibilityState==="visible"?g=a.$13(e):g=a.$12(e);a.$11(g,f)}}}var b=a.prototype;b.track=function(a,b,c){c===void 0&&(c="default");c=new Map([[c,b]]);this.$1.set(a,c);this.$2||this.$6();b=this.$2;if(b!=null)for(var a=this.$1.keys(),c=Array.isArray(a),d=0,a=c?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var e;if(c){if(d>=a.length)break;e=a[d++]}else{d=a.next();if(d.done)break;e=d.value}e=e;b.observe(e)}this.$3||this.$7();this.$4||this.$8()};b.untrack=function(){for(var a=this.$1,b=Array.isArray(a),c=0,a=b?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var d,e;if(b){if(c>=a.length)break;e=a[c++]}else{c=a.next();if(c.done)break;e=c.value}e=e;e=e[0];(d=this.$2)==null?void 0:d.unobserve(e)}(d=this.$2)==null?void 0:d.disconnect();this.$2=null;(e=this.$3)==null?void 0:e.disconnect();this.$3=null;document.removeEventListener("visibilitychange",this.$9);this.$4=!1};b.$10=function(a){var b=[],c=[],d=[];for(var a=a,e=Array.isArray(a),f=0,a=e?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var g;if(e){if(f>=a.length)break;g=a[f++]}else{f=a.next();if(f.done)break;g=f.value}g=g;var i=g.type,j=g.attributeName,k=g.removedNodes;g=g.target;if(i==="childList")for(var k=k,l=Array.isArray(k),m=0,k=l?k:k[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var n;if(l){if(m>=k.length)break;n=k[m++]}else{m=k.next();if(m.done)break;n=m.value}n=n;n instanceof HTMLElement&&b.push(n)}if(g instanceof HTMLElement){n=g.getAttribute(h);i==="attributes"&&j===h&&(n==="exited"?c.push(g):n==="entered"&&d.push(g))}}for(m=0;m<b.length;m++){l=b[m];for(k=this.$1,i=Array.isArray(k),j=0,k=i?k:k[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){if(i){if(j>=k.length)break;n=k[j++]}else{j=k.next();if(j.done)break;n=j.value}g=n;f=g[0];e=g[1];if(l.contains(f)){(a=this.$2)==null?void 0:a.unobserve(f);this.$1["delete"](f);this.$11(this.$12(l),e)}}}for(n=0;n<c.length;n++){g=c[n];for(a=this.$1,f=Array.isArray(a),e=0,a=f?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){if(f){if(e>=a.length)break;j=a[e++]}else{e=a.next();if(e.done)break;j=e.value}i=j;k=i[0];l=i[1];g.contains(k)&&this.$11(this.$12(g),l)}}for(m=0;m<d.length;m++){b=d[m];for(j=this.$1,i=Array.isArray(j),k=0,j=i?j:j[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){if(i){if(k>=j.length)break;l=j[k++]}else{k=j.next();if(k.done)break;l=k.value}e=l;f=e[0];a=e[1];b.contains(f)&&this.$11(this.$13(b),a)}}};b.$7=function(){var a=this,b=new MutationObserver(function(b){return a.$10(b)});document.body!==null&&b.observe(document.body,{attributes:!0,attributeFilter:["data-bloks-visibility-state"],childList:!0,subtree:!0});this.$3=b};b.$6=function(){var a=this,b=new IntersectionObserver(function(b){return a.$14(b)},{threshold:[0,.2,.4,.6,.8,1]});this.$2=b};b.$14=function(a){for(var b=0;b<a.length;b++){var c=a[b],e=c.isIntersecting;e=e===void 0?!1:e;var f=c.intersectionRatio,g=c.target;if(!(g instanceof HTMLElement&&g instanceof Element))return;var h=this.$1.get(g);if(!h)return;var i=null;e===!0||f>0?this.$5.has(c.target)?i="intersecting":i="entered":i="exited";e=new(d("WebBloksViewpoint").ViewpointSnapshot)({element:g,percentVisible:c.intersectionRatio,state:i});this.$11(e,h)}f=a.filter(function(a){return a.isIntersecting===!0||a.intersectionRatio>0}).map(function(a){return a.target});this.$5=new Set(f)};b.$8=function(){document.addEventListener("visibilitychange",this.$9),this.$4=!0};b.$11=function(a,b){for(var b=b,c=Array.isArray(b),d=0,b=c?b:b[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var e;if(c){if(d>=b.length)break;e=b[d++]}else{d=b.next();if(d.done)break;e=d.value}e=e;e[0];e=e[1];e(a)}};b.$13=function(a){return new(d("WebBloksViewpoint").ViewpointSnapshot)({element:a,percentVisible:1,state:"entered"})};b.$12=function(a){return new(d("WebBloksViewpoint").ViewpointSnapshot)({element:a,percentVisible:0,state:"exited"})};return a}();g["default"]=a}),98);
__d("WebBloksViewpointProvider",["WebBloksViewpointContext","WebBloksViewpointManager","react"],(function(a,b,c,d,e,f,g){var h,i=h||(h=d("react"));b=h;var j=b.useEffect,k=b.useState;function a(a){a=a.children;var b=k(null),d=b[0],e=b[1];j(function(){var a=document.body;a!=null&&a instanceof HTMLElement&&d===null&&e(function(){return new(c("WebBloksViewpointManager"))()});return function(){d==null?void 0:d.untrack()}},[d]);return i.jsx(c("WebBloksViewpointContext").Provider,{value:d,children:a})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("useWebBloksAnalytics",["react"],(function(a,b,c,d,e,f,g){var h;b=h||d("react");var i=b.useEffect,j=b.useRef;function a(a,b){var c=j(null),d=a.analytics;i(function(){var a=d==null?void 0:d.subscribe(b),c=d==null?void 0:d.subscribeFrameRate();return function(){c==null?void 0:c(),a==null?void 0:a()}},[d,b,c]);return c}g["default"]=a}),98);
__d("WebBloksEntryPoint.react",["WebBloksApp","WebBloksEntryPointContainerContext","WebBloksEnvironmentContext","WebBloksMergeRefs","WebBloksServerData","WebBloksTheme","WebBloksUtils","WebBloksViewpointProvider","react","useWebBloksAnalytics"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react")),j=h.useRef;function a(a){var b,e=a.embeddedAppParams,f=a.environment,g=a.externalObjectSet,h=a.payload,k=a.style;k=k===void 0?d("WebBloksApp").bloksRootStyles:k;a=a.theme;h&&h.server_data!=null&&d("WebBloksServerData").handleWebBloksServerData(d("WebBloksUtils").cast(h.server_data));e=(e=e)!=null?e:{};var l=e.appId,m=e.params;e=e.externalVariables;b=c("useWebBloksAnalytics")(f,(b=l)!=null?b:"");var n=j(null);b=c("WebBloksMergeRefs")(b,n);a=i.jsx(c("WebBloksViewpointProvider"),{children:i.jsx(d("WebBloksTheme").WebBloksThemeProvider,{initialTheme:a,children:i.jsx(d("WebBloksEnvironmentContext").WebBloksEnvironmentProvider,{environment:f,children:i.jsx(d("WebBloksEntryPointContainerContext").WebBloksEntryPointContainerContextProvider,{value:n,children:i.jsx(d("WebBloksApp").WebBloksApp,{node:h,appId:l,params:m,externalObjectSet:g,externalVariables:e})})})})});return i.jsx("div",{style:k,ref:b,children:a})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MSGWebBloksEntryPoint.react",["MSGWebBloksEnvironment","WebBloksClientPerfLogger","WebBloksEntryPoint.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react")),j=h.useEffect;c("WebBloksClientPerfLogger").log("DISPLAY_JS_DONE");function a(a){var b=a.actionOverrides,e=a.embeddedAppParams;a=a.payload;c("WebBloksClientPerfLogger").log("WBLOKS_INVOKED");b=d("MSGWebBloksEnvironment").useMSGBloksEnvironment({actions:b,disableHistoryStack:!0,embedded:!0});j(function(){c("WebBloksClientPerfLogger").log("ROOT_MOUNTED"),c("WebBloksClientPerfLogger").destroy()},[]);return i.jsx(c("WebBloksEntryPoint.react"),{embeddedAppParams:e,environment:b,payload:a})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWChatColors",[],(function(a,b,c,d,e,f,g){"use strict";a={action:{alignContent:"xc26acl",alignItems:"x6s0dn4",borderTopStartRadius:"x14yjl9h",borderTopEndRadius:"xudhj91",borderBottomEndRadius:"x18nykt9",borderBottomStartRadius:"xww2gxu",cursor:"x1ypdohk",display:"x78zum5",flexShrink:"x2lah0s",height:"xxk0z11",justifyContent:"xl56j7k",marginEnd:"x11i5rnm",marginStart:"x1mh8g0r",position:"x1n2onr6",textAlign:"x2b8uid",width:"xvy4d1p",":hover_backgroundColor":"x15vn3sj",$$css:!0},icon:{height:"x17rw0jw",opacity:"x197sbye",width:"x17z2i9w",":active_opacity":"x4gyw5p",":hover_opacity":"x1o7uuvo",$$css:!0},svgFill:{fill:"x148u3ch",$$css:!0},svgStroke:{fill:"xbh8q5q",stroke:"xmb71p3",$$css:!0}};b={styles:a};g.MessageActions=b}),98);
__d("MWMessageReactionIcon.react",["fbt","MWChatColors","react","stylex"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=j||d("react");function a(a){var b=a.size;b=b===void 0?16:b;a=a.viewBox;a=a===void 0?"0 0 16 16":a;return k.jsxs("svg",{fill:"none",height:b,viewBox:a,width:b,xmlns:"http://www.w3.org/2000/svg",children:[k.jsx("title",{children:h._(/*BTDS*/"__JHASH__Wo2O5nlXhKT__JHASH__")}),k.jsx("path",babelHelpers["extends"]({},(i||(i=c("stylex"))).props(d("MWChatColors").MessageActions.styles.svgFill),{d:"M12.48 0.64C12.48 0.286538 12.7665 0 13.12 0C13.4735 0 13.76 0.286538 13.76 0.64V2.08C13.76 2.16837 13.8316 2.24 13.92 2.24H15.36C15.7135 2.24 16 2.52654 16 2.88C16 3.23346 15.7135 3.52 15.36 3.52H13.92C13.8316 3.52 13.76 3.59163 13.76 3.68V5.12C13.76 5.47346 13.4735 5.76 13.12 5.76C12.7665 5.76 12.48 5.47346 12.48 5.12V3.68C12.48 3.59163 12.4084 3.52 12.32 3.52H10.88C10.5265 3.52 10.24 3.23346 10.24 2.88C10.24 2.52654 10.5265 2.24 10.88 2.24H12.32C12.4084 2.24 12.48 2.16837 12.48 2.08V0.64Z"})),k.jsx("path",babelHelpers["extends"]({},i.props(d("MWChatColors").MessageActions.styles.svgFill),{clipRule:"evenodd",d:"M8.96 2.42705C8.96 2.28386 8.86505 2.15735 8.726 2.12317C8.18582 1.99041 7.62113 1.92 7.04 1.92C3.15192 1.92 0 5.07192 0 8.96C0 12.8481 3.15192 16 7.04 16C10.9281 16 14.08 12.8481 14.08 8.96C14.08 8.37887 14.0096 7.81418 13.8768 7.274C13.8427 7.13495 13.7161 7.04 13.573 7.04H13.12C12.0596 7.04 11.2 6.18039 11.2 5.12C11.2 4.94327 11.0567 4.8 10.88 4.8C9.81961 4.8 8.96 3.94039 8.96 2.88V2.42705ZM4.63999 6.4C4.03999 6.4 3.67999 6.88 3.67999 7.68C3.67999 8.48 4.03999 8.96 4.63999 8.96C5.23999 8.96 5.59999 8.48 5.59999 7.68C5.59999 6.88 5.23999 6.4 4.63999 6.4ZM9.43999 6.4C8.83999 6.4 8.47999 6.88 8.47999 7.68C8.47999 8.48 8.83999 8.96 9.43999 8.96C10.04 8.96 10.4 8.48 10.4 7.68C10.4 6.88 10.04 6.4 9.43999 6.4ZM10.56 11.2C10.56 12.48 8.96 13.76 7.04 13.76C5.12 13.76 3.52 12.48 3.52 11.2C3.52 11.0233 3.66327 10.88 3.84 10.88H10.24C10.4167 10.88 10.56 11.0233 10.56 11.2Z",fillRule:"evenodd"}))]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("MWAddReactionButton.react",["fbt","I64","LSMessagingThreadTypeUtil","MWCMThreadTypes.react","MWChatMessageId","MWChatReactionsActionContainer.react","MWMessageReactionIcon.react","MWXPressable.react","MWXTooltip.react","ODS","emptyFunction","react","useIsReactionsV2Enabled"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k,l=i||(i=d("react"));e=i;var m=e.useCallback,n=e.useMemo,o={emojiRowContainer:{borderTopStartRadius:"xdxvlk3",borderTopEndRadius:"x1fglp",borderBottomEndRadius:"x1rp6h8o",borderBottomStartRadius:"xg6i1s1",marginBottom:"x12nagc",marginEnd:"xw3qccf",$$css:!0}},p=l.forwardRef(a);function a(a,b){var e=a.onHoverInPrerenderer,f=a.onHoverOutPrerenderer,g=a.onPressInPrerenderer,i=a.showPopover;a=h._(/*BTDS*/"__JHASH__czR8vxcW0mN__JHASH__");var k=m(function(){i(),(j||(j=d("ODS"))).bumpEntityKey(3185,"mwchat_actions","reaction")},[i]);return l.jsx(c("MWXTooltip.react"),{align:"middle",position:"above",tooltip:a,children:l.jsx(c("MWXPressable.react"),{"aria-label":a,expanding:!0,loggingEvent:"click_react_to_message",onHoverIn:e,onHoverOut:f,onPress:k,onPressIn:g,overlayRadius:"inherit",ref:b,role:"button",testid:void 0,xstyle:o.emojiRowContainer,children:l.jsx("div",babelHelpers["extends"]({className:"x6s0dn4 xnmxlks xdxvlk3 x1fglp x1rp6h8o xg6i1s1 x78zum5 xl56j7k x10b6aqq xsyo7zv xurb0ha x1yrsyyn x1n2onr6 xp4054r"},{role:"none",children:l.jsx("div",babelHelpers["extends"]({className:"x6s0dn4 x14yjl9h xudhj91 x18nykt9 xww2gxu x1ypdohk x14ju556 x11i5rnm x78zum5 xdt5ytf xl56j7k x1npj6m0"},{children:l.jsx(c("MWMessageReactionIcon.react"),{size:"1.125rem"})}))}))})})}a.displayName=a.name+" [from "+f.id+"]";function b(a){var b=a.isSecure,e=a.message,f=a.sendReaction,g=a.setShouldRowStayExpanded,h=a.threadKey;a=a.threadType;var i=(k||(k=d("I64"))).to_string(h),j=k.to_string(e.timestampMs),m=n(function(){return d("MWChatMessageId").makeSent(i,e.messageId,j)},[i,e.messageId,j]),o=d("MWCMThreadTypes.react").isBroadcastThread(a);a=d("LSMessagingThreadTypeUtil").isDiscoverablePublicBroadcastChannel(a);h=d("useIsReactionsV2Enabled").useIsReactionsV2Enabled(h);return l.jsx(c("MWChatReactionsActionContainer.react"),{alwaysShowEmojiPicker:!0,closeActionsMenu:c("emptyFunction"),disableCustomReactions:h&&o,hasReactionsV2:h,isBroadcastChannel:a,isBroadcastThread:o,isSecure:b,messageID:m,onVisibilityChange:g,sendReaction:f,children:function(a,b,c,d,e,f){return l.jsx(p,{messageID:m,onHoverInPrerenderer:d,onHoverOutPrerenderer:e,onPressInPrerenderer:f,ref:a,showPopover:b})}})}b.displayName=b.name+" [from "+f.id+"]";g["default"]=b}),226);
__d("MWAudioRecorder.react",["MWPAudioHighlightStylesHooks","MWPAudioPlayerButtons.react","MWPAudioPlayerContainer.react","MWPAudioPlayerHighlight.react","MWPAudioPlayerKeyCommands.react","MWPAudioPlayerSharedStyles","MWPAudioPlayerTimer.react","MWPAudioPlayerUtils","MWXTooltip.react","cr:563","react","requireDeferred","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||(i=d("react")),k=i.useRef,l=c("requireDeferred")("MWChatAudioLog").__setRef("MWAudioRecorder.react");function a(a){var e;a=a.voiceRecorder;var f=a.audioEl,g=a.state,i=a.toggle;a=k();var m=d("MWPAudioPlayerUtils").useResetHighlightProgress(a),n=(e=b("cr:563")).hasScrubber(g),o=function(){i();switch(g.stage){case"Unopen":return;case"Recording":l.onReady(function(a){return a.logClickStopRecording(0)});return;case"Recorded":var a=g.currentTime,b=g.duration;a===0?l.onReady(function(a){return a.logPlaybackStart(b)}):l.onReady(function(c){return c.logPlaybackResume(b,a)});return;case"Playing":var c=g.currentTime,d=g.duration;l.onReady(function(a){return a.logPlaybackPause(d,c)});return}},p=d("MWPAudioPlayerUtils").useProgressLiveUpdate(e.getDuration(g),f,e.getCurrentTime(g),e.isProgressing(g),!1,e.isCompleted(g)),q=d("MWPAudioHighlightStylesHooks").useHighlightStyles(!0);e=e.getPlaybackLabel(g);var r=function(){switch(g.stage){case"Unopen":case"Recording":return null;case"Recorded":case"Playing":return j.jsx(d("MWPAudioPlayerUtils").ScreenReaderLabel,{currentTime:g.currentTime,duration:g.duration})}}();return j.jsx(c("MWPAudioPlayerContainer.react"),{audioEl:f,hasScrubber:n,mediaRenderQpl:null,scrubberRef:a,style:{backgroundColor:"var(--chat-composer-button-color, var(--accent))",borderRadius:"18px"},testid:void 0,useCase:d("MWPAudioPlayerUtils").UseCase.RECORDER,children:j.jsxs(c("MWPAudioPlayerKeyCommands.react"),{audioEl:f,children:[j.jsx(d("MWPAudioPlayerHighlight.react").MWPAudioPlayerHighlightV1,{ref:p,xstyle:q}),r,j.jsx(d("MWPAudioPlayerHighlight.react").MWPAudioPlayerHighlightV1,{ref:a,xstyle:q}),j.jsx("div",babelHelpers["extends"]({},(h||(h=c("stylex"))).props(d("MWPAudioPlayerSharedStyles").styles.playbackButtonContainer),{onMouseMove:n?m:void 0,children:j.jsx(c("MWXTooltip.react"),{align:"middle",position:"above",tooltip:e,children:j.jsx(d("MWPAudioPlayerButtons.react").AudioPlayerPlaybackButton,{icon:b("cr:563").getPlaybackIcon(g,"var(--chat-composer-button-color, var(--accent))"),label:e,onPress:o})})})),j.jsx(c("MWPAudioPlayerTimer.react"),{time:b("cr:563").getTimerTime(g)})]})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWBlockedTombstoneMessage.react",["fbt","MWChatBubbleEmphasisRing.react","MWPVisibleMessageContext.react","MWV2TombstonedMessage.react","MWXPressable.react","react","stylex"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=j||d("react"),l={bubble:{paddingBottom:"x1120s5i",$$css:!0},bubbleReply:{paddingBottom:"xwib8y2",$$css:!0}};b={ORIGINAL_MESSAGE:"original-message",REPLIED_TO:"replied-to"};function a(a){var b=a.isLastMessageInGroup,e=a.messageId,f=a.onClick;a=a.source;var g=h._(/*BTDS*/"__JHASH__IgHPZSLlYoi__JHASH__"),j=d("MWPVisibleMessageContext.react").useMWPVisibleMessageContext();j=j.visibleMessage;j=(j==null?void 0:j.source)==="Pinned"&&(j==null?void 0:j.messageId)===e;e=j?k.jsx(c("MWChatBubbleEmphasisRing.react"),{connectBottom:!1,connectTop:!1,outgoing:!1,precedesXMA:!1,children:k.jsx(c("MWV2TombstonedMessage.react"),{isOutgoing:!1,isReply:a==="replied-to",children:g})}):k.jsx(c("MWV2TombstonedMessage.react"),{isOutgoing:!1,isReply:a==="replied-to",children:g});return k.jsx("div",babelHelpers["extends"]({},(i||(i=c("stylex"))).props(b===!1&&l.bubble,a==="replied-to"&&l.bubbleReply),{"data-testid":void 0,children:k.jsx(c("MWXPressable.react"),{onPress:f,overlayDisabled:!0,children:e})}))}a.displayName=a.name+" [from "+f.id+"]";g.MWBlockedTombstoneMessageSource=b;g.MWBlockedTombstoneMessage=a}),226);
__d("MWBlockingProtectionLogging",["I64","requireDeferred"],(function(a,b,c,d,e,f,g){"use strict";var h,i=c("requireDeferred")("MwbGroupBlockeeMessagesTapToRevealActionFalcoEvent").__setRef("MWBlockingProtectionLogging");function a(a){return function(){i.onReady(function(b){return b.log(function(){return{entry_point:22,source:3,source_type:0,thread_id:(h||(h=d("I64"))).to_string(a.threadKey)}})})}}g.useLogTapToReviewAction=a}),98);
__d("MWCMContentTakedownEnforcementNoticeDialogQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="9231663790261900"}),null);
__d("MWCMContentTakedownEnforcementNoticeDialogQuery$Parameters",["MWCMContentTakedownEnforcementNoticeDialogQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a={kind:"PreloadableConcreteRequest",params:{id:b("MWCMContentTakedownEnforcementNoticeDialogQuery_facebookRelayOperation"),metadata:{},name:"MWCMContentTakedownEnforcementNoticeDialogQuery",operationKind:"query",text:null}};e.exports=a}),null);
__d("MWCMContentTakedownEnforcementNoticeDialog.entrypoint",["JSResourceForInteraction","MWCMContentTakedownEnforcementNoticeDialogQuery$Parameters","WebPixelRatio"],(function(a,b,c,d,e,f,g){"use strict";a={getPreloadProps:function(a){var b=a.community_id,e=a.interventions_ids;a=a.thread_id;return{queries:{queryReference:{parameters:c("MWCMContentTakedownEnforcementNoticeDialogQuery$Parameters"),variables:{community_id:b,interventions_ids:(b=e)!=null?b:[],isCometEnabled:!1,isGeoEnabled:!1,isMWXEnabled:!0,scale:d("WebPixelRatio").get(),thread_id:a}}}}},root:c("JSResourceForInteraction")("MWCMContentTakedownEnforcementNoticeDialog.react").__setRef("MWCMContentTakedownEnforcementNoticeDialog.entrypoint")};g["default"]=a}),98);
__d("MWCMElectionFactLabelDialogQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="8111791688896993"}),null);
__d("MWCMElectionFactLabelDialogQuery$Parameters",["MWCMElectionFactLabelDialogQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a={kind:"PreloadableConcreteRequest",params:{id:b("MWCMElectionFactLabelDialogQuery_facebookRelayOperation"),metadata:{},name:"MWCMElectionFactLabelDialogQuery",operationKind:"query",text:null}};e.exports=a}),null);
__d("MWCMElectionFactLabelDialog.entrypoint",["JSResourceForInteraction","MWCMElectionFactLabelDialogQuery$Parameters"],(function(a,b,c,d,e,f,g){"use strict";a={getPreloadProps:function(a){a=a.message_id;return{queries:{queryReference:{parameters:c("MWCMElectionFactLabelDialogQuery$Parameters"),variables:{message_id:a}}}}},root:c("JSResourceForInteraction")("MWCMElectionFactLabelDialog.react").__setRef("MWCMElectionFactLabelDialog.entrypoint")};g["default"]=a}),98);
__d("MWCMElectionInformTreatmentDialogQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="8544755772288777"}),null);
__d("MWCMElectionInformTreatmentDialogQuery$Parameters",["MWCMElectionInformTreatmentDialogQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a={kind:"PreloadableConcreteRequest",params:{id:b("MWCMElectionInformTreatmentDialogQuery_facebookRelayOperation"),metadata:{},name:"MWCMElectionInformTreatmentDialogQuery",operationKind:"query",text:null}};e.exports=a}),null);
__d("MWCMElectionInformTreatmentDialog.entrypoint",["JSResourceForInteraction","MWCMElectionInformTreatmentDialogQuery$Parameters"],(function(a,b,c,d,e,f,g){"use strict";a={getPreloadProps:function(a){a=a.message_id;return{queries:{queryReference:{parameters:c("MWCMElectionInformTreatmentDialogQuery$Parameters"),variables:{message_id:a}}}}},root:c("JSResourceForInteraction")("MWCMElectionInformTreatmentDialog.react").__setRef("MWCMElectionInformTreatmentDialog.entrypoint")};g["default"]=a}),98);
__d("MWCMInformTreatmentGenAITransparencyDialogQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="7797384147050491"}),null);
__d("MWCMInformTreatmentGenAITransparencyDialogQuery$Parameters",["MWCMInformTreatmentGenAITransparencyDialogQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a={kind:"PreloadableConcreteRequest",params:{id:b("MWCMInformTreatmentGenAITransparencyDialogQuery_facebookRelayOperation"),metadata:{},name:"MWCMInformTreatmentGenAITransparencyDialogQuery",operationKind:"query",text:null}};e.exports=a}),null);
__d("MWCMInformTreatmentGenAITransparencyDialog.entrypoint",["JSResourceForInteraction","MWCMInformTreatmentGenAITransparencyDialogQuery$Parameters"],(function(a,b,c,d,e,f,g){"use strict";a={getPreloadProps:function(){return{queries:{queryReference:{parameters:c("MWCMInformTreatmentGenAITransparencyDialogQuery$Parameters"),variables:{}}}}},root:c("JSResourceForInteraction")("MWCMInformTreatmentGenAITransparencyDialog.react").__setRef("MWCMInformTreatmentGenAITransparencyDialog.entrypoint")};g["default"]=a}),98);
__d("MWChatComposerVoiceIndicator.react",["fbt","CurrentUser","MWXText.react","MWXTextPairing.react","getTopMostRoute","react","useCometRouterState","vulture"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react");function a(a){a=a.forceShown_TEST_ONLY;a=a===void 0?!1:a;c("vulture")("6Iz3LeZ3eiY");var b=c("useCometRouterState")();b=b!=null?c("getTopMostRoute")(b):null;b=(b=b==null?void 0:b.tracePolicy)!=null?b:null;b=b!==null?b.startsWith("comet.page.admin")||b.startsWith("comet.group.admin"):!1;var d=c("CurrentUser").getName();d=h._(/*BTDS*/"__JHASH__moy48BoqFvP__JHASH__",[h._param("full name",j.jsx(c("MWXText.react"),{type:"meta2",children:d}))]);return b||a?j.jsx("div",babelHelpers["extends"]({className:"x57kliw x1exxf4d x13fuv20 x178xt8z xi81zsa xyinxu5 xho0xa1 xs9asl8 x1vobaek"},{children:j.jsx(c("MWXTextPairing.react"),{body:j.jsx(c("MWXText.react"),{align:"center",color:"secondary",type:"body4",children:d}),level:4,textAlign:"center"})})):null}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("MWChatMessageUnreadIndicator.react",["fbt","MDSRow.react","MDSRowItem.react","MWXText.react","react","react-strict-dom","vulture"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react"),k={color:{color:"x186z157",$$css:!0},line:{backgroundColor:"x1m026b5",flexGrow:"x1iyjqo2",height:"xjm9jq1",$$css:!0}};function a(){c("vulture")("3Eyow3HSMnU");var a=h._(/*BTDS*/"__JHASH__dAK4xN4bf5e__JHASH__");return j.jsxs(c("MDSRow.react"),{"aria-label":a,paddingVertical:12,spacingVertical:0,children:[j.jsx(c("MDSRowItem.react"),{verticalAlign:"center",xstyle:k.line,children:j.jsx(j.Fragment,{})}),j.jsx(c("MDSRowItem.react"),{children:j.jsx(c("MWXText.react"),{color:"secondary",isSemanticHeading:!0,type:"meta4",children:j.jsx(d("react-strict-dom").html.div,{style:k.color,children:a})})}),j.jsx(c("MDSRowItem.react"),{verticalAlign:"center",xstyle:k.line,children:j.jsx(j.Fragment,{})})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("MWChatMultiReactionsTooltip.react",["fbt","I64","Int64Hooks","LSClearReactionsV2DetailsAndRangeStoredProcedure","LSFactory","LSIssueReactionsV2DetailsUsersListFetchStoredProcedure","LSPlatformWaitForTaskCompletion","MWPActor.react","MWXPressable.react","MWXText.react","ReQL","ReQLSuspense","intlSummarizeNumber","promiseDone","react","usePrevious","useReStore"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k,l=k||(k=d("react"));b=k;var m=b.useEffect,n=b.useRef,o=b.useState,p=9;function a(a){var b=a.isProcessingReactions,e=a.messageId,g=a.onTooltipCTAPress,k=a.reactionFbid,q=a.threadKey,r=(i||(i=c("useReStore")))();a=o(!0);var s=a[0],t=a[1];d("Int64Hooks").useEffectInt64(function(){b||(t(!0),c("promiseDone")(c("LSPlatformWaitForTaskCompletion")(r,function(a){return c("LSIssueReactionsV2DetailsUsersListFetchStoredProcedure")(c("LSFactory")(a),{messageId:e,reactionFbid:k,threadId:q})},"issueReactionsV2DetailsUsersListFetch").then(function(){t(!1)})))},[r,q,e,k,t,b]);var u=d("MWPActor.react").useActor();a=d("ReQLSuspense").useArray(function(){return d("ReQL").fromTableAscending(r.tables.reactions_v2_details).getKeyRange(q,e).filter(function(a){return(j||(j=d("I64"))).equal(a.reactionFbid,k)})},[r,q,e,k],f.id+":84");var v=new Map();a.forEach(function(a){return v.set((j||(j=d("I64"))).to_string(a.reactorId),a.fullName)});var w=d("ReQLSuspense").useFirst(function(){return d("ReQL").fromTableAscending(r.tables.threads).getKeyRange(q).map(function(a){var b=a.parentThreadKey;return d("ReQLSuspense").toArray(d("ReQL").fromTableAscending(r.tables.contextual_profile_v1).filter(function(a){return(j||(j=d("I64"))).equal(a.associatedEntityId,b)}),f.id+":102")})},[r,q],f.id+":97"),x=null;w!=null&&w.forEach(function(a){var b=(j||(j=d("I64"))).to_string(a.ownerId),c=a.profileName;if(c==null)return;v.has(b)&&v.set(b,c);(j||(j=d("I64"))).equal(a.ownerId,u)&&(x=c)});var y=a.map(function(a){return v.get((j||(j=d("I64"))).to_string(a.reactorId))}).filter(Boolean);w=d("ReQLSuspense").useFirst(function(){return d("ReQL").fromTableAscending(r.tables.reactions_v2).getKeyRange(q,e,k)},[r,q,e,k],f.id+":131");a=(a=w==null?void 0:w.viewerIsReactor)!=null?a:!1;var z=d("ReQLSuspense").useFirst(function(){return d("ReQL").fromTableAscending(r.tables.contacts).getKeyRange(u).map(function(a){return a.name})},[r,u],f.id+":143");z=x!=null?x:z;var A=w!=null?(j||(j=d("I64"))).to_int32(w.count):0;A===1&&a&&y.length===0&&z!=null?y.push(z):a&&y[0]!=null&&z!=null&&((w=y[0])==null?void 0:w.toString())!==z&&y.unshift(z);var B=h._(/*BTDS*/"__JHASH__GTBXwO8BaZr__JHASH__");a=function(){var a=[].concat(y.slice(0,p)),d=!1;if(y.length>p){var e=A-p;if(e<0)return[B,!0];a.push(h._(/*BTDS*/"__JHASH__KVtJcih6CQz__JHASH__",[h._plural(e),h._param("count",String(c("intlSummarizeNumber")(e)))]).toString())}else d=(!s||!b)&&y.length!==A;return a.length===0?[B,d]:[a.map(function(a,b){return l.jsx("div",{children:a},String(b))}),d]}();w=a[0];var C=a[1],D=c("usePrevious")(C),E=n(null);m(function(){return function(){E.current!=null&&window.clearTimeout(E.current)}},[]);m(function(){if(D===C)return;if(!C)E.current!=null&&(window.clearTimeout(E.current),E.current=null);else{if(E.current!=null)return;E.current=window.setTimeout(function(){E.current=null,c("promiseDone")(r.runInTransaction(function(a){return c("LSClearReactionsV2DetailsAndRangeStoredProcedure")(c("LSFactory")(a))},"readwrite",void 0,void 0,f.id+":241")),c("promiseDone")(r.runInTransaction(function(a){return c("LSIssueReactionsV2DetailsUsersListFetchStoredProcedure")(c("LSFactory")(a),{messageId:e,threadId:q})},"readwrite",void 0,void 0,f.id+":249"))},700)}},[r,C,D,e,k,q]);return l.jsx(c("MWXPressable.react"),{"aria-label":h._(/*BTDS*/"__JHASH__g_e4jdcSB-i__JHASH__"),onPress:g,overlayDisabled:!0,children:l.jsx(c("MWXText.react"),{color:"tooltip",type:"body4",children:w})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("MWChatReplyText.react",["fbt","MWChatTextFormatting","MWChatTextTransform","MWXMessageTextWithEntities.react","cr:2472","react","useStringWithSubstitutions"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||(i=d("react")),k=i.useMemo;function a(a){var e=a.isBumpMessage;e=e===void 0?!1:e;var f=a.isHotLike;f=f===void 0?!1:f;var g=a.mentionIds,i=a.ranges,l=a.text,m=a.threadKey;a=a.transformEmoticons;a=a===void 0?!0:a;var n=k(function(){var a;return new Set((a=g==null?void 0:g.split==null?void 0:g.split(","))!=null?a:[])},[g]);l=b("cr:2472")==null?l:b("cr:2472").unvault(l);n=(n=(n=d("useStringWithSubstitutions").useStringWithMentionSubstitutionsAndUpdatedRanges(l,[],n,m))==null?void 0:n.textWithSubstitutions)!=null?n:l;m=(m=d("useStringWithSubstitutions").useStringWithSubstitutions(l,m))!=null?m:l;l=h._(/*BTDS*/"__JHASH__fJLp3hO2Ffq__JHASH__").toString();f=f?l:e?m:n;return j.jsx("div",babelHelpers["extends"]({className:"xi81zsa"},{dir:"auto",children:j.jsx(c("MWXMessageTextWithEntities.react"),{maxLength:120,maxLines:2,ranges:i,renderers:{MessengerTextFormatting:[d("MWChatTextFormatting").messageRenderer]},text:f,transforms:a?d("MWChatTextTransform").textTransformsNoVault:[],truncationStyle:"ellipsis-only",withParagraphs:!1})}))}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("MWChatUnavailableComposer.react",["fbt","ComponentMountUnmountSubspanLogger.react","MWBlockedComposerLogging","MWXComposerBanner.react","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react");function a(a){var b=a.reason;a=a.thread;d("MWBlockedComposerLogging").useLogMWBlockedComposerReason(a.threadKey,b);a=h._(/*BTDS*/"__JHASH__FoZB3MxTOU9__JHASH__");return j.jsxs("div",{children:[j.jsx(c("ComponentMountUnmountSubspanLogger.react"),{description:"MWChatUnavailableComposer"}),j.jsx(c("MWXComposerBanner.react"),{bodyText:a})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("MWChatViewerChatVisibilityHookQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="6404754876239370"}),null);
__d("MWChatViewerChatVisibilityHookQuery.graphql",["MWChatViewerChatVisibilityHookQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"chat_visibility",storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"MWChatViewerChatVisibilityHookQuery",selections:a,type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[],kind:"Operation",name:"MWChatViewerChatVisibilityHookQuery",selections:a},params:{id:b("MWChatViewerChatVisibilityHookQuery_facebookRelayOperation"),metadata:{},name:"MWChatViewerChatVisibilityHookQuery",operationKind:"query",text:null}}}();e.exports=a}),null);
__d("MWChatViewerChatVisibilityHook",["CometRelay","MWChatViewerChatVisibilityHookQuery.graphql","promiseDone","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=(i||d("react")).useEffect,k=h!==void 0?h:h=b("MWChatViewerChatVisibilityHookQuery.graphql");function a(){var a,b=d("CometRelay").useRelayEnvironment(),e=d("CometRelay").useLazyLoadQuery(k,{},{fetchPolicy:"store-only"});j(function(){var a;(e==null?void 0:(a=e.viewer)==null?void 0:a.chat_visibility)==null&&c("promiseDone")(d("CometRelay").fetchQuery(b,k,{}).toPromise())},[e==null?void 0:(a=e.viewer)==null?void 0:a.chat_visibility,b]);return(e==null?void 0:(a=e.viewer)==null?void 0:a.chat_visibility)===!0}g.useViewerChatVisibility=a}),98);
__d("MWClickToReavealMustachTextInPinnedMessageList.react",["MWClickToRevealMustacheText.react","MWPMessageParsingUtils","react","vulture"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react"),j={lastMessageInGroup:{marginTop:"xifccgj",$$css:!0},pinnedMessage:{paddingTop:"x1yrsyyn",$$css:!0}};function a(a){var b=a.isLastMessage,e=a.message;a=a.nextMessage;c("vulture")("6S2ThVOVY8y");a=d("MWPMessageParsingUtils").isEndOfGroup(e,a);return i.jsx(c("MWClickToRevealMustacheText.react"),{messageId:e.messageId,xsyle:a&&!b?j.lastMessageInGroup:j.pinnedMessage})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("useMWMessageRowTheme",["MWLSThreadDisplayContext","gkx","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).useMemo;function a(){var a=d("MWLSThreadDisplayContext").useMWLSThreadDisplayContext();return i(function(){var b=c("gkx")("23219")?"12px":a==="Inbox"?"16px":"8px";return{dark:{"mwp-message-list-profile-start-padding":b},light:{"mwp-message-list-profile-start-padding":b},type:"VARIABLES"}},[a])}g["default"]=a}),98);
__d("MWMessageRowAdminMessage.react",["BaseView.react","MWMessageListAttachmentContainer.react","MWPMessageListColumn.react","MWPMessageListRowWithKeyboardInteractions.react","MWV2ChatAdminMessage.react","MWV2MessageRowSimple.react","react","useMWMessageRowTheme","useMWPEditMessageDeemphasizer"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react"),j={adminMessageAttachment:{boxSizing:"x9f619",maxWidth:"x4ndzw7",minWidth:"xwj5yc2",paddingBottom:"xdvlbce",paddingStart:"x5ib6vp",paddingEnd:"xc73u3c",paddingLeft:null,paddingRight:null,paddingTop:"x1nn3v0j",$$css:!0},adminMessageContainer:{maxWidth:"x193iq5w",$$css:!0}};function a(a){var b=a.domElementRef,e=a.isDialogOpened,f=a.isFirstMessageInGroup,g=a.isFocused,h=a.isModal,k=a.message,l=a.messageDomID,m=a.nextMessage,n=a.outgoing,o=a.prevMessage,p=a.setFocusedInTransition,q=a.setHoveredInTransition,r=a.setIsDialogOpened;a=a.stopHoveringRef;var s=c("useMWPEditMessageDeemphasizer")(),t=c("useMWMessageRowTheme")();s=i.jsx(d("MWPMessageListColumn.react").MWPMessageListColumnShrinkwrap,{centered:!0,children:i.jsxs(c("BaseView.react"),{xstyle:[s,j.adminMessageContainer],children:[i.jsx(d("MWV2ChatAdminMessage.react").MWV2ChatAdminMessage,{message:k,nextMessage:m,prevMessage:o}),i.jsx(c("MWMessageListAttachmentContainer.react"),{connectBottom:!1,connectTop:!1,mediaRenderQpl:null,message:k,outgoing:n,xstyle:j.adminMessageAttachment})]})});if(k.adminMsgCtaType==null)return i.jsx(c("MWV2MessageRowSimple.react"),{children:s});else return i.jsx(c("MWPMessageListRowWithKeyboardInteractions.react"),{domElementRef:f?void 0:b,isDialogOpened:e,isFocused:g,isModal:h,message:k,messageDomID:l,outgoing:n,setFocused:p,setHovered:q,setIsDialogOpened:r,stopHoveringRef:a,theme:t,children:s})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWExtraPinnedMessagePadding.react",["MWPMessageListColumn.react","react","useMWPIsMessagePinned"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){a=a.nextMessage;a=c("useMWPIsMessagePinned")(a);return a&&i.jsx(d("MWPMessageListColumn.react").MWPMessageListColumnVerticalRhythm,{height:6})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWShowMessagePromptPopoverContext.react",["emptyFunction","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));e=h;d=e.createContext;var j=e.useContext,k=e.useMemo,l=e.useRef,m=d([{current:c("emptyFunction")},c("emptyFunction")]);function a(){return j(m)}function b(a){a=a.children;var b=l(c("emptyFunction")),d=k(function(){return[b,function(a){b.current=a}]},[]);return i.jsx(m.Provider,{value:d,children:a})}b.displayName=b.name+" [from "+f.id+"]";g.useMWShowMessagePromptPopoverContext=a;g.MWShowMessagePromptPopoverContextProvider=b}),98);
__d("useIsRollcallEnabled",["LSThreadBitOffset","MWLSThread"],(function(a,b,c,d,e,f,g){"use strict";function a(a){a=Boolean(d("MWLSThread").useThread(a,function(a){return d("LSThreadBitOffset").has(152,a)}));return a}g["default"]=a}),98);
__d("useShouldAllowRollCallForMessage",["I64","LSIntEnum","LSReplyMessageAttachmentType","MessagingAttachmentType","gkx","isStringNullOrEmpty","useIsRollcallEnabled"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=[c("MessagingAttachmentType").IMAGE,c("MessagingAttachmentType").VIDEO];function a(a,b){var e=c("useIsRollcallEnabled")(a.threadKey);if(!e)return!1;e=(h||(h=d("LSIntEnum"))).equal(a.replyAttachmentType,c("LSReplyMessageAttachmentType").ROLL_CALL_TEXT_CONTRIBUTION)&&!(h||(h=d("LSIntEnum"))).equal(a.replyAttachmentId,0);if(e)return!1;return c("gkx")("7782")&&!c("isStringNullOrEmpty")(a.text)?!0:b.some(function(a){var b=(a=a.attachmentType)!=null?a:(h||(h=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").NONE);return j.some(function(a){return(i||(i=d("I64"))).equal(b,(h||(h=d("LSIntEnum"))).ofNumber(a))})})}g.ATTACHMENT_TYPES_THAT_ALLOW_PROMPTS=j;g.useShouldAllowRollCallForMessage=a}),98);
__d("MWMessagePromptPopoverTrigger.react",["I64","JSResourceForInteraction","MWPActor.react","MWShowMessagePromptPopoverContext.react","MWXLazyPopoverTrigger.react","emptyFunction","react","useShouldAllowRollCallForMessage"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=h||(h=d("react")),k=h.useRef,l=c("JSResourceForInteraction")("MWMessagePromptPopover.react").__setRef("MWMessagePromptPopoverTrigger.react");function a(a){var b=a.attachments,e=a.children;a=a.message;b=d("useShouldAllowRollCallForMessage").useShouldAllowRollCallForMessage(a,b);var f=k(!1),g=d("MWPActor.react").useActor(),h=d("MWShowMessagePromptPopoverContext.react").useMWShowMessagePromptPopoverContext();h[0];var m=h[1];return b?j.jsx(c("MWXLazyPopoverTrigger.react"),{align:"middle",popoverProps:{message:a,onClose:c("emptyFunction")},popoverResource:l,position:(i||(i=d("I64"))).equal(g,a.senderId)?"start":"end",children:function(a,b){f.current===!1&&(f.current=!0,m(b));return j.jsx("div",{ref:a,children:e})}}):e}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("usePinnedIconAnimation",["react","useDebouncedValue"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");var i=b.useEffect,j=b.useRef,k=b.useState,l={mountAnimationIncoming:{animationDuration:"x5hsz1j",animationName:"x1ko8byu",animationTimingFunction:"x4hg4is",$$css:!0},mountAnimationOutgoing:{animationDuration:"x5hsz1j",animationName:"x1c78tyx",animationTimingFunction:"x4hg4is",$$css:!0},unmountAnimation:{animationDuration:"x5hsz1j",animationFillMode:"x10e4vud",animationName:"xvma63k",animationTimingFunction:"x4hg4is",$$css:!0}};function a(a,b){var d=k(!1),e=d[0],f=d[1],g=j(a);d=b?l.mountAnimationOutgoing:l.mountAnimationIncoming;i(function(){a!==g.current&&f(!0),g.current=a},[a]);return{mountAnimation:e?d:null,shouldShow:c("useDebouncedValue")(a,200),unmountAnimation:l.unmountAnimation}}g["default"]=a}),98);
__d("MWPinnedMessageOverlay.react",["MDSPinnedMessageIcon.react","react","stylex","useMWPIsMessagePinned","usePinnedIconAnimation"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||d("react"),k={alignEnd:{end:"xds687c",transform:"x7b9nwf",$$css:!0},alignStart:{start:"x17qophe",transform:"x1op1vkj",$$css:!0},container:{position:"x10l6tqk",top:"x13vifvy",zIndex:"xhtitgo",$$css:!0}};function a(a){var b=a.alreadyRenderedPin,d=a.children,e=a.message;a=a.outgoing;e=c("useMWPIsMessagePinned")(e);var f=c("usePinnedIconAnimation")(e,a),g=f.mountAnimation,i=f.shouldShow;f=f.unmountAnimation;return!i||b?j.jsx(j.Fragment,{children:d}):d&&j.jsxs("div",babelHelpers["extends"]({className:"x1n2onr6"},{children:[j.jsx("div",babelHelpers["extends"]({},(h||(h=c("stylex"))).props([k.container,a?k.alignEnd:k.alignStart,e?g:f]),{children:j.jsx(c("MDSPinnedMessageIcon.react"),{color:"tertiary",size:16})})),d]}))}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWJumpToMessageLogger",["CometHeroLogging","I64","LSIntEnum","LSMessagingInitiatingSource","MWChatInteraction"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function a(a,b,e,f){var g=c("CometHeroLogging").genHeroInteractionUUIDAndMarkStart(a.getTraceId(),null);d("MWChatInteraction").set(b,g);e!=null&&((h||(h=d("I64"))).equal(e,(i||(i=d("LSIntEnum"))).ofNumber(c("LSMessagingInitiatingSource").FACEBOOK_CHAT))?a.addMetadata("entrypoint","chat"):(h||(h=d("I64"))).equal(e,(i||(i=d("LSIntEnum"))).ofNumber(c("LSMessagingInitiatingSource").FACEBOOK_INBOX))&&a.addMetadata("entrypoint","inbox"));a.addMetadata("mw_version",(h||(h=d("I64"))).to_string(f));return a.onComplete(function(){delete d("MWChatInteraction").interactions[b]})}g.startHeroInteractionTrace=a}),98);
__d("useMWJumpToMessage",["MWJumpToMessageLogger","MWPVisibleMessageContext.react","MWVersion","qpl","react","useCometInteractionTracing","useLSMessagingInitiatingSource"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).useCallback;function a(a){var b=d("MWPVisibleMessageContext.react").useMWPVisibleMessageContext(),e=b.setVisibleMessage,f=c("useLSMessagingInitiatingSource")(),g=c("useCometInteractionTracing")(c("qpl")._(25301087,"7779"),"fast","INTERACTION");return i(function(b,c,h,i){var j=h!=null?h:"",k=i!=null?i:[];return g(function(g){e({contextLine:j,highlights:k,messageId:b,source:a,timestamp:c});return d("MWJumpToMessageLogger").startHeroInteractionTrace(g,b,f,d("MWVersion").v2)})},[a,e,g,f])}g["default"]=a}),98);
__d("MWPBaseRepliedMessage.react",["I64","LSIntEnum","LSMessageReplySourceTypeV2","LSReplyMessageAttachmentType","LSReplyMessageStatus","MWXPressable.react","justknobx","react","recoverableViolation","useIsRollcallEnabled","useMWJumpToMessage","useRollcallContributionsXMAActionHandler"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=h||d("react"),l={pressable:{display:"x1lliihq",$$css:!0}};function a(a){var b=a.clickToNavigateToReply;b=b===void 0?!0:b;var e=a.earlyCheckForReplyStatus;e=e===void 0?!1:e;var f=a.isSecureMessage,g=a.mediaRenderQpl,h=a.message,m=a.outgoing,n=a.renderAttachment,o=a.renderCollection,p=a.renderExpiredMessage,q=a.renderGIF,r=a.renderMedia,s=a.renderPost,t=a.renderRaven,u=a.renderRemovedMessage,v=a.renderRollcallContribution,w=a.renderSticker,x=a.renderStory,y=a.renderTextMessage,z=a.renderUnavailableMessage,A=a.renderUnavailableStory;a=a.renderVideo;var B=c("justknobx")._("2738"),C=h.replyAttachmentId,D=h.replyAttachmentType,E=h.replyMessageText,F=h.replySourceTypeV2,G=h.replyStatus,H=F!=null&&(i||(i=d("I64"))).equal(F,(j||(j=d("LSIntEnum"))).ofNumber(c("LSMessageReplySourceTypeV2").STORY)),I=F!=null&&(i||(i=d("I64"))).equal(F,(j||(j=d("LSIntEnum"))).ofNumber(c("LSMessageReplySourceTypeV2").EXPIRED_STORY)),J=C!=null||H;if(I)A!=null?I=k.jsx(A,{outgoing:m}):I=null;else if(D!=null&&J&&(!e||G!=null&&!(i||(i=d("I64"))).equal(G,(j||(j=d("LSIntEnum"))).ofNumber(c("LSReplyMessageStatus").DELETED))))((i||(i=d("I64"))).equal(D,(j||(j=d("LSIntEnum"))).ofNumber(c("LSReplyMessageAttachmentType").PHOTO))||(i||(i=d("I64"))).equal(D,(j||(j=d("LSIntEnum"))).ofNumber(c("LSReplyMessageAttachmentType").VIDEO)))&&H?I=k.jsx(x,{isSecureMessage:f,mediaRenderQpl:g,message:h,outgoing:m}):C!=null?B&&(i||(i=d("I64"))).equal(D,(j||(j=d("LSIntEnum"))).ofNumber(c("LSReplyMessageAttachmentType").XMA))&&n!=null?E!=null&&E!==""?I=k.jsx(y,{isSecureMessage:f,message:h,outgoing:m,text:E}):I=k.jsx(n,{isSecureMessage:f,mediaRenderQpl:g,message:h,outgoing:m}):(i||(i=d("I64"))).equal(D,(j||(j=d("LSIntEnum"))).ofNumber(c("LSReplyMessageAttachmentType").OTHER))?I=k.jsx(n,{isSecureMessage:f,mediaRenderQpl:g,message:h,outgoing:m}):(i||(i=d("I64"))).equal(D,(j||(j=d("LSIntEnum"))).ofNumber(c("LSReplyMessageAttachmentType").PHOTO))?r!=null?I=k.jsx(r,{isSecureMessage:f,mediaRenderQpl:g,message:h,outgoing:m}):I=k.jsx(n,{isSecureMessage:f,mediaRenderQpl:g,message:h,outgoing:m}):(i||(i=d("I64"))).equal(D,(j||(j=d("LSIntEnum"))).ofNumber(c("LSReplyMessageAttachmentType").ROLL_CALL_PHOTO_CONTRIBUTION))||(i||(i=d("I64"))).equal(D,(j||(j=d("LSIntEnum"))).ofNumber(c("LSReplyMessageAttachmentType").ROLL_CALL_VIDEO_CONTRIBUTION))||(i||(i=d("I64"))).equal(D,(j||(j=d("LSIntEnum"))).ofNumber(c("LSReplyMessageAttachmentType").ROLL_CALL_TEXT_CONTRIBUTION))?v!=null?I=k.jsx(v,{isSecureMessage:f,mediaRenderQpl:g,message:h,outgoing:m}):I=k.jsx(n,{isSecureMessage:f,mediaRenderQpl:g,message:h,outgoing:m}):(i||(i=d("I64"))).equal(D,(j||(j=d("LSIntEnum"))).ofNumber(c("LSReplyMessageAttachmentType").MULTIPHOTO))?o!=null?I=k.jsx(o,{message:h,outgoing:m}):r!=null?I=k.jsx(r,{isSecureMessage:f,mediaRenderQpl:g,message:h,outgoing:m}):I=k.jsx(n,{isSecureMessage:f,mediaRenderQpl:g,message:h,outgoing:m}):(i||(i=d("I64"))).equal(D,(j||(j=d("LSIntEnum"))).ofNumber(c("LSReplyMessageAttachmentType").VIDEO))?a!=null?I=k.jsx(a,{isSecureMessage:f,mediaRenderQpl:g,message:h,outgoing:m}):I=k.jsx(n,{isSecureMessage:f,mediaRenderQpl:g,message:h,outgoing:m}):(i||(i=d("I64"))).equal(D,(j||(j=d("LSIntEnum"))).ofNumber(c("LSReplyMessageAttachmentType").GIF))?q!=null?I=k.jsx(q,{isSecureMessage:f,mediaRenderQpl:g,message:h,outgoing:m}):I=k.jsx(n,{isSecureMessage:f,mediaRenderQpl:g,message:h,outgoing:m}):(i||(i=d("I64"))).equal(D,(j||(j=d("LSIntEnum"))).ofNumber(c("LSReplyMessageAttachmentType").STICKER))?w!=null?I=k.jsx(w,{isSecureMessage:f,mediaRenderQpl:g,message:h,outgoing:m}):I=k.jsx(n,{isSecureMessage:f,mediaRenderQpl:g,message:h,outgoing:m}):(i||(i=d("I64"))).equal(D,(j||(j=d("LSIntEnum"))).ofNumber(c("LSReplyMessageAttachmentType").LINK))||(i||(i=d("I64"))).equal(D,(j||(j=d("LSIntEnum"))).ofNumber(c("LSReplyMessageAttachmentType").PERMANENT_RAVEN_PHOTO))||(i||(i=d("I64"))).equal(D,(j||(j=d("LSIntEnum"))).ofNumber(c("LSReplyMessageAttachmentType").PERMANENT_RAVEN_VIDEO))||(i||(i=d("I64"))).equal(D,(j||(j=d("LSIntEnum"))).ofNumber(c("LSReplyMessageAttachmentType").AUDIO))?I=k.jsx(n,{isSecureMessage:f,mediaRenderQpl:g,message:h,outgoing:m}):s!=null?I=k.jsx(s,{isSecureMessage:f,mediaRenderQpl:g,message:h,outgoing:m}):I=c("recoverableViolation")("Unknown attachment type: "+(i||(i=d("I64"))).to_string(D),"messenger_comet"):(i||(i=d("I64"))).equal(D,(j||(j=d("LSIntEnum"))).ofNumber(c("LSReplyMessageAttachmentType").STICKER))&&w!=null?I=k.jsx(w,{isSecureMessage:f,mediaRenderQpl:g,message:h,outgoing:m}):!B&&(i||(i=d("I64"))).equal(D,(j||(j=d("LSIntEnum"))).ofNumber(c("LSReplyMessageAttachmentType").XMA))&&n!=null?E!=null&&E!==""?I=k.jsx(y,{isSecureMessage:f,message:h,outgoing:m,text:E}):I=k.jsx(n,{isSecureMessage:f,mediaRenderQpl:g,message:h,outgoing:m}):I=null;else if(F!=null&&(i||(i=d("I64"))).equal(F,(j||(j=d("LSIntEnum"))).ofNumber(c("LSMessageReplySourceTypeV2").LIGHTWEIGHT_STATUS))&&E!=null&&E!==""){J=(i||(i=d("I64"))).of_float(Date.now());e=h.replyMediaExpirationTimestampMs;H=e!=null&&(i||(i=d("I64"))).gt(J,e)&&!(i||(i=d("I64"))).equal(e,(i||(i=d("I64"))).zero);H?I=null:I=k.jsx(y,{isSecureMessage:f,message:h,outgoing:m,text:E})}else C!=null?r!=null?I=k.jsx(r,{isSecureMessage:f,mediaRenderQpl:g,message:h,outgoing:m}):I=k.jsx(n,{isSecureMessage:f,mediaRenderQpl:g,message:h,outgoing:m}):D!=null&&(i||(i=d("I64"))).equal(D,(j||(j=d("LSIntEnum"))).ofNumber(c("LSReplyMessageAttachmentType").EPHEMERAL_RAVEN_MESSAGE))&&t!=null?I=k.jsx(t,{isSecureMessage:f,mediaRenderQpl:g,message:h,outgoing:m}):G!=null&&(i||(i=d("I64"))).equal(G,(j||(j=d("LSIntEnum"))).ofNumber(c("LSReplyMessageStatus").DELETED))?u!=null?I=k.jsx(u,{outgoing:m}):I=null:G!=null&&(i||(i=d("I64"))).equal(G,(j||(j=d("LSIntEnum"))).ofNumber(c("LSReplyMessageStatus").EXPIRED))?p!=null?I=k.jsx(p,{isSecureMessage:f,mediaRenderQpl:g,message:h,outgoing:m}):I=null:G!=null&&(i||(i=d("I64"))).equal(G,(j||(j=d("LSIntEnum"))).ofNumber(c("LSReplyMessageStatus").TEMPORARY_UNAVAILABLE))?z!=null?I=k.jsx(z,{outgoing:m}):I=null:E!=null&&F!=null&&(i||(i=d("I64"))).equal(F,(j||(j=d("LSIntEnum"))).ofNumber(c("LSMessageReplySourceTypeV2").MESSAGE))?E!==""?I=k.jsx(y,{isSecureMessage:f,message:h,outgoing:m,text:E}):I=k.jsx(n,{isSecureMessage:f,mediaRenderQpl:g,message:h,outgoing:m}):D!=null&&(i||(i=d("I64"))).equal(D,(j||(j=d("LSIntEnum"))).ofNumber(c("LSReplyMessageAttachmentType").XMA))?A!=null?I=k.jsx(A,{outgoing:m}):I=k.jsx(n,{isSecureMessage:f,mediaRenderQpl:g,message:h,outgoing:m}):I=null;x=k.jsx("div",babelHelpers["extends"]({className:"x193iq5w x1n2onr6 x1vjfegm"},{children:I}));var K=h.replySourceTimestampMs,L=h.replySourceId,M=c("useMWJumpToMessage")("Pinned");v=D!=null&&((i||(i=d("I64"))).equal(D,(j||(j=d("LSIntEnum"))).ofNumber(c("LSReplyMessageAttachmentType").ROLL_CALL_PHOTO_CONTRIBUTION))||(i||(i=d("I64"))).equal(D,(j||(j=d("LSIntEnum"))).ofNumber(c("LSReplyMessageAttachmentType").ROLL_CALL_VIDEO_CONTRIBUTION))||(i||(i=d("I64"))).equal(D,(j||(j=d("LSIntEnum"))).ofNumber(c("LSReplyMessageAttachmentType").ROLL_CALL_TEXT_CONTRIBUTION)));var N=d("useRollcallContributionsXMAActionHandler").useRollcallContributionsXMAActionHandler();o=c("useIsRollcallEnabled")(h.threadKey);a=(j||(j=d("LSIntEnum"))).equal(h.replyAttachmentType,c("LSReplyMessageAttachmentType").ROLL_CALL_TEXT_CONTRIBUTION)&&!(j||(j=d("LSIntEnum"))).equal(h.replyAttachmentId,0);if(L!=null&&K!=null&&b&&!a){q=function(){M(L,K)};if(v&&o){var O=(i||(i=d("I64"))).of_string((s=h.replyAttachmentExtra)!=null?s:"0"),P=h.threadKey,Q=(w=h.replySourceId)!=null?w:null;q=function(){N(O,P,Q,null,h.messageId)}}return k.jsx(c("MWXPressable.react"),{onPress:q,overlayDisabled:!0,xstyle:function(){return[l.pressable]},children:x})}else return x}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWXMessageReplyBubble.react",["fbt","CometScreenReaderText.react","MWXMessageBubble.react","MWXText.react","react","stylex"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=j||d("react"),l={content:{overflowWrap:"x1mzt3pk",paddingBottom:"x1l90r2v",paddingTop:"x1iorvi4",$$css:!0},italic:{fontStyle:"x1k4tb9n",$$css:!0}};function a(a){var b=a.children,d=a.fontStyle;d=d===void 0?"normal":d;a=a.outgoing;return k.jsxs(c("MWXMessageBubble.react"),{align:a?"right":"left",color:"quoted",connectBottom:!0,connectTop:!1,precedesXMA:!1,children:[k.jsx(c("CometScreenReaderText.react"),{text:h._(/*BTDS*/"__JHASH__pLiiclD1jc1__JHASH__")}),k.jsx(c("MWXText.react"),{color:"secondary",type:"body4",children:k.jsx("div",babelHelpers["extends"]({},(i||(i=c("stylex"))).props(l.content,d==="italic"&&l.italic),{"data-testid":void 0,children:b}))})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("MWRepliesAttachment.react",["fbt","ix","MWXIcon.react","MWXMessageReplyBubble.react","fbicon","react"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j,k=j||(j=d("react")),l=j.useEffect;function a(a){var b=a.mediaRenderQpl;a=a.outgoing;l(function(){b==null?void 0:b.addPoint("render-replies-attachment")},[b]);var e=h._(/*BTDS*/"__JHASH__ExfgVu3ZeIV__JHASH__");return k.jsx(c("MWXMessageReplyBubble.react"),{fontStyle:"italic",outgoing:a,children:k.jsxs("div",babelHelpers["extends"]({className:"x6s0dn4 x78zum5"},{children:[e,k.jsx("span",babelHelpers["extends"]({className:"x1lliihq x1i64zmx"},{children:k.jsx(c("MWXIcon.react"),{color:"secondary",icon:d("fbicon")._(i("537728"),12)})}))]}))})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("MWRepliesExpired.react",["fbt","MWXMessageReplyBubble.react","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||(i=d("react")),k=i.useEffect;function a(a){var b=a.mediaRenderQpl;a=a.outgoing;k(function(){b==null?void 0:b.addPoint("render-replies-expired"),b==null?void 0:b.endSuccess()},[b]);var d=h._(/*BTDS*/"__JHASH__LRWYiWT4b63__JHASH__");return j.jsx(c("MWXMessageReplyBubble.react"),{fontStyle:"italic",outgoing:a,children:d})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("useMWRepliesImageGetMaxDimensions",["MWLSThreadDisplayContext"],(function(a,b,c,d,e,f,g){"use strict";function a(){var a=d("MWLSThreadDisplayContext").useMWLSThreadDisplayContext();a=a==="ChatTab";return{maxHeight:100,maxWidth:a?180:300}}g["default"]=a}),98);
__d("MWRepliesImage.react",["I64","MWPThreadCapabilitiesContext","MWXMessageImage.react","cr:4509","gkx","react","useMWRepliesImageGetMaxDimensions"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=h||(h=d("react")),k=h.useCallback,l={incoming:{borderBottomStartRadius:"x10y3i5r",$$css:!0},outgoing:{borderBottomEndRadius:"xrt01vj",$$css:!0},root:{borderTopStartRadius:"x1tlxs6b",borderTopEndRadius:"x1g8br2z",borderBottomEndRadius:"x1gn5b1j",borderBottomStartRadius:"x230xth",display:"x1lliihq",filter:"xin470k",overflowX:"x6ikm8r",overflowY:"x10wlt62",position:"x1n2onr6",width:"x14atkfc",$$css:!0},rootHasSticker:{borderTopStartRadius:"x168nmei",borderTopEndRadius:"x13lgxp2",borderBottomEndRadius:"x5pf9jr",borderBottomStartRadius:"xo71vjh",$$css:!0}};function a(a){var e=a.height,f=a.imageAlt;f=f===void 0?"":f;var g=a.isSticker;g=g===void 0?!1:g;var h=a.mediaRenderQpl,m=a.outgoing,n=a.src;a=a.width;var o=c("useMWRepliesImageGetMaxDimensions")(),p=d("MWPThreadCapabilitiesContext").useMWPThreadCapabilitiesContext();p=p.blurMediaEnabled;p=c("gkx")("24098")&&p;m=g?!1:m?l.outgoing:l.incoming;var q=k(function(){h==null?void 0:h.endFail("load-image-error")},[h]),r=k(function(){h==null?void 0:h.endSuccess()},[h]);f=j.jsx(c("MWXMessageImage.react"),{alt:f,height:e!=null?(i||(i=d("I64"))).to_float(e):void 0,maxHeight:o.maxHeight,maxWidth:o.maxWidth,onError:q,onLoad:r,src:n,width:a!=null?(i||(i=d("I64"))).to_float(a):void 0,xstyle:[l.root,g&&l.rootHasSticker,m]});return b("cr:4509")!=null&&p&&!g?j.jsx(b("cr:4509"),{mediaType:"Image",overlayDisabled:!0,type:"image",uncoverable:!1,url:n,xstyle:[l.root,m],children:f}):f}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWRepliesGIF.react",["fbt","CometPlaceholder.react","I64","LSMediaUrlAttachment","MWRepliesImage.react","MWXMessageReplyBubble.react","ReQL","ReQLSuspense","cr:9765","react","useMAWMediaStatusUIState","useReStore"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k,l=k||(k=d("react")),m=k.useEffect;function n(a){var e=a.isSecureMessage;e=e===void 0?!1:e;var g=a.mediaRenderQpl,k=a.message;a=a.outgoing;m(function(){g==null?void 0:g.addPoint("render-replies-gif-impl")},[g]);var n=(i||(i=c("useReStore")))(),o=d("ReQLSuspense").useFirst(function(){var a,b=(a=k.replyAttachmentPlaintextHash)!=null?a:null,c=(a=k.replySourceId)!=null?a:"";if(b!=null)return d("ReQL").fromTableAscending(n.tables.attachments).filter(function(a){return a.attachmentFbid===b&&a.messageId===c});else{a=(a=k.replyAttachmentId)!=null?a:(j||(j=d("I64"))).zero;return d("ReQL").fromTableAscending(n.tables.attachments).getKeyRange(k.threadKey,c,(j||(j=d("I64"))).to_string(a))}},[n,k],f.id+":47"),p=e?o:null;p=c("useMAWMediaStatusUIState")(p,g);p=p.downloadStatus;var q;o!=null&&(p!=="downloaded"&&e?q=null:b("cr:9765")==null||!e?q=d("LSMediaUrlAttachment").previewUrl(o):q=b("cr:9765").getAttachmentBlobNonOptional(o.attachmentFbid,"MWRepliesGIF",g));if(q!=null&&q!=="")return l.jsx(c("MWRepliesImage.react"),{height:k.replyMediaPreviewHeight,mediaRenderQpl:g,outgoing:a,src:q,width:k.replyMediaPreviewWidth});else return l.jsx(c("MWXMessageReplyBubble.react"),{fontStyle:"italic",outgoing:a,children:h._(/*BTDS*/"__JHASH__kPmtZiB6viN__JHASH__")})}n.displayName=n.name+" [from "+f.id+"]";function a(a){var b=babelHelpers["extends"]({},a);m(function(){var a;(a=b.mediaRenderQpl)==null?void 0:a.addPoint("render-replies-gif")},[b.mediaRenderQpl]);return l.jsx(c("CometPlaceholder.react"),{fallback:null,name:"MWRepliesGIF",children:l.jsx(n,babelHelpers["extends"]({},b))})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("getLSMediaMessageReplyMediaUrl",["LSMediaUrlUtils"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=a.replyMediaExpirationTimestampMs;if(b!=null&&d("LSMediaUrlUtils").isTimestampExpired(b))return a.replyMediaUrlFallback;else return a.replyMediaUrl}g["default"]=a}),98);
__d("MWRepliesMedia.react",["fbt","ix","CometHeroHoldTrigger.react","CometPlaceholder.react","FDSIcon.react","I64","IconSource","MWRepliesImage.react","MWV2AttachmentLoadingPlaceholder.react","MWXMessageReplyBubble.react","ReQL","ReQLSuspense","WAArmadilloXMA.pb","cr:9765","getLSMediaMessageReplyMediaUrl","react","useMAWMediaStatusUIState","useMWRepliesImageGetMaxDimensions","useReStore"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j,k,l,m=l||(l=d("react")),n=l.useEffect;function o(a){var e=a.isSecureMessage;e=e===void 0?!1:e;var g=a.mediaRenderQpl,l=a.message;a=a.outgoing;var o=h._(/*BTDS*/"__JHASH__bznTdd53oJN__JHASH__");o=m.jsx(c("MWXMessageReplyBubble.react"),{fontStyle:"italic",outgoing:a,children:o});var p=(j||(j=c("useReStore")))(),q=d("ReQLSuspense").useFirst(function(){var a=l.replySourceId;if(a!=null)if(l.replyAttachmentPlaintextHash!=null){var b=l.replyAttachmentPlaintextHash;return d("ReQL").fromTableAscending(p.tables.attachments).filter(function(c){return c.attachmentFbid===b&&c.messageId===a})}else if(l.replyAttachmentId!=null){var c=l.replyAttachmentId;return d("ReQL").fromTableAscending(p.tables.attachments).getKeyRange(l.threadKey,a,(k||(k=d("I64"))).to_string(c))}return d("ReQL").empty()},[p,l],f.id+":94");n(function(){q!=null&&(g==null?void 0:g.addAttachmentAnnotations==null?void 0:g.addAttachmentAnnotations(q)),g==null?void 0:g.addPoint("render-reply-media-impl",{bool:{has_db_attachment:q!=null}})},[q,g]);var r=c("useMWRepliesImageGetMaxDimensions")(),s=e?q:null,t=c("useMAWMediaStatusUIState")(s,g);t=t.downloadStatus;if(s!=null&&t!=="downloaded")return o;s=q!=null&&q.hasXma&&e&&q.gatingType===String(d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_OVERLAY_ICON_GLYPH.PRIVATE);if(q!=null&&q.hasXma&&e){t=(t=q.defaultCtaType)!=null?t:""}else t="";var u=new(c("IconSource"))("FB",i("1423124"),28);if(s)if(t==="xma_montage_share")return m.jsx("div",babelHelpers["extends"]({className:"x6s0dn4 x1qb2erx xjw5052 xyi19xy x1ccrb07 xtf3nb5 x1pc53ja x78zum5 xdt5ytf x1wkxgih xl56j7k x197sbye x2b8uid xni59qk"},{children:m.jsx("div",babelHelpers["extends"]({className:"x14vqqas xq8finb xod5an3 x16n37ib"},{children:m.jsx(c("FDSIcon.react"),{icon:u})}))}));else return m.jsx("div",babelHelpers["extends"]({className:"x6s0dn4 x99fzhk x18aeczl x1tlxs6b x1g8br2z x1gn5b1j x230xth x78zum5 xdt5ytf xpyat2d xl56j7k x2b8uid x1exxlbk"},{children:m.jsx("div",babelHelpers["extends"]({className:"x14vqqas xq8finb xod5an3 x16n37ib"},{children:m.jsx(c("FDSIcon.react"),{icon:u})}))}));if(e&&(q==null?void 0:q.hasMedia)===!1){return m.jsxs(m.Fragment,{children:[m.jsx(c("MWV2AttachmentLoadingPlaceholder.react"),{descriptionForLogging:"MWRepliesMedia.NoMedia",height:(k||(k=d("I64"))).to_float((s=l.replyMediaPreviewHeight)!=null?s:(k||(k=d("I64"))).of_float(100)),maxHeight:r.maxHeight,maxWidth:r.maxWidth,mediaRenderQpl:g,outgoing:a,width:k.to_float((t=l.replyMediaPreviewWidth)!=null?t:(k||(k=d("I64"))).of_float(100))}),m.jsx(c("CometHeroHoldTrigger.react"),{description:"MWRepliesMedia.NoMedia",hold:!0})]})}u=b("cr:9765")!=null&&e?function(a){if(q!=null&&q.hasXma){g==null?void 0:g.addPoint("fetch_reply_preview_url_xma_start");var c=a.replyAttachmentId!=null?b("cr:9765").getInfoUrlXMA(q,"preview","MWRepliesMedia",g):void 0;g==null?void 0:g.addPoint("fetch_reply_preview_url_xma_end",{bool:{has_url:Boolean(c)},string:{fetch_by:"maw_backend"}});return c}if(a.replyAttachmentPlaintextHash!=null){g==null?void 0:g.addPoint("fetch_reply_preview_url_media_start",{string:{fetch_by:"plaintextHash"}});c=a.replyAttachmentPlaintextHash!=null?b("cr:9765").getAttachmentBlobNonOptional(a.replyAttachmentPlaintextHash,"MWRepliesMedia",g):void 0;g==null?void 0:g.addPoint("fetch_reply_preview_url_media_end",{bool:{has_url:Boolean(c)},string:{fetch_by:"plaintextHash"}});return c}else{g==null?void 0:g.addPoint("fetch_reply_preview_url_media_start",{string:{fetch_by:"mediaId"}});c=a.replyAttachmentId!=null?b("cr:9765").getAttachmentBlobNonOptional((k||(k=d("I64"))).to_string(a.replyAttachmentId),"MWRepliesMedia",g):void 0;g==null?void 0:g.addPoint("fetch_reply_preview_url_media_end",{bool:{has_url:Boolean(c)},string:{fetch_by:"mediaId"}});return c}}:c("getLSMediaMessageReplyMediaUrl");s=u(l);return s!=null&&s!==""?m.jsx(c("MWRepliesImage.react"),{height:l.replyMediaPreviewHeight,imageAlt:h._(/*BTDS*/"__JHASH__eNDXc9eUfIy__JHASH__"),mediaRenderQpl:g,outgoing:a,src:s,width:l.replyMediaPreviewWidth}):o}o.displayName=o.name+" [from "+f.id+"]";function a(a){var b,e=a.isSecureMessage;e=e===void 0?!1:e;var f=a.mediaRenderQpl,g=a.message;a=a.outgoing;n(function(){f==null?void 0:f.addPoint("render-replies-media")},[f]);var h=c("useMWRepliesImageGetMaxDimensions")();return m.jsx(c("CometPlaceholder.react"),{fallback:m.jsx(c("MWV2AttachmentLoadingPlaceholder.react"),{descriptionForLogging:"MWRepliesMedia.Suspense",height:(k||(k=d("I64"))).to_float((b=g.replyMediaPreviewHeight)!=null?b:(k||(k=d("I64"))).of_float(100)),maxHeight:h.maxHeight,maxWidth:h.maxWidth,outgoing:a,width:k.to_float((b=g.replyMediaPreviewWidth)!=null?b:(k||(k=d("I64"))).of_float(100))}),name:"MWRepliesMedia.Suspense",children:m.jsx(o,{isSecureMessage:e,mediaRenderQpl:f,message:g,outgoing:a})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("MWRepliesRemoved.react",["fbt","MWXMessageReplyBubble.react","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react");function a(a){a=a.outgoing;var b=h._(/*BTDS*/"__JHASH__uG4wbYWD9QU__JHASH__");return j.jsx(c("MWXMessageReplyBubble.react"),{fontStyle:"italic",outgoing:a,children:b})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("MWRepliesRollcallContribution.react",["fbt","CometPlaceholder.react","FDSBlurredBackgroundImage.react","FDSImageCover.react","I64","Int64Hooks","LSFactory","LSIntEnum","LSIssuePointQueryForRollCallConversionStoredProcedure","LSReplyMessageAttachmentType","MWXMessageReplyBubble.react","MWXProfilePhoto.react","MWXText.react","ReQL","ReQLSuspense","cr:2472","getLSMediaMessageReplyMediaUrl","isStringNullOrEmpty","promiseDone","react","stylex","useJSON","useReStore","vulture"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k,l,m,n=k||(k=d("react")),o=k.useEffect,p=213,q=213,r={blurredImage:{borderTopStartRadius:"x1tlxs6b",borderTopEndRadius:"x1g8br2z",borderBottomEndRadius:"x1gn5b1j",borderBottomStartRadius:"x230xth",$$css:!0},outgoing:{borderBottomEndRadius:"xrt01vj",borderBottomStartRadius:"x230xth",$$css:!0},unblurredImageContainer:{borderTopStartRadius:"x1tlxs6b",borderTopEndRadius:"x1g8br2z",borderBottomEndRadius:"x1gn5b1j",borderBottomStartRadius:"x230xth",opacity:"x197sbye",overflowX:"x6ikm8r",overflowY:"x10wlt62",$$css:!0}},s=function(a){a=c("isStringNullOrEmpty")(a.replyMessageText)?h._(/*BTDS*/"__JHASH__YG4J77RBBDH__JHASH__"):b("cr:2472")==null?a.replyMessageText:b("cr:2472").unvault(a.replyMessageText);return a};function a(a){var b=babelHelpers["extends"]({},a);c("vulture")("7tPeBO0sffj");o(function(){var a;(a=b.mediaRenderQpl)==null?void 0:a.addPoint("render-replies-rollcall-contribution")},[b.mediaRenderQpl]);a=b.message;a=(m||(m=d("LSIntEnum"))).equal(a.replyAttachmentType,c("LSReplyMessageAttachmentType").ROLL_CALL_TEXT_CONTRIBUTION)&&!(m||(m=d("LSIntEnum"))).equal(a.replyAttachmentId,0);return n.jsx(c("CometPlaceholder.react"),{fallback:null,name:"MWRepliesRollcallContribution",children:a?n.jsx(t,babelHelpers["extends"]({},b)):n.jsx(u,babelHelpers["extends"]({},b))})}a.displayName=a.name+" [from "+f.id+"]";function t(a){var b=a.message;a=a.outgoing;c("vulture")("1Bl25nSK97S");var d=s(b);b=c("useJSON")((b=b.replyAttachmentExtra)!=null?b:"{}");var e=b.avatar_height,f=b.avatar_url,g=b.avatar_width;b=b.owner_name;return n.jsxs(c("MWXMessageReplyBubble.react"),{outgoing:a,children:[n.jsxs("div",babelHelpers["extends"]({className:"x6s0dn4 x78zum5 x1nhvcw1 x1gslohp x12nagc"},{children:[f!=null&&n.jsx("div",babelHelpers["extends"]({className:"x1emribx"},{children:n.jsx(c("MWXProfilePhoto.react"),{"aria-label":"",size:24,source:{height:e,uri:f,width:g}})})),b!=null&&n.jsx(c("MWXText.react"),{type:"meta2",children:b})]})),d]})}t.displayName=t.name+" [from "+f.id+"]";function u(a){var b,e=a.mediaRenderQpl,g=a.message;a=a.outgoing;c("vulture")("7AJQoDc13WC");o(function(){e==null?void 0:e.addPoint("render-replies-rollcall-contribution-impl")},[e]);var h=s(g),k=(i||(i=c("useReStore")))(),m=(l||(l=d("I64"))).of_string((b=g.replyAttachmentExtra)!=null?b:"0"),t=d("ReQLSuspense").useFirst(function(){return d("ReQL").fromTableAscending(k.tables.roll_calls).getKeyRange(m)},[k,m],f.id+":167"),u=g.threadKey;d("Int64Hooks").useEffectInt64(function(){t||c("promiseDone")(k.runInTransaction(function(a){return c("LSIssuePointQueryForRollCallConversionStoredProcedure")(c("LSFactory")(a),{rollCallId:m,threadKey:u})},"readwrite",void 0,void 0,f.id+":176"))},[t,m,u,k]);b=(b=t==null?void 0:t.isBlurred)!=null?b:!1;var v=c("getLSMediaMessageReplyMediaUrl")(g),w=g.replyMediaPreviewHeight!=null?(l||(l=d("I64"))).to_float(g.replyMediaPreviewHeight):0;g=g.replyMediaPreviewWidth!=null?(l||(l=d("I64"))).to_float(g.replyMediaPreviewWidth):0;var x=Math.min(1,p/w),y=Math.min(1,q/g);w=Math.round(w*Math.min(x,y));g=Math.round(g*Math.min(x,y));return!c("isStringNullOrEmpty")(v)?b?n.jsx("div",{style:{height:w,width:g},children:n.jsx(c("FDSBlurredBackgroundImage.react"),{src:v,xstyle:[r.blurredImage,a&&r.outgoing]})}):n.jsx("div",{className:(j||(j=c("stylex")))([r.unblurredImageContainer,a&&r.outgoing]),style:{height:w,width:g},children:n.jsx(c("FDSImageCover.react"),{alt:"",src:v})}):n.jsx(c("MWXMessageReplyBubble.react"),{outgoing:a,children:h})}u.displayName=u.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("useIssueMediaReceiverFetchTask",["FBLogger","Int64Hooks","LSMediaUrlUtils","MAWIssueReceiverFetchTask","MAWMediaDownloadStatus","MAWStateContext.react","WAHashUtils","clearTimeout","gkx","justknobx","promiseDone","react","setTimeout","useAsyncReStore"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");var i=b.useContext,j=b.useEffect,k=b.useRef,l=c("justknobx")._("3314");function a(a,b,e,f,g,h,m,n,o){var p=i(d("MAWStateContext.react").MAWDispatchContext),q=c("useAsyncReStore")(),r=k(!1),s=d("LSMediaUrlUtils").hasValidReceiverFetchPreviewUrl(m,n),t=k(null);j(function(){var a=t.current;s&&c("clearTimeout")(a);return function(){c("clearTimeout")(a)}},[s]);d("Int64Hooks").useEffectInt64(function(){if(!g||!a||f==null||b==null||r.current||s||!c("gkx")("5624"))return;r.current=!0;h==null?void 0:h.addPoint("media_receiver_fetch_task_start");var i=function(a){p({tag:"UpdateMediaStatus",value:{details:a,key:d("WAHashUtils").stringToPlaintextHash(b),status:c("MAWMediaDownloadStatus").MANUAL_RETRYABLE_FAILURE,type:"main"}})};c("promiseDone")(q,function(a){void d("MAWIssueReceiverFetchTask").issueReceiverFetchTask(a,b,f,e,p),c("justknobx")._("3315")&&(t.current=c("setTimeout")(function(){h==null?void 0:h.addPoint("media_receiver_fetch_task_timeout"),i("media_receiver_fetch_task_timeout")},l))},function(a){c("clearTimeout")(t.current),h==null?void 0:h.addPoint("media_receiver_fetch_task_fail"),i("media_receiver_fetch_task_fail"),c("FBLogger")("messenger_web_media").catching(a).warn("Failed to issue media receiver fetch task on mount")})},[q,s,p,g,h,b,f,e,a,o])}g["default"]=a}),98);
__d("MWRepliesSticker.react",["fbt","CometPlaceholder.react","I64","LSHotEmojiSize","LSMediaUrlAttachment","MWRepliesImage.react","MWV2ChatEmojiHotLike.react","MWV2Sticker.react","MWXMessageReplyBubble.react","ReQL","ReQLSuspense","cr:2472","cr:9765","getLSMediaMessageReplyMediaUrl","gkx","isReceiverFetchSticker","react","useIssueMediaReceiverFetchTask","useMAWMediaStatusUIState","useReStore"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k,l=k||(k=d("react")),m=k.useEffect,n={replyHotLikeSticker:{filter:"xin470k",transform:"xst6bnn",$$css:!0},replyHotLikeStickerV2:{filter:"xin470k",height:"x10w6t97",marginBottom:"x12nagc",width:"x1td3qas",$$css:!0},replySticker:{filter:"xin470k",$$css:!0}};function a(a){var e=a.isSecureMessage;e=e===void 0?!1:e;var g=a.mediaRenderQpl,k=a.message;a=a.outgoing;var o=h._(/*BTDS*/"__JHASH__13yhS1gywbZ__JHASH__");o=l.jsx(c("MWXMessageReplyBubble.react"),{fontStyle:"italic",outgoing:a,children:o});var p=(i||(i=c("useReStore")))(),q=d("ReQLSuspense").useFirst(function(){var a=k.replyAttachmentPlaintextHash,b=k.replySourceId;if(a!=null&&b!=null)return d("ReQL").fromTableAscending(p.tables.attachments).filter(function(c){return c.attachmentFbid===a&&c.messageId===b});else{var c=k.replyAttachmentId;if(c!=null&&b!=null)return d("ReQL").fromTableAscending(p.tables.attachments).getKeyRange(k.threadKey,b,(j||(j=d("I64"))).to_string(c))}return d("ReQL").empty()},[p,k],f.id+":79");c("useIssueMediaReceiverFetchTask")(q?c("isReceiverFetchSticker")(q):!1,k.replySourceId,k.threadKey,q==null?void 0:q.receiverFetchId,e,g,q==null?void 0:q.previewUrl,q==null?void 0:q.previewUrlExpirationTimestampMs,q==null?void 0:q.attachmentType);m(function(){q!=null&&(g==null?void 0:g.addAttachmentAnnotations==null?void 0:g.addAttachmentAnnotations(q)),g==null?void 0:g.addPoint("render-replies-sticker",{bool:{has_db_attachment:q!=null}})},[q,g]);var r=e?q:null,s=c("useMAWMediaStatusUIState")(r,g);s=s.downloadStatus;if(r!=null&&s!=="downloaded")return o;s=(r=k.replyMessageText)!=null?r:"";r=(b("cr:2472")!=null?b("cr:2472").unvault(s):s)==="\ud83d\udc4d";if(r)return l.jsx(c("MWV2ChatEmojiHotLike.react"),{hotEmojiSize:c("LSHotEmojiSize").NONE,xstyle:c("gkx")("23249")?n.replyHotLikeSticker:n.replyHotLikeStickerV2});s=c("getLSMediaMessageReplyMediaUrl")(k);if(s!=null&&q==null)return l.jsx(c("MWRepliesImage.react"),{height:k.replyMediaPreviewHeight,isSticker:!0,mediaRenderQpl:g,outgoing:a,src:s,width:k.replyMediaPreviewWidth});if(q==null)return o;b("cr:9765")==null||!e||q.receiverFetchId!=null?r=function(a){return d("LSMediaUrlAttachment").previewUrl(a)}:r=function(a){return b("cr:9765").getAttachmentBlobNonOptional(a.attachmentFbid,"MWRepliesSticker",g)};return l.jsx(c("CometPlaceholder.react"),{fallback:null,name:"MWRepliesSticker",children:l.jsx(c("MWV2Sticker.react"),{attachment:q,getPreviewUrl:r,mediaRenderQpl:g,scale:.6,xstyle:n.replySticker})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("MWRepliesStory.react",["fbt","CometPlaceholder.react","FBLogger","I64","Int64Hooks","LSIntEnum","LSXmaContentType","MAWLocalizationType","MWMediaRenderQplUtils","MWRepliesImage.react","MWV2TombstonedMessage.react","MWXPressable.react","XCometStoriesControllerRouteBuilder","cr:9765","getLSMediaMessageReplyMediaUrl","getMAWLocalizedFallbackMsgSnippet","gkx","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k,l=i||(i=d("react")),m=i.useEffect;function a(a){var b=babelHelpers["extends"]({},a);m(function(){var a;(a=b.mediaRenderQpl)==null?void 0:a.addPoint("render-replies-story")},[b.mediaRenderQpl]);return l.jsx(c("CometPlaceholder.react"),{fallback:null,name:"MWRepliesStory",children:l.jsx(n,babelHelpers["extends"]({},b))})}a.displayName=a.name+" [from "+f.id+"]";function n(a){var e=a.isSecureMessage;e=e===void 0?!1:e;var f=a.mediaRenderQpl,g=a.message;a=a.outgoing;var i=g.replySourceId;i=i!=null?e?i:(i=c("XCometStoriesControllerRouteBuilder").buildUri({card_id:window.btoa("S:_ISC:"+i),view_single:!0}).setDomain("www.facebook.com"))==null?void 0:(i=i.setProtocol("https"))==null?void 0:i.toString():void 0;d("Int64Hooks").useEffectInt64(function(){f==null?void 0:f.addPoint("render-reply-story-impl",{bool:{has_reply_attachment_id:g.replyAttachmentId!=null,has_reply_attachment_plaintext_hash:g.replyAttachmentPlaintextHash!=null,has_reply_mime_type:g.replyMediaUrlMimeType!=null,has_reply_source_id:g.replySourceId!=null}}),f==null?void 0:f.addAnnotations({string:{xma_content_type:d("MWMediaRenderQplUtils").getXmaContentTypeStringFromEnum((j||(j=d("LSIntEnum"))).ofNumber(c("LSXmaContentType").FB_STORY_REPLY))}})},[f,g.replyAttachmentId,g.replyAttachmentPlaintextHash,g.replyMediaUrlMimeType,g.replySourceId]);e=b("cr:9765")!=null&&e?function(a){if(c("gkx")("6417")){a.replyAttachmentId!=null&&a.replyAttachmentPlaintextHash==null&&c("FBLogger")("messenger_web_media").mustfix("Failed to get story preview url. Reply attachment id is set but Reply plaintextHash is missing");return a.replyAttachmentPlaintextHash!=null?b("cr:9765").getAttachmentBlobNonOptional(a.replyAttachmentPlaintextHash,"MWRepliesStory",f):null}else return a.replyAttachmentId!=null?b("cr:9765").getAttachmentBlobNonOptional((k||(k=d("I64"))).to_string(a.replyAttachmentId),"MWRepliesStory",f):null}:c("getLSMediaMessageReplyMediaUrl");var n=e(g);m(function(){n==null&&(f==null?void 0:f.endFail("missing-reply-media",{bool:{has_plaintexthash:g.replyAttachmentPlaintextHash!=null}}))},[f,g.replyAttachmentPlaintextHash,n]);return n==null?l.jsx(c("MWV2TombstonedMessage.react"),{isOutgoing:a,mediaRenderQpl:f,children:c("getMAWLocalizedFallbackMsgSnippet")(d("MAWLocalizationType").LOCALIZATION_TYPE.UNAVAILABLE_STORY)}):l.jsx(c("MWXPressable.react"),{"aria-label":h._(/*BTDS*/"__JHASH__thxINaLEtLl__JHASH__"),linkProps:i!=null?{url:i}:void 0,overlayDisabled:!0,children:l.jsx(c("MWRepliesImage.react"),{mediaRenderQpl:f,outgoing:a,src:n})})}n.displayName=n.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("MWRepliesText.react",["MWChatTextFormatting","MWChatTextFormattingUtils","MWChatTextTransform","MWXMessageReplyBubble.react","MWXMessageTextWithEntities.react","cr:2472","react","useStringWithSubstitutions"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react")),j=h.useMemo;function a(a){var e=a.isSecureMessage,f=a.message,g=a.outgoing,h=a.text;a=j(function(){return{MessengerTextFormatting:[d("MWChatTextFormatting").messageRenderer]}},[]);var k=j(function(){return d("MWChatTextFormattingUtils").getFormattingRanges(h)},[h]),l=j(function(){var a;return new Set(e?(a=(a=f.mentionIds)==null?void 0:a.split==null?void 0:a.split(","))!=null?a:[]:[])},[e,f.mentionIds]),m=b("cr:2472")==null?h:b("cr:2472").unvault(h);l=(l=(l=d("useStringWithSubstitutions").useStringWithMentionSubstitutionsAndUpdatedRanges(m,[],l,f.threadKey))==null?void 0:l.textWithSubstitutions)!=null?l:m;return i.jsx(c("MWXMessageReplyBubble.react"),{outgoing:g,children:i.jsx("div",babelHelpers["extends"]({className:"xi81zsa x126k92a"},{children:i.jsx(c("MWXMessageTextWithEntities.react"),{maxLength:120,maxLines:3,ranges:k,renderers:a,text:l,transforms:d("MWChatTextTransform").textTransformsNoVault,truncationStyle:"ellipsis-only",withParagraphs:!1})}))})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWRepliesUnavailable.react",["fbt","MWXMessageReplyBubble.react","react","vulture"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react");function a(a){a=a.outgoing;c("vulture")("8SgMdu9ttQW");var b=h._(/*BTDS*/"__JHASH__3TzRhHHRgwV__JHASH__");return j.jsx(c("MWXMessageReplyBubble.react"),{fontStyle:"italic",outgoing:a,children:b})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("MWRepliesVideo.react",["fbt","ix","CometPlaceholder.react","I64","LSMediaUrlAttachment","MWXImage.react","MWXMessageImage.react","MWXMessageReplyBubble.react","MWXVideoStatusListener.react","ReQL","ReQLSuspense","cr:9765","react","useMAWMediaStatusUIState","useMWRepliesImageGetMaxDimensions","useReStore"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j,k,l,m=l||(l=d("react"));e=l;var n=e.useCallback,o=e.useEffect,p=e.useRef,q={thumbnail:{borderTopStartRadius:"x1tlxs6b",borderTopEndRadius:"x1g8br2z",borderBottomEndRadius:"x1gn5b1j",borderBottomStartRadius:"x230xth",filter:"xin470k",overflowX:"x6ikm8r",overflowY:"x10wlt62",$$css:!0}};function r(a){var e=a.isSecureMessage;e=e===void 0?!1:e;var g=a.mediaRenderQpl,l=a.message;a=a.outgoing;var r=c("useMWRepliesImageGetMaxDimensions")(),s=r.maxHeight;r=r.maxWidth;var t=(j||(j=c("useReStore")))(),u=d("ReQLSuspense").useFirst(function(){var a,b=l.replyAttachmentPlaintextHash,c=(a=l.replySourceId)!=null?a:"";if(b!=null&&c!=null)return d("ReQL").fromTableAscending(t.tables.attachments).filter(function(a){return a.attachmentFbid===b&&a.messageId===c});else{a=(a=l.replyAttachmentId)!=null?a:(k||(k=d("I64"))).zero;return d("ReQL").fromTableAscending(t.tables.attachments).getKeyRange(l.threadKey,c,(k||(k=d("I64"))).to_string(a))}},[t,l],f.id+":72");o(function(){u!=null&&(g==null?void 0:g.addAttachmentAnnotations==null?void 0:g.addAttachmentAnnotations(u)),g==null?void 0:g.addPoint("render-reply-video-impl",{bool:{has_db_attachment:u!=null}})},[u,g]);var v=e?u:null,w=c("useMAWMediaStatusUIState")(v,g);w=w.downloadStatus;var x;u!=null&&(v!=null&&w!=="downloaded"?x=null:b("cr:9765")==null||!e?x=d("LSMediaUrlAttachment").previewUrl(u):x=b("cr:9765").getAttachmentBlobNonOptional(u.attachmentFbid,"MWRepliesVideo",g));v=p(null);var y=n(function(a){g==null?void 0:g.endFail("load-video-error",{string:{video_error_name:a}})},[g]);w=n(function(){g==null?void 0:g.endSuccess()},[g]);if(x==null){g==null?void 0:g.endSuccess();return m.jsx(c("MWXMessageReplyBubble.react"),{fontStyle:"italic",outgoing:a,children:h._(/*BTDS*/"__JHASH__7WGJ1daCkBD__JHASH__")})}a=l.replyMediaPreviewHeight!=null?(k||(k=d("I64"))).to_float(l.replyMediaPreviewHeight):void 0;var z=l.replyMediaPreviewWidth!=null?(k||(k=d("I64"))).to_float(l.replyMediaPreviewWidth):void 0;(u==null?void 0:u.previewUrlMimeType)!=null&&!e?e=m.jsx(c("MWXMessageImage.react"),{alt:"",height:a,maxHeight:s,maxWidth:r,onError:function(){return y()},onLoad:w,src:x,width:z,xstyle:q.thumbnail}):e=m.jsxs(m.Fragment,{children:[m.jsx(c("MWXVideoStatusListener.react"),{onError:y,onLoad:w,videoRef:v}),m.jsx("video",{alt:"",className:"x1tlxs6b x1g8br2z x1gn5b1j x230xth xin470k x6ikm8r x10wlt62",height:a!=null&&a>s?"100%":a,ref:v,src:x,style:{maxHeight:s,maxWidth:r},width:z!=null&&z>r?"100%":z})]});return m.jsxs("div",babelHelpers["extends"]({className:"x1n2onr6"},{children:[e,m.jsx("div",babelHelpers["extends"]({className:"x6s0dn4 x78zum5 xdt5ytf x5yr21d x17qophe xl56j7k x10l6tqk x13vifvy xh8yej3"},{children:m.jsx(c("MWXImage.react"),{onError:function(){return y()},onLoad:w,src:i("354763")})}))]}))}r.displayName=r.name+" [from "+f.id+"]";function a(a){var b=babelHelpers["extends"]({},a);o(function(){var a;(a=b.mediaRenderQpl)==null?void 0:a.addPoint("render-replies-video")},[b.mediaRenderQpl]);return m.jsx(c("CometPlaceholder.react"),{fallback:null,name:"MWRepliesVideo",children:m.jsx(r,babelHelpers["extends"]({},b))})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("MWStoryUnavailable.react",["MAWLocalizationType","MWXMessageReplyBubble.react","getMAWLocalizedFallbackMsgSnippet","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){a=a.outgoing;return i.jsx(c("MWXMessageReplyBubble.react"),{fontStyle:"italic",outgoing:a,children:c("getMAWLocalizedFallbackMsgSnippet")(d("MAWLocalizationType").LOCALIZATION_TYPE.UNAVAILABLE_STORY)})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWRepliedMessage.react",["MWBlockedTombstoneMessage.react","MWBlockingProtectionContext.react","MWGroupBlockingProtectionUtils","MWPBaseRepliedMessage.react","MWRepliesAttachment.react","MWRepliesExpired.react","MWRepliesGIF.react","MWRepliesMedia.react","MWRepliesRemoved.react","MWRepliesRollcallContribution.react","MWRepliesSticker.react","MWRepliesStory.react","MWRepliesText.react","MWRepliesUnavailable.react","MWRepliesVideo.react","MWStoryUnavailable.react","cr:2947","react","useMWJumpToMessage"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react")),j=h.useEffect;function a(a){var e=a.isSecureMessage;e=e===void 0?!1:e;var f=a.mediaRenderQpl,g=a.message;a=a.outgoing;var h=c("MWBlockingProtectionContext.react").useHook();h=h.findMessageId;var k=d("MWGroupBlockingProtectionUtils").useMWIsMessageSentByBlockedContact(g.replyToUserId,g.threadKey),l=k&&!h((k=g.replySourceId)!=null?k:""),m=c("useMWJumpToMessage")("Pinned");j(function(){f==null?void 0:f.addPoint("render-replied-message",{bool:{show_blocking_tombstone:l}})},[f,l]);if(l){var n=g.replySourceTimestampMs,o=g.replySourceId;return i.jsx(d("MWBlockedTombstoneMessage.react").MWBlockedTombstoneMessage,{messageId:g.messageId,onClick:function(){o!=null&&n&&m(o,n)},source:d("MWBlockedTombstoneMessage.react").MWBlockedTombstoneMessageSource.REPLIED_TO})}return i.jsx(c("MWPBaseRepliedMessage.react"),{isSecureMessage:e,mediaRenderQpl:f,message:g,outgoing:a,renderAttachment:c("MWRepliesAttachment.react"),renderExpiredMessage:c("MWRepliesExpired.react"),renderGIF:c("MWRepliesGIF.react"),renderMedia:c("MWRepliesMedia.react"),renderRaven:(h=b("cr:2947"))!=null?h:void 0,renderRemovedMessage:c("MWRepliesRemoved.react"),renderRollcallContribution:c("MWRepliesRollcallContribution.react"),renderSticker:c("MWRepliesSticker.react"),renderStory:c("MWRepliesStory.react"),renderTextMessage:c("MWRepliesText.react"),renderUnavailableMessage:c("MWRepliesUnavailable.react"),renderUnavailableStory:c("MWStoryUnavailable.react"),renderVideo:c("MWRepliesVideo.react")})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWThreadViewMediaRenderQpl",["CurrentUser","I64","Int64Hooks","LSAuthorityLevel","LSBitFlag","LSIntEnum","LSMediaUrlUtils","LSReplyMessageStatus","MAWMsg","MWMediaRenderQplUtils","MWPActor.react","MWVersion","QPLUserFlow","WAHashUtils","WAMediaQplHelper","gkx","justknobx","mergeDeep","react","shouldUseMAWSharedWorker","useLSMessagingInitiatingSource","usePartialViewImpression","useXMAPreviewsDisabledSetting"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j;e=h||d("react");var k=e.useLayoutEffect,l=e.useRef;function a(a,b){return m(a,b,n,!1)}function b(a,b){return m(a,b,o,!0,{string:{reply_attachment_type:d("MWMediaRenderQplUtils").getReplyMessageAttachmentTypeStringFromEnum(a.replyAttachmentType)}})}function m(a,b,e,f,g){g===void 0&&(g={});var h=(i||(i=d("I64"))).le(a.authorityLevel,(j||(j=d("LSIntEnum"))).ofNumber(c("LSAuthorityLevel").OPTIMISTIC)),m=d("MWPActor.react").useActor(),n=i.equal(a.senderId,m),o=c("useLSMessagingInitiatingSource")(),p=c("useXMAPreviewsDisabledSetting")(),q=l(!1),s=d("Int64Hooks").useMemoInt64(function(){var j;if(!e(a,b))return null;var k=d("MWMediaRenderQplUtils").getThreadViewMediaRenderQplInstanceKey(a.offlineThreadingId,h,f),l=c("CurrentUser").getAppID();l={bool:{has_db_reply_attachment:a.replyAttachmentId!=null,has_quick_replies:a.hasQuickReplies,has_text:Boolean(a.text),is_admin_message:a.isAdminMessage,is_bot_response:a.botResponseId!=null,is_collapsed:a.isCollapsed,is_expired:a.isExpired,is_forwarded:(j=a.isForwarded)!=null?j:!1,is_optimistic:h,is_outgoing:n,is_pdb:Boolean(c("gkx")("8483")),is_reply_to_media:f,is_unsent:a.isUnsent,mention_type_is_ai:a.mentionTypes==="ai",text_has_links:a.textHasLinks,use_maw_shared_worker:d("shouldUseMAWSharedWorker").shouldUseMAWSharedWorker()},"int":{message_rendering_type:(i||(i=d("I64"))).to_float(a.messageRenderingType),quick_reply_type:i.to_float(a.quickReplyType),reply_status:a.replyStatus!=null?(i||(i=d("I64"))).to_float(a.replyStatus):void 0,reply_type:a.replyType!=null?(i||(i=d("I64"))).to_float(a.replyType):void 0,takedown_state:a.takedownState!=null?(i||(i=d("I64"))).to_float(a.takedownState):void 0},string:{app_id:(j=l)!=null?j:void 0,content_type:f&&a.replyAttachmentType!=null?d("MWMediaRenderQplUtils").deriveMessageContentTypeStringFromAttachmentTypeLessAccurate(a.replyAttachmentType):d("MWMediaRenderQplUtils").getMessageContentTypeString(a),content_type_num:i.to_string(a.displayedContentTypes),entry_point:"thread_view",message_age_bucket:c("justknobx")._("1613")?d("MWMediaRenderQplUtils").calculateDiffBucketFromTimestamp(a.primarySortKey):void 0,messaging_initiation_source:d("MWMediaRenderQplUtils").getMessagingInitiationSourceStringFromEnum(o),mw_version:i.to_string(d("MWVersion").v2),reply_source_type:a.replySourceType!=null?d("MWMediaRenderQplUtils").getMessageReplySourceTypeStringFromEnum(a.replySourceType):void 0,reply_source_type_v2:a.replySourceTypeV2!=null?d("MWMediaRenderQplUtils").getMessageReplySourceTypeV2StringFromEnum(a.replySourceTypeV2):void 0,thread_type:d("MWMediaRenderQplUtils").getThreadTypeStringFromEnum(b),transport_key:a.transportKey}};j=c("mergeDeep")(l,g);return babelHelpers["extends"]({},d("MWMediaRenderQplUtils").createQplFlowCommon(d("MWMediaRenderQplUtils").event,k,q,j),{addAttachmentAnnotations:function(a){var b;c("QPLUserFlow").addAnnotations(d("MWMediaRenderQplUtils").event,{bool:{has_attachment_receiver_fetch_id:(a==null?void 0:a.receiverFetchId)!=null,has_db_attachment:a!=null,has_db_media:(a==null?void 0:a.hasMedia)===!0,has_db_playable_url:Boolean(a==null?void 0:a.playableUrl),has_db_preview_url:Boolean(a==null?void 0:a.previewUrl),has_db_preview_url_large:Boolean(a==null?void 0:a.previewUrlLarge),has_db_xma:(a==null?void 0:a.hasXma)===!0,has_db_xma_favicon:(a==null?void 0:a.hasXmaFavicon)===!0,has_db_xma_header_image:(a==null?void 0:a.hasXmaHeaderImage)===!0,has_db_xma_preview:(a==null?void 0:a.hasXmaPreview)===!0,is_db_playable_url_expired:(a==null?void 0:a.playableUrlExpirationTimestampMs)!=null?d("LSMediaUrlUtils").isTimestampExpired(a.playableUrlExpirationTimestampMs):void 0,is_db_preview_url_expired:(a==null?void 0:a.previewUrlExpirationTimestampMs)!=null?d("LSMediaUrlUtils").isTimestampExpired(a.previewUrlExpirationTimestampMs):void 0,is_xma_previews_disabled:p},string:{attachment_transport_key:(b=a==null?void 0:a.transportKey)!=null?b:void 0,attachment_type:a==null?null:d("MWMediaRenderQplUtils").getAttachmentTypeString(a),audio_duration_bucket:(a==null?void 0:a.playableDurationMs)!=null?d("MWMediaRenderQplUtils").convertDurationToStringBucket((i||(i=d("I64"))).to_float((b=a==null?void 0:a.playableDurationMs)!=null?b:(i||(i=d("I64"))).zero)/1e3):void 0,file_size_bucket:(a==null?void 0:a.filesize)!=null?d("WAMediaQplHelper").convertIntegerSizeToStringBucket((i||(i=d("I64"))).to_float(a==null?void 0:a.filesize)):void 0,playable_url_mime_type:a==null?void 0:a.playableUrlMimeType,preview_url_mime_type:a==null?void 0:a.previewUrlMimeType,sanitized_plaintext_hash:r(a),xma_content_type:(a==null?void 0:a.xmaContentType)!=null?d("MWMediaRenderQplUtils").getXmaContentTypeStringFromEnum(a.xmaContentType):void 0,xma_default_cta_type:a==null?void 0:a.defaultCtaType}},{instanceKey:k})}})},[h,a.displayedContentTypes]);m=c("usePartialViewImpression")({onImpressionEnd:function(){q.current===!1&&(s==null?void 0:s.addPoint("message-row-hidden"),s==null?void 0:s.addAnnotations({bool:{message_row_is_hidden:!0}}))},onImpressionStart:function(){q.current===!1&&(s==null?void 0:s.addPoint("message-row-visible"),s==null?void 0:s.addAnnotations({bool:{message_row_has_been_visible:!0,message_row_is_hidden:!1}}))}});k(function(){s==null?void 0:s.start();s==null?void 0:s.addPoint("message-row-mounted");return function(){q.current===!1&&(s==null?void 0:s.getInstanceKey())!=null&&(s==null?void 0:s.addPoint("message-row-unmounted"),s==null?void 0:s.endCancel(706))}},[s]);return{mediaRenderQpl:s,messageRowRef:m}}function n(a,b){if(p(a))return!1;b=d("LSBitFlag").has((j||(j=d("LSIntEnum"))).ofNumber(1024),a.displayedContentTypes)||d("LSBitFlag").has((j||(j=d("LSIntEnum"))).ofNumber(536870912),a.displayedContentTypes);return b||d("MAWMsg").isMediaMsg(a)}function o(a,b){return d("MAWMsg").isMediaReplyAttachmentType(a,b)&&q(a)}function p(a){return a.isUnsent||a.isExpired}function q(a){return a.replyStatus!=null&&(i||(i=d("I64"))).equal(a.replyStatus,(j||(j=d("LSIntEnum"))).ofNumber(c("LSReplyMessageStatus").VALID))}function r(a){return!c("gkx")("23916")||a==null||isFinite(a.attachmentFbid)?void 0:d("WAHashUtils").sanitisePlaintextHash(d("WAHashUtils").stringToPlaintextHash(a.attachmentFbid))}g.useMediaRenderQpl=a;g.useMediaRenderQplForReply=b}),98);
__d("MWV2ReplyError.react",["fbt","MWXMessageReplyBubble.react","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react");function a(a){a=a.outgoing;return j.jsx(c("MWXMessageReplyBubble.react"),{fontStyle:"italic",outgoing:a,children:h._(/*BTDS*/"__JHASH__962PS6SI-P2__JHASH__")})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("useMWIsReplyToAuthor",["I64","LSIntEnum","LSMessageReplySourceTypeV2"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function a(a){return a.replySourceTypeV2!=null&&(h||(h=d("I64"))).equal(a.replySourceTypeV2,(i||(i=d("LSIntEnum"))).ofNumber(c("LSMessageReplySourceTypeV2").XMA))}g["default"]=a}),98);
__d("MWMessageReplyRow.react",["CometErrorBoundary.react","I64","LSIntEnum","LSMessageReplySourceTypeV2","MWMessageListDisplayContext.react","MWPMessageListColumn.react","MWPinnedMessageOverlay.react","MWRepliedMessage.react","MWThreadViewMediaRenderQpl","MWV2MessageProfilePhoto.react","MWV2ReplyError.react","MWXMessageBubbleRow.react","react","useMWIsReplyToAuthor"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=h||(h=d("react")),l=h.useEffect,m={replyMargin:{marginBottom:"x1oo3vh0",minHeight:"x1hshjfz",$$css:!0}};function a(a){var b=a.outgoing,e=a.isGroupThread,f=a.isSecureMessage,g=a.message;a=a.threadType;var h=d("MWMessageListDisplayContext.react").useMWMessageListDisplayContext();h=h.isStandardMessageList;var n=c("useMWIsReplyToAuthor")(g),o=g.replySourceTypeV2!=null&&(i||(i=d("I64"))).equal(g.replySourceTypeV2,(j||(j=d("LSIntEnum"))).ofNumber(c("LSMessageReplySourceTypeV2").EXPIRED_STORY)),p=g.replyMediaExpirationTimestampMs!=null?(i||(i=d("I64"))).gt(g.replyMediaExpirationTimestampMs,(i||(i=d("I64"))).zero):!0;o=g.replySourceId==null?o:p;p=n||o;n=k.jsx(d("MWPMessageListColumn.react").MWPMessageListColumnProfile,{children:k.jsx(c("MWV2MessageProfilePhoto.react"),{display:"hidden",isGroupThread:e,message:g})});o=k.jsx("div",babelHelpers["extends"]({className:"x1xc55vz"},{role:"none"}));e=d("MWThreadViewMediaRenderQpl").useMediaRenderQplForReply(g,a);var q=e.mediaRenderQpl;a=e.messageRowRef;l(function(){q==null?void 0:q.addPoint("render-message-reply-row")},[q]);return k.jsx("div",{ref:a,children:k.jsx(c("MWXMessageBubbleRow.react"),{addOnEnd:b?n:o,addOnStart:b?o:n,align:b?"right":"left",opaque:!0,xstyle:p&&m.replyMargin,children:k.jsx(c("CometErrorBoundary.react"),{fallback:function(a){return k.jsx(c("MWV2ReplyError.react"),{outgoing:b})},children:h?k.jsx(c("MWPinnedMessageOverlay.react"),{alreadyRenderedPin:!1,message:g,outgoing:b,children:k.jsx(c("MWRepliedMessage.react"),{isSecureMessage:f,mediaRenderQpl:q,message:g,outgoing:b})}):k.jsx(c("MWRepliedMessage.react"),{isSecureMessage:f,mediaRenderQpl:q,message:g,outgoing:b})})})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWV2ChatReactionsTooltip.react",["fbt","FBLogger","I64","LSAuthorityLevel","LSClearReactionsV2DetailsAndRangeStoredProcedure","LSContactBlockedByViewerStatus","LSContactGender","LSContactIdType","LSContactType","LSContactViewerRelationship","LSContactWorkForeignEntityType","LSFactory","LSIntEnum","LSIssueReactionsV2DetailsUsersListFetchStoredProcedure","LSVerifyContactRowExistsStoredProcedure","MWLSThread","MWPActor.react","Promise","ReQL","ReQLSuspense","intlSummarizeNumber","promiseDone","react","react-strict-dom","useIsReactionsV2Enabled","useReStore"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k,l,m,n=m||(m=d("react"));e=m;var o=e.useEffect,p=e.useMemo,q=9;function r(a){var b=(j||(j=c("useReStore")))(),e=d("ReQLSuspense").useArray(function(){return a==null?d("ReQL").empty():d("ReQL").fromTableAscending(b.tables.contextual_profile_v1.index("associatedEntityIdAndOwner")).getKeyRange(a)},[b,a],f.id+":47"),g=p(function(){var a=new Map();for(var b=e,c=Array.isArray(b),f=0,b=c?b:b[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var g;if(c){if(f>=b.length)break;g=b[f++]}else{f=b.next();if(f.done)break;g=f.value}g=g;var h=g==null?void 0:g.profileName;h!=null&&a.set((l||(l=d("I64"))).to_string(g.ownerId),h)}return a},[e]);return g}function a(a){var b=a.messageId;a.parentThreadKey;var c=a.reactions;a=a.threadKey;var e=d("MWLSThread").useThread(a,function(a){return a.parentThreadKey}),f=d("useIsReactionsV2Enabled").useIsReactionsV2Enabled(a);return f?n.jsx(t,{messageId:b,parentThreadKey:e,reactions:c,threadKey:a}):n.jsx(s,{messageId:b,parentThreadKey:e,reactions:c,threadKey:a})}a.displayName=a.name+" [from "+f.id+"]";function s(a){var e=a.messageId,g=a.parentThreadKey,m=a.reactions,s=a.threadKey,t=(j||(j=c("useReStore")))(),u=d("ReQLSuspense").useArray(function(){return d("ReQL").leftJoin(d("ReQL").fromTableAscending(t.tables.reactions).getKeyRange(s,e),d("ReQL").fromTableAscending(t.tables.contacts))},[t,s,e],f.id+":108"),v=r(g);o(function(){c("promiseDone")(t.runInTransaction(function(a){return(i||(i=b("Promise"))).all(u.map(function(e){e=e[1];if(e!=null)return c("LSVerifyContactRowExistsStoredProcedure")(c("LSFactory")(a),{authorityLevel:(k||(k=d("LSIntEnum"))).ofNumber(c("LSAuthorityLevel").CLIENT_PARTIAL),blockedByViewerStatus:k.ofNumber(c("LSContactBlockedByViewerStatus").UNBLOCKED),contactIdType:k.ofNumber(c("LSContactIdType").FBID),contactType:k.ofNumber(c("LSContactType").USER),contactViewerRelationship:k.ofNumber(c("LSContactViewerRelationship").UNKNOWN),gender:k.ofNumber(c("LSContactGender").UNKNOWN),id:e.id,isBlocked:!1,isMemorialized:!1,isSelf:!1,workForeignEntityType:k.ofNumber(c("LSContactWorkForeignEntityType").UNKNOWN)});else return(i||(i=b("Promise"))).resolve()}))},"readwrite",void 0,void 0,f.id+":124"))},[t,u]);a=p(function(){var a=new Map(u.map(function(a){var b=a[1];b==null&&c("FBLogger")("messenger_web_product").debug("missing contact for reaction tooltip");return[(l||(l=d("I64"))).to_string(a[0].actorId),b!=null?b.name:h._(/*BTDS*/"__JHASH__AaE4hJExM0x__JHASH__")]})),b=m.map(function(b){b=(l||(l=d("I64"))).to_string(b.actorId);if(v.has(b))return v.get(b);b=a.get(b);if(b==null)return"";else return b}).filter(function(a){return a!==""}),e=b.length;b=b.slice(0,q);if(e>q){e=e-q;b.push(h._(/*BTDS*/"__JHASH__KVtJcih6CQz__JHASH__",[h._plural(e),h._param("count",String(e))]))}return b},[v,m,u]);g=a.map(function(a,b){return n.jsx(d("react-strict-dom").html.div,{children:a},String(b))});return n.jsx(d("react-strict-dom").html.div,{children:g})}s.displayName=s.name+" [from "+f.id+"]";function t(a){var b,e=a.messageId,g=a.parentThreadKey;a.reactions;var i=a.threadKey,k=(j||(j=c("useReStore")))();o(function(){c("promiseDone")(k.runInTransaction(function(a){return c("LSClearReactionsV2DetailsAndRangeStoredProcedure")(c("LSFactory")(a))},"readwrite",void 0,void 0,f.id+":226")),c("promiseDone")(k.runInTransaction(function(a){return c("LSIssueReactionsV2DetailsUsersListFetchStoredProcedure")(c("LSFactory")(a),{messageId:e,threadId:i})},"readwrite",void 0,void 0,f.id+":231"))},[k,i,e]);var m=r(g);a=d("ReQLSuspense").useArray(function(){return d("ReQL").fromTableAscending(k.tables.reactions_v2_details).getKeyRange(i,e).map(function(a){var b;return(b=m.get((l||(l=d("I64"))).to_string(a.reactorId)))!=null?b:a.fullName})},[k,m,i,e],f.id+":242");g=d("ReQLSuspense").useArray(function(){return d("ReQL").fromTableAscending(k.tables.reactions_v2).getKeyRange(i,e)},[k,i,e],f.id+":255");var p=g?g.map(function(a){return a.viewerIsReactor}):[];p=p.length>0?p.reduce(function(a,b){return a||b}):!1;var s=d("MWPActor.react").useActor(),t=d("ReQLSuspense").useFirst(function(){return d("ReQL").fromTableAscending(k.tables.contacts).getKeyRange(s)},[k,s],f.id+":274");g=g?g.map(function(a){return(l||(l=d("I64"))).to_int32(a.count)}).filter(function(a){return a>0}):[];b=(b=(t==null?void 0:t.id)!=null?m.get((l||(l=d("I64"))).to_string(t.id)):null)!=null?b:t==null?void 0:t.name;JSON.stringify(g)===JSON.stringify([1])&&p&&b!=null&&a.length===0?a.push(b):p&&a[0]!=null&&t&&b!=null&&((g=a[0])==null?void 0:g.toString())!==b&&a.unshift(b);p=h._(/*BTDS*/"__JHASH__GTBXwO8BaZr__JHASH__");t=a.slice(0,q);if(a.length>q){g=a.length-q;t.push(h._(/*BTDS*/"__JHASH__KVtJcih6CQz__JHASH__",[h._plural(g),h._param("count",String(c("intlSummarizeNumber")(g)))]).toString())}b=t.length===0?p:t.map(function(a,b){return n.jsx(d("react-strict-dom").html.div,{children:a},String(b))});return n.jsx(d("react-strict-dom").html.div,{children:b})}t.displayName=t.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("MWMessageReactionsContainer.react",["fbt","I64","MWChatReactionEmoji","MWChatReactionsUtils","MWV2ChatReactionsTooltip.react","MWXTooltip.react","intlSummarizeNumber","react","stylex","useIsReactionDialogEnabled","vulture"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k,l=j||d("react"),m={emoji:{alignItems:"x6s0dn4",backgroundColor:"xsrzb8j",borderTopStartRadius:"x14yjl9h",borderTopEndRadius:"xudhj91",borderBottomEndRadius:"x18nykt9",borderBottomStartRadius:"xww2gxu",lineHeight:"x14ju556",$$css:!0},emojiMargin:{marginEnd:"xcwd3tp",$$css:!0},emojiNum:{color:"xi81zsa",fontSize:"x1ncwhqj",lineHeight:"x14ju556",minWidth:"xdhweic",paddingEnd:"x150jy0e",paddingStart:"x1e558r4",textAlign:"x2b8uid",$$css:!0},emojiRow:{alignItems:"x6s0dn4",backgroundColor:"x2bj2ny",borderTopStartRadius:"x1a2cdl4",borderTopEndRadius:"xnhgr82",borderBottomEndRadius:"x1qt0ttw",borderBottomStartRadius:"xgk8upj",boxShadow:"x10vwrwz",display:"x78zum5",justifyContent:"xl56j7k",paddingTop:"x4p5aij",paddingEnd:"x19um543",paddingBottom:"x1j85h84",paddingStart:"x1m6msm",textAlign:"xp4054r",$$css:!0},emojiWithCursor:{cursor:"x1ypdohk",$$css:!0},scaleHeartEmoji:{transform:"xhqu4j4",$$css:!0}};function a(a){var b=a.count,e=a.countXstyle,f=a.disableReactionDialog;f=f===void 0?!1:f;var g=a.emojis,j=a.message,o=a.reactions,p=a.reactionsV2,q=a.renderEmojis,r=a.threadKey;a=a.xstyle;c("vulture")("h8Pg519Usg");j=j.messageId;p=p!=null?p.map(function(a){return(k||(k=d("I64"))).to_int32(a.count)}).reduce(function(a,b){return a+b},0):0;var s=c("useIsReactionDialogEnabled")(r)&&!f;f=p>1?p:b;var t=f>1;p=g.map(function(a,b){var e=t||b!==g.length-1,f=d("MWChatReactionsUtils").isHeart(a[0]);return l.createElement("div",babelHelpers["extends"]({},(i||(i=c("stylex"))).props(m.emoji,s?m.emojiWithCursor:!1,e?m.emojiMargin:!1),{key:String(b)}),l.jsx("div",babelHelpers["extends"]({},i.props(f?m.scaleHeartEmoji:!1),{children:q?q(a,16,"messenger_reaction_emoji_"+a[0]):l.jsx(c("MWChatReactionEmoji"),{emoji:a,size:16,testid:void 0})})))});b=l.jsxs("div",babelHelpers["extends"]({},(i||(i=c("stylex"))).props(m.emojiRow,a),{role:"none",children:[p,t?l.jsx(n,{countXstyle:e,reactionCount:f}):null]}));return s?l.jsx(c("MWXTooltip.react"),{align:"middle",label:h._(/*BTDS*/"__JHASH__pugXv5G1XoG__JHASH__"),position:"above",tooltip:l.jsx(c("MWV2ChatReactionsTooltip.react"),{messageId:j,reactions:o,threadKey:r}),children:b}):b}a.displayName=a.name+" [from "+f.id+"]";function n(a){var b=a.countXstyle;a=a.reactionCount;c("vulture")("9ZbU7H0PlRb");a=c("intlSummarizeNumber")(a);var d=a.length;return l.jsx("div",{className:(i||(i=c("stylex")))(m.emojiNum,b),role:"none",style:{width:d+"ch"},children:a})}n.displayName=n.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("MWUnsupportedXMA.react",["fbt","MWV2TombstonedMessage.react","react","react-strict-dom"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||(i=d("react")),k=i.useEffect,l={extraPaddingBottom:{paddingTop:"x1iorvi4",$$css:!0},extraPaddingTop:{paddingTop:"x1iorvi4",$$css:!0}};function a(a){var b=a.mediaRenderQpl,e=a.nextMessage;a=a.prevMessage;k(function(){b==null?void 0:b.endSuccess()},[b]);return j.jsx(d("react-strict-dom").html.div,{style:[a&&l.extraPaddingTop,e&&l.extraPaddingBottom],children:j.jsx(c("MWV2TombstonedMessage.react"),{isOutgoing:!1,children:h._(/*BTDS*/"__JHASH__-GvVFaMikWU__JHASH__")})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("MWXMAV2AttachmentHscrollLayout.react",["FDSHScroll.react","MWXColumn.react","MWXColumnItem.react","MWXMessageBubbleCornerStyles.react","react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=h||c("react"),k={card:{display:"x3nfvp2",height:"x5yr21d",overflowX:"x6ikm8r",overflowY:"x10wlt62",$$css:!0},centerElement:{borderTopStartRadius:"x1lcm9me",borderTopEndRadius:"x1yr5g0i",borderBottomEndRadius:"xrt01vj",borderBottomStartRadius:"x10y3i5r",$$css:!0},firstElement:{borderBottomEndRadius:"xrt01vj",borderTopEndRadius:"x1yr5g0i",$$css:!0},fullHeight:{maxHeight:"xuyqlj2",$$css:!0},lastElement:{borderBottomStartRadius:"x10y3i5r",borderTopStartRadius:"x1lcm9me",$$css:!0},scrollContainer:{paddingBottom:"x18d9i69",paddingTop:"xexx8yu",$$css:!0}};function a(a){var b=a.children,e=a.connectBottom,f=a.connectTop,g=a.flattenTop;a=a.outgoing;var h=d("MWXMessageBubbleCornerStyles.react").getMWXBubbleCornerStyles({align:a?"right":"left",connectBottom:e,connectTop:f,flatten:g?"top":"none"}),l=b.length;return j.jsx("div",babelHelpers["extends"]({className:"xic84rp xxbr6pl xh8yej3 x1s3gxii x19a7vgm"},{children:j.jsx(d("FDSHScroll.react").Container,{cardWidth:{minWidth:180,type:"responsive"},containerXStyle:k.scrollContainer,gap:4,reduceArrowSize:!0,children:b.map(function(a,b){var e=l===1,f=!e&&b===0,g=!e&&b===l-1;e=!e&&!f&&!g;return j.jsx(d("FDSHScroll.react").Child,{expanding:!0,type:"custom",children:j.jsx(c("MWXColumn.react"),{expanding:!0,verticalAlign:"top",xstyle:k.fullHeight,children:j.jsx(c("MWXColumnItem.react"),{expanding:!0,children:j.createElement("div",babelHelpers["extends"]({},(i||(i=c("stylex"))).props(k.card,h,f&&k.firstElement,e&&k.centerElement,g&&k.lastElement),{key:b}),a)})})},b)})})}))}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWXMAV2AttachmentSingleLayout.react",["MWXMessageBubbleCornerStyles.react","react","stylex","vulture"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=h||c("react"),k={root:{display:"x3nfvp2",overflowX:"x6ikm8r",overflowY:"x10wlt62",$$css:!0}};function a(a){var b=a.children,e=a.connectBottom,f=a.connectTop,g=a.flattenTop;a=a.outgoing;c("vulture")("9KTqpMfWIlr");a=d("MWXMessageBubbleCornerStyles.react").getMWXBubbleCornerStyles({align:a?"right":"left",connectBottom:e,connectTop:f,flatten:g?"top":"none"});return j.jsx("div",babelHelpers["extends"]({},(i||(i=c("stylex"))).props(k.root,a),{children:b}))}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWXMAV2AttachmentVstackLayout.react",["MSGDataclassTypes.flow","MWXColumn.react","MWXColumnItem.react","MWXImage.react","MWXMessageBubbleCornerStyles.react","MWXRow.react","MWXRowItem.react","MWXText.react","react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=h||c("react"),k={headerIcon:{borderTopStartRadius:"x14yjl9h",borderTopEndRadius:"xudhj91",borderBottomEndRadius:"x18nykt9",borderBottomStartRadius:"xww2gxu",height:"x1kpxq89",width:"xsmyaan",$$css:!0},root:{backgroundColor:"x1xr0vuk",display:"x78zum5",flexDirection:"xdt5ytf",overflowX:"x6ikm8r",overflowY:"x10wlt62",width:"xeq5yr9",$$css:!0}};function l(a){a=a.layoutHeader;var b=a==null?void 0:a.title;if(b==null)return null;var e=a==null?void 0:a.alignment,f=a==null?void 0:a.subtitle;a=a==null?void 0:(a=a.attribution_icon)==null?void 0:a.url;e=e===d("MSGDataclassTypes.flow").XmsgXmaVStackLayoutHeaderAlignmentType.Center?"center":"start";return j.jsxs(c("MWXColumn.react"),{align:e,paddingHorizontal:8,paddingVertical:8,spacing:8,children:[j.jsx(c("MWXColumnItem.react"),{children:j.jsx(c("MWXRow.react"),{paddingTop:12,children:j.jsx(c("MWXRowItem.react"),{children:j.jsx(c("MWXText.react"),{color:"primary",type:"headlineEmphasized3",children:b})})})}),j.jsx(c("MWXColumnItem.react"),{children:j.jsxs(c("MWXRow.react"),{align:"start",paddingTop:0,spacing:4,verticalAlign:"center",children:[j.jsx(c("MWXRowItem.react"),{children:a!=null&&j.jsx(c("MWXImage.react"),{src:a,xstyle:k.headerIcon})}),j.jsx(c("MWXRowItem.react"),{children:j.jsx(c("MWXText.react"),{color:"secondary",type:"body4",children:f})})]})})]})}l.displayName=l.name+" [from "+f.id+"]";function a(a){var b=a.children,e=a.connectBottom,f=a.connectTop,g=a.flattenTop,h=a.layoutExtension;a=a.outgoing;a=d("MWXMessageBubbleCornerStyles.react").getMWXBubbleCornerStyles({align:a?"right":"left",connectBottom:e,connectTop:f,flatten:g?"top":"none"});return j.jsx("div",{children:j.jsxs("div",babelHelpers["extends"]({},(i||(i=c("stylex"))).props(k.root,a),{children:[j.jsx(l,{layoutHeader:h==null?void 0:h.header}),b]}))})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWXMAV2AttachmentLayoutWrapper.react",["FBLogger","MSGDataclassTypes.flow","MWXMAV2AttachmentHscrollLayout.react","MWXMAV2AttachmentSingleLayout.react","MWXMAV2AttachmentVstackLayout.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||c("react"),k=(h||(h=d("react"))).useEffect;function a(a){var b=a.children,e=a.connectBottom,f=a.connectTop,g=a.flattenTop,h=a.layoutExtension,i=a.layoutType,l=a.mediaRenderQpl;a=a.outgoing;k(function(){l==null?void 0:l.addPoint("render-xma-v2-layout")},[l]);switch(i){case d("MSGDataclassTypes.flow").XmsgXmaLayoutType.Single:return j.jsx(c("MWXMAV2AttachmentSingleLayout.react"),{connectBottom:e,connectTop:f,flattenTop:g,outgoing:a,children:b[0]});case d("MSGDataclassTypes.flow").XmsgXmaLayoutType.Hscroll:return j.jsx(c("MWXMAV2AttachmentHscrollLayout.react"),{connectBottom:e,connectTop:f,flattenTop:g,outgoing:a,children:b});case d("MSGDataclassTypes.flow").XmsgXmaLayoutType.Vstack:return j.jsx(c("MWXMAV2AttachmentVstackLayout.react"),{connectBottom:e,connectTop:f,flattenTop:g,layoutExtension:h,outgoing:a,children:b});default:throw c("FBLogger")("messenger_web_sharing").mustfixThrow("Unsupported XMA 2.0 layout type %s",d("MSGDataclassTypes.flow").XmsgXmaLayoutType.getName(i))}}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWXMAV2AttachmentBloksTemplate.react",["CometPlaceholder.react","MWLSThreadDisplayContext","deferredLoadComponent","react","requireDeferredForDisplay","stylex","useJSON"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=j||c("react"),l=(h||(h=d("react"))).useMemo,m=c("deferredLoadComponent")(c("requireDeferredForDisplay")("MSGWebBloksEntryPoint.react").__setRef("MWXMAV2AttachmentBloksTemplate.react")),n={cardWidth:{maxWidth:"x16em4ew",$$css:!0},cardWidthChatTab:{maxWidth:"x1e4dklr",$$css:!0},root:{height:"x5yr21d",width:"xn9wirt",$$css:!0}};function a(a){var b=a.mediaRenderQpl;a=a.template;a=c("useJSON")(a.payload);var e=d("MWLSThreadDisplayContext").useMWLSThreadDisplayContext();e=e==="ChatTab";var f=l(function(){return{"bk.action.msg.wbloks.qpl.EndSuccess":function(){b==null?void 0:b.addPoint("render-xma-v2-bloks-template"),b==null?void 0:b.endSuccess()}}},[b]);return k.jsx(c("CometPlaceholder.react"),{fallback:null,children:k.jsx("div",babelHelpers["extends"]({},(i||(i=c("stylex"))).props(n.root,!e&&n.cardWidth,e&&n.cardWidthChatTab),{children:k.jsx(m,{actionOverrides:f,payload:a})}))})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("getXmaWebUrlCtaHandler",["isStringNullOrWhitespaceOnly"],(function(a,b,c,d,e,f,g){"use strict";function a(a){a=a.action_url;return a==null||c("isStringNullOrWhitespaceOnly")(a)?null:{ctaActionType:"link",link:a}}g.getXmaWebUrlCtaHandler=a}),98);
__d("useGetCtaAction.react",["MSGDataclassTypes.flow","getXmaWebUrlCtaHandler"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=a==null?void 0:a.cta_type;if(a==null||b==null)return null;switch(b){case d("MSGDataclassTypes.flow").XmsgctaType.XmaWebUrl:return d("getXmaWebUrlCtaHandler").getXmaWebUrlCtaHandler(a);default:return{ctaActionType:"unsupported"}}}g.useGetCtaAction=a}),98);
__d("MWXMAV2PressableWrapper.react",["fbt","MWXPressable.react","react","useGetCtaAction.react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||c("react"),k={pressable:{height:"x5yr21d",width:"xh8yej3",$$css:!0}};function a(a){var b=a.children;a=a.cta;a=d("useGetCtaAction.react").useGetCtaAction(a);if(a==null||a.ctaActionType==="unsupported")return b;var e=a.ctaActionType==="link"?{target:"_blank",url:a.link}:void 0;a=a.ctaActionType==="function"?a.onPress:void 0;return j.jsx(c("MWXPressable.react"),{"aria-label":h._(/*BTDS*/"__JHASH__n6efyfReMNb__JHASH__"),linkProps:e,onPress:a,overlayDisabled:!0,xstyle:k.pressable,children:b})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("MWXMAV2AttachmentCompactGenericTemplate.react",["FBLogger","MSGDataclassTypes.flow","MWLSThreadDisplayContext","MWXColumn.react","MWXColumnItem.react","MWXIconChevronRight","MWXIconStrict.react","MWXImage.react","MWXMAV2PressableWrapper.react","MWXRow.react","MWXRowItem.react","MWXText.react","isStringNullOrWhitespaceOnly","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||c("react"),j={accessory_container:{alignSelf:"xamitd3",marginStart:"x16n37ib",$$css:!0},cardWidth:{maxWidth:"xw5ewwj",$$css:!0},cardWidthChatTab:{maxWidth:"x1i5r0r9",$$css:!0},preview_image_style_circle:{borderTopStartRadius:"x14yjl9h",borderTopEndRadius:"xudhj91",borderBottomEndRadius:"x18nykt9",borderBottomStartRadius:"xww2gxu",height:"xc9qbxq",marginEnd:"x1emribx",objectFit:"xl1xv1r",width:"x14qfxbe",$$css:!0},preview_image_style_square:{borderTopStartRadius:"x1lq5wgf",borderTopEndRadius:"xgqcy7u",borderBottomEndRadius:"x30kzoy",borderBottomStartRadius:"x9jhf4c",height:"xnnlda6",marginEnd:"xq8finb",objectFit:"xl1xv1r",width:"x15yg21f",$$css:!0},root:{backgroundColor:"x1xr0vuk",$$css:!0}};function k(a){a=a.preview;var b=a==null?void 0:a.image.url;if(a==null||b==null||c("isStringNullOrWhitespaceOnly")(b))return null;switch(a.style){case d("MSGDataclassTypes.flow").XmsgXmaCompactGenericTemplatePreviewStyle.Circle:return i.jsx(c("MWXImage.react"),{src:b,xstyle:j.preview_image_style_circle});case d("MSGDataclassTypes.flow").XmsgXmaCompactGenericTemplatePreviewStyle.Square:return i.jsx(c("MWXImage.react"),{src:b,xstyle:j.preview_image_style_square})}}k.displayName=k.name+" [from "+f.id+"]";function l(a){a=a.accessory;if(a==null)return null;var b=null;switch(a){case d("MSGDataclassTypes.flow").XmsgXmaCompactGenericTemplateAccessoryType.Chevron:b=c("MWXIconChevronRight");break}return b==null?null:i.jsx(c("MWXIconStrict.react"),{color:"secondary",icon:b,size:16})}l.displayName=l.name+" [from "+f.id+"]";function a(a){var b=a.content,e=a.mediaRenderQpl;a=a.template;var f=d("MWLSThreadDisplayContext").useMWLSThreadDisplayContext();f=f==="ChatTab";var g=a.title;if(g==null)throw c("FBLogger")("messenger_web_product").mustfixThrow("Template title is null for MWXMAV2AttachmentCompactGenericTemplate");e!=null&&(e.addPoint("render-xma-v2-template"),e.endSuccess());e=a.subtitle;var h=a.metadata;b=b.default_cta;var m=a.accessory;return i.jsx(c("MWXMAV2PressableWrapper.react"),{cta:b,children:i.jsxs(c("MWXRow.react"),{paddingHorizontal:12,paddingVertical:12,spacing:0,verticalAlign:"center",xstyle:[j.root,!f&&j.cardWidth,f&&j.cardWidthChatTab],children:[i.jsx(c("MWXRowItem.react"),{expanding:!1,children:i.jsx(k,{preview:a.preview})}),i.jsx(c("MWXRowItem.react"),{expanding:!0,children:i.jsxs(c("MWXColumn.react"),{spacing:8,children:[i.jsx(c("MWXColumnItem.react"),{children:i.jsx(c("MWXText.react"),{color:"primary",numberOfLines:1,type:"headlineEmphasized5",children:g})}),e!=null&&i.jsx(c("MWXColumnItem.react"),{children:i.jsx(c("MWXText.react"),{color:"secondary",numberOfLines:1,type:"body4",children:e})}),h!=null&&i.jsx(c("MWXColumnItem.react"),{children:i.jsx(c("MWXText.react"),{color:"secondary",numberOfLines:1,type:"body4",children:h})})]})}),i.jsx(c("MWXRowItem.react"),{xstyle:j.accessory_container,children:i.jsx(l,{accessory:m})})]})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWXMAV2AttachmentStandardGenericTemplate.react",["fbt","ix","CometPageVerificationIcon.react","MSGDataclassTypes.flow","MWLSThreadDisplayContext","MWXColumn.react","MWXColumnItem.react","MWXImage.react","MWXMAV2PressableWrapper.react","MWXRow.react","MWXRowItem.react","MWXText.react","isStringNullOrWhitespaceOnly","react","stylex"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j,k,l=j||c("react"),m={cardOverlayWidth:{width:"xg7gh6y",$$css:!0},cardOverlayWidthChatTab:{width:"xrostsh",$$css:!0},cardWidth:{width:"xafpxmx",$$css:!0},cardWidthChatTab:{width:"xzjbwwf",$$css:!0},header_image_style_circle:{borderTopStartRadius:"x14yjl9h",borderTopEndRadius:"xudhj91",borderBottomEndRadius:"x18nykt9",borderBottomStartRadius:"xww2gxu",height:"xxk0z11",objectFit:"xl1xv1r",width:"xvy4d1p",$$css:!0},previewGradientTop:{background:"xnvtxd0",height:"x1jjfqgs",position:"x10l6tqk",start:"x17qophe",top:"x13vifvy",width:"xh8yej3",$$css:!0},previewGradientTopGrid:{background:"xo90atz",height:"x10vz0mv",width:"xh8yej3",$$css:!0},rootOverlay:{aspectRatio:"x15jox0q",$$css:!0},templateRoot:{backgroundColor:"x1xr0vuk",height:"x5yr21d",$$css:!0}},n={image:{objectFit:"xl1xv1r",$$css:!0},imageContainer:{display:"x78zum5",overflowX:"x6ikm8r",overflowY:"x10wlt62",position:"x1n2onr6",width:"xh8yej3",$$css:!0},imageMaxHeight:{maxHeight:"x1csiy34",$$css:!0},imageMaxHeightChatTab:{maxHeight:"xl8z2ie",$$css:!0},threeImages:{aspectRatio:"x1plog1",width:"xfhlp2a",$$css:!0},twoImages:{aspectRatio:"x1plog1",width:"x3hqpx7",$$css:!0}};function o(a){var b=a.isChatTab,d=a.isOverlayOrVideo,e=a.mediaUrls;a=a.totalMediaCount;var f=e.length,g=a-3;return l.jsx("div",babelHelpers["extends"]({className:"x1ned7t2 x78zum5 x1q0g3np x5yr21d xh8yej3"},{children:e.slice(0,3).map(function(a,e){return l.createElement("div",babelHelpers["extends"]({},(k||(k=c("stylex"))).props([n.imageContainer,!d&&(b?n.imageMaxHeightChatTab:n.imageMaxHeight),f===2&&n.twoImages,f>2&&n.threeImages]),{key:e}),l.jsx(c("MWXImage.react"),{src:a,width:"100%",xstyle:n.image}),e===2&&g>0&&l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"x1pincqn x5yr21d x10l6tqk x13vifvy xh8yej3"}),l.jsx("div",babelHelpers["extends"]({className:"x10l6tqk xtzzx4i xwa60dl x11lhmoz x1vjfegm"},{children:l.jsx(c("MWXText.react"),{color:"white",type:"headlineEmphasized4",children:h._(/*BTDS*/"__JHASH__D8-T7lc2snd__JHASH__",[h._param("value",g)])})}))]}))})}))}o.displayName=o.name+" [from "+f.id+"]";function p(a){var b=a.body,d=a.header,e=a.isChatTab,f=a.isOverlayOrVideo;a=a.preview;if((a==null?void 0:a.__typename)==null)return l.jsx(q,{hasPreview:!1,header:d,titleColor:"primary"});var g=[];switch(a==null?void 0:a.__typename){case"XMSGXmaStandardGenericMultiMediaPreview":var h;g=a==null?void 0:(h=a.medias)==null?void 0:h.map(function(a){return a.url}).filter(Boolean);case"XMSGXmaStandardGenericVideoPreview":h=a==null?void 0:(h=a.preview)==null?void 0:h.url;h!=null&&(g=[h])}if(!g||g.length===0)return l.jsx(q,{hasPreview:!1,header:d,titleColor:"primary"});h=b==null?void 0:b.source_decoration_type;b=b==null?void 0:b.source_text;return l.jsxs("div",babelHelpers["extends"]({className:"x1jfb8zj x5yr21d x1n2onr6"},{children:[l.jsx(o,{isChatTab:e,isOverlayOrVideo:f,mediaUrls:g,totalMediaCount:(e=a==null?void 0:a.total_media_count)!=null?e:g.length}),d!=null&&l.jsxs(l.Fragment,{children:[l.jsx("div",babelHelpers["extends"]({},(k||(k=c("stylex"))).props(m.previewGradientTop,g.length>2&&m.previewGradientTopGrid))),l.jsx("div",babelHelpers["extends"]({className:"x10l6tqk x17qophe x13vifvy xh8yej3"},{children:l.jsx(q,{hasPreview:!0,header:d,titleColor:"white"})}))]}),!c("isStringNullOrWhitespaceOnly")(b)&&b!=null&&l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"xudvloq x1ey2m1c x1jjfqgs x10l6tqk x17qophe xh8yej3"}),l.jsx("div",babelHelpers["extends"]({className:"xn0vg7t x10l6tqk xoie2o3"},{children:l.jsx(s,{paddingTop:0,placement:"overlay",sourceText:b,subtitleDecorationType:h})}))]})]}))}p.displayName=p.name+" [from "+f.id+"]";function q(a){var b,e=a.hasPreview,f=a.header;a=a.titleColor;if(f==null)return null;var g=f.verified_type===d("MSGDataclassTypes.flow").XmsgXmaVerifiedType.Default;b=(b=f.image)==null?void 0:b.url;f=f.title;return l.jsxs("div",babelHelpers["extends"]({className:"x6s0dn4 xfex06f x78zum5 x1nhvcw1 xz9dl7a xn6708d x18d9i69 x1ye3gou"},{children:[b!=null&&!c("isStringNullOrWhitespaceOnly")(b)&&l.jsx(c("MWXImage.react"),{src:b,xstyle:m.header_image_style_circle}),!c("isStringNullOrWhitespaceOnly")(f)&&f!=null&&l.jsx(c("MWXText.react"),{color:a,numberOfLines:1,type:"headlineEmphasized4",children:f}),g&&l.jsx(c("CometPageVerificationIcon.react"),{isInverted:e,size:"small",verificationBadge:"BLUE_VERIFIED"})]}))}q.displayName=q.name+" [from "+f.id+"]";function r(a){var b;a=a.body;var d=c("isStringNullOrWhitespaceOnly")(a.title),e=c("isStringNullOrWhitespaceOnly")(a.subtitle);e=!d&&!e?8:0;return l.jsxs(c("MWXColumn.react"),{expanding:!0,paddingHorizontal:12,paddingVertical:12,children:[a.title!=null&&l.jsx(c("MWXColumnItem.react"),{children:l.jsx(c("MWXText.react"),{color:"primary",numberOfLines:(b=a.max_title_num_lines)!=null?b:3,type:"headlineEmphasized4",children:a.title})}),l.jsxs(c("MWXColumn.react"),{expanding:!0,paddingTop:d?0:8,verticalAlign:"bottom",children:[a.subtitle!=null&&l.jsx(c("MWXColumnItem.react"),{children:l.jsx(c("MWXText.react"),{color:"secondary",numberOfLines:(b=a.max_subtitle_num_lines)!=null?b:3,type:"body4",children:a.subtitle})}),a.source_text!=null&&l.jsx(c("MWXColumnItem.react"),{children:l.jsx(s,{paddingTop:e,placement:"body",sourceText:a.source_text,subtitleDecorationType:a.source_decoration_type})})]})]})}r.displayName=r.name+" [from "+f.id+"]";function s(a){var b=a.paddingTop,e=a.placement,f=a.sourceText;a=a.subtitleDecorationType;e=e==="overlay";var g=null;if(a!=null)switch(a){case d("MSGDataclassTypes.flow").XmsgXmaSubtitleDecorationType.FacebookIcon:a=e?i("845914"):i("845912");g=l.jsx(c("MWXImage.react"),{src:a});break;default:break}return l.jsxs(c("MWXRow.react"),{align:"start",paddingHorizontal:0,paddingTop:b,spacing:4,verticalAlign:"center",children:[g!=null&&l.jsx(c("MWXRowItem.react"),{children:g}),!c("isStringNullOrWhitespaceOnly")(f)&&f!=null&&l.jsx(c("MWXRowItem.react"),{children:l.jsx(c("MWXText.react"),{color:e?"white":"secondary",numberOfLines:1,type:"body4",children:f})})]})}s.displayName=s.name+" [from "+f.id+"]";function a(a){var b=a.content,e=a.mediaRenderQpl;a=a.template;var f=d("MWLSThreadDisplayContext").useMWLSThreadDisplayContext();f=f==="ChatTab";e!=null&&(e.addPoint("render-xma-v2-template"),e.endSuccess());e=((e=a.config)==null?void 0:e.body_layout_type)===d("MSGDataclassTypes.flow").XmsgXmaStandardGenericBodyLayoutType.Overlay;var g=a.body,h=a.header;a=a.preview;b=b.default_cta;var i=e||(a==null?void 0:a.__typename)==="XMSGXmaStandardGenericVideoPreview";return l.jsx(c("MWXMAV2PressableWrapper.react"),{cta:b,children:l.jsxs(c("MWXColumn.react"),{expanding:!0,xstyle:[m.templateRoot,!f&&(i?m.cardOverlayWidth:m.cardWidth),f&&(i?m.cardOverlayWidthChatTab:m.cardWidthChatTab),i&&m.rootOverlay],children:[(h!=null||a!=null)&&l.jsx(c("MWXColumnItem.react"),{expanding:a!=null,children:l.jsx(p,{body:e?g:null,header:h,isChatTab:f,isOverlayOrVideo:i,preview:a})}),!e&&g!=null&&l.jsx(c("MWXColumnItem.react"),{expanding:a==null,children:l.jsx(r,{body:g})})]})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("MWXMAV2LiveLocationTemplate.react",["fbt","ix","MSGDataclassTypes.flow","MWLSThreadDisplayContext","MWXButton.react","MWXColumn.react","MWXColumnItem.react","MWXImage.react","MWXRow.react","MWXRowItem.react","MWXText.react","formatDate","react"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j,k=j||c("react"),l={cardWidth:{width:"xafpxmx",$$css:!0},cardWidthChatTab:{width:"xzjbwwf",$$css:!0},locationIcon:{height:"x10w6t97",width:"x1td3qas",$$css:!0},templateRoot:{backgroundColor:"x1xr0vuk",height:"x5yr21d",$$css:!0}};function m(a){a=a.eventTimestamp;a=c("formatDate")(new Date(a),{future:"g:ia",older:"m/d/Y g:ia",thisYear:"M jS, g:ia",today:"g:ia",withinWeek:"D g:ia"});return k.jsx(c("MWXColumnItem.react"),{children:k.jsx(c("MWXRowItem.react"),{children:k.jsxs(c("MWXColumn.react"),{spacing:8,children:[k.jsx(c("MWXColumnItem.react"),{children:k.jsx(c("MWXText.react"),{color:"primary",numberOfLines:1,type:"headlineEmphasized5",children:h._(/*BTDS*/"__JHASH__NKK2iBIRhq___JHASH__")})}),k.jsx(c("MWXColumnItem.react"),{children:k.jsx(c("MWXText.react"),{color:"secondary",numberOfLines:1,type:"body4",children:h._(/*BTDS*/"__JHASH__gEMI5Rahtiw__JHASH__",[h._param("endDate",a)])})})]})})})}m.displayName=m.name+" [from "+f.id+"]";function n(){var a;return k.jsxs(c("MWXColumn.react"),{paddingHorizontal:0,paddingVertical:0,spacing:8,children:[k.jsx(a=c("MWXColumnItem.react"),{children:k.jsxs(c("MWXRow.react"),{align:"start",paddingHorizontal:0,paddingVertical:0,spacing:8,verticalAlign:"center",children:[k.jsx(c("MWXRowItem.react"),{children:k.jsx(c("MWXImage.react"),{src:i("293343"),xstyle:l.locationIcon})}),k.jsx(c("MWXRowItem.react"),{children:k.jsxs(c("MWXColumn.react"),{spacing:4,children:[k.jsx(a,{children:k.jsx(c("MWXText.react"),{color:"primary",numberOfLines:1,type:"headlineEmphasized5",children:h._(/*BTDS*/"__JHASH__MWpZWJkzLWg__JHASH__")})}),k.jsx(a,{children:k.jsx(c("MWXText.react"),{color:"secondary",numberOfLines:1,type:"meta4",children:h._(/*BTDS*/"__JHASH__jsGOlCm0rF7__JHASH__")})})]})})]})}),k.jsx(a,{children:k.jsx(c("MWXButton.react"),{label:h._(/*BTDS*/"__JHASH__C5Ftlp8cn2q__JHASH__"),type:"secondary"})})]})}n.displayName=n.name+" [from "+f.id+"]";function a(a){var b=a.mediaRenderQpl;a=a.template;var e=d("MWLSThreadDisplayContext").useMWLSThreadDisplayContext();e=e==="ChatTab";var f=a.location_metadata.session_state===d("MSGDataclassTypes.flow").XmsgXmaLiveLocationSessionState.Ended;a=Number(a.location_metadata.event_timestamp_ms);b!=null&&(b.addPoint("render-xma-v2-template"),b.endSuccess());return k.jsx(c("MWXColumn.react"),{paddingHorizontal:12,paddingVertical:12,xstyle:[l.templateRoot,!e&&l.cardWidth,e&&l.cardWidthChatTab],children:f?k.jsx(m,{eventTimestamp:a}):k.jsx(n,{})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("MWXMAV2AttachmentTemplateWrapper.react",["FBLogger","MAWIsLiveLocationXmaEnabled","MWXMAV2AttachmentBloksTemplate.react","MWXMAV2AttachmentCompactGenericTemplate.react","MWXMAV2AttachmentStandardGenericTemplate.react","MWXMAV2LiveLocationTemplate.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react")),j=h.useEffect;function a(a){var b=a.content,e=a.mediaRenderQpl;j(function(){e==null?void 0:e.addPoint("render-xma-v2-template")},[e]);a=b.custom_template_data;if(a==null)throw c("FBLogger")("messenger_web_sharing").mustfixThrow("Unexpected null custom_template_data for XMA 2.0");var f=null;switch(a.__typename){case"XMSGXmaStandardGenericTemplateData":f=i.jsx(c("MWXMAV2AttachmentStandardGenericTemplate.react"),{content:b,mediaRenderQpl:e,template:a});break;case"XMSGXmaCompactGenericTemplateData":f=i.jsx(c("MWXMAV2AttachmentCompactGenericTemplate.react"),{content:b,mediaRenderQpl:e,template:a});break;case"XMSGXmaBloksTemplateData":f=i.jsx(c("MWXMAV2AttachmentBloksTemplate.react"),{mediaRenderQpl:e,template:a});break;case"XMSGXmaLocationTemplateData":d("MAWIsLiveLocationXmaEnabled").isLiveLocationXmaEnabled()&&(f=i.jsx(c("MWXMAV2LiveLocationTemplate.react"),{mediaRenderQpl:e,template:a}))}if(f==null)throw c("FBLogger")("messenger_web_sharing").mustfixThrow("Unsupported XMA 2.0 template type %s",a.__typename);return f}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MessagingACSClientTokenStoreContext.react",["react"],(function(a,b,c,d,e,f,g){"use strict";var h;a=(h||d("react")).createContext;b=a(null);g.MessagingACSClientTokenStoreContext=b}),98);
__d("useIssueXMAReceiverFetchTask",["FBLogger","Int64Hooks","LSAnonymizedMsgrWebE2EEXmaReceiverFetchDispatchStoredProcedure","LSFactory","LSIntEnum","LSXmaContentType","MAWReceiverFetchQPLLogger","MessagingACSClientTokenStoreContext.react","Promise","cr:8567","gkx","promiseDone","react","useAsyncReStore","useXMAPreviewsDisabledSetting"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j;e=j||d("react");var k=e.useContext,l=e.useRef;function m(a,e,g,i){if(g==null){d("MAWReceiverFetchQPLLogger").logFailure(e,"RECEIVER_FECH_PARAMS_IS_NULL","xmaReceiverFetchParams is null");return(h||(h=b("Promise"))).resolve()}d("MAWReceiverFetchQPLLogger").logPreviewFetchStart(e);if(b("cr:8567"))return b("cr:8567").fetchGraphQLXMAReceiverFetchData(a,e,g,i);var j=c("gkx")("8698");return a.runInTransaction(function(a){return c("LSAnonymizedMsgrWebE2EEXmaReceiverFetchDispatchStoredProcedure")(c("LSFactory")(a),{contentRef:g,messageId:e,videoPsProductHoldout2024h2Launch:j})},"readwrite",void 0,void 0,f.id+":61")}function a(a,b,e,f){var g=c("useAsyncReStore")(),h=c("useXMAPreviewsDisabledSetting")(),j=l(!1),n=k(d("MessagingACSClientTokenStoreContext.react").MessagingACSClientTokenStoreContext);d("Int64Hooks").useEffectInt64(function(){if(e==null||(i||(i=d("LSIntEnum"))).toNumber(e)!==c("LSXmaContentType").MSG_RECEIVER_FETCH||h||j.current)return;f==null?void 0:f.addPoint("xma_receiver_fetch_task_start");j.current=!0;d("MAWReceiverFetchQPLLogger").logReceiverFetchXMAStartQPL(a);c("promiseDone")(g,function(c){return m(c,a,b,n)},function(b){f==null?void 0:f.endFail("xma_receiver_fetch_task_fail"),d("MAWReceiverFetchQPLLogger").logFailure(a,"RECEIVER_FETCH_TASK_FAILURE",b),c("FBLogger")("messenger_web_sharing").catching(b).warn("Failed to issue receiver fetch task on mount")})},[g,a,b,h,e,f,n])}g["default"]=a}),98);
__d("MWXMAV2ReceiverFetchPlaceholder.react",["CometHeroHoldTrigger.react","FBLogger","MWChatTypingIndicator.react","MWPMessageListAttachmentContainer.react","MWV2ChatBubbleContainer.react","MWV2ChatText.react","MWXMessageBubble.react","react","useIssueXMAReceiverFetchTask"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react"),j={unsetWidth:{width:"x4pn7vq",$$css:!0}};function k(a){a=a.props;var b=a.connectBottom,d=a.connectTop,e=a.message,f=a.outgoing;a=a.receiverFetchParams;e=babelHelpers["extends"]({},e,{text:a==null?void 0:a.actionUrl});return i.jsx(c("MWV2ChatBubbleContainer.react"),{connectBottom:b,connectTop:d,message:e,outgoing:f,precedesXMA:!1,children:i.jsx(c("MWV2ChatText.react"),{isSecureMessage:!1,message:e,outgoing:f})})}k.displayName=k.name+" [from "+f.id+"]";function l(a){a=a.props;var b=a.connectBottom,d=a.connectTop,e=a.mediaRenderQpl,f=a.message;a=a.outgoing;e==null?void 0:e.addPoint("fetch_xma_data_receiver_fetch");return i.jsx(c("MWPMessageListAttachmentContainer.react"),{connectTop:d,message:f,outgoing:a,xstyle:j.unsetWidth,children:i.jsxs(c("MWXMessageBubble.react"),{align:a?"right":"left",color:"incoming",connectBottom:b,connectTop:d,children:[i.jsx(c("MWChatTypingIndicator.react"),{}),i.jsx(c("CometHeroHoldTrigger.react"),{description:"MAWSecureAttachment.receiver_fetch.typing_indicator",hold:!0})]})})}l.displayName=l.name+" [from "+f.id+"]";function m(a){a=a.props;var b=a.isFbXmaAndDisabled,d=a.isXmaReceiverFetchFallback,e=a.mediaRenderQpl,f=a.message,g=a.receiverFetchParams;c("useIssueXMAReceiverFetchTask")(f.messageId,g==null?void 0:g.xmaReceiverFetchParams,g==null?void 0:g.xmaContentType,e);if(b||d){e==null?void 0:e.addPoint("render_rf_xma_fallback");b?e==null?void 0:e.endSuccess():d&&(e==null?void 0:e.endFail("fetch_xma_data_receiver_fetch_failed"));return i.jsx(k,{props:a})}return i.jsx(l,{props:a})}m.displayName=m.name+" [from "+f.id+"]";function a(a){var b=a.message,d=a.receiverFetchParams;if(b==null||d==null){var e;(e=a.mediaRenderQpl)==null?void 0:e.endFail("missing_message_or_receiver_fetch_params");throw c("FBLogger")("messenger_web_sharing").mustfixThrow("Missing message or receiver fetch params in placeholder")}return i.jsx(m,{props:babelHelpers["extends"]({},a,{message:b,receiverFetchParams:d})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWXMAV2AttachmentContainer.react",["CometErrorBoundary.react","FBLogger","LSIntEnum","LSXmaContentType","MAWIsFBXMA","MAWSecurePlaceholder.react","MWChatBubbleEmphasisRing.react","MWUnsupportedXMA.react","MWXMAV2AttachmentLayoutWrapper.react","MWXMAV2AttachmentTemplateWrapper.react","MWXMAV2ReceiverFetchPlaceholder.react","react","vulture"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||c("react");function k(a){var b=a.children,d=a.connectBottom,e=a.connectTop,f=a.flattenTop,g=a.hasEmphasisRing;a=a.outgoing;c("vulture")("2oVVdh1JhZe");return j.jsxs(j.Fragment,{children:[!f&&e?j.jsx("div",{className:"x1eb86dx x36qwtl xh8yej3"}):null,g===!0?j.jsx("div",{className:"x1rg5ohu",children:j.jsx(c("MWChatBubbleEmphasisRing.react"),{connectBottom:d,connectTop:e,outgoing:a,precedesXMA:!1,children:b})}):b]})}k.displayName=k.name+" [from "+f.id+"]";function a(a){c("vulture")("1II7Fo7jp9C");var b=a.connectBottom,d=a.connectTop,e=a.currentUserID,f=a.flattenTop,g=a.hasEmphasisRing,h=a.mediaRenderQpl,i=a.message,m=a.outgoing;return j.jsx(k,{connectBottom:b,connectTop:d,flattenTop:f,hasEmphasisRing:g,outgoing:m,children:j.jsx(c("CometErrorBoundary.react"),{fallback:function(){if(e!=null&&i!=null)return j.jsx(c("MAWSecurePlaceholder.react"),{actorId:e,message:i});else return j.jsx(c("MWUnsupportedXMA.react"),{mediaRenderQpl:h,nextMessage:null,prevMessage:null})},children:j.jsx(l,babelHelpers["extends"]({},a))})})}a.displayName=a.name+" [from "+f.id+"]";function l(a){var b=a.connectBottom,e=a.connectTop,f=a.flattenTop,g=a.mediaRenderQpl,i=a.message,k=a.outgoing,l=a.receiverFetchParams;a=a.xmaDataclass;c("vulture")("1VE0XhU7JHk");var m=(l==null?void 0:l.isReceiverFetchXma)===!0&&a==null,n=(l==null?void 0:l.xmaContentType)!=null&&(h||(h=d("LSIntEnum"))).toNumber(l.xmaContentType)===c("LSXmaContentType").MSG_RECEIVER_FETCH_FALLBACK,o=(l==null?void 0:l.xmaPreviewsDisabled)===!0&&d("MAWIsFBXMA").isFBXMA(l==null?void 0:l.xmaContentType);if(m||o||n)return j.jsx(c("MWXMAV2ReceiverFetchPlaceholder.react"),{connectBottom:b,connectTop:e,isFbXmaAndDisabled:o,isXmaReceiverFetchFallback:n,mediaRenderQpl:g,message:i,outgoing:k,receiverFetchParams:l});if(a==null)throw c("FBLogger")("messenger_web_sharing").mustfixThrow("Unexpected null xmaDataclass for XMA 2.0");m=a.layout_type;if(m==null)throw c("FBLogger")("messenger_web_sharing").mustfixThrow("Unexpected null layout_type for XMA 2.0");o=a.content;if(o==null)throw c("FBLogger")("messenger_web_sharing").mustfixThrow("Unexpected null content for XMA 2.0");if((o==null?void 0:o.__typename)==="XMSGXmaBloksContent")throw c("FBLogger")("messenger_web_product").mustfixThrow("XMSGXmaBloksContent is unsupported, Bloks XMAs should be using XMA 2.0");n=(o==null?void 0:o.__typename)==="XMSGXmaSingleContent"?[o]:o.list;i=a.layout_extension;return j.jsx("div",babelHelpers["extends"]({className:"x1eb86dx x78zum5"},{children:j.jsx(c("MWXMAV2AttachmentLayoutWrapper.react"),{connectBottom:b,connectTop:e,flattenTop:f,layoutExtension:i,layoutType:m,mediaRenderQpl:g,outgoing:k,children:n.map(function(a,b){return j.jsx(c("MWXMAV2AttachmentTemplateWrapper.react"),{content:a,mediaRenderQpl:g},b)})})}))}l.displayName=l.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWMessageRowAttachment.react",["I64","LSIntEnum","MWMessageListAttachmentContainer.react","MWPActor.react","MWUnsupportedXMA.react","MWXMAV2AttachmentContainer.react","MetaConfig","gkx","react","useXMAPreviewsDisabledSetting","useXMAV2Provider"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=h||d("react");function a(a){var b,e=a.attachments,f=a.connectBottom,g=a.connectTop,h=a.hasMessageEmphasisRing,l=a.hasText,m=a.isSearchPluginAttachment,n=a.isSecureMessage,o=a.mediaRenderQpl,p=a.message,q=a.navigateToRouteForMediaViewer,r=a.nextMessage,s=a.outgoing,t=a.prevMessage;a=a.renderAttachment;var u=d("MWPActor.react").useActor(),v=c("useXMAV2Provider")(e,n),w=c("useXMAPreviewsDisabledSetting")();if(m){o==null?void 0:o.endSuccess();return null}m=(i||(i=d("I64"))).equal(p.displayedContentTypes,(j||(j=d("LSIntEnum"))).ofNumber(536870912));w={actionUrl:(b=e[0])==null?void 0:b.actionUrl,isReceiverFetchXma:m,messageId:p.messageId,xmaContentType:(b=e[0])==null?void 0:b.xmaContentType,xmaPreviewsDisabled:w,xmaReceiverFetchParams:(b=e[0])==null?void 0:b.receiverFetchId};if(v!=null||m&&c("gkx")("7835"))return k.jsx(c("MWXMAV2AttachmentContainer.react"),{connectBottom:f,connectTop:g,currentUserID:u,flattenTop:l,hasEmphasisRing:h,mediaRenderQpl:o,message:p,outgoing:s,receiverFetchParams:w,xmaDataclass:v});return a!=null&&n?a(p,t,r,s,l,o):(i||(i=d("I64"))).to_string(p.threadKey)===c("MetaConfig")._("83")&&!s&&c("gkx")("5131")?k.jsx(c("MWUnsupportedXMA.react"),{mediaRenderQpl:o,nextMessage:r,prevMessage:t}):k.jsx(c("MWMessageListAttachmentContainer.react"),{connectBottom:f,connectTop:g,hasEmphasisRing:h,hasText:l,mediaRenderQpl:o,message:p,navigateToRouteForMediaViewer:q,outgoing:s})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWPMessageFooter.react",["react","stylex","vulture"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||(i=d("react")),k=i.Children,l={container:{backgroundColor:"x1eb86dx",display:"x78zum5",height:"xmix8c7",justifyContent:"x13a6bvl",position:"x1n2onr6",width:"xh8yej3",zIndex:"x1vjfegm",$$css:!0},items:{display:"x78zum5",transform:"x11z5cog",$$css:!0}};function a(a){var b=a.children,d=a.itemsXstyle,e=a.outgoing;a=a.xstyle;c("vulture")("8JoDETWpFID");b=k.toArray(b).filter(Boolean);return b.length===0?null:j.jsxs("div",babelHelpers["extends"]({},(h||(h=c("stylex"))).props(l.container,a),{role:"none",children:[b.map(function(a,b){return j.createElement("div",babelHelpers["extends"]({},(h||(h=c("stylex"))).props(l.items,d),{key:""+b,role:"none"}),a)}),e?null:j.jsx("div",babelHelpers["extends"]({className:"x1ohifd9 x1c4vz4f xs83m0k"},{role:"none"}))]}))}a.displayName=a.name+" [from "+f.id+"]";g.MWPMessageFooter=a}),98);
__d("MWPMessageLoggingWrapper.react",["CometHeroInteractionWithDiv.react","MWChatInteraction","react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||d("react");function a(a){var b=a.children,e=a.messageId,f=a.optimisticAttachmentId,g=a.optimisticMessageId;a=a.xstyle;e=d("MWChatInteraction").get(e);g=d("MWChatInteraction").get(g);f=f!=null?d("MWChatInteraction").get(f):null;g=(e=(e=e)!=null?e:g)!=null?e:f;if(g==null)return j.jsx("div",babelHelpers["extends"]({},(h||(h=c("stylex"))).props(a),{children:b}));else return j.jsx(c("CometHeroInteractionWithDiv.react"),{interactionDesc:"MESSAGE_RENDER",interactionUUID:g,pageletName:"Message",xstyle:a,children:b})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWV2ChatUnsupportedMessage.react",["fbt","FBLogger","MWV2TombstonedMessage.react","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react");function a(a){a=a.isOutgoing;c("FBLogger")("messenger_browser_clients").warn("Unsupported message type");var b=h._(/*BTDS*/"__JHASH__pL9gn5HLY3n__JHASH__");return j.jsx(c("MWV2TombstonedMessage.react"),{isOutgoing:a,children:b})}a.displayName=a.name+" [from "+f.id+"]";g.MWV2ChatUnsupportedMessage=a}),226);
__d("MWMessageRowMessageComponent.react",["CometErrorBoundary.react","GroupsCometChatsEngagementLogger","I64","Int64Hooks","LSMessagingThreadTypeUtil","MWBlockedTombstoneMessage.react","MWBlockingProtectionLogging","MWClickedMessageContext.react","MWGroupBlockingProtectionUtils","MWMessageReactionsContainer.react","MWMessageRowAttachment.react","MWPBaseMessage.react","MWPMessageFooter.react","MWPMessageLoggingWrapper.react","MWPMessageReactions.react","MWV2ChatBubbleContainer.react","MWV2ChatEmoji.react","MWV2ChatErrorBubble.react","MWV2ChatText.react","MWV2ChatUnsentMessage.react","MWV2ChatUnsupportedMessage.react","MWV2MessageTimestampTooltip.react","MWXPressable.react","MetaConfig","ReQL","asyncToGeneratorRuntime","cr:120","justknobx","mwpMessageIsReply","promiseDone","react","useIsMultiReactionEnabled","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=j||(j=d("react"));e=j;var l=e.memo,m=e.useEffect;function a(a){var e=a.attachments,f=a.hasClickState,g=f===void 0?!1:f,j=a.hasMessageEmphasisRing;f=a.isFirstMessageInGroup;var l=a.isLastMessageInGroup,n=a.isSearchPluginAttachment,o=a.isSecureMessage,p=a.mediaRenderQpl,q=a.message,r=a.navigateToRouteForMediaViewer,s=a.nextMessage,t=a.offlineAttachmentId,u=a.outgoing,v=a.prevMessage,w=a.reactions,x=a.reactionsV2,y=a.renderAttachment;a=a.threadType;var z=c("MWClickedMessageContext.react").useHook(),A=z.clickedMessageId,B=z.fetchMessageSeenCount,C=z.hasError,D=z.setClickedMessageId,E=(h||(h=c("useReStore")))(),F=d("LSMessagingThreadTypeUtil").isDiscoverablePublicBroadcastChannel(a),G=d("useIsMultiReactionEnabled").useIsMultiReactEnabled(q.threadKey),H=c("mwpMessageIsReply")(q),I=d("Int64Hooks").useCallbackInt64(function(){if(window.getSelection().toString()!=="")return;c("promiseDone")(b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a=(yield d("ReQL").firstAsync(d("ReQL").fromTableAscending(E.tables.threads).getKeyRange(q.threadKey))),b=a==null?null:yield d("ReQL").firstAsync(d("ReQL").fromTableAscending(E.tables.community_folders).getKeyRange(a.parentThreadKey));a!=null&&b!=null&&d("GroupsCometChatsEngagementLogger").log({action:"tap",client_extras:{mid:q.messageId},community_id:(i||(i=d("I64"))).to_string(b.folderId),event:"render_seen_count",group_id:i.to_string(b.fbGroupId),source:"message_bubble",surface:"thread_view",thread_id:i.to_string(a.threadKey)});if(A===q.messageId&&!C)return D(null);else return B(q.threadKey,q.messageId,b)})())},[E,A,q.messageId,q.threadKey,C,D,B]),J=d("MWBlockingProtectionLogging").useLogTapToReviewAction(q);m(function(){p==null?void 0:p.addPoint("render-message-row-message-component",{bool:{is_chat_entity_thread:(i||(i=d("I64"))).to_string(q.threadKey)===c("MetaConfig")._("83"),is_message_row_message_componentrender_attachment_prop_set:y!=null,is_search_plugin:n,is_secure_message:o}})},[n,o,p,q.threadKey,y]);return k.jsx(c("CometErrorBoundary.react"),{fallback:function(){return k.jsx(c("MWV2ChatErrorBubble.react"),{isOutgoing:u,isReply:H})},children:k.jsx(c("MWPBaseMessage.react"),{checkEmoticon:!0,isFirstMessageInGroup:f,isLastMessageInGroup:l,isSearchPluginAttachment:n,isSecureMessage:o,mediaRenderQpl:p,message:q,nextMessage:s,outgoing:u,prevMessage:v,reactions:w,reactionsV2:x,renderAttachment:function(a,b,d){return k.jsx(c("MWMessageRowAttachment.react"),{attachments:e,connectBottom:b,connectTop:a,hasMessageEmphasisRing:j,hasText:d,isSearchPluginAttachment:n,isSecureMessage:o,mediaRenderQpl:p,message:q,navigateToRouteForMediaViewer:r,nextMessage:s,outgoing:u,prevMessage:v,renderAttachment:y})},renderEmoji:function(){return k.jsx(c("MWV2ChatEmoji.react"),{hasEmphasisRing:j,isSecureMessage:o,message:q})},renderMessageBubble:function(a,b,d,e){return k.jsx(c("MWV2ChatBubbleContainer.react"),{connectBottom:d,connectTop:b,hasEmphasisRing:j,message:q,outgoing:u,precedesXMA:e,children:k.jsx(c("MWV2ChatText.react"),{isSecureMessage:o,message:q,outgoing:u})})},renderMessageContainer:function(a,d){a=k.jsx(c("MWPMessageLoggingWrapper.react"),{messageId:q.messageId,optimisticAttachmentId:t,optimisticMessageId:q.offlineThreadingId,xstyle:d,children:F&&!c("justknobx")._("641")&&b("cr:120")?k.jsx(b("cr:120"),{message:q,children:a}):k.jsx(c("MWV2MessageTimestampTooltip.react"),{message:q,children:a})});return g?k.jsx(c("MWXPressable.react"),{onPress:I,overlayDisabled:!0,xstyle:d,children:a}):a},renderMessageFooter:function(){if(G)return null;var a=x!=null&&x.length>0;return k.jsx(d("MWPMessageFooter.react").MWPMessageFooter,{outgoing:u,children:!a&&w.length<1?null:k.jsx(d("MWPMessageReactions.react").MWPMessageReactions,{message:q,outgoing:u,reactions:w,reactionsV2:a?x:void 0,children:function(b,d,e,f,g){return k.jsx(c("MWMessageReactionsContainer.react"),{count:d,emojis:b,message:f,reactions:e,reactionsV2:a?x:void 0,threadKey:g})}})})},renderMessageFromBlockee:d("MWGroupBlockingProtectionUtils").useShouldEnableBlockingProtection(q.threadKey)?function(a){var b=function(){a(),J()};return k.jsx(d("MWBlockedTombstoneMessage.react").MWBlockedTombstoneMessage,{isLastMessageInGroup:l,messageId:q.messageId,onClick:b,source:d("MWBlockedTombstoneMessage.react").MWBlockedTombstoneMessageSource.ORIGINAL_MESSAGE})}:void 0,renderUnsentMessage:function(){return k.jsx(c("MWV2MessageTimestampTooltip.react"),{message:q,children:k.jsx(d("MWV2ChatUnsentMessage.react").MWV2ChatUnsentMessage,{isSecureMessage:o,message:q,outgoing:u})})},renderUnsupportedMessage:function(){return k.jsx(c("MWV2MessageTimestampTooltip.react"),{message:q,children:k.jsx(d("MWV2ChatUnsupportedMessage.react").MWV2ChatUnsupportedMessage,{isOutgoing:u})})}})})}a.displayName=a.name+" [from "+f.id+"]";e=l(a);g.MWMessageRowMessageComponent=e}),98);
__d("MWMessageSearchPluginMustache.react",["BaseView.react","CurrentUser","IGDWebUtils","MWPAttachmentDataContext","MWPMessageListColumn.react","MWSearchPluginUtils","MWXPressable.react","MWXText.react","MessengerWebUXLogger","react","useMWXLazyDialog"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));b=h;var j=b.useCallback,k=b.useMemo,l={root:{marginStart:"x16n37ib",$$css:!0}};function a(a){var b=a.attachment,e=a.botResponseId,f=a.dialogResource,g=a.flowInstanceId;a=a.isSearchSingleBubblePluginAttachment;a=a===void 0?!1:a;b=d("MWPAttachmentDataContext").useMWPGetAttachmentCTAs(b);var h=b.attachmentCta1;b=b.attachmentCta2;var m=h;h=a?h:b;var n=d("MWSearchPluginUtils").useSearchPluginSources(h==null?void 0:h.nativeUrl);b=d("IGDWebUtils").isInstagramWebSupportedApp(Number(c("CurrentUser").getAppID()));f=c("useMWXLazyDialog")(f);var o=f[0];f=b?"highlight":"blueLink";b=b?"bodyLink4":"body4";var p=k(function(){var a;return{extraData:{botResponseId:(a=e)!=null?a:""},flowInstanceId:g}},[e,g]),q=c("MessengerWebUXLogger").useImpressionLoggerRef(babelHelpers["extends"]({eventName:"search_plugin_attachment_rendered"},p)),r=c("MessengerWebUXLogger").useInteractionLogger(),s=j(function(){r==null?void 0:r(babelHelpers["extends"]({eventName:"search_plugin_see_more"},p))},[r,p]),t=j(function(){n!=null&&(r==null?void 0:r(babelHelpers["extends"]({eventName:"search_plugin_see_sources"},p)),o({botResponseId:e,sources:n}))},[e,p,r,o,n]);return i.jsxs(c("BaseView.react"),{ref:q,xstyle:l.root,children:[i.jsx(d("MWPMessageListColumn.react").MWPMessageListColumnVerticalRhythm,{height:4}),a?i.jsx("div",babelHelpers["extends"]({className:"x78zum5 x1q0g3np"},{children:i.jsx(c("MWXPressable.react"),{onPress:t,overlayDisabled:!0,children:i.jsx(c("MWXText.react"),{color:f,type:b,children:h!=null&&h.title})})})):i.jsxs("div",babelHelpers["extends"]({className:"x78zum5 x1q0g3np"},{children:[i.jsx(c("MWXPressable.react"),{linkProps:{url:m==null?void 0:m.actionUrl},onPress:s,overlayDisabled:!0,children:i.jsx(c("MWXText.react"),{color:f,type:b,children:m!=null&&m.title})}),i.jsx(c("MWXPressable.react"),{children:i.jsx(c("MWXText.react"),{color:"primary",type:"bodyLink4",children:"\xa0\xb7\xa0"})}),i.jsx(c("MWXPressable.react"),{onPress:t,overlayDisabled:!0,children:i.jsx(c("MWXText.react"),{color:f,type:b,children:h!=null&&h.title})})]})),i.jsx(d("MWPMessageListColumn.react").MWPMessageListColumnVerticalRhythm,{height:4})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWGeoblockMessageDialogQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="9750546464962674"}),null);
__d("MWGeoblockMessageDialogQuery$Parameters",["MWGeoblockMessageDialogQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a={kind:"PreloadableConcreteRequest",params:{id:b("MWGeoblockMessageDialogQuery_facebookRelayOperation"),metadata:{},name:"MWGeoblockMessageDialogQuery",operationKind:"query",text:null}};e.exports=a}),null);
__d("MWGeoblockMessageDialog.entrypoint",["JSResourceForInteraction","MWGeoblockMessageDialogQuery$Parameters"],(function(a,b,c,d,e,f,g){"use strict";a={getPreloadProps:function(a){a=a.threadID;return{queries:{queryReference:{parameters:c("MWGeoblockMessageDialogQuery$Parameters"),variables:{threadID:a}}}}},root:c("JSResourceForInteraction")("MWGeoblockMessageDialog.react").__setRef("MWGeoblockMessageDialog.entrypoint")};g["default"]=a}),98);
__d("MWMustacheMediaGroupAttachments.react",["fbt","BaseMiddot.react","MWPMessageListColumn.react","MWXLink.react","MWXText.react","react","stylex","useMAWBulkMediaDownloadManualRetry","vulture"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=j||d("react"),l={incoming:{paddingStart:"x1ye3gou",$$css:!0},outgoing:{alignSelf:"xpvyfi4",paddingEnd:"xn6708d",$$css:!0},row:{paddingBottom:"xwib8y2",paddingTop:"x1iorvi4",$$css:!0}};function a(a){var b=a.mediaGroupInfo,e=a.mediaRenderQpl;a=a.outgoing;c("vulture")("4Hl3J5iD8v8");e=c("useMAWBulkMediaDownloadManualRetry")(b.attachmentsToRetryDownload,e);return k.jsx(d("MWPMessageListColumn.react").MWPMessageListColumnWithGutters,{shrinkwrap:!0,children:k.jsx("div",babelHelpers["extends"]({},(i||(i=c("stylex"))).props(l.row,a?l.outgoing:l.incoming),{children:k.jsxs(c("MWXText.react"),{color:"negative",type:"meta4",children:[h._(/*BTDS*/"__JHASH__xlczHN0K-Kb__JHASH__",[h._param("errorQuantity",b.mediaDownloadErrorsCount),h._param("totalQuantity",b.groupSize)]),b.attachmentsToRetryDownload.length>0&&k.jsxs(k.Fragment,{children:[k.jsx(c("BaseMiddot.react"),{}),k.jsx(c("MWXLink.react"),{onClick:e,weight_DEPRECATED:"medium",children:h._(/*BTDS*/"__JHASH__BGxC_0TtXwE__JHASH__")})]})]})}))})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("useMAWMediaDownloadManualRetry",["react","useMAWBulkMediaDownloadManualRetry"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).useMemo;function a(a,b){var d=i(function(){return[a]},[a]);return c("useMAWBulkMediaDownloadManualRetry")(d,b)}g["default"]=a}),98);
__d("MWMustacheTextAttachmentError.react",["MAWMediaDownloadStatusUIStateType","MAWVideoAudioPlaybackErrorHandlerUtils","MWPMessageListColumn.react","MWXText.react","react","stylex","useMAWMediaDownloadManualRetry","vulture"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||d("react"),k={incoming:{alignSelf:"xqcrz7y",paddingStart:"x1ye3gou",$$css:!0},outgoing:{alignSelf:"xpvyfi4",$$css:!0},row:{paddingBottom:"xwib8y2",paddingTop:"x1iorvi4",$$css:!0}};function a(a){var b=a.attachment,e=a.downloadStatusUIState,f=a.mediaRenderQpl;a=a.outgoing;c("vulture")("1K7tIYAkW7S");f=c("useMAWMediaDownloadManualRetry")(b,f);b=d("MAWVideoAudioPlaybackErrorHandlerUtils").useGetMetadataForMediaNotRendered(b,d("MAWMediaDownloadStatusUIStateType").isRetryableErrorState(e),f);e=b.mediaStatusText;f=b.retryButton;return j.jsx(d("MWPMessageListColumn.react").MWPMessageListColumnWithGutters,{shrinkwrap:!0,children:j.jsx("div",babelHelpers["extends"]({},(h||(h=c("stylex"))).props(k.row,a?k.outgoing:k.incoming),{children:j.jsxs(c("MWXText.react"),{color:"negative",type:"meta4",children:[e,f]})}))})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWMustacheTextImpl.react",["MWPMessageListColumn.react","MWXLink.react","MWXText.react","react","stylex","vulture"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=h||c("react"),k={outgoing:{alignSelf:"xpvyfi4",$$css:!0},row:{marginTop:"x1anpbxc",marginBottom:"xyorhqc",$$css:!0}};function a(a){var b=a.label,e=a.onClick;a=a.outgoing;c("vulture")("aydR73H8osZ");return j.jsx(d("MWPMessageListColumn.react").MWPMessageListColumnWithGutters,{shrinkwrap:!0,children:j.jsx("div",babelHelpers["extends"]({},(i||(i=c("stylex"))).props(k.row,a&&k.outgoing),{children:e!=null?j.jsx(c("MWXText.react"),{color:"blueLink",type:"bodyLink4",children:j.jsx(c("MWXLink.react"),{onClick:e,children:b})}):j.jsx(c("MWXText.react"),{color:"blueLink",type:"bodyLink4",children:b})}))})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWMustacheTextInformTreatment.react",["fbt","$InternalEnum","MWCMElectionFactLabelDialog.entrypoint","MWCMElectionInformTreatmentDialog.entrypoint","MWCMInformTreatmentGenAITransparencyDialog.entrypoint","MWMustacheTextImpl.react","gkx","qex","react","useMWInformTreatmentFalcoEventLogger","useMWXEntryPointDialog"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||c("react"),k=b("$InternalEnum")({SEE_AI_INFO:"See AI info",SEE_ELECTION_INFO:"See election info"});function l(a){var b=a.message;a=a.outgoing;var d=c("useMWXEntryPointDialog")(c("MWCMElectionInformTreatmentDialog.entrypoint"),{message_id:b.messageId}),e=d[0],f=c("useMWInformTreatmentFalcoEventLogger")({message:b});d=c("gkx")("179");b=d?h._(/*BTDS*/"__JHASH__SS3w0sqMjQ7__JHASH__"):h._(/*BTDS*/"__JHASH__8dc_hiLyYbc__JHASH__");return j.jsx(c("MWMustacheTextImpl.react"),{label:b,onClick:function(){f("view_info_click",{name:"misinformation",type:"media_label"}),e({})},outgoing:a})}l.displayName=l.name+" [from "+f.id+"]";function m(a){var b=a.label,d=a.message;a=a.outgoing;var e=c("useMWXEntryPointDialog")(c("MWCMInformTreatmentGenAITransparencyDialog.entrypoint"),{}),f=e[0],g=c("useMWInformTreatmentFalcoEventLogger")({message:d});return j.jsx(c("MWMustacheTextImpl.react"),{label:b,onClick:function(){g("view_info_click",{name:"ai_generated_content",type:"media_label"}),f({})},outgoing:a})}m.displayName=m.name+" [from "+f.id+"]";function n(a){var b=a.label,d=a.messageId;a=a.outgoing;d=c("useMWXEntryPointDialog")(c("MWCMElectionFactLabelDialog.entrypoint"),{message_id:d});var e=d[0];return j.jsx(c("MWMustacheTextImpl.react"),{label:b,onClick:function(){return e({})},outgoing:a})}n.displayName=n.name+" [from "+f.id+"]";function a(a){var b,d=a.isPublicCMThread,e=a.message;a=a.outgoing;var f=e.metadataDataclass!=null?JSON.parse(e.metadataDataclass):null;if(f==null)return null;b=(b=f.mustache_cta)==null?void 0:b.title;if(d&&((d=f.misinfo_metadata)==null?void 0:d.has_misinfo))return j.jsx(l,{message:e,outgoing:a});else if(c("qex")._("1581")===!0&&b===k.SEE_AI_INFO)return j.jsx(m,{label:b,message:e,outgoing:a});else if(b===k.SEE_ELECTION_INFO)return j.jsx(n,{label:b,messageId:e.messageId,outgoing:a});return null}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("MWMustacheUnsupportedMediaAttachment.react",["MAWVideoAudioPlaybackErrorHandlerUtils","MWPMessageListColumn.react","MWXText.react","emptyFunction","react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||d("react"),k={incoming:{alignSelf:"xqcrz7y",paddingStart:"x1ye3gou",$$css:!0},outgoing:{alignSelf:"xpvyfi4",$$css:!0},row:{paddingBottom:"xwib8y2",paddingTop:"x1iorvi4",$$css:!0}};function a(a){var b=a.attachment;a=a.outgoing;b=d("MAWVideoAudioPlaybackErrorHandlerUtils").useGetMetadataForMediaNotRendered(b,!1,c("emptyFunction"));var e=b.downloadButton;b=b.mediaStatusText;return j.jsx(d("MWPMessageListColumn.react").MWPMessageListColumnWithGutters,{shrinkwrap:!0,children:j.jsx("div",babelHelpers["extends"]({},(h||(h=c("stylex"))).props(k.row,a?k.outgoing:k.incoming),{children:j.jsxs(c("MWXText.react"),{color:"tertiary",type:"meta4",children:[b,j.jsx(c("MWXText.react"),{color:"blueLink",type:"bodyLink4",children:e})]})}))})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWSupportTranslationsContext.react",["react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));c=h;var j=c.useContext,k=c.useMemo,l=c.useState,m={setShowToggleMustache:function(){},setShowUntranslatedText:function(){},showToggleMustache:!1,showUntranslatedText:!1},n=i.createContext(m);function a(a){var b,c=a.children;a=a.value;a=a===void 0?m:a;b=l((b=a==null?void 0:a.showUntranslatedText)!=null?b:!1);var d=b[0],e=b[1];a=l((b=a==null?void 0:a.showToggleMustache)!=null?b:!1);var f=a[0],g=a[1];b=k(function(){return{setShowToggleMustache:g,setShowUntranslatedText:e,showToggleMustache:f,showUntranslatedText:d}},[d,f]);return i.jsx(n.Provider,{value:b,children:c})}a.displayName=a.name+" [from "+f.id+"]";function b(){return j(n)}g.MWSupportTranslationsContextProvider=a;g.useMWSupportTranslationsContext=b}),98);
__d("useSupportTranslationsFetchDataLS",["ReQL","ReQLSuspense","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a){var b,e=(h||(h=c("useReStore")))();b=(b=d("ReQLSuspense").useFirst(function(){return d("ReQL").fromTableAscending(e.tables.support_translations,["sourceText"]).getKeyRange(a)},[e,a],f.id+":26"))!=null?b:{};b=b.sourceText;return b}g["default"]=a}),98);
__d("MWMustacheText",["fbt","I64","LSIntEnum","LSMessageTakedownState","MAWMediaDownloadStatusUIStateType","MWGeoblockMessageDialog.entrypoint","MWMustacheMediaGroupAttachments.react","MWMustacheTextAttachmentError.react","MWMustacheTextImpl.react","MWMustacheTextInformTreatment.react","MWMustacheUnsupportedMediaAttachment.react","MWPAttachmentDataContext","MWSupportTranslationsContext.react","MessagingAttachmentType","gkx","react","useGetMediaGroupInformation","useGroupsCometCMDisabledChatEntryPointDialog","useMAWMediaStatusUIState","useMWXEntryPointDialog","useShouldShowUnsupportedCodecFallback","useSupportTranslationsFetchDataLS"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k,l=i||d("react");function m(a){var b=a.attachment,e=a.isSecureMessage,f=a.mediaRenderQpl;a=a.outgoing;var g=c("useShouldShowUnsupportedCodecFallback")(b,f),i=(j||(j=d("I64"))).equal(b.attachmentType,(k||(k=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").XMA));e=c("useMAWMediaStatusUIState")(e&&!i?b:null,f);i=e.downloadStatus;e=e.validationResult;var m=d("MAWMediaDownloadStatusUIStateType").isErrorState(i);e=(e==null?void 0:e.validatedMimeType)==="invalid-mp4";m=m||e;if(i!=null&&m)return l.jsx(c("MWMustacheTextAttachmentError.react"),{attachment:b,downloadStatusUIState:i,mediaRenderQpl:f,outgoing:a});if(g)return l.jsx(c("MWMustacheUnsupportedMediaAttachment.react"),{attachment:b,outgoing:a});e=b.mustacheText;return e==null||e===""?null:l.jsx(c("MWMustacheTextImpl.react"),{label:h._(/*BTDS*/"__JHASH__fTQoFWqjgLD__JHASH__",[h._param("quoted text",e)]),outgoing:a})}m.displayName=m.name+" [from "+f.id+"]";function n(a){var b=a.outgoing,d=a.threadID;a=c("useGroupsCometCMDisabledChatEntryPointDialog")({isGeoBlocked:!0,threadID:d});var e=a[0];a=c("useMWXEntryPointDialog")(c("MWGeoblockMessageDialog.entrypoint"),{threadID:d});var f=a[0];return l.jsx(c("MWMustacheTextImpl.react"),{label:h._(/*BTDS*/"__JHASH__P-dEPoA1cwy__JHASH__"),onClick:function(){c("gkx")("5194")?f({threadID:d}):e({threadID:d})},outgoing:b})}n.displayName=n.name+" [from "+f.id+"]";function o(a){var b=a.isLastMessage,e=a.messageID;a=a.outgoing;var f=d("MWSupportTranslationsContext.react").useMWSupportTranslationsContext(),g=f.setShowUntranslatedText,i=f.showToggleMustache,j=f.showUntranslatedText;f=c("useSupportTranslationsFetchDataLS")(e);if(f==null)return null;return b||i?l.jsx(c("MWMustacheTextImpl.react"),{label:j?h._(/*BTDS*/"__JHASH__utVE8Q7pcEU__JHASH__"):h._(/*BTDS*/"__JHASH__kBXvWwvKjDy__JHASH__"),onClick:function(){g(!j)},outgoing:a}):null}o.displayName=o.name+" [from "+f.id+"]";function a(a){var b,e=a.isLastMessage,f=a.isPublicCMThread,g=a.isSecureMessage,h=a.mediaRenderQpl,i=a.message,p=a.outgoing;a=a.showSupportTranslationToggleMustache;b=(b=d("MWPAttachmentDataContext").useMWPGetAttachments(i))==null?void 0:b[0];var q=c("useGetMediaGroupInformation")(i,g,h),r=i.takedownState!=null&&(j||(j=d("I64"))).equal(i.takedownState,(k||(k=d("LSIntEnum"))).ofNumber(c("LSMessageTakedownState").GEO_BLOCKED));if(r)return l.jsx(n,{outgoing:p,threadID:(j||(j=d("I64"))).to_string(i.threadKey)});if(a&&!p)return l.jsx(o,{isLastMessage:e,messageID:i.messageId,outgoing:p});if(i.metadataDataclass!=null)return l.jsx(c("MWMustacheTextInformTreatment.react"),{isPublicCMThread:f,message:i,outgoing:p});else if(q!=null&&q.mediaDownloadErrorsCount>0)return l.jsx(c("MWMustacheMediaGroupAttachments.react"),{mediaGroupInfo:q,mediaRenderQpl:h,outgoing:p});else if(b!=null)return l.jsx(m,{attachment:b,isSecureMessage:g,mediaRenderQpl:h,outgoing:p});return null}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("MWPinnedMessageDropdownButton.react",["fbt","JSResourceForInteraction","MWXIconDots3Horizontal","MWXIconStrict.react","MWXLazyPopoverTrigger.react","MWXPressable.react","react","stylex"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=j||d("react"),l={button:{borderTopStartRadius:"xfh8nwu",borderTopEndRadius:"xoqspk4",borderBottomEndRadius:"x12v9rci",borderBottomStartRadius:"x138vmkv",height:"x10w6t97",width:"x1td3qas",$$css:!0},centered:{alignItems:"x6s0dn4",display:"x78zum5",justifyContent:"xl56j7k",$$css:!0},container:{height:"x5yr21d",paddingStart:"xurb0ha",$$css:!0},hidden:{visibility:"xlshs6z",$$css:!0}},m=c("JSResourceForInteraction")("MWPinnedMessageItemHoverDropdownMenu.react").__setRef("MWPinnedMessageDropdownButton.react");function a(a){var b=a.hidden,d=a.isSecureMessage,e=a.isSecureThread;a=a.message;return k.jsx("div",babelHelpers["extends"]({},(i||(i=c("stylex"))).props(l.container,l.centered,b&&l.hidden),{children:k.jsx(c("MWXLazyPopoverTrigger.react"),{popoverProps:{isSecureMessage:d,isSecureThread:e,message:a},popoverResource:m,popoverType:"menu",children:function(a,b){return k.jsx(c("MWXPressable.react"),{"aria-label":h._(/*BTDS*/"__JHASH__2-Q8CjJAjMD__JHASH__"),onPress:b,overlayRadius:"inherit",ref:a,xstyle:[l.button,l.centered],children:k.jsx(c("MWXIconStrict.react"),{color:"primary",icon:c("MWXIconDots3Horizontal"),size:16})})}})}))}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("useMWIsXMARoom",["ReQL","ReQLSuspense","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a){var b=(h||(h=c("useReStore")))(),e=d("ReQLSuspense").useFirst(function(){return d("ReQL").fromTableAscending(b.tables.attachments).getKeyRange(a.threadKey,a.messageId)},[b,a],f.id+":27");return(e==null?void 0:e.defaultCtaType)==="xma_web_url"&&(e==null?void 0:e.attachmentLoggingType)==="xma_open_native_rooms_invite"}g["default"]=a}),98);
__d("MWPinnedMessageRowFooterNUXWrapperRequireNUX.react",["MWMessageListDisplayContext.react","nux:344","react","useMWIsXMARoom","vulture","withCometPlaceholder"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react"),j=b("nux:344")==null?void 0:b("nux:344")("WEB_MSGR_PINNED_MESSAGES_NUX");function a(a){var b=a.isLastMessage,e=a.isOutgoing;a=a.message;c("vulture")("6zhGXjhMviP");var f=d("MWMessageListDisplayContext.react").useMWMessageListDisplayContext();f=f.isPinnedMessageList;var g=a.textHasLinks;a=c("useMWIsXMARoom")(a);e=!e&&(g||a)&&b&&!f;return!e?null:j?i.jsx(j,{}):null}a.displayName=a.name+" [from "+f.id+"]";e=d("withCometPlaceholder").withCometPlaceholder(a,null,"MWPinnedMessageRowFooterNUXWrapperRequireNUX");g["default"]=e}),98);
__d("useSupportMessagingGroupThreadSubtype.react",["I64","LSIntEnum","MessagingThreadSubtype","ReQL","ReQLSuspense","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j;function a(a){var b,e=(j||(j=c("useReStore")))();b=(b=d("ReQLSuspense").useFirst(function(){return d("ReQL").fromTableAscending(e.tables.threads,["threadSubtype"]).getKeyRange(a)},[e,a],f.id+":24"))!=null?b:{};b=b.threadSubtype;return b==null?!1:(h||(h=d("I64"))).equal(b,(i||(i=d("LSIntEnum"))).ofNumber(c("MessagingThreadSubtype").SUPPORT_MESSAGING_THREAD))}g.useSupportMessagingGroupThreadSubtype=a}),98);
__d("MWMessageRowBody.react",["CometErrorBoundary.react","CometPlaceholder.react","I64","JSResourceForInteraction","LSMessagingThreadTypeUtil","MAWOptimisticReactionUtils","MWClickedMessageContext.react","MWExtraPinnedMessagePadding.react","MWGroupBlockingProtectionUtils","MWMessageListDisplayContext.react","MWMessageListLoggingContext","MWMessagePromptPopoverTrigger.react","MWMessageReplyRow.react","MWMessageRowActions.react","MWMessageRowMessageComponent.react","MWMessageSearchPluginMustache.react","MWMustacheText","MWPAttachmentDataContext","MWPBaseMessageListRow.react","MWPMessageListColumn.react","MWPMessageParsingUtils","MWPMessageReactions.react","MWPinnedMessageDropdownButton.react","MWPinnedMessageOverlay.react","MWPinnedMessageRowFooterNUXWrapperRequireNUX.react","MWSearchPluginUtils","MWV2ChatErrorBubble.react","MWV2MessageProfilePhoto.react","cr:7237","deferredLoadComponent","gkx","isMWEditedMessage","justknobx","mwpIsMessageUnsupported","mwpMessageIsReply","qex","react","requireDeferredForDisplay","stylex","useGetMediaGroupInformation","useIsMultiReactionEnabled","useMAWSeparateReadsSelector","useSupportMessagingGroupThreadSubtype.react"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=i||d("react"),l=c("deferredLoadComponent")(c("requireDeferredForDisplay")("MWMessageReactionsContainerV2.react").__setRef("MWMessageRowBody.react")),m=c("deferredLoadComponent")(c("requireDeferredForDisplay")("MWPEditedMessageHistoryList.react").__setRef("MWMessageRowBody.react")),n=c("deferredLoadComponent")(c("requireDeferredForDisplay")("MWSupportTranslatedMessageTextWrapper.react").__setRef("MWMessageRowBody.react")),o={multiReactContainer:{display:"x78zum5",flexDirection:"x1q0g3np",$$css:!0},multiReactContainerOutgoing:{alignSelf:"xpvyfi4",$$css:!0}};function p(a){var b=a.attachments,e=a.isSearchSingleBubblePluginAttachment;a=a.message;var f=d("MWMessageListLoggingContext").useFlowInstanceId();return k.jsx(c("MWMessageSearchPluginMustache.react"),{attachment:b[0],botResponseId:a.botResponseId,dialogResource:c("JSResourceForInteraction")("MWMessageSearchPluginSourcesDialog.react").__setRef("MWMessageRowBody.react"),flowInstanceId:f.current,isSearchSingleBubblePluginAttachment:e})}p.displayName=p.name+" [from "+f.id+"]";function a(a){var e=a.containerThreadKey,f=a.focused,g=a.hasClickState,i=a.hasMessageEmphasisRing,r=a.hovered,s=a.incoming,t=a.isDialogOpened,u=a.isFirstMessageInGroup,v=a.isGroupThread,w=a.isModal,x=a.isSecureMessage,y=a.mediaRenderQpl,z=a.message,A=a.navigateToRouteForMediaViewer,B=a.nextMessage,C=a.onRenderError,D=a.prevMessage,E=a.renderAttachment,F=a.shouldUseReactionsV2,G=a.threadType;a=d("MWMessageListDisplayContext.react").useMWMessageListDisplayContext();var H=a.isPinnedMessageList,I=a.isStandardMessageList;a=d("MWPMessageReactions.react").useReactions(z);var J=b("cr:7237")(z,x);J=d("MAWOptimisticReactionUtils").mergeMawAndOptimisticLSDBReactions(J,a);var K=d("MWPMessageReactions.react").useReactionsV2(z),L=d("useIsMultiReactionEnabled").useIsMultiReactEnabled(z.threadKey),M=c("MWClickedMessageContext.react").useHook();M=M.clickedMessageId;var N=c("mwpMessageIsReply")(z),O=c("isMWEditedMessage")(z),P=d("MWGroupBlockingProtectionUtils").useMWShouldHideReply(z),Q=B==null,R=!s,S=s&&v,T=d("LSMessagingThreadTypeUtil").isArmadilloSecure(G),U=d("LSMessagingThreadTypeUtil").isPublicCMThread(G),V=c("useGetMediaGroupInformation")(z,x,y),W=d("useSupportMessagingGroupThreadSubtype.react").useSupportMessagingGroupThreadSubtype(z.threadKey);W=W&&c("gkx")("7815")&&c("justknobx")._("3290");var X=H||d("MWPMessageParsingUtils").isEndOfGroup(z,B)||(V==null?void 0:V.groupsLastMessage)!=null&&d("MWPMessageParsingUtils").isEndOfGroup(V.groupsLastMessage,(V=V.groupsNextMessage)!=null?V:void 0),Y=d("useMAWSeparateReadsSelector").useMAWSeparateReadsArraySelector("Reaction",J,a,x&&((V=c("qex")._("99"))!=null?V:!1),q);J=d("MWPAttachmentDataContext").useMWPGetAttachments(z);a=J.length>0;V=a&&d("MWSearchPluginUtils").isSearchPlugin(J[0]);a=a&&d("MWSearchPluginUtils").isSearchSingleBubblePlugin(J[0]);var Z=c("mwpIsMessageUnsupported")(z,J),$=L&&K.some(function(a){return(j||(j=d("I64"))).to_int32(a.count)>0})||Z;Z=(Y.length>0||K.length>0)&&!L;return k.jsxs(k.Fragment,{children:[u&&!S?k.jsx(d("MWPMessageListColumn.react").MWPMessageListColumnVerticalRhythm,{height:2}):null,N&&!P&&k.jsx(c("MWMessageReplyRow.react"),{isGroupThread:v,isSecureMessage:x,message:z,outgoing:R,threadType:G}),O&&k.jsx(c("CometPlaceholder.react"),{fallback:null,name:"MWMessageRowBody.EditedMessageHistoryList",children:k.jsx(m,{editCount:z.editCount,isReply:N,isSecureMessage:x,msgId:z.messageId,outgoing:R,threadType:G})}),k.jsx(d("MWPBaseMessageListRow.react").MWPBaseMessageListRowBody,{hasMessageEmphasisRing:i,hasReactions:Z,message:z,outgoing:R,renderGutterItem:function(){return k.jsx("div",babelHelpers["extends"]({className:"x1xc55vz"},{role:"none"}))},renderMessageActions:function(a){return I?k.jsx(d("MWMessageRowActions.react").MWMessageRowActions,{ariaHidden:w===!1,containerThreadKey:e,focused:f||t||w,hidden:a,hovered:r,isSecureMessage:x,message:z,outgoing:R,shouldHideHoverMenuReact:$,threadType:G}):H?k.jsx(c("MWPinnedMessageDropdownButton.react"),{hidden:!r&&!f,isSecureMessage:x,isSecureThread:T,message:z}):null},renderMultiReactions:function(){if(z.isUnsent)return null;var a=K!=null&&K.length>0;return!L||!a?null:k.jsx("div",babelHelpers["extends"]({},(h||(h=c("stylex"))).props(o.multiReactContainer,R?o.multiReactContainerOutgoing:!1),{children:k.jsx(d("MWPMessageReactions.react").MWPMessageReactions,{message:z,outgoing:R,reactions:Y,reactionsV2:K,children:function(a,b,d,e,f,g,h,i){return k.jsx(c("CometPlaceholder.react"),{fallback:null,name:"MWMessageRowBody.ReactionsContainer",children:k.jsx(l,{emojis:a,isMultiReactRowExpanded:h,message:e,onOpenDialog:g,outgoing:R,reactionsV2:K,toggleMultiReactionRowExpansion:i})})}})}))},renderProfile:function(){return k.jsx(c("MWV2MessageProfilePhoto.react"),{ariaHidden:v?!w:!0,display:X?"visible":"hidden",isGroupThread:v,message:z})},children:k.jsxs(c("CometErrorBoundary.react"),{fallback:function(a){return k.jsx(c("MWV2ChatErrorBubble.react"),{isOutgoing:R,isReply:N})},onError:C,children:[k.jsx(c("MWMessagePromptPopoverTrigger.react"),{attachments:J,message:z,children:H?k.jsx(d("MWMessageRowMessageComponent.react").MWMessageRowMessageComponent,{attachments:J,hasClickState:g,hasMessageEmphasisRing:i,isFirstMessageInGroup:u,isLastMessageInGroup:X,isSearchPluginAttachment:V,isSecureMessage:x,mediaRenderQpl:y,message:z,nextMessage:B,offlineAttachmentId:J&&J.length>0?J[0].offlineAttachmentId:null,outgoing:R,prevMessage:D,reactions:Y,reactionsV2:F?K:void 0,renderAttachment:E,threadType:G}):k.jsx(c("MWPinnedMessageOverlay.react"),{alreadyRenderedPin:N,message:z,outgoing:R,children:k.jsx(d("MWMessageRowMessageComponent.react").MWMessageRowMessageComponent,{attachments:J,hasClickState:g,hasMessageEmphasisRing:i,isFirstMessageInGroup:u,isLastMessageInGroup:X,isSearchPluginAttachment:V,isSecureMessage:x,mediaRenderQpl:y,message:z,navigateToRouteForMediaViewer:A,nextMessage:B,offlineAttachmentId:J&&J.length>0?J[0].offlineAttachmentId:null,outgoing:R,prevMessage:D,reactions:Y,reactionsV2:F?K:void 0,renderAttachment:E,threadType:G})})}),(V||a)&&k.jsx(p,{attachments:J,isSearchSingleBubblePluginAttachment:a,message:z})]})}),W&&s&&k.jsx(c("CometPlaceholder.react"),{fallback:null,name:"MWMessageRowBody.MWSupportTranslatedMessageTextWrapper",children:k.jsx(n,{msgId:z.messageId})}),k.jsx(c("MWPinnedMessageRowFooterNUXWrapperRequireNUX.react"),{isLastMessage:Q,isOutgoing:R,message:z}),k.jsx(c("MWMustacheText"),{isLastMessage:Q,isPublicCMThread:U,isSecureMessage:x,mediaRenderQpl:y,message:z,outgoing:R,showSupportTranslationToggleMustache:W}),k.jsx(c("MWExtraPinnedMessagePadding.react"),{nextMessage:B}),g&&M===z.messageId?k.jsx(d("MWPMessageListColumn.react").MWPMessageListColumnVerticalRhythm,{height:6}):X&&!Q?k.jsx(d("MWPMessageListColumn.react").MWPMessageListColumnVerticalRhythm,{height:6}):null]})}a.displayName=a.name+" [from "+f.id+"]";function q(a,b){return(j||(j=d("I64"))).compare(a.actorId,b.actorId)}g["default"]=a}),98);
__d("MWMessageRowFooter.react",["MWClickToReavealMustachTextInPinnedMessageList.react","MWMessageDeliveryStatus","MWMessageListDisplayContext.react","MWPBaseMessageListRow.react","MWV2MessageEndOfGroupContent.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=a.hasClickState,e=a.incoming,f=a.isBroadcastThread,g=a.isFromBlockedContact,h=a.isLastMessage,j=a.isSecureMessage,k=a.message,l=a.nextMessage,m=a.outgoing,n=a.status;a=d("MWMessageListDisplayContext.react").useMWMessageListDisplayContext();var o=a.isPinnedMessageList;a=a.isStandardMessageList;if(a)return i.jsx(d("MWPBaseMessageListRow.react").MWPBaseMessageListRowFooter,{message:k,nextMessage:l,showContent:b||d("MWMessageDeliveryStatus").isAlwaysShownStatus(n),children:function(){return i.jsx(d("MWV2MessageEndOfGroupContent.react").MWV2MessageEndOfGroupContent,{alignLeft:b&&e,hasTextBasedMessageReceipts:!0,isFromBlockedContact:g,isLastMessage:h,isOutgoing:m,isSecureMessage:j,isTextOnly:f,message:k,status:n})}});return o?g?i.jsx(c("MWClickToReavealMustachTextInPinnedMessageList.react"),{isLastMessage:h,message:k,nextMessage:l}):null:null}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWHighlyForwardedIndicator.react",["fbt","LSMessagingThreadTypeUtil","MDSForwardStackSvgIcon.react","MWXText.react","coerceMessagingThreadTypeToLSThreadType","react","requireDeferred","useSinglePartialViewImpression","vulture"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react"),k=c("requireDeferred")("MwbHighlyForwardedIndicatorImpressionFalcoEvent").__setRef("MWHighlyForwardedIndicator.react");function a(a){var b=a.forwardScore,e=a.mid,f=a.threadType;c("vulture")("8mJ4aJLPdU7");a=function(){k.onReady(function(a){a.log(function(){return{limit:b,mid:f!=null&&d("LSMessagingThreadTypeUtil").isArmadilloSecure(f)?void 0:e,thread_type:f!=null?c("coerceMessagingThreadTypeToLSThreadType")(f):void 0}})})};a=c("useSinglePartialViewImpression")({onImpressionStart:a});return j.jsxs(j.Fragment,{children:[j.jsx(c("MDSForwardStackSvgIcon.react"),{color:"tertiary",size:16}),j.jsx("span",babelHelpers["extends"]({className:"x1h0ha7o"},{children:j.jsx(c("MWXText.react"),{color:"tertiary",ref:a,type:"meta4",children:h._(/*BTDS*/"__JHASH__hxhFsSrRndH__JHASH__")})}))]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("MWPForwardedContent",["fbt","I64","LSIntEnum","MWPMessageAuthor.react","MessagingAttachmentType","ReQL","ReQLSuspense","mwpMessageHasAttachment","react","useReStore"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k,l,m=(j||d("react")).useMemo;function n(a){if((k||(k=d("I64"))).equal(a.attachmentType,(l||(l=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").XMA)))return a.defaultCtaType==="xma_web_url";else return!1}function o(a){if((k||(k=d("I64"))).equal(a.attachmentType,(l||(l=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").ANIMATED_IMAGE)))return!0;else return(k||(k=d("I64"))).equal(a.attachmentType,(l||(l=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").IMAGE))}function p(a,b,e){var g=(i||(i=c("useReStore")))(),j=a.messageId,p=a.threadKey,q=c("mwpMessageHasAttachment")(a),r=d("ReQLSuspense").useFirst(function(){if(q)return d("ReQL").fromTableAscending(g.tables.attachments).getKeyRange(p,j);else return d("ReQL").empty()},[g,j,p,q],f.id+":63");return m(function(){if(b)if(r!=null)if(n(r))return h._(/*BTDS*/"__JHASH___8ZpqsY3Jrg__JHASH__");else if(o(r))return h._(/*BTDS*/"__JHASH__INRUrq18hhv__JHASH__");else if((k||(k=d("I64"))).equal(r.attachmentType,(l||(l=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").VIDEO)))return h._(/*BTDS*/"__JHASH__Z71bv2q5yoA__JHASH__");else return h._(/*BTDS*/"__JHASH__8h2fNslikTS__JHASH__");else return h._(/*BTDS*/"__JHASH__8h2fNslikTS__JHASH__");else if(r!=null)if(e!=null)if(n(r))return h._(/*BTDS*/"__JHASH__5GN3g82hBzH__JHASH__",[h._param("name",e)]);else if(o(r))return h._(/*BTDS*/"__JHASH__NQwzfDxVOf0__JHASH__",[h._param("name",e)]);else if((k||(k=d("I64"))).equal(r.attachmentType,(l||(l=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").VIDEO)))return h._(/*BTDS*/"__JHASH__QvgCMGMfMHB__JHASH__",[h._param("name",e)]);else return h._(/*BTDS*/"__JHASH__1jGDZrisR_E__JHASH__",[h._param("name",e)]);else if(n(r))return h._(/*BTDS*/"__JHASH__QhCmPJ-QbeG__JHASH__");else if(o(r))return h._(/*BTDS*/"__JHASH__vFSMWshNg-J__JHASH__");else if((k||(k=d("I64"))).equal(r.attachmentType,(l||(l=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").VIDEO)))return h._(/*BTDS*/"__JHASH__U5_TMTE9DWx__JHASH__");else return h._(/*BTDS*/"__JHASH__CmZMizVeMX7__JHASH__");else if(e!=null)return h._(/*BTDS*/"__JHASH__1jGDZrisR_E__JHASH__",[h._param("name",e)]);else return h._(/*BTDS*/"__JHASH__CmZMizVeMX7__JHASH__")},[b,r,e])}function a(a,b){var c=d("MWPMessageAuthor.react").useAuthorName();c=c[0];return p(a,b,c)}g.useTitle=a}),226);
__d("MWXIconForwardAction",["MWXSvgIcon","SVGIcon","cr:12435","gkx"],(function(a,b,c,d,e,f,g){"use strict";a=d("MWXSvgIcon").mwxSvgIcon(d("SVGIcon").svgIcon(b("cr:12435")),c("gkx")("23219"));g["default"]=a}),98);
__d("MWForwardedContent.react",["BaseIsDecorativeContext","I64","MWHighlyForwardedIndicator.react","MWPForwardedContent","MWXIconForwardAction","MWXIconStrict.react","MWXRow.react","MWXRowItem.react","MWXText.react","MWXThreadThemeColor","gkx","justknobx","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=h||d("react"),k=c("justknobx")._("1649"),l=d("MWXThreadThemeColor").mwxThreadThemeColor("var(--chat-admin-text-color, var(--placeholder-text))");function a(a){var b=a.message,e=a.outgoing;a=a.threadType;e=d("MWPForwardedContent").useTitle(b,e);var f=b.forwardScore!=null?(i||(i=d("I64"))).to_int32(b.forwardScore):0;f=c("gkx")("24141")&&k!==0&&f>=k;f=f?j.jsx(c("MWHighlyForwardedIndicator.react"),{forwardScore:(i||(i=d("I64"))).to_string((f=b.forwardScore)!=null?f:(i||(i=d("I64"))).zero),mid:b.messageId,threadType:a}):j.jsxs(c("MWXRow.react"),{paddingHorizontal:0,paddingVertical:0,spacing:4,verticalAlign:"center",children:[j.jsx(c("MWXRowItem.react"),{children:j.jsx(c("BaseIsDecorativeContext").Provider,{value:!0,children:j.jsx(c("MWXIconStrict.react"),{color:l,icon:c("MWXIconForwardAction"),size:12})})}),j.jsx(c("MWXRowItem.react"),{children:j.jsx(c("MWXText.react"),{color:"tertiary",type:"meta4",children:j.jsx("span",babelHelpers["extends"]({className:"x1aimgj9"},{children:e}))})})]});return j.jsx("div",babelHelpers["extends"]({className:"x6s0dn4 x78zum5 xg8j3zb x1nn3v0j"},{children:f}))}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWPMessagePinnedText.react",["fbt","react","useMWPIsMessagePinned"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react");function a(a){var b=a.divider;a=a.message;a=c("useMWPIsMessagePinned")(a);var d=h._(/*BTDS*/"__JHASH__hknrqEeMk6h__JHASH__");return a&&j.jsxs(j.Fragment,{children:[b!=null&&j.jsx("span",babelHelpers["extends"]({className:"x1sdyfia"},{children:b})),j.jsx("span",{"aria-label":d,children:d})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("MWXIconForward",["MWXSvgIcon","SVGIcon","cr:12436","gkx"],(function(a,b,c,d,e,f,g){"use strict";a=d("MWXSvgIcon").mwxSvgIcon(d("SVGIcon").svgIcon(b("cr:12436")),c("gkx")("23219"));g["default"]=a}),98);
__d("useMWReplySnippetContent",["fbt","Actor","I64","MWPMessageAuthor.react","useMWIsReplyToAuthor","useMWPIsMessagePinned"],(function(a,b,c,d,e,f,g,h){"use strict";var i;function a(a,b){var e=c("useMWPIsMessagePinned")(a),f=d("MWPMessageAuthor.react").useAuthorName();f=f[0];var g=d("Actor").useActor();g=g[0];g=g===(i||(i=d("I64"))).to_string(a.senderId);var j=c("useMWIsReplyToAuthor")(a);return!e||g||j?a.replySnippet:b?h._(/*BTDS*/"__JHASH__lpeJtmI6peT__JHASH__").toString():h._(/*BTDS*/"__JHASH__bGQxu-uwmpe__JHASH__",[h._param("name",f)]).toString()}g["default"]=a}),226);
__d("MWReplySnippet.react",["I64","LSIntEnum","LSMessageReplySourceTypeV2","LSMessagingThreadTypeUtil","MWEditedEyebrow.react","MWXIconForward","MWXIconForwardAction","MWXIconReply","MWXIconStrict.react","MWXRow.react","MWXRowItem.react","MWXText.react","MWXThreadThemeColor","ReQL","ReQLSuspense","isMWEditedMessage","react","useMWReplySnippetContent","useReStore","useStringWithSubstitutions"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k,l=i||d("react"),m={separator:{paddingEnd:"x150jy0e",paddingStart:"x1e558r4",$$css:!0}},n=d("MWXThreadThemeColor").mwxThreadThemeColor("var(--chat-admin-text-color, var(--placeholder-text))");function o(a){a=a.replySourceType;if(a==null)return null;if((j||(j=d("I64"))).equal(a,(k||(k=d("LSIntEnum"))).ofNumber(c("LSMessageReplySourceTypeV2").MESSAGE))||(j||(j=d("I64"))).equal(a,(k||(k=d("LSIntEnum"))).ofNumber(c("LSMessageReplySourceTypeV2").STORY))||(j||(j=d("I64"))).equal(a,(k||(k=d("LSIntEnum"))).ofNumber(c("LSMessageReplySourceTypeV2").FB_PRODUCER_STORY_REPLY))||(j||(j=d("I64"))).equal(a,(k||(k=d("LSIntEnum"))).ofNumber(c("LSMessageReplySourceTypeV2").EXPIRED_STORY))||(j||(j=d("I64"))).equal(a,(k||(k=d("LSIntEnum"))).ofNumber(c("LSMessageReplySourceTypeV2").HIGHLIGHTS_TAB_POST_REPLY)))return l.jsx(c("MWXIconStrict.react"),{color:n,icon:c("MWXIconReply"),size:12});else if((j||(j=d("I64"))).equal(a,(k||(k=d("LSIntEnum"))).ofNumber(c("LSMessageReplySourceTypeV2").FORWARD))||(j||(j=d("I64"))).equal(a,(k||(k=d("LSIntEnum"))).ofNumber(c("LSMessageReplySourceTypeV2").IG_STORY_SHARE))||(j||(j=d("I64"))).equal(a,(k||(k=d("LSIntEnum"))).ofNumber(c("LSMessageReplySourceTypeV2").FB_STORY_SHARE)))return l.jsx(c("MWXIconStrict.react"),{color:n,icon:c("MWXIconForwardAction"),size:12});else if((j||(j=d("I64"))).equal(a,(k||(k=d("LSIntEnum"))).ofNumber(c("LSMessageReplySourceTypeV2").FB_STORY_MENTION)))return l.jsx(c("MWXIconStrict.react"),{color:n,icon:c("MWXIconForward"),size:12});return null}o.displayName=o.name+" [from "+f.id+"]";function a(a){var b=a.enableEditHistory;b=b===void 0?!0:b;var e=a.message;a=a.outgoing;var g=(h||(h=c("useReStore")))();a=c("useMWReplySnippetContent")(e,a);var i=d("ReQLSuspense").useFirst(function(){return d("ReQL").fromTableAscending(g.tables.threads,["threadType"]).getKeyRange(e.threadKey).map(function(a){return a.threadType})},[g,e.threadKey],f.id+":109");i=i==null?!1:d("LSMessagingThreadTypeUtil").isArmadilloSecure(i);i=(i=d("useStringWithSubstitutions").useStringWithSubstitutions(i?a:null,e.threadKey))!=null?i:a;if(a==null||a.trim().length===0)return null;a=c("isMWEditedMessage")(e);return l.jsxs(c("MWXRow.react"),{paddingHorizontal:0,paddingTop:10,paddingVertical:4,spacing:4,testid:void 0,verticalAlign:"center",children:[l.jsx(c("MWXRowItem.react"),{children:l.jsx(o,{replySourceType:e==null?void 0:e.replySourceTypeV2})}),l.jsx(c("MWXRowItem.react"),{children:l.jsx(c("MWXText.react"),{color:"tertiary",type:"meta4",children:l.jsxs("span",babelHelpers["extends"]({className:"x1aimgj9"},{children:[i,a&&l.jsx(d("MWEditedEyebrow.react").MWEditedEyebrow,{enableEditHistory:b,separatorStyle:m.separator})]}))})})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWMessageRowHeader.react",["BaseMiddot.react","MWForwardedContent.react","MWMessageListDisplayContext.react","MWPBaseMessageRowHeader.react","MWPMessagePinnedText.react","MWReplySnippet.react","MWXText.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=a.isCMThread,e=a.isFirstMessageInGroup,f=a.isGroupThread,g=a.isLastMessageInGroup,h=a.message,j=a.outgoing,k=a.threadType;a=d("MWMessageListDisplayContext.react").useMWMessageListDisplayContext();var l=a.isPinnedMessageList,m=a.isStandardMessageList;a=function(a){return i.jsx(c("MWXText.react"),{color:"secondary",type:"meta4",children:a})};return i.jsx(c("MWPBaseMessageRowHeader.react"),{alwaysRenderSenderName:l,isAnyCMThread:b,isFirstMessageInGroup:e,isGroupThread:f,isLastMessageInGroup:g,message:h,outgoing:j,renderForwardSnippet:function(){return i.jsx(c("MWForwardedContent.react"),{message:h,outgoing:j,threadType:k})},renderPinnedText:function(a,b){return m?i.jsx(c("MWPMessagePinnedText.react"),{divider:b&&i.jsx(c("BaseMiddot.react"),{}),message:h}):null},renderReplySnippet:function(){return i.jsx(c("MWReplySnippet.react"),{message:h,outgoing:j})},renderTextWrapper:function(a){return i.jsx(c("MWXText.react"),{color:"secondary",type:"meta4",children:a})},renderTimestamp:l?a:void 0})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWEBRestoreGapUIWithEBCheck.react",["cr:9929"],(function(a,b,c,d,e,f,g){"use strict";g["default"]=b("cr:9929")}),98);
__d("MWMessageRowMissingMessagesIndicator.react",["CometErrorBoundary.react","I64","JSResourceForInteraction","MWEBMobileOnboardingEligibility","MWEBRestoreGapUIWithEBCheck.react","MWPMessageListColumn.react","MWV2MessageRowSimple.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=h||d("react"),k=d("MWEBMobileOnboardingEligibility").requireMobileOnboardingIfEligible(c("JSResourceForInteraction")("MWEBOnboardingGapUI.react").__setRef("MWMessageRowMissingMessagesIndicator.react")),l=(i||(i=d("I64"))).of_int32(5e3);function a(a){var b=a.entryPoint,e=a.isSecureMessage,f=a.lastEbMessageTime,g=a.message,h=a.nextMessage;a=a.prevMessage;if(f==null){var m=e&&a!=null&&!(i||(i=d("I64"))).equal(a==null?void 0:a.threadKey,g.threadKey);e=e&&a==null;if(m||e)return k!=null&&j.jsx(c("MWV2MessageRowSimple.react"),{children:j.jsx(d("MWPMessageListColumn.react").MWPMessageListColumnGrow,{children:j.jsx(k,{fallback:null,props:{entryPoint:b}})})})}else if((i||(i=d("I64"))).gt((i||(i=d("I64"))).sub(f,g.timestampMs),l)&&(h==null||(i||(i=d("I64"))).lt(f,h.timestampMs)))return c("MWEBRestoreGapUIWithEBCheck.react")!=null&&j.jsx(c("MWV2MessageRowSimple.react"),{children:j.jsx(d("MWPMessageListColumn.react").MWPMessageListColumnGrow,{children:j.jsx(c("CometErrorBoundary.react"),{fallback:function(){return null},children:j.jsx(c("MWEBRestoreGapUIWithEBCheck.react"),{})})})});return null}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWMessageRowUnreadMessagesIndicator.react",["MWChatMessageUnreadIndicator.react","MWPMessageListColumn.react","MWV2MessageRowSimple.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){a=a.shouldRenderUnreadIndicator;return a===!0?i.jsx(c("MWV2MessageRowSimple.react"),{children:i.jsx(d("MWPMessageListColumn.react").MWPMessageListColumnGrow,{children:i.jsx(c("MWChatMessageUnreadIndicator.react"),{})})}):null}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("useMWMessageRowAddInteractionTracingMetadata",["I64","InteractionTracingMetrics","LSBitFlag","LSIntEnum","cr:4391","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=(h||d("react")).useEffect;function a(a,e){b("cr:4391")("displayed_content_types",(i||(i=d("I64"))).to_string(a.displayedContentTypes)),b("cr:4391")("row_index_from_bottom",String(e)),k(function(){var b=d("LSBitFlag").has((j||(j=d("LSIntEnum"))).ofNumber(1),a.displayedContentTypes);b&&c("InteractionTracingMetrics").currentInteractionLogger().forEach(function(a){c("InteractionTracingMetrics").addAnnotationBoolean(a.traceId,"has_message_row_text",!0)});b=d("LSBitFlag").has(j.ofNumber(2),a.displayedContentTypes);b&&c("InteractionTracingMetrics").currentInteractionLogger().forEach(function(a){c("InteractionTracingMetrics").addAnnotationBoolean(a.traceId,"has_message_row_media_preview",!0)});var e=d("LSBitFlag").has(j.ofNumber(4),a.displayedContentTypes);e&&c("InteractionTracingMetrics").currentInteractionLogger().forEach(function(a){c("InteractionTracingMetrics").addAnnotationBoolean(a.traceId,"has_message_row_audio_clip",!0)});var f=d("LSBitFlag").has((j||(j=d("LSIntEnum"))).ofNumber(8),a.displayedContentTypes)||d("LSBitFlag").has((j||(j=d("LSIntEnum"))).ofNumber(1024),a.displayedContentTypes)||d("LSBitFlag").has((j||(j=d("LSIntEnum"))).ofNumber(2048),a.displayedContentTypes)||d("LSBitFlag").has((j||(j=d("LSIntEnum"))).ofNumber(536870912),a.displayedContentTypes);f&&c("InteractionTracingMetrics").currentInteractionLogger().forEach(function(a){c("InteractionTracingMetrics").addAnnotationBoolean(a.traceId,"has_message_row_xma",!0)});f=d("LSBitFlag").has(j.ofNumber(32),a.displayedContentTypes);f&&c("InteractionTracingMetrics").currentInteractionLogger().forEach(function(a){c("InteractionTracingMetrics").addAnnotationBoolean(a.traceId,"has_message_row_admin",!0)});f=d("LSBitFlag").has(j.ofNumber(64),a.displayedContentTypes);f&&c("InteractionTracingMetrics").currentInteractionLogger().forEach(function(a){c("InteractionTracingMetrics").addAnnotationBoolean(a.traceId,"has_message_row_file_attachment",!0)});var g=d("LSBitFlag").has(j.ofNumber(512),a.displayedContentTypes);g&&c("InteractionTracingMetrics").currentInteractionLogger().forEach(function(a){c("InteractionTracingMetrics").addAnnotationBoolean(a.traceId,"has_message_row_story_reply",!0)});g=d("LSBitFlag").has((j||(j=d("LSIntEnum"))).ofNumber(4096),a.displayedContentTypes)||d("LSBitFlag").has((j||(j=d("LSIntEnum"))).ofNumber(134217728),a.displayedContentTypes);g&&c("InteractionTracingMetrics").currentInteractionLogger().forEach(function(a){c("InteractionTracingMetrics").addAnnotationBoolean(a.traceId,"has_message_row_sticker",!0)});var h=d("LSBitFlag").has(j.ofNumber(16384),a.displayedContentTypes);h&&c("InteractionTracingMetrics").currentInteractionLogger().forEach(function(a){c("InteractionTracingMetrics").addAnnotationBoolean(a.traceId,"has_message_row_gif",!0)});(b||e||f||g||h)&&c("InteractionTracingMetrics").currentInteractionLogger().forEach(function(a){c("InteractionTracingMetrics").addAnnotationBoolean(a.traceId,"has_message_media",!0)})},[a.displayedContentTypes])}g["default"]=a}),98);
__d("useNextNonAdminMessage",["ReQL","ReQLSuspense","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i=10;function a(a,b){var e=(h||(h=c("useReStore")))(),g=(b==null?void 0:b.isAdminMessage)===!0,j=d("ReQLSuspense").useFirst(function(){return g?d("ReQL").fromTableAscending(e.tables.messages.index("messageDisplayOrder"),["isAdminMessage","timestampMs","senderId"]).getKeyRange(a.threadKey).bounds({gt:d("ReQL").key(a.primarySortKey)}).take(i).filter(function(a){return!a.isAdminMessage}):d("ReQL").empty()},[e,g,a.primarySortKey,a.threadKey],f.id+":49");return g?j:b}g["default"]=a}),98);
__d("MWMessageRow.react",["BaseView.react","CometErrorBoundary.react","CometPageletWithDiv.react","I64","Int64Hooks","LSIntEnum","LSMessagingThreadTypeUtil","MNLSXMALayoutType","MWCMThreadTypes.react","MWGroupBlockingProtectionUtils","MWMessageEditContext.react","MWMessageListAttachmentContainer.react","MWMessageListDisplayContext.react","MWMessageRowAdminMessage.react","MWMessageRowBody.react","MWMessageRowFooter.react","MWMessageRowHeader.react","MWMessageRowMissingMessagesIndicator.react","MWMessageRowUnreadMessagesIndicator.react","MWPActor.react","MWPAttachmentDataContext","MWPMessageListColumn.react","MWPMessageListRowWithKeyboardInteractions.react","MWPMessageParsingUtils","MWPMessageRowCalculateStatus.react","MWPThreadCapabilitiesContext","MWShowMessagePromptPopoverContext.react","MWSupportTranslationsContext.react","MWThreadViewMediaRenderQpl","MWV2ChatErrorBubble.react","MWV2MessageRowSimple.react","MWV2MessageStartOfGroupContent.react","WAGetPlatformFromStanzaId","WAStanzaUtils","cr:3932","gkx","mwCMIsAnyCMThread","mwpMessageIsReply","react","useMWMessageRowAddInteractionTracingMetadata","useMWMessageRowTheme","useMWPEditMessageDeemphasizer","useNextNonAdminMessage","vulture"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=h||(h=d("react")),l=h,m=l.memo,n=l.startTransition,o=l.useCallback,p=l.useEffect,q=l.useId,r=l.useState,s={adminMessageAttachment:{boxSizing:"x9f619",maxWidth:"x4ndzw7",minWidth:"xwj5yc2",paddingBottom:"xdvlbce",paddingStart:"x5ib6vp",paddingEnd:"xc73u3c",paddingLeft:null,paddingRight:null,paddingTop:"x1nn3v0j",$$css:!0}},t=k.memo(c("MWPMessageRowCalculateStatus.react"));function u(a){var b=a.message,c=a.nextMessage;a=babelHelpers.objectWithoutPropertiesLoose(a,["message","nextMessage"]);return k.jsx(t,babelHelpers["extends"]({message:d("Int64Hooks").usePickInt64(b,["senderId","isUnsent","threadKey","primarySortKey","timestampMs","messageId","isAdminMessage","sendStatusV2","groupId","groupIndex","groupSize","displayedContentTypes"]),nextMessage:d("Int64Hooks").usePickInt64(c,["senderId","timestampMs","isAdminMessage"])},a))}u.displayName=u.name+" [from "+f.id+"]";function v(a){var e=a.containerThreadKey,f=a.domElementRef,g=a.entryPoint,h=a.hasMessageEmphasisRing,l=a.isMediaGroupLastMessage,m=a.isModal,t=a.isSecureMessage,v=a.lastEbMessageTime,x=a.message,y=a.navigateToRouteForMediaViewer,z=a.nextMessage,A=a.onRenderError,B=a.prevMessage,C=a.renderAttachment,D=a.shouldRenderUnreadIndicator,E=a.stopHoveringRef,F=a.threadType;a=a.useReactionsV2;var G=a===void 0?!1:a;a=d("MWMessageListDisplayContext.react").useMWMessageListDisplayContext();var H=a.isPinnedMessageList;a=a.isStandardMessageList;var I=d("MWPActor.react").useActor(),J=H||d("MWPMessageParsingUtils").isStartOfGroup(x,B),K=H||d("MWPMessageParsingUtils").isEndOfGroup(x,z),aa=c("mwCMIsAnyCMThread")(F),L=d("MWCMThreadTypes.react").isBroadcastThread(F),M=d("LSMessagingThreadTypeUtil").isDiscoverablePublicBroadcastChannel(F),N=d("LSMessagingThreadTypeUtil").isGroup(F),O=d("LSMessagingThreadTypeUtil").isArmadilloSecure(F),ba=c("mwpMessageIsReply")(x),P=d("MWPThreadCapabilitiesContext").useMWPThreadCapabilitiesContext();P=P.seenCountV2Enabled;P=!x.isUnsent&&P;var ca=P&&!M&&!d("LSMessagingThreadTypeUtil").isCMSubthread(F)&&!d("MWCMThreadTypes.react").isStandardCMThread(F),da=d("MWGroupBlockingProtectionUtils").useMWIsMessageSentByBlockedContact(x.senderId,x.threadKey),Q=!H&&(i||(i=d("I64"))).equal(x.senderId,I);P=c("useNextNonAdminMessage")(x,z);var ea=P==null||l===!0,fa=!Q;H=r(!1);var R=H[0],S=H[1];I=r(!1);var ga=I[0],T=I[1],U=o(function(a){return n(function(){return T(a)})},[T,n]),V=o(function(a){return n(function(){return S(a)})},[S,n]),W=q();H=r(!1);var X=H[0],ha=H[1],ia=c("useMWMessageRowTheme")(),Y;I=d("MWPAttachmentDataContext").useMWPGetAttachments(x);H=I.length>0&&I[0].xmaLayoutType!=null&&(i||(i=d("I64"))).equal(I[0].xmaLayoutType,(j||(j=d("LSIntEnum"))).ofNumber(c("MNLSXMALayoutType").STANDARD_DXMA));I=I.length>0&&I[0].xmaLayoutType!=null&&(i||(i=d("I64"))).equal(I[0].xmaLayoutType,(j||(j=d("LSIntEnum"))).ofNumber(c("MNLSXMALayoutType").SHARED_STACK));var ja=c("useMWPEditMessageDeemphasizer")(),Z=d("MWThreadViewMediaRenderQpl").useMediaRenderQpl(x,F),$=Z.mediaRenderQpl;Z=Z.messageRowRef;p(function(){$==null?void 0:$.addPoint("render-message-row"),t&&($==null?void 0:$.addAnnotations({string:{e2ee_platform:d("WAGetPlatformFromStanzaId").getPlatformFromStanzaId(d("WAStanzaUtils").toStanzaId(x.offlineThreadingId))}}))},[t,$,x.offlineThreadingId]);x.isAdminMessage?Y=k.jsx(c("MWMessageRowAdminMessage.react"),{domElementRef:f,isDialogOpened:X,isFirstMessageInGroup:J,isFocused:R,isModal:m,message:x,messageDomID:W,nextMessage:z,outgoing:Q,prevMessage:B,setFocusedInTransition:V,setHoveredInTransition:U,setIsDialogOpened:ha,stopHoveringRef:E}):H||I?Y=k.jsx(d("MWPMessageListColumn.react").MWPMessageListColumnShrinkwrap,{centered:!0,children:k.jsx(c("MWV2MessageRowSimple.react"),{children:k.jsx(c("BaseView.react"),{xstyle:ja,children:k.jsx(c("MWMessageListAttachmentContainer.react"),{connectBottom:!1,connectTop:!1,mediaRenderQpl:$,message:x,outgoing:Q,xstyle:s.adminMessageAttachment})})})}):Y=k.jsx(d("MWShowMessagePromptPopoverContext.react").MWShowMessagePromptPopoverContextProvider,{children:k.jsx(d("MWMessageEditContext.react").MWMessageEditContextProvider,{children:k.jsx(d("MWSupportTranslationsContext.react").MWSupportTranslationsContextProvider,{children:k.jsxs(k.Fragment,{children:[k.jsx(c("MWMessageRowUnreadMessagesIndicator.react"),{shouldRenderUnreadIndicator:D}),J&&a?k.jsx(c("MWV2MessageStartOfGroupContent.react"),{message:x,prevMessage:B}):null,k.jsx(u,{isBroadcastChannel:M,isBroadcastThread:L,isLargeGroup:!1,isSecureGroupThread:O&&N,isSecureThread:O,message:x,nextMessage:P,children:function(a){return k.jsx(w,{containerThreadKey:e,domElementRef:f,focused:R,hasClickState:ca,hasMessageEmphasisRing:h,hovered:ga,incoming:fa,isBroadcastThread:L,isCMThread:aa,isDialogOpened:X,isFirstMessageInGroup:J,isFromBlockedContact:da,isGroupThread:N,isLastMessage:ea,isLastMessageInGroup:K,isMediaGroupLastMessage:l,isModal:m,isSecureMessage:t,mediaRenderQpl:$,message:x,messageDomID:W,navigateToRouteForMediaViewer:y,nextMessage:z,onRenderError:A,outgoing:Q,prevMessage:B,renderAttachment:C,setFocusedInTransition:V,setHoveredInTransition:U,setIsDialogOpened:ha,shouldUseReactionsV2:G,status:a,stopHoveringRef:E,theme:ia,threadType:F})}})]})})})});return k.jsx("div",{ref:Z,children:k.jsxs(c("CometErrorBoundary.react"),{fallback:function(){return k.jsx(c("MWV2ChatErrorBubble.react"),{isOutgoing:Q,isReply:ba})},children:[Y,O&&k.jsx(c("MWMessageRowMissingMessagesIndicator.react"),{entryPoint:g,isSecureMessage:t,lastEbMessageTime:v,message:x,nextMessage:z,prevMessage:B}),b("cr:3932")==null?null:k.jsx(b("cr:3932"),{})]})})}v.displayName=v.name+" [from "+f.id+"]";function a(a){var b=a.containerThreadKey,d=a.domElementRef,e=a.focused,f=a.hasClickState,g=a.hasMessageEmphasisRing,h=a.hovered,i=a.incoming,j=a.isBroadcastThread,l=a.isCMThread,m=a.isDialogOpened,n=a.isFirstMessageInGroup,o=a.isFromBlockedContact,p=a.isGroupThread,q=a.isLastMessage,r=a.isLastMessageInGroup,s=a.isMediaGroupLastMessage,t=a.isModal,u=a.isSecureMessage,v=a.mediaRenderQpl,w=a.message,x=a.messageDomID,y=a.navigateToRouteForMediaViewer,z=a.nextMessage,A=a.onRenderError,B=a.outgoing,C=a.prevMessage,D=a.renderAttachment,E=a.setFocusedInTransition,F=a.setHoveredInTransition,G=a.setIsDialogOpened,H=a.shouldUseReactionsV2,I=a.status,J=a.stopHoveringRef,K=a.theme;a=a.threadType;return k.jsxs(c("MWPMessageListRowWithKeyboardInteractions.react"),{domElementRef:d,isDialogOpened:m,isFocused:e,isModal:t,message:w,messageDomID:x,outgoing:B,setFocused:E,setHovered:F,setIsDialogOpened:G,stopHoveringRef:J,theme:K,children:[k.jsx(c("MWMessageRowHeader.react"),{isCMThread:l,isFirstMessageInGroup:n,isGroupThread:p,isLastMessageInGroup:r,message:w,outgoing:B,threadType:a}),k.jsx(c("MWMessageRowBody.react"),{containerThreadKey:b,focused:e,hasClickState:f,hasMessageEmphasisRing:g,hovered:h,incoming:i,isDialogOpened:m,isFirstMessageInGroup:n,isGroupThread:p,isModal:t,isSecureMessage:u,mediaRenderQpl:v,message:w,navigateToRouteForMediaViewer:y,nextMessage:z,onRenderError:A,prevMessage:C,renderAttachment:D,shouldUseReactionsV2:H,threadType:a}),k.jsx(c("MWMessageRowFooter.react"),{hasClickState:f,incoming:i,isBroadcastThread:j,isFromBlockedContact:o,isLastMessage:q,isSecureMessage:u,message:w,nextMessage:s===!0?void 0:z,outgoing:B,status:I})]})}a.displayName=a.name+" [from "+f.id+"]";var w=m(a),x=m(function(a){if(a.isSecureMessage)return k.jsx(v,babelHelpers["extends"]({},a));else return k.jsx(d("MWPAttachmentDataContext").MWPAttachmentDataContextProviderLS,{message:a.message,children:k.jsx(v,babelHelpers["extends"]({},a))})});function y(a){var b=a.rowIndexFromBottom;a=babelHelpers.objectWithoutPropertiesLoose(a,["rowIndexFromBottom"]);c("vulture")("1xbWjbGsDnc");c("useMWMessageRowAddInteractionTracingMetadata")(a.message,b);return k.jsx(x,babelHelpers["extends"]({},a))}y.displayName=y.name+" [from "+f.id+"]";function e(a){var b=a.rowIndexFromBottom;a=babelHelpers.objectWithoutPropertiesLoose(a,["rowIndexFromBottom"]);c("vulture")("5SGrK9jxHVo");if(c("gkx")("7810"))return k.jsx(d("CometPageletWithDiv.react").Div,{name:"MWMessageRow",children:k.jsx(y,babelHelpers["extends"]({},a,{rowIndexFromBottom:b}))});else return k.jsx(x,babelHelpers["extends"]({},a))}e.displayName=e.name+" [from "+f.id+"]";g.MWMessageRow=e}),98);
__d("MWCollapsibleAdminMessages.react",["fbt","BaseView.react","MWMessageRow.react","MWPMessageListColumn.react","MWV2ChatAdminMessage.react","MWV2MessageActionsVisibility.react","MWXLink.react","MWXText.react","ODS","react","vulture"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=i||(i=d("react")),l=i.useState,m={collapsed:{paddingTop:"xz9dl7a",paddingBottom:"xsag5q8",$$css:!0},expanded:{paddingBottom:"x1120s5i",paddingTop:"xz9dl7a",position:"x1n2onr6",zIndex:"x1vjfegm",$$css:!0}};function a(a){c("vulture")("3BzxYZ5HLaJ");var b=d("MWV2MessageActionsVisibility.react").useStopHoveringRef(),e=a.messages,f=babelHelpers.objectWithoutPropertiesLoose(a,["messages"]);a=l(!1);var g=a[0],i=a[1];return k.jsx(d("MWPMessageListColumn.react").MWPMessageListColumnShrinkwrap,{centered:!0,children:k.jsxs(d("MWV2ChatAdminMessage.react").MWV2ChatAdminMessageContainer,{children:[k.jsx(c("MWXText.react"),{type:"bodyLink4",children:k.jsx(c("MWXLink.react"),{color_DEPRECATED:"highlight",onClick:function(){(j||(j=d("ODS"))).bumpEntityKey(3303,"collapsible_admin_messages",g?"hide_messages":"show_messages"),i(function(a){return!a})},role:"button",children:k.jsx(c("BaseView.react"),{xstyle:g?m.expanded:m.collapsed,children:g?h._(/*BTDS*/"__JHASH__k2cKnwAsyRP__JHASH__"):h._(/*BTDS*/"__JHASH__ZpmrUMcuTWA__JHASH__",[h._param("number of admin udpates",e.length)])})})}),g?e.map(function(a,c){return k.createElement(d("MWMessageRow.react").MWMessageRow,babelHelpers["extends"]({},f,{key:a.messageId,message:a,nextMessage:e[c+1],prevMessage:e[c-1],stopHoveringRef:b}))}):null]})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("MWComposerPlaceholder.react",["react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){a=a.height;return i.jsx("div",{className:"x1exxf4d x13fuv20 x178xt8z",style:{height:a.toString()+"px"}})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWContactDetails",[],(function(a,b,c,d,e,f){"use strict";function a(a){if(a!=null)return a.name}function b(a){if(a==null)return;var b=a.firstName;if(b!=null)return b;else return a.name}function c(a){if(a!=null)return a.secondaryName}f.getName=a;f.getShortName=b;f.getSecondaryName=c}),66);
__d("MWEBRestoreGapUI.react",["fbt","MAWEncryptedBackupsRestoreDialog.entrypoint","MWChatEncryptedBackupsQPLEvents","MWChatEncryptedBackupsQPLSource.enum","MWEBEntrypointsKillswitch.enum","MWEncryptedBackupsRetrieveQplLoggingAnnotations","MWXLink.react","MWXRow.react","MWXRowItem.react","MWXText.react","QPLUserFlow","promiseDone","react","requireDeferred","useLabyrinthLogging","useMWEBBackupState","useMWEBGetUpsellState","useMWXEntryPointDialog","useReStore","useVisibilityObserver"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=j||(j=d("react"));b=j;var l=b.useCallback,m=b.useEffect,n=b.useRef,o=c("requireDeferred")("mwEBCheckIfEBKeysExistInDisk").__setRef("MWEBRestoreGapUI.react"),p={banner:{backgroundColor:"xlhe6ec",borderTopStartRadius:"x1lq5wgf",borderTopEndRadius:"xgqcy7u",borderBottomEndRadius:"x30kzoy",borderBottomStartRadius:"x9jhf4c",overflowX:"x6ikm8r",overflowY:"x10wlt62",paddingTop:"xyamay9",paddingBottom:"x1l90r2v",paddingStart:"x1xfsgkm",paddingEnd:"xqmdsaz",paddingLeft:null,paddingRight:null,$$css:!0}};function a(){var a=(i||(i=c("useReStore")))(),b=c("useMWEBBackupState")({entrypoint:c("MWEBEntrypointsKillswitch.enum").IN_THREAD_GAP_UI}),e=c("useMWXEntryPointDialog")(c("MAWEncryptedBackupsRestoreDialog.entrypoint"),{}),f=e[0];e=d("useLabyrinthLogging").useLabyrinthLoggingFlow();var g=e.startFlow;e=c("useMWEBGetUpsellState")();e=e.isRestoreUpsellsDismissed;var j=c("MWChatEncryptedBackupsQPLSource.enum").IN_THREAD_GAP_UI,q=n(!1),r=n(!1),s=l(function(b){d("MWEncryptedBackupsRetrieveQplLoggingAnnotations").encryptedBackupsRetrieveQplLoggingAnnotations({db:a,onFetch:function(a){var e=a.ebsmWiped,f=a.firstUpsellTime,h=a.hasEbKeysLocally,i=a.hasEBSM,k=a.hasPDB,l=a.hasUserRestoredBefore;a=a.hasUserRestoredBeforeTemp;g({additionalAnnotations:{eb_session_identifier:f,ebsm_wiped:e,has_eb_keys_locally:h,has_ebsm:i,has_pdb:k,has_user_restored_before:l,has_user_restored_before_temp:a,restore_upsell_first_impression_time:f},event:d("MWChatEncryptedBackupsQPLEvents").restoreQplEvent,source:j});c("QPLUserFlow").addPoint(d("MWChatEncryptedBackupsQPLEvents").restoreQplEvent,b);r.current===!1&&(r.current=!0,c("promiseDone")(o.load(),function(a){return a(h)}))}})},[j,g,a]),t=c("useVisibilityObserver")({onVisible:function(){s("RESTORE_IN_THREAD_MISSING_MESSAGE_GAP_UI_IMPRESSION")}}),u=b===4&&!e;m(function(){q.current===!1&&u&&(q.current=!0,s("RESTORE_IN_THREAD_MISSING_MESSAGE_GAP_UI_MOUNT"))},[u,s]);return!u?null:k.jsx(c("MWXRow.react"),{align:"center",paddingHorizontal:16,paddingVertical:4,ref:t,spacing:0,children:k.jsx(c("MWXRowItem.react"),{xstyle:p.banner,children:k.jsx(c("MWXText.react"),{align:"center",color:"secondary",type:"body4",children:k.jsxs(k.Fragment,{children:[h._(/*BTDS*/"__JHASH__4WMqcKoHbeS__JHASH__")," ",k.jsx(c("MWXText.react"),{color:"blueLink",type:"bodyLink4",children:k.jsx(c("MWXLink.react"),{onClick:function(){s("RESTORE_IN_THREAD_GAP_UI_CTA_CLICK"),f({source:j})},target:"_blank",testid:void 0,children:h._(/*BTDS*/"__JHASH__KfRv84gajDv__JHASH__")})})]})})})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("MWEditChannelDialogQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="6185531621550317"}),null);
__d("MWEditChannelDialogQuery$Parameters",["MWEditChannelDialogQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a={kind:"PreloadableConcreteRequest",params:{id:b("MWEditChannelDialogQuery_facebookRelayOperation"),metadata:{},name:"MWEditChannelDialogQuery",operationKind:"query",text:null}};e.exports=a}),null);
__d("MWEditChannelDialog.entrypoint",["JSResourceForInteraction","MWEditChannelDialogQuery$Parameters"],(function(a,b,c,d,e,f,g){"use strict";a={getPreloadProps:function(a){a=a.threadID;return{queries:{queryReference:{options:{fetchPolicy:"network-only"},parameters:c("MWEditChannelDialogQuery$Parameters"),variables:{threadID:a}}}}},root:c("JSResourceForInteraction")("MWEditChannelDialog.react").__setRef("MWEditChannelDialog.entrypoint")};g["default"]=a}),98);
__d("MWEditChannelDialogTrigger.react",["I64","MWEditChannelDialog.entrypoint","promiseDone","react","useMWXEntryPointDialog","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j;j||d("react");function a(a){var b=a.children,e=a.threadKey,f=(h||(h=c("useReStore")))();a={threadID:(i||(i=d("I64"))).to_string(e)};a=c("useMWXEntryPointDialog")(c("MWEditChannelDialog.entrypoint"),a);var g=a[0];a=function(){c("promiseDone")(f.tables.threads.get(e),function(a){if(a==null)return;g({thread:a})})};return b(a)}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWExpandReactionsButton.react",["fbt","I64","MWCMThreadTypes.react","MWChatMessageId","MWChatReactionsActionContainer.react","MWMultiReactConstants","MWXPressable.react","MWXTooltip.react","emptyFunction","intlSummarizeNumber","react","stylex","useIsReactionsV2Enabled","vulture"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k,l=j||(j=d("react"));b=j;var m=b.useCallback,n=b.useMemo,o={additionalInlineButton:{display:"x78zum5",flexDirection:"xdt5ytf",height:"xlup9mm",justifyContent:"xl56j7k",width:"x1npj6m0",$$css:!0},emoji:{alignItems:"x6s0dn4",borderTopStartRadius:"x14yjl9h",borderTopEndRadius:"xudhj91",borderBottomEndRadius:"x18nykt9",borderBottomStartRadius:"xww2gxu",cursor:"x1ypdohk",lineHeight:"x14ju556",marginEnd:"x11i5rnm",$$css:!0},emojiNum:{paddingStart:"x1k2j06m",paddingEnd:"x10ogl3i",textAlign:"x2b8uid",$$css:!0},emojiRowContainer:{borderTopStartRadius:"xdxvlk3",borderTopEndRadius:"x1fglp",borderBottomEndRadius:"x1rp6h8o",borderBottomStartRadius:"xg6i1s1",marginBottom:"x12nagc",marginEnd:"xw3qccf",$$css:!0},fontStyles:{color:"xi81zsa",fontSize:"x1nxh6w3",fontWeight:"x1s688f",$$css:!0}};function a(a){var b=a.isMultiReactExpanded,e=a.isReactionReadOnly,f=a.isSecure,g=a.message,j=a.numOverflowEmojis,p=a.sendReaction,q=a.setIsReactionsRowAnimationInProgress,r=a.threadKey,s=a.threadType,t=a.toggleMultiReactExpanded;c("vulture")("8XKlnaaM0q5");var u=(k||(k=d("I64"))).to_string(r),v=k.to_string(g.timestampMs);a=n(function(){return d("MWChatMessageId").makeSent(u,g.messageId,v)},[u,g.messageId,v]);s=d("MWCMThreadTypes.react").isBroadcastThread(s);r=d("useIsReactionsV2Enabled").useIsReactionsV2Enabled(r);var w=m(function(){t(),q(!0)},[q,t]);return l.jsx(c("MWChatReactionsActionContainer.react"),{alwaysShowEmojiPicker:!0,closeActionsMenu:c("emptyFunction"),disableCustomReactions:r&&s,hasReactionsV2:r,isBroadcastThread:s,isSecure:f,messageID:a,onVisibilityChange:c("emptyFunction"),sendReaction:p,children:function(a,f,g,k,m){f=h._(/*BTDS*/"__JHASH__S6Ab1Epvc_N__JHASH__");var n=c("intlSummarizeNumber")(j),p="+"+n;n=n.length;g=l.jsx(c("MWXPressable.react"),{"aria-label":f,disabled:e,expanding:!0,onHoverIn:g,onHoverOut:k,onPress:w,onPressIn:m,overlayRadius:"inherit",ref:a,role:"button",testid:void 0,xstyle:o.emojiRowContainer,children:l.jsx("div",babelHelpers["extends"]({className:"x6s0dn4 x7daf1o xdxvlk3 x1fglp x1rp6h8o xg6i1s1 x78zum5 xl56j7k x10b6aqq xsyo7zv xurb0ha x1yrsyyn x1n2onr6 xp4054r"},{role:"none",children:l.jsx("div",{className:(i||(i=c("stylex")))([].concat(b?[o.fontStyles,o.emoji,o.additionalInlineButton]:[o.fontStyles,o.emojiNum])),role:"none",style:{minWidth:n*d("MWMultiReactConstants").SPACING_PER_COUNT_CHARACTER},children:p})}))});return e?g:l.jsx(c("MWXTooltip.react"),{align:"middle",position:"above",tooltip:f,children:g})}})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("MWGroupLimitContainer.react",["cr:3409","react"],(function(a,b,c,d,e,f,g){"use strict";var h;h||d("react");function a(a){var c=a.children,d=a.groupLimitReachedContent;a=a.thread;a=(a=b("cr:3409")==null?void 0:b("cr:3409")(a.threadKey))!=null?a:[!1,!1];a=a[0];return a?d:c}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWInboxInfoMembersSectionStorageKey",[],(function(a,b,c,d,e,f){"use strict";a="__MWInboxInfoMembersSection.isOpen__";f.storageKey=a}),66);
__d("MWJoinChannelComposerPlaceholder.react",["fbt","$InternalEnum","JSResourceForInteraction","MWXColumn.react","MWXColumnItem.react","MWXGlimmer.react","MWXText.react","lazyLoadComponent","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react"),k=c("lazyLoadComponent")(c("JSResourceForInteraction")("MWBroadcastChannelMemberComposer.react").__setRef("MWJoinChannelComposerPlaceholder.react")),l={buttonGlimmer:{borderTopStartRadius:"xi112ho",borderTopEndRadius:"x17zwfj4",borderBottomEndRadius:"x585lrc",borderBottomStartRadius:"x1403ito",height:"x10w6t97",$$css:!0},root:{borderTopColor:"x1exxf4d",borderTopStyle:"x13fuv20",borderTopWidth:"x178xt8z",$$css:!0}},m=b("$InternalEnum").Mirrored(["Broadcast","Social"]);function a(a){var b=a.channelType,d=a.threadKey;a=function(){switch(b){case m.Broadcast:return j.jsx(k,{isJoined:!1,threadKey:d});case m.Social:return h._(/*BTDS*/"__JHASH__z9Tbm69vmCi__JHASH__")}}();return j.jsxs(c("MWXColumn.react"),{paddingHorizontal:16,paddingVertical:16,spacing:16,xstyle:l.root,children:[j.jsx(c("MWXColumnItem.react"),{children:j.jsx(c("MWXText.react"),{align:"center",type:"meta3",children:a})}),j.jsx(c("MWXColumnItem.react"),{children:j.jsx(c("MWXGlimmer.react"),{index:0,xstyle:l.buttonGlimmer})})]})}a.displayName=a.name+" [from "+f.id+"]";g.ChannelType=m;g.MWJoinChannelComposerPlaceholder=a}),226);
__d("MWXIconMenuItemArrowDown",["MWXSvgIcon","SVGIcon","cr:12670","gkx"],(function(a,b,c,d,e,f,g){"use strict";a=d("MWXSvgIcon").mwxSvgMenuItemIcon(d("SVGIcon").svgIcon(b("cr:12670")),c("gkx")("23219"));g["default"]=a}),98);
__d("MWJumpToMostRecentMessageButton.react",["fbt","MWPBumpEntityKey","MWXIconMenuItemArrowDown","MWXIconStrict.react","MWXPressable.react","MWXThreadThemeColor","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react"),k={circleButton:{alignItems:"x6s0dn4",backgroundColor:"x1l31dnx",borderTopStartRadius:"x14yjl9h",borderTopEndRadius:"xudhj91",borderBottomEndRadius:"x18nykt9",borderBottomStartRadius:"xww2gxu",boxShadow:"xurzqwv",display:"x78zum5",height:"x1vqgdyp",justifyContent:"xl56j7k",width:"x100vrsf",$$css:!0}};function a(a){var b=a.onPress;return j.jsx(c("MWXPressable.react"),{"aria-label":h._(/*BTDS*/"__JHASH__mZcaI1xn9AA__JHASH__"),onPress:function(){b(),d("MWPBumpEntityKey").bumpEntityKeyWithAppId("mw_jump_to_bottom","app_id")},xstyle:k.circleButton,children:j.jsx(c("MWXIconStrict.react"),{color:d("MWXThreadThemeColor").mwxThreadThemeColor("var(--mwp-primary-theme-color)"),icon:c("MWXIconMenuItemArrowDown"),size:20})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("MWMediaComposerLinkPreviewXMARenderQpl",["I64","LSIntEnum","MAWLoggerUtils","MWMediaRenderQplUtils","MessagingAttachmentType","QPLUserFlow","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j;b=h||d("react");var k=b.useEffect,l=b.useMemo,m=b.useRef;function a(a,b,e,f){a===void 0&&(a="");b===void 0&&(b="");var g=d("MAWLoggerUtils").getInstanceKeyFromId(a.concat(b)),h=m(!1),n=l(function(){if(a==null||b==null)return null;var k=(i||(i=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").XMA);c("QPLUserFlow").start(d("MWMediaRenderQplUtils").event,{annotations:{string:{attachment_type:d("MWMediaRenderQplUtils").getAttachmentTypeStringFromEnum(k),content_type:d("MWMediaRenderQplUtils").deriveMessageContentTypeStringFromAttachmentTypeLessAccurate(k),entry_point:"composer_view",linkPreviewDataType:d("MWMediaRenderQplUtils").getE2EELinkPreviewXMADataTypeStringFromEnum((k=e)!=null?k:(j||(j=d("I64"))).zero),thread_type:d("MWMediaRenderQplUtils").getThreadTypeStringFromEnum((k=f)!=null?k:(j||(j=d("I64"))).zero)}},cancelOnUnload:!0,instanceKey:g,timeoutInMs:d("MWMediaRenderQplUtils").QPL_TIMEOUT});h.current=!1;return babelHelpers["extends"]({},d("MWMediaRenderQplUtils").createQplFlowCommon(d("MWMediaRenderQplUtils").event,g,h))},[g]);k(function(){return function(){h.current===!1&&(n==null?void 0:n.getInstanceKey())!=null&&(n==null?void 0:n.endCancel(706))}},[n]);return n}g.useMediaComposerLinkPreviewXMARenderQpl=a}),98);
__d("MWMessageList",["CometPageletWithDiv.react","I64","Int64Hooks","LSCommunityBitOffset","LSMessageRenderingType","LSMessagingThreadTypeUtil","MWBlockingProtectionContext.react","MWChatInteraction","MWClickedMessageContext.react","MWCollapsibleAdminMessages.react","MWInboxThreadMessagesSpinner.react","MWJumpToMostRecentMessageButton.react","MWMessageListLoggingContext","MWMessageRow.react","MWMessageSendingContext.react","MWMessageTranslationContext.react","MWPMessageListFocusTable.react","MWPThreadCapabilitiesContext","MWPTypingIndicators.react","MWPVisibleMessageContext.react","MWV2ChatAdminMessage.react","MWV2MessageActionsVisibility.react","WebUXLoggingSurfaceContextProvider","cr:3907","cr:6714","cr:7486","isMWNewSearchUXEnabled","mwCMIsAnyCMThread","react","useCommunityFolder","useIsReactionsV2Enabled","useMWPAriaLabelForMessageListGrid","uuidv4"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=h||(h=d("react"));e=h;var k=e.useEffect,l=e.useId,m=e.useState;function n(a){return d("MWV2ChatAdminMessage.react").isAdminMessage(a)&&a!=null&&(a.messageRenderingType==null||!(i||(i=d("I64"))).equal(a.messageRenderingType,(i||(i=d("I64"))).of_int32(c("LSMessageRenderingType").NON_COLLAPSIBLE_ADMIN_MESSAGE)))}function o(a){return j.jsx(c("MWInboxThreadMessagesSpinner.react"),{vcIgnore:a})}o.displayName=o.name+" [from "+f.id+"]";function p(a){return j.jsx(c("MWJumpToMostRecentMessageButton.react"),{onPress:a})}p.displayName=p.name+" [from "+f.id+"]";e=j.forwardRef(a);function a(a,e){var f=a.entryPoint,g=a.renderFooter,h=a.renderHeader,q=a.thread,r=d("MWV2MessageActionsVisibility.react").useStopHoveringRef();a=m("");var s=a[0];a=a[1];var t=l(),u=d("LSMessagingThreadTypeUtil").isArmadilloSecure(q.threadType),v=c("useMWPAriaLabelForMessageListGrid")(q),w=d("MWPVisibleMessageContext.react").useMWPVisibleMessageContext(),x=w.setVisibleMessage,y=w.visibleMessage,z=d("Int64Hooks").useMemoInt64(function(){return q.threadType},[q.threadType]),A=c("useCommunityFolder")(q),B=A!=null?d("LSCommunityBitOffset").has(9,A):!1,C=d("useIsReactionsV2Enabled").useIsReactionsV2Enabled(q.threadKey),D=b("cr:6714")(q.threadKey);w=m(!1);var E=w[0],F=w[1];k(function(){D&&!E&&x(function(a){return(a=a)!=null?a:{contextLine:"",highlights:[],messageId:D.messageId,source:"LastReadWatermark",timestamp:D.timestampMs}})},[D,x,E]);w=d("Int64Hooks").useCallbackInt64(function(){return j.jsxs(j.Fragment,{children:[j.jsx(d("MWPTypingIndicators.react").MWPTypingIndicators,{threadKey:q.threadKey,threadType:z}),g&&g()]})},[g,q.threadKey,z]);var G=new Map();f=j.jsx(b("cr:7486"),{entryPoint:f,onPageLoaded:function(a,b,c,e){a=d("MWChatInteraction").getInteractionTraceForThreadKey((i||(i=d("I64"))).to_string(q.threadKey));if(a==null)return;a.addMarkerPoint("page_loaded","AppTiming",void 0,{page_index:e,page_size:c,total_number_of_messages:b.length})},onUserScroll:function(){return F(!0)},pageSize:15,ref:e,renderFooter:w,renderHeader:h,renderJumpToMostRecentMessageButton:p,renderLoadingAnimation:o,renderRow:function(a){var b=a.domElementRef,e=a.message,f=a.nextMessage,g=a.prevMessage;a=a.rowIndexFromBottom;var h=u?(i||(i=d("I64"))).equal(q.threadKey,e.threadKey):!1,k=(D==null?void 0:D.messageId)===e.messageId,l=!n(g)&&!n(f),m=y==null?!1:y.messageId===e.messageId&&(y.source==="Reply"||y.source==="Pinned"||y.source==="Search"&&c("isMWNewSearchUXEnabled")());if((c("mwCMIsAnyCMThread")(q.threadType)||d("LSMessagingThreadTypeUtil").isDiscoverableChannel(q.threadType))&&n(e)&&!l){G.set(e.messageId,e);l=n(g)&&!n(f);if(l){l=Array.from(G.values());G.clear();return j.jsx(c("MWCollapsibleAdminMessages.react"),{domElementRef:b,fbGroupId:A==null?void 0:A.fbGroupId,hasMessageEmphasisRing:m,isCMAdmin:B,isModal:s===e.messageId,isSecureMessage:h,messages:l,rowIndexFromBottom:a,shouldRenderUnreadIndicator:k,threadType:z,useReactionsV2:C})}else return null}return j.jsx(d("MWMessageRow.react").MWMessageRow,{containerThreadKey:q.threadKey,domElementRef:b,fbGroupId:A==null?void 0:A.fbGroupId,hasMessageEmphasisRing:m,isCMAdmin:B,isModal:s===e.messageId,isSecureMessage:h,message:e,nextMessage:f,prevMessage:g,rowIndexFromBottom:a,shouldRenderUnreadIndicator:k,stopHoveringRef:r,threadType:z,useReactionsV2:C})},thread:q});return j.jsx(c("MWMessageSendingContext.react").Provider,{children:j.jsx(c("MWMessageTranslationContext.react").Provider,{children:j.jsx(c("MWClickedMessageContext.react").Provider,{children:j.jsx(c("MWBlockingProtectionContext.react").Provider,{children:j.jsx(d("CometPageletWithDiv.react").Placeholder,{className:"x78zum5 xdt5ytf x1iyjqo2 x5yr21d",fallback:j.jsx(c("MWInboxThreadMessagesSpinner.react"),{}),name:"MWMessageList",children:j.jsx(d("MWPThreadCapabilitiesContext").Provider,{thread:q,children:j.jsx(c("MWPMessageListFocusTable.react"),{ariaLabel:v,modal:s,setModal:a,children:j.jsx(d("WebUXLoggingSurfaceContextProvider").WebUXSurfaceLoggingContext.Provider,{value:"message_list",children:j.jsx(d("MWMessageListLoggingContext").MWMessageListLoggingContext,{flowInstanceId:c("uuidv4")(),children:b("cr:3907")==null?f:j.jsx(b("cr:3907"),{id:t,children:f})})})})})})})})})})}a.displayName=a.name+" [from "+f.id+"]";a=e;g["default"]=a}),98);
__d("MWMessageReaction.react",["BaseContextualLayer.react","I64","MWChatMultiReactionsTooltip.react","MWChatReactionEmoji","MWChatReactionsUtils","MWMultiReactConstants","MWXPopover.react","MWXPressable.react","MWXText.react","gkx","intlSummarizeNumber","react","stylex","useCometTheme","useFadeEffect","vulture"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=i||(i=d("react"));b=i;var l=b.useEffect,m=b.useRef,n=b.useState,o={"--card-background":"rgba(0,0,0,0)"},p={animatedEmoji:{animationDuration:"xdz8niu",animationIterationCount:"x1v7wizp",animationName:"x4uz0a7",animationTimingFunction:"xjmqbfh",opacity:"x1hc1fzr",transform:"xds7yc5",transformOrigin:"x1jpgh95",$$css:!0},emoji:{alignItems:"x6s0dn4",borderTopStartRadius:"x14yjl9h",borderTopEndRadius:"xudhj91",borderBottomEndRadius:"x18nykt9",borderBottomStartRadius:"xww2gxu",lineHeight:"x14ju556",marginEnd:"x11i5rnm",$$css:!0},emojiEnabled:{cursor:"x1ypdohk",$$css:!0},emojiNum:{color:"xi81zsa",fontSize:"x1nxh6w3",fontWeight:"x1s688f",paddingStart:"x1k2j06m",paddingEnd:"x10ogl3i",textAlign:"x2b8uid",$$css:!0},emojiRow:{alignItems:"x6s0dn4",backgroundColor:"xnmxlks",borderTopStartRadius:"xdxvlk3",borderTopEndRadius:"x1fglp",borderBottomEndRadius:"x1rp6h8o",borderBottomStartRadius:"xg6i1s1",display:"x78zum5",justifyContent:"xl56j7k",paddingBottom:"x10b6aqq",paddingEnd:"xsyo7zv",paddingStart:"xurb0ha",paddingTop:"x1yrsyyn",position:"x1n2onr6",textAlign:"xp4054r",$$css:!0},emojiRowContainer:{borderTopStartRadius:"xdxvlk3",borderTopEndRadius:"x1fglp",borderBottomEndRadius:"x1rp6h8o",borderBottomStartRadius:"xg6i1s1",marginBottom:"x12nagc",marginEnd:"xw3qccf",$$css:!0},scaleHeartEmoji:{transform:"xhqu4j4",$$css:!0},selectedColor:{backgroundColor:"x1y4ma1z",$$css:!0},selectedTextColor:{color:"x1f0x4kx",$$css:!0},tooltipContainer:{borderTopStartRadius:"x1r9drvm",borderTopEndRadius:"x16aqbuh",borderBottomEndRadius:"x9rzwcf",borderBottomStartRadius:"xjkqk3g",display:"x1lliihq",marginBottom:"xjpr12u",marginTop:"xr9ek0c",maxWidth:"x86nfjv",opacity:"xg01cxk",paddingTop:"xz9dl7a",paddingEnd:"xn6708d",paddingBottom:"xsag5q8",paddingStart:"x1ye3gou",position:"x1n2onr6",transitionDuration:"x1ebt8du",transitionProperty:"x19991ni",transitionTimingFunction:"x1dhq9h",$$css:!0},tooltipContainerVisible:{opacity:"x1hc1fzr",transitionDuration:"xhb22t3",transitionTimingFunction:"xls3em1",$$css:!0},tootltipBackgroundComet:{backgroundColor:"xj5tmjb",boxShadow:"xms15q0",$$css:!0}};function a(a){var b=a.emoji,e=a.isProcessingReactions,f=a.isReadOnly,g=a.isTooltipShown,i=a.message,q=a.onFocus,r=a.onMouseEnter,s=a.onMouseLeave,t=a.onTooltipCTAPress,u=a.queueSendReactionCallback,v=a.reaction,w=a.sendReaction,x=a.shouldAnimate;a=a.threadKey;c("vulture")("9PxgC8PUAEg");var y=c("useCometTheme")("invert"),z=y[0];y=y[1];var A=c("useCometTheme")("light");A[0];A=A[1];var B=d("MWChatReactionsUtils").isHeart(b[0]),C=m(null);g=c("useFadeEffect")(g);var D=g[0],E=g[1];g=g[2];var F=n(v.viewerIsReactor),G=F[0],H=F[1];F=n((j||(j=d("I64"))).to_int32(v.count));var I=F[0],J=F[1];F=n(!1);var K=F[0],L=F[1],M=m(null);l(function(){M.current!=null&&window.clearTimeout(M.current)},[]);l(function(){x&&(L(!0),M.current!=null&&window.clearTimeout(M.current),M.current=window.setTimeout(function(){M.current=null,L(!1)},600))},[x]);l(function(){e||(J((j||(j=d("I64"))).to_int32(v.count)),H(v.viewerIsReactor))},[e,v.count,v.viewerIsReactor]);function N(){H(!0),J(function(a){return a+1})}function O(){H(!1),J(function(a){return a>1?a-1:a})}F=c("intlSummarizeNumber")(I).length;return k.jsxs("div",babelHelpers["extends"]({},(h||(h=c("stylex"))).props(G?A:null),{onFocus:q,onMouseEnter:r,onMouseLeave:s,children:[k.jsx(c("MWXPressable.react"),{disabled:f,onPress:function(){G?O():N();var a=b.join("");I===1&&G?w(a,G):u(a,function(){w(a,G)})},overlayRadius:"inherit",ref:C,xstyle:p.emojiRowContainer,children:k.jsxs("div",babelHelpers["extends"]({},h.props([p.emojiRow,G&&p.selectedColor]),{children:[k.jsx("div",babelHelpers["extends"]({},h.props([p.emoji,f?null:p.emojiEnabled]),{children:k.jsx("div",babelHelpers["extends"]({},h.props(x||K?p.animatedEmoji:!1,B?p.scaleHeartEmoji:!1),{children:k.jsx(c("MWChatReactionEmoji"),{emoji:b,size:16,testid:void 0})}))})),k.jsx("div",{className:h([p.emojiNum,G&&p.selectedTextColor]),"data-testid":void 0,role:"none",style:{minWidth:F*d("MWMultiReactConstants").SPACING_PER_COUNT_CHARACTER},children:c("intlSummarizeNumber")(I)})]}))}),!f&&D&&k.jsx(z,{children:k.jsx(c("BaseContextualLayer.react"),{align:"middle",contextRef:C,position:"above",ref:g,children:k.jsx("div",{style:c("gkx")("23219")?null:o,children:k.jsx(c("MWXPopover.react"),{withArrow:c("gkx")("23219"),children:k.jsx("div",babelHelpers["extends"]({},(h||(h=c("stylex"))).props(y,p.tooltipContainer,c("gkx")("23219")?null:p.tootltipBackgroundComet,E&&p.tooltipContainerVisible),{role:"tooltip",children:k.jsx(c("MWXText.react"),{color:"primary",type:"body4",children:k.jsx(c("MWChatMultiReactionsTooltip.react"),{isProcessingReactions:e,messageId:i.messageId,onTooltipCTAPress:function(){return t(v.reactionFbid,b.join(""))},reactionFbid:v.reactionFbid,threadKey:a})})}))})})})})]}))}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("useEmojiReactionDynamicStyleXTransition",["differenceSets","mapMapToArray","mapSet","nullthrows","react","setImmediate","sortBy","useForceUpdate","useIsMountedRef","useStable"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");var i=b.useCallback,j=b.useEffect,k=b.useLayoutEffect,l=b.useRef,m={animationBase:{opacity:"xg01cxk",transitionDuration:"xbb3pvg",transitionProperty:"xeq7tfg",width:"xnalus7",$$css:!0},animationEnter:{animationDuration:"xllfotl",animationName:"x127lhb5",opacity:"x1hc1fzr",$$css:!0},animationEnterWidth1:{width:"x1ygkb0v",$$css:!0},animationEnterWidth2:{width:"x1247r65",$$css:!0},animationEnterWidth3:{width:"xdc2ju1",$$css:!0},animationEnterWidth4:{width:"xgbm1jk",$$css:!0},animationEnterWidth5:{width:"x1rdo73f",$$css:!0},animationEnterWidth6:{width:"x13oubkp",$$css:!0},animationLeave:{animationDuration:"x773k2o",animationName:"xvma63k",opacity:"xg01cxk",width:"xnalus7",$$css:!0}};function n(a){switch(a){case 1:return m.animationEnterWidth1;case 2:return m.animationEnterWidth2;case 3:return m.animationEnterWidth3;case 4:return m.animationEnterWidth4;case 5:return m.animationEnterWidth5;case 6:return m.animationEnterWidth6;default:return null}}function o(){var a=l(new Map());function b(){return a.current}j(function(){return function(){return Array.from(b().values()).forEach(window.clearTimeout)}},[]);return b()}function p(){var a=c("useForceUpdate")(),b=c("useIsMountedRef")();return c("useStable")(function(){return function(){b.current&&a()}})}function a(a,b,d,e){var f=p(),g=o(),h=c("useStable")(function(){return new Map()}),j=l(!0),q=d.duration,r=q===void 0?100:q,s=d.durationIn,t=d.durationOut,u=d.onEnter,v=d.onEnterComplete,w=d.onLeave,x=d.onLeaveComplete,y=i(function(a,b,c){return{item:b,key:a,order:c,style:{transitionDuration:((a=s)!=null?a:r)+"ms"},xstyle:[m.animationBase,j.current&&m.animationEnter,j.current&&n((c=b==null?void 0:b.reactionCountCharactersNum)!=null?c:0)]}},[s,r]),z=new Map(a.map(function(a,c){return[b(a),{item:a,order:c}]})),A=c("differenceSets")(new Set(z.keys()),new Set(h.keys())),B=c("differenceSets")(new Set(h.keys()),new Set(z.keys())),C=new Map();q=Array.from(c("mapSet")(B,function(a){a=c("nullthrows")(h.get(a));a=a.order;return a})).sort(function(a,b){return a-b});q.forEach(function(b,c){b=b-c;while(b<a.length){c=(c=C.get(b))!=null?c:0;C.set(b,c+1);b+=1}});d=c("sortBy")([].concat(c("mapMapToArray")(h,function(a){var b=a.key;b=z.get(b);if(b){return babelHelpers["extends"]({},a,{item:b.item,order:b.order+((b=C.get(b.order))!=null?b:0)})}return a}),Array.from(c("mapSet")(A,function(a){var b=c("nullthrows")(z.get(a)),d=b.item;b=b.order;return y(a,d,b)}))),function(a){return a.order});k(function(){if(e===!0)return;a.forEach(function(a,d){var e,i=b(a),j=(e=h.get(i))!=null?e:y(i,a,d);A.has(i)&&window.requestAnimationFrame(function(){var b;j.xstyle=[m.animationBase,m.animationEnter,n((b=a==null?void 0:a.reactionCountCharactersNum)!=null?b:0)];window.clearTimeout(g.get(i));g.set(i,window.setTimeout(function(){v&&v(a)},(b=s)!=null?b:r));c("setImmediate")(function(){var b;j.xstyle=[m.animationBase,m.animationEnter,n((b=a==null?void 0:a.reactionCountCharactersNum)!=null?b:0)];u&&u(a);f()})});j.item=a;j.order=d+((e=C.get(d))!=null?e:0);h.set(i,j)});Array.from(B.values()).forEach(function(a){var b=h.get(a);if(b==null)return;var d=b.item;if(b.status!=="leaving"){var e;b.status="leaving";b.style={transitionDuration:((e=t)!=null?e:r)+"ms"};window.requestAnimationFrame(function(){var e;b.xstyle=[m.animationBase,m.animationLeave];window.clearTimeout(g.get(a));g.set(a,window.setTimeout(function(){h["delete"](a),x&&x(d),f()},(e=t)!=null?e:r));c("setImmediate")(function(){w&&w(d),f()})})}});j.current=!1});return d}g["default"]=a}),98);
__d("useSendReactionCallbackQueue",["react"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");var i=b.useRef,j=b.useState,k=1e3,l=1500;function a(){var a=i(new Map()),b=i(null),c=j(!1),d=c[0],e=c[1];c=function(c,d){e(!0),window.clearTimeout(b.current),a.current.set(c,d),b.current=window.setTimeout(function(){f()},l)};var f=function c(){if(a.current.size>0){e(!0);var d=Array.from(a.current.entries())[0],f=d[0];d=d[1];d();a.current["delete"](f);b.current=window.setTimeout(function(){c()},l)}else g()},g=function(){window.setTimeout(function(){b.current=null,e(!1)},k)};return[c,d]}g["default"]=a}),98);
__d("MWMessageReactionsList.react",["I64","LSAuthorityLevel","LSIntEnum","MWMessageReaction.react","MWMultiReactConstants","intlSummarizeNumber","react","stylex","useEmojiReactionDynamicStyleXTransition","useSendReactionCallbackQueue","vulture"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k,l=i||(i=d("react")),m=i.useRef;function a(a){var b=a.emojis,e=a.hideTooltip,f=a.isMultiReactExpanded,g=a.isReactionReadOnly,i=a.message,n=a.onTooltipCTAPress,o=a.previousReactionItems,p=a.reactionItemsShown,q=a.reactionsV2,r=a.sendReactionThrottled,s=a.setIsReactionsRowAnimationInProgress,t=a.setShouldAnimate,u=a.shouldAnimate,v=a.showTooltip,w=a.threadKey,x=a.tooltipIndex;c("vulture")("7cqWVdlHs0n");var y=p.length,z=m(y);a=c("useSendReactionCallbackQueue")();var A=a[0],B=a[1];a=function(){z.current=y,s(!1),f&&t(!1)};var C=function(){z.current=y,s(!1)},D=[];q!=null&&(D=p.map(function(a,f){var h=a.emoji;a=a.reaction;return b[f]==null?null:{element:l.jsx(c("MWMessageReaction.react"),{emoji:h,isProcessingReactions:B,isReadOnly:g,isTooltipShown:x===f,message:i,onFocus:function(){return v(f)},onMouseEnter:function(){return v(f)},onMouseLeave:e,onTooltipCTAPress:n,queueSendReactionCallback:A,reaction:a,sendReaction:r,shouldAnimate:(o==null?void 0:o.find(function(a){return a.emoji.join("")===h.join("")}))==null&&(j||(j=d("I64"))).equal(a.authorityLevel,(k||(k=d("LSIntEnum"))).ofNumber(c("LSAuthorityLevel").OPTIMISTIC)),threadKey:w},h),key:b.toString()+f,reactionCountCharactersNum:c("intlSummarizeNumber")((j||(j=d("I64"))).to_int32(a.count)).length}}));q=c("useEmojiReactionDynamicStyleXTransition")(D,function(a){return a!=null?a.key:0},{duration:d("MWMultiReactConstants").REACTIONS_ROW_EXPAND_COLLAPSE_ANIMATION_TOTAL_DURATION,onEnterComplete:a,onLeaveComplete:C});return u?q.map(function(a){return l.jsx("div",{className:(h||(h=c("stylex")))([a==null?void 0:a.xstyle]),style:babelHelpers["extends"]({},a.style),children:a.item&&a.item.element},a.key)}):D.map(function(a){return a==null?void 0:a.element})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("useGetMultiReactOrderedItems",["I64","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i;b=h||d("react");var j=b.useMemo,k=b.useRef;function l(a,b){var c={};a.forEach(function(a){c[a]=!0});var d=a;b.forEach(function(a){a=a.emoji.join("");if(c[a])return;d.push(a)});return d}function m(a,b){b=((b=b)!=null?b:[]).filter(function(a){return(i||(i=d("I64"))).gt(a.count,i.zero)});return b.map(function(b,c){return{emoji:a[c],reaction:b}}).filter(function(a){return a.emoji!=null})}function a(a,b){var c=k(!0),e=k([]),f=j(function(){return m(a,b)},[a,b]),g=j(function(){var a={};f.forEach(function(b){a[b.emoji.join("")]=b});return a},[f]);return j(function(){if(c.current)c.current=!1,e.current=f.sort(function(a,b){return(i||(i=d("I64"))).compare(b.reaction.count,a.reaction.count)}).map(function(a){return a.emoji.join("")});else{var a=e.current.filter(function(a){a=g[a];return a==null?!1:(i||(i=d("I64"))).to_int32(a.reaction.count)>0});e.current=l(a,f)}return e.current.map(function(a){return g[a]}).filter(Boolean)},[g,f])}g["default"]=a}),98);
__d("MWMessageReactionsContainerV2.react",["LSMessagingThreadTypeUtil","MAWPSendOrRemoveReaction.react","MWAddReactionButton.react","MWExpandReactionsButton.react","MWLSThread","MWMessageReactionsList.react","MWMultiReactConstants","ReQL","ReQLSuspense","emptyFunction","justknobx","react","stylex","unrecoverableViolation","useGetMultiReactOrderedItems","useIsMultiReactionEnabled","useIsReactionsV2Enabled","useOnOutsideClick","usePrevious","useReStore","useThrottled"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=j||(j=d("react"));b=j;var l=b.useCallback,m=b.useRef,n=b.useState,o={wrapper:{alignItems:"x1cy8zhl",display:"x78zum5",flexDirection:"x1q0g3np",flexWrap:"x1a02dak",marginTop:"x1gslohp",$$css:!0},wrapperOutgoing:{alignItems:"xuk3077",justifyContent:"x13a6bvl",$$css:!0}};function a(a){var b,e=a.emojis,g=a.isMultiReactRowExpanded,j=a.message,p=a.onOpenDialog,q=a.outgoing,r=a.reactionsV2,s=a.toggleMultiReactionRowExpansion;a=n(-1);var t=a[0],u=a[1],v=c("justknobx")._("2078");a=n({isReactionsRowAnimationInProgress:!1,shouldAnimate:v});var w=a[0],x=a[1],y=function(a){v&&x(function(b){return babelHelpers["extends"]({},b,{isReactionsRowAnimationInProgress:a})})},z=function(a){v&&x(function(b){return babelHelpers["extends"]({},b,{shouldAnimate:a})})};a=n(!1);var A=a[0],B=a[1];a=j.threadKey;var C=(h||(h=c("useReStore")))(),D=d("MWLSThread").useThread(a),E=d("ReQLSuspense").useFirst(function(){return(D==null?void 0:D.parentThreadKey)?d("ReQL").fromTableAscending(C.tables.community_folders).getKeyRange(D==null?void 0:D.parentThreadKey):d("ReQL").empty()},[C,D==null?void 0:D.parentThreadKey],f.id+":99");b=(b=D)!=null?b:{};b=b.threadType;if(b==null)throw c("unrecoverableViolation")("thread cannot be null when reacting to message","messenger_web_messaging");var F=d("LSMessagingThreadTypeUtil").isArmadilloSecure(b),G=d("LSMessagingThreadTypeUtil").isDiscoverableChannel(b),H=c("useOnOutsideClick")(g?function(){A||(z(!0),s&&s(),y(!0))}:null),I=d("useIsMultiReactionEnabled").useIsMultiReactEnabled(a),J=d("MAWPSendOrRemoveReaction.react").useSendOrRemoveReaction(j,F,"instant_react"),K=l(function(a,b){return J(j.messageId,a,b?"remove_reaction":"reaction")},[J,j.messageId]),L=c("useThrottled")(function(a,b){K(a,b)},750),M=m(null),N=l(function(a){if(t===a)return;B(!0);M.current!=null&&window.clearTimeout(M.current);u(-1);M.current=window.setTimeout(function(){u(a)},1500)},[t]),O=l(function(){B(!1),M.current!=null&&window.clearTimeout(M.current),M.current=window.setTimeout(function(){return u(-1)},300)},[]),P=l(function(a,b){p({reactionFbid:a,reactionType:b}),O()},[O,p]),Q=c("useGetMultiReactOrderedItems")(e,r);I=I?G===!0?d("MWMultiReactConstants").PUBLIC_CHANNELS_MAX_REACTIONS_EMOJIS_PREVIEWED_WHEN_COLLAPSED:d("MWMultiReactConstants").CM_MAX_REACTION_EMOJIS_ALLOWED:d("MWMultiReactConstants").DEFAULT_MAX_REACTION_PREVIEWED_ALLOWED;var R=g?Q:Q.slice(0,I);I=g?[]:Q.slice(I);var S=I.length;I=Q.length||0;Q=c("usePrevious")(Q);if(I<1)return null;E=D==null?!1:d("useIsReactionsV2Enabled").isReactionsV2ReadOnly(D,E==null?void 0:E.communityType);var T=!q&&w.isReactionsRowAnimationInProgress;G=!E&&I>0&&(G||I<d("MWMultiReactConstants").CM_MAX_REACTION_EMOJIS_ALLOWED)&&!T;I=S>0&&!T;return k.jsxs("div",babelHelpers["extends"]({},(i||(i=c("stylex"))).props(o.wrapper,q?o.wrapperOutgoing:!1),{"data-testid":void 0,ref:H,children:[k.jsx(c("MWMessageReactionsList.react"),{emojis:e,hideTooltip:O,isMultiReactExpanded:g,isReactionReadOnly:E,message:j,onTooltipCTAPress:P,previousReactionItems:Q,reactionItemsShown:R,reactionsV2:r,sendReactionThrottled:L,setIsReactionsRowAnimationInProgress:y,setShouldAnimate:z,shouldAnimate:w.shouldAnimate,showTooltip:N,threadKey:a,tooltipIndex:t}),I?k.jsx(c("MWExpandReactionsButton.react"),{isMultiReactExpanded:g,isReactionReadOnly:E,isSecure:F,message:j,numOverflowEmojis:(T=S)!=null?T:0,sendReaction:K,setIsReactionsRowAnimationInProgress:y,threadKey:a,threadType:b,toggleMultiReactExpanded:(q=s)!=null?q:c("emptyFunction")}):null,G?k.jsx(c("MWAddReactionButton.react"),{isSecure:F,message:j,sendReaction:function(a,b){S>0&&(s==null?void 0:s()),window.setTimeout(function(){K(a,b)},S*10)},setShouldRowStayExpanded:B,threadKey:a,threadType:b}):null]}))}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWMessageRequestComposerBanner.react",["fbt","I64","JSResourceForInteraction","LSIntEnum","LSMessageThreadUnsendabilityStatus","MWMessageRequestSharedTexts.react","MWXComposerBanner.react","MessageRequestsLog","MessengerMSplitFlag","MessengerWebUXLogger","react","useMWXConfirmationDialog","useMWXLazyDialog","vulture"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k,l=i||(i=d("react"));b=i;var m=b.useCallback,n=b.useMemo;function a(a){var b=a.isGroup,e=a.isGXAC,f=a.isIgContact,g=a.isMSplitContact,i=a.name,o=a.onDeleteConversation,p=a.onLeaveGroup,q=a.otherUserContact,r=a.secondaryName,s=a.thread;c("vulture")("6KZC1L9vNes");var t=c("useMWXConfirmationDialog")();a=c("useMWXLazyDialog")(c("JSResourceForInteraction")("MWChatBlockActionDialog.react").__setRef("MWMessageRequestComposerBanner.react"));var u=a[0];a[1];var v=(j||(j=d("I64"))).equal(s.threadType,(k||(k=d("LSIntEnum"))).ofNumber(1))&&s.cannotUnsendReason!=null&&(j||(j=d("I64"))).equal(s.cannotUnsendReason,(k||(k=d("LSIntEnum"))).ofNumber(c("LSMessageThreadUnsendabilityStatus").DENY_IF_PAGE_THREAD)),w=q!=null?(j||(j=d("I64"))).to_string(q.id):void 0,x=n(function(){return{onConfirm:o,thread:s}},[o,s]),y=m(function(){var a;u({loggingData:{entryPoint:4,requestId:void 0,source:v?5:1,sourceOwner:0},targetFBID:(a=w)!=null?a:(j||(j=d("I64"))).to_string(s.threadKey),thread:s})},[v,w,s,u]),z=m(function(){t({body:h._(/*BTDS*/"__JHASH__RPa59uyqDnD__JHASH__"),title:h._(/*BTDS*/"__JHASH__QD3NL6bztov__JHASH__")},p)},[t,p]);a=c("useMWXLazyDialog")(c("JSResourceForInteraction")("MWChatDeleteConversationDialog.react").__setRef("MWMessageRequestComposerBanner.react"));var A=a[0],B=c("MessengerWebUXLogger").useInteractionLogger();q=n(function(){return{label:h._(/*BTDS*/"__JHASH__-p5reen4SU3__JHASH__"),onPress:function(){d("MessageRequestsLog").logActionTapped(s,2,w),y()}}},[w,s,y]);a=n(function(){return{label:h._(/*BTDS*/"__JHASH__9sXJViR2MXn__JHASH__"),onPress:function(){d("MessageRequestsLog").logActionTapped(s,10),B==null?void 0:B({eventName:"leave_group",threadKey:s.threadKey,threadType:s.threadType}),z()}}},[s,B,z]);var C=b?a:q;a=h._(/*BTDS*/"__JHASH__lzIMTtzL2x8__JHASH__");b?(q=e?h._(/*BTDS*/"__JHASH__Zo8nGcr-Wbu__JHASH__"):void 0,a=e?h._(/*BTDS*/"__JHASH__dGW95F1FSGX__JHASH__"):c("MessengerMSplitFlag").is_msplit_account?h._(/*BTDS*/"__JHASH__MWNB1ho8ez7__JHASH__"):h._(/*BTDS*/"__JHASH__8Xn13sU52xi__JHASH__")):(q=f?h._(/*BTDS*/"__JHASH__CEpoRXODTMn__JHASH__"):void 0,f?i!=null&&r!=null?a=h._(/*BTDS*/"__JHASH__WhaEH6LWAgw__JHASH__",[h._param("XACDisplayName",i),h._param("XACSecondaryName",r)]):i==null&&r!=null?a=h._(/*BTDS*/"__JHASH__qZp511P-lrQ__JHASH__",[h._param("XACDisplayName",r)]):a=h._(/*BTDS*/"__JHASH__UMff0aQK9RN__JHASH__"):a=i!=null?h._(/*BTDS*/"__JHASH__PiWKQUwgi8l__JHASH__",[h._param("Composer info message",c("MessengerMSplitFlag").is_msplit_account||g?d("MWMessageRequestSharedTexts.react").getFBUserInfoTextMessageForMSplit(i):d("MWMessageRequestSharedTexts.react").getFBUserInfoTextMessage(i))]):h._(/*BTDS*/"__JHASH__5qC4Qq1WTkB__JHASH__"));b=n(function(){return{label:C.label,onPress:C.onPress,size:32,type:"secondary"}},[C.label,C.onPress]);e=n(function(){return{label:h._(/*BTDS*/"__JHASH__OllJcbQyTkT__JHASH__"),onPress:function(){d("MessageRequestsLog").logActionTapped(s,8,w),A(x)},size:32,type:"secondary"}},[A,w,s,x]);return l.jsx(c("MWXComposerBanner.react"),{bodyText:a,buttons:[b,e],headerText:q,testid:void 0})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("MWMessageSeenCountTooltip.react",["fbt","I64","Int64Hooks","LSMessagingThreadTypeUtil","MWClickedMessageContext.react","MWLSThread","MWLogBroadcastChannelFalcoEvent","MWMessageDeliveryStatus","MWMessageUnsentTimestampText.react","MWXTooltip.react","ReQL","ReQLSuspense","getMessengerPreciseTimestamp","gkx","justknobx","react","useReStore","useSinglePartialViewImpression","vulture"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k,l=k||(k=d("react")),m=k.useMemo,n=c("gkx")("23219")?3:11;function o(a){var b,e=(i||(i=c("useReStore")))(),g=d("ReQLSuspense").useFirst(function(){return d("ReQL").fromTableAscending(e.tables.community_chat_message_seen_count).getKeyRange(a.threadKey,a.messageId)},[e,a.threadKey,a.messageId],f.id+":47"),k=(b=d("MWLSThread").useThread(a.threadKey,function(a){return d("LSMessagingThreadTypeUtil").isDiscoverablePublicBroadcastChannel(a.threadType)}))!=null?b:!1,o=g?(j||(j=d("I64"))).to_int32(g.seenCount):null;b=d("Int64Hooks").useCallbackInt64(function(){if(!k)return;d("MWLogBroadcastChannelFalcoEvent").logBroadcastChannelFalcoEvent({action:2,event:16,parentSurface:n,source:15,surface:7,threadFbid:a.threadKey})},[k,a.threadKey]);var p=c("useSinglePartialViewImpression")({onImpressionStart:b});return m(function(){var b=a.isUnsent,e=a.timestampMs,f=a.unsentTimestampMs;if(f!=null&&b)return[l.jsx(c("MWMessageUnsentTimestampText.react"),{timestampMs:a.timestampMs,unsentTimestampMs:f},"first"),h._(/*BTDS*/"__JHASH__8eZEd_EeDsx__JHASH__")];b=o!=null?d("MWMessageDeliveryStatus").getSeenCount(o):d("MWMessageDeliveryStatus").Titles.loading;return[l.jsxs("div",{children:[l.jsx("div",{children:h._(/*BTDS*/"__JHASH__GNnexJRNZQN__JHASH__",[h._param("time",c("getMessengerPreciseTimestamp")((j||(j=d("I64"))).to_float(e)))])}),(!c("justknobx")._("2943")||o!==0)&&l.jsx("div",{ref:p,children:b})]},"first"),b]},[a,p,o])}function a(a){var b=a.children,d=a.message;c("vulture")("6LxxSJtgfZo");a=c("MWClickedMessageContext.react").useHook();var e=a.fetchMessageSeenCount;a=o(d);var f=a[0];a=a[1];return l.jsx(c("MWXTooltip.react"),{align:"middle",label:a,onVisibilityChange:function(a){a&&e(d.threadKey,d.messageId)},position:"start",tooltip:f,children:b})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("MWPArmadilloLoadingStateMessage.react",["fbt","MWXColumn.react","MWXColumnItem.react","MWXSpinner.react","MWXText.react","cr:6285","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react");function a(a){a=a.threadKey;a=b("cr:6285")(a);return a?null:j.jsxs(c("MWXColumn.react"),{align:"center",id:"armadillo-loading-indicator-banner",paddingVertical:12,spacing:8,children:[j.jsx(c("MWXColumnItem.react"),{children:j.jsx(c("MWXSpinner.react"),{color:"disabled",size:20})}),j.jsx(c("MWXColumnItem.react"),{children:j.jsx(c("MWXText.react"),{type:"entityHeaderMeta1",children:h._(/*BTDS*/"__JHASH__7VvIEysTDk2__JHASH__")})})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("MWPComposerPlaceholder.react",["CometPlaceholder.react","react","vulture"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function j(a){a=a.height;c("vulture")("aTiPAcRk6bc");return i.jsx("div",{className:"x1exxf4d x13fuv20 x178xt8z",style:{height:a.toString()+"px"}})}j.displayName=j.name+" [from "+f.id+"]";function a(a){var b=a.children;a=a.height;c("vulture")("79HqHxSXcuD");return i.jsx(c("CometPlaceholder.react"),{fallback:i.jsx(j,{height:a}),name:"MWPComposerPlaceholder",children:b})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWPConcatenateMessageListsDataSource",["ReplayLastSubject","relay-runtime","switchMap"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(a){var b=a.count,e=a.first,f=a.getSecond;this.$1=c("switchMap")(e,function(a){var c=a.data.length;if(c>=b||a.hasMore||a.isLoadingMore)return new(d("ReplayLastSubject").ReplayLastSubject)(babelHelpers["extends"]({},a,{hasMore:!0}));c=d("relay-runtime").Observable.from(f(b-c));return c.map(function(b){return{data:[].concat(a.data,b.data),hasMore:a.hasMore||b.hasMore,isLoadingMore:a.isLoadingMore||b.isLoadingMore}})})}var b=a.prototype;b.subscribe=function(a){return this.$1.subscribe(a)};return a}();g["default"]=a}),98);
__d("MWPEditMessageHistoryListText.react",["MWChatTextTransform","MWUnvaultedText","MWXMessageTextWithEntities.react","MWXText.react","react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||d("react"),k={incoming:{color:"x18lvrbx",$$css:!0},outgoing:{color:"xyk4ms5",$$css:!0},regular:{marginTop:"x1gslohp",marginEnd:"x11i5rnm",marginBottom:"x12nagc",marginStart:"x1mh8g0r",textAlign:"x1yc453h",whiteSpace:"x126k92a",$$css:!0}};function a(a){var b=a.isSecureMessage,e=a.maxLength,f=a.maxLines,g=a.seeLessLinkProps,i=a.seeMoreLinkProps,l=a.text,m=a.truncationStyle,n=a.outgoing,o=a.ranges,p=a.renderers,q=a.transforms;a=a.xstyleForText;b=d("MWUnvaultedText").useMWUnvaultedText(b,l);return j.jsx(c("MWXText.react"),{color:n?"white":"primary",type:"body3",children:j.jsx("div",babelHelpers["extends"]({},(h||(h=c("stylex"))).props(k.regular,a,n?k.outgoing:k.incoming),{dir:"auto",children:j.jsx(c("MWXMessageTextWithEntities.react"),{maxLength:e,maxLines:f,ranges:o,renderers:p,seeLessLinkProps:g,seeMoreLinkProps:i,text:b||"",transforms:(l=q)!=null?l:d("MWChatTextTransform").textTransforms,truncationStyle:m,truncationThreshold:2,withParagraphs:!0})}))})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWPEditedMessageHistoryEntry.react",["MWPEditMessageHistoryListText.react","MWXMessageBubble.react","react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||(i=d("react")),k=i.useState,l={border:{boxShadow:"x7h7r2v",$$css:!0},inner:{display:"x78zum5",flexGrow:"x1iyjqo2",flexShrink:"xs83m0k",marginBottom:"xjpr12u",minWidth:"xeuugli",opacity:"xbyyjgo",$$css:!0},makeSpaceForMessageActions:{maxWidth:"x1no2skz",$$css:!0},messageBubbleIncoming:{paddingEnd:"x1k62owy",$$css:!0},messageBubbleOutgoing:{paddingStart:"x6plb61",$$css:!0},outgoing:{flexDirection:"x15zctf7",$$css:!0}};function a(a){var b=a.isReply,d=a.isSecureMessage,e=a.messageHistoryEntry,f=a.outgoing,g=a.renderMessageActions;a={color_DEPRECATED:f?"white":void 0,weight_DEPRECATED:"semibold"};var i=k(!1),m=i[0],n=i[1];return j.jsxs("div",babelHelpers["extends"]({},(h||(h=c("stylex"))).props(l.inner,f&&l.outgoing),{"data-testid":void 0,onMouseEnter:function(){g!=null&&n(!0)},onMouseLeave:function(){g!=null&&n(!1)},role:"none",children:[j.jsx("div",babelHelpers["extends"]({},h.props(g?l.makeSpaceForMessageActions:f?l.messageBubbleOutgoing:l.messageBubbleIncoming),{children:j.jsx(c("MWXMessageBubble.react"),{align:f?"right":"left",color:f?"outgoing":"incoming",connectBottom:!1,connectTop:!1,variant:"opaque",xstyle:!f&&b&&l.border,children:j.jsx(c("MWPEditMessageHistoryListText.react"),{isSecureMessage:d,maxLength:300,maxLines:3,outgoing:f,ranges:[],seeLessLinkProps:a,seeMoreLinkProps:a,text:e.messageContent||"",truncationStyle:"see-more-and-less"})})})),g&&m?j.jsx("div",babelHelpers["extends"]({className:"xc26acl x78zum5"},{children:g(e)})):null]}))}a.displayName=a.name+" [from "+f.id+"]";g.MWPEditedMessageHistoryEntry=a}),98);
__d("useEditMessageHistoryLS",["ReQL","ReQLSuspense","react","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=(i||d("react")).useMemo;function a(a,b){var e=(h||(h=c("useReStore")))(),g=d("ReQLSuspense").useArray(function(){return d("ReQL").fromTableAscending(e.tables.edit_message_history.index("originalMsgPkEditTs")).getKeyRange(a)},[e,a],f.id+":29");return j(function(){return b?g.slice(0,-1):g},[g,b])}g["default"]=a}),98);
__d("MWPEditedMessageHistoryList.react",["I64","MWMessageEditContext.react","MWPEditedMessageHistoryEntry.react","QPLUserFlow","cr:4654","qex","qpl","react","stylex","useEditMessageHistoryLS","useMAWSeparateReadsSelector","vulture"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=i||(i=d("react")),l=i.useEffect,m={base:{backgroundColor:"x1eb86dx",maxWidth:"x193iq5w",zIndex:"x1vjfegm",$$css:!0},incoming:{display:"x1lliihq",paddingStart:"xd06s5i",$$css:!0},outgoing:{display:"x1lliihq",paddingEnd:"x1sxyh0",$$css:!0}};function a(a){var e=a.editCount,f=a.isReply,g=a.isSecureMessage,i=a.msgId,o=a.outgoing,p=a.renderMessageActions,q=a.threadType;a=a.xstyle;c("vulture")("6QWERhB6Oxb");var r=d("MWMessageEditContext.react").useMWMessageEditContext()||{showEdits:!1},s=r.showEdits;r=c("useEditMessageHistoryLS")(i,g);i=b("cr:4654")(i,g);var t=d("useMAWSeparateReadsSelector").useMAWSeparateReadsArraySelector("EditMessageHistory",i,r,g&&((i=c("qex")._("228"))!=null?i:!1),n);l(function(){s&&(c("QPLUserFlow").addAnnotations(c("qpl")._(1056849214,"1777"),{bool:{isSecureMessage:g},"int":{threadType:(j||(j=d("I64"))).to_int32(q)}}),t!=null&&e!=null&&t.length===(j||(j=d("I64"))).to_int32(e)?c("QPLUserFlow").endSuccess(c("qpl")._(1056849214,"1777")):c("QPLUserFlow").endFailure(c("qpl")._(1056849214,"1777"),"no edits found"))},[t,e,s,g,q]);r=k.jsx("div",babelHelpers["extends"]({},(h||(h=c("stylex"))).props(m.base,o?m.outgoing:m.incoming,a),{role:"none",children:t.map(function(a,b){return k.jsx(d("MWPEditedMessageHistoryEntry.react").MWPEditedMessageHistoryEntry,{isReply:f,isSecureMessage:g,messageHistoryEntry:a,outgoing:o,renderMessageActions:p},b)})}));return s?r:null}a.displayName=a.name+" [from "+f.id+"]";function n(a,b){return(j||(j=d("I64"))).compare(a.pk,b.pk)}g["default"]=a}),98);
__d("MWPFeatureLimitLoggingUtils",["I64","Int64Hooks","LSFeatureLimitsType","LSIntEnum","LSMessagingThreadTypeUtil","requireDeferred"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=c("requireDeferred")("MwbActorExperienceEventFalcoEvent").__setRef("MWPFeatureLimitLoggingUtils");function a(a,b,c){var e=k(c);return d("Int64Hooks").useCallbackInt64(function(){var c;l({action:1,restriction_type:a,surface:e,thread_id:(h||(h=d("I64"))).to_string((c=b)!=null?c:(h||(h=d("I64"))).zero)})},[b,a,e])}function b(a,b,c){var e=k(c);return d("Int64Hooks").useCallbackInt64(function(){var c;l({action:2,restriction_type:a,surface:e,thread_id:(h||(h=d("I64"))).to_string((c=b)!=null?c:(h||(h=d("I64"))).zero)})},[b,a,e])}function e(a){if(a)if((h||(h=d("I64"))).equal(a.type_,(i||(i=d("LSIntEnum"))).ofNumber(c("LSFeatureLimitsType").MESSAGE_SEND_PRIVATE)))return 40;else if((h||(h=d("I64"))).equal(a.type_,(i||(i=d("LSIntEnum"))).ofNumber(c("LSFeatureLimitsType").MESSAGE_SEND_PUBLIC)))return 39;else return 6;return 0}function k(a){if(a){var b=d("LSMessagingThreadTypeUtil").isArmadilloSecure(a),c=d("LSMessagingThreadTypeUtil").isOneToOne(a);if(c)return b?"messenger_encrypted_direct_thread":"messenger_direct_thread_details";c=d("LSMessagingThreadTypeUtil").isGroup(a);a=d("LSMessagingThreadTypeUtil").isPublicCMThread(a);if(c)return b?"messenger_encrypted_group_thread":a?"messenger_public_cm_chat":"messenger_group_thread_details"}return"unknown"}function l(a){var b=a.action,c=a.restriction_type,d=a.surface,e=a.thread_id;j.onReady(function(a){return a.log(function(){return{action:b,restriction_type:c,surface:d,thread_id:e}})})}g.useLogFeatureLimitComposerImpression=a;g.useLogViewCommunityStandards=b;g.getRestrictionTypeFromFeatureLimit=e}),98);
__d("useMWCMFetchSafetyInterventions",["I64","MWPActor.react","ReQL","ReQLSuspense","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function a(a){a===void 0&&(a="prompt");var b=(i||(i=c("useReStore")))(),e=d("MWPActor.react").useActor(),g=a==="composer_block",j=function(a){return a==="education_notice_cm"||a==="education_notice_cm_unbatched"},k=d("ReQLSuspense").useArray(function(){return d("ReQL").fromTableAscending(b.tables.mwb_safety_interventions).filter(function(b){var c=b.logOnlySafetyInterventionType,f=b.mutImpressionsCount,i=b.userId;return b.uiType===a&&j(c)&&i===(h||(h=d("I64"))).to_string(e)&&(g||(h||(h=d("I64"))).equal(f,(h||(h=d("I64"))).zero))}).map(function(a){return(h||(h=d("I64"))).to_string(a.interventionId)})},[b.tables.mwb_safety_interventions,a,e,g],f.id+":35");return k}g["default"]=a}),98);
__d("useMWPFeatureLimitComposerBlockHeaderText",["fbt","I64","useServerTime"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=60*60*1e3,k=24*j,l=23*j,m=1e3;function a(a,b){var e=c("useServerTime")().valueOf();a=a!=null?(i||(i=d("I64"))).to_float(a.expirationTimestampSeconds)*1e3:e;a=a-e;if(a<=l){e=Math.ceil(Math.max(a,j)/j);return b?h._(/*BTDS*/"__JHASH__MtDrzd4mllU__JHASH__",[h._plural(e,"number")]):h._(/*BTDS*/"__JHASH__Oh7AJclyvOB__JHASH__",[h._plural(e,"number")])}else{e=Math.ceil(Math.max(a,k)/k);return e>=m?h._(/*BTDS*/"__JHASH__XJkVHKZY5be__JHASH__"):b?h._(/*BTDS*/"__JHASH__DoFdcIuVM_E__JHASH__",[h._plural(e,"number")]):h._(/*BTDS*/"__JHASH__RWH0KbM4haJ__JHASH__",[h._plural(e,"number")])}}g["default"]=a}),226);
__d("MWPFeatureLimitsBlockedComposer.react",["fbt","I64","LSFeatureLimitsType","LSIntEnum","LSMessagingThreadTypeUtil","MWBlockedComposerLogging","MWCMContentTakedownEnforcementNoticeDialog.entrypoint","MWCMThreadTypes.react","MWPActor.react","MWPFeatureLimitLoggingUtils","MWPFeatureLimitedData","MWXComposerBanner.react","react","useMWCMFetchSafetyInterventions","useMWPFeatureLimitComposerBlockHeaderText","useMWXEntryPointDialog","useSinglePartialViewImpression"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k,l=i||d("react");function a(a){a=a.thread;var b=c("useMWCMFetchSafetyInterventions")("composer_block"),e=d("LSMessagingThreadTypeUtil").isDiscoverablePublicBroadcastChannel(a.threadType),f=d("MWCMThreadTypes.react").isJoinedCMThread(a.threadType);f=(f||e)&&b.length>0;e=c("useMWXEntryPointDialog")(c("MWCMContentTakedownEnforcementNoticeDialog.entrypoint"),{interventions_ids:b});var g=e[0];d("MWBlockedComposerLogging").useLogMWBlockedComposerReason(a==null?void 0:a.threadKey,d("MWBlockedComposerLogging").ComposerBlockingReason.FEATURE_LIMITED_TO_READONLY);e=d("MWPFeatureLimitedData").useReadOnlyFeatureLimitDataWithThreadType(a==null?void 0:a.threadType);var i=d("MWPActor.react").isAPPlus();i=e!=null&&(j||(j=d("I64"))).equal(e.type_,(k||(k=d("LSIntEnum"))).ofNumber(c("LSFeatureLimitsType").MESSAGE_SEND_PUBLIC))&&i;var m=c("useMWPFeatureLimitComposerBlockHeaderText")(e,i);e=d("MWPFeatureLimitLoggingUtils").getRestrictionTypeFromFeatureLimit(e);var n=d("MWPFeatureLimitLoggingUtils").useLogFeatureLimitComposerImpression(e,a==null?void 0:a.threadKey,a==null?void 0:a.threadType);e=d("MWPFeatureLimitLoggingUtils").useLogViewCommunityStandards(e,a==null?void 0:a.threadKey,a==null?void 0:a.threadType);a=c("useSinglePartialViewImpression")({onImpressionStart:n});n=h._(/*BTDS*/"__JHASH__7_EenTF_FJG__JHASH__");var o=h._(/*BTDS*/"__JHASH__phCVAIUGUlz__JHASH__"),p={target:"_blank",url:"https://www.facebook.com/communitystandards/"},q=i||f?h._(/*BTDS*/"__JHASH__9oilSt_qVYo__JHASH__"):h._(/*BTDS*/"__JHASH___Q1doHhXtgm__JHASH__");return l.jsx("div",{ref:a,children:l.jsx(c("MWXComposerBanner.react"),{bodyText:i?o:n,buttons:[{label:q,linkProps:f?void 0:p,onPress:f?function(){g({interventionsIds:b},function(){})}:e}],headerText:m})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("memoizeObservable",["deepEquals","relay-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h={};function a(a,b){b===void 0&&(b=c("deepEquals"));return d("relay-runtime").Observable.create(function(c){var d=h,e=a.subscribe({complete:function(){c.complete()},error:function(a){c.error(a)},next:function(a){b(d,a)||(d=a,c.next(a))}});return function(){e.unsubscribe()}})}g["default"]=a}),98);
__d("MWPMessageListSingleDirectionDataSource",["I64","LSAuthorityLevel","LSIntEnum","LSMessageRenderingType","LSMessagingThreadTypeUtil","MAWJids","MAWMediaGalleryM2Utils","MAWMessagesDirection","MAWMsg","MLV2DataSourceLogger","MessagesRangesV2ExternalIds","Promise","ReQL","ReQLObservable","ReplayLastSubject","WAJids","clearTimeout","combineLatestWith","cr:2610","cr:906","deepEquals","gkx","justknobx","memoizeObservable","promiseDone","qex","relay-runtime","setTimeout","switchMap","useMAWSeparateReadsSelectorCommon"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=(a=b("cr:906"))==null?void 0:a.MAWMessagesLiveQuery,l=(e=b("cr:2610"))==null?void 0:e.MAWMessagesLiveQuery;function m(a){return a.length>0?a[a.length-1]:void 0}var n=2,o=!c("gkx")("7019"),p=c("gkx")("7990");function q(a,b){if(!c("qex")._("186"))return d("relay-runtime").Observable.create(function(c){var d=a.subscribe({}),e=b.subscribe(c);return function(){d.unsubscribe(),e.unsubscribe()}});else{var e=c("justknobx")._("2280");return d("relay-runtime").Observable.create(function(d){var f=null,g=null,h=function(){f!=null&&(c("clearTimeout")(f),f=null)},i=function(){g!=null&&d.next(g)},j=a.subscribe({next:function(){h(),i()}}),k=b.subscribe({complete:d.complete,error:d.error,next:function(a){g=a,h(),f=c("setTimeout")(function(){i()},e)}});return function(){j.unsubscribe(),k.unsubscribe(),h()}})}}f=function(){function a(a,b,e,f,g,h,k,l,m,n,o){this.$7=new(d("ReplayLastSubject").ReplayLastSubject)(!1),this.$15=null,this.$1=a,this.$2=b,this.$4=e,this.$3=f,this.$5=g,this.$6=h,this.$10=k,this.$11=l!=null&&(i||(i=d("I64"))).equal(l,(j||(j=d("LSIntEnum"))).ofNumber(c("LSAuthorityLevel").OPTIMISTIC)),this.$12=m,this.$13=n,this.$14=o,this.$8=this.$16(),this.$15=null}var e=a.prototype;e.$17=function(){return(i||(i=d("I64"))).equal(this.$4.timestampMs,(i||(i=d("I64"))).max_int)&&this.$3==="asc"};e.subscribe=function(a){var b,c=this;this.$17()||(this.$9=d("MLV2DataSourceLogger").startMLV2LoggerForThread(this.$4.threadKey,this.$3,this.$5,this.$10));(b=this.$9)==null?void 0:b.markQPLPoint("subscribed");var e=this.$8.subscribe(a);return{closed:e.closed,unsubscribe:function(){var a;e.unsubscribe();(a=c.$9)==null?void 0:a.markQPLCancel("unsubscribed");c.$9=void 0}}};e.$18=function(a,b){var d,e=this;o&&this.$19(!0);(d=this.$9)==null?void 0:d.markQPLPoint("fetch_more_msgs_start");c("promiseDone")(this.$6.extendRange(a,b,this.$3,this.$14,this.$12)["finally"](function(){var a;(a=e.$9)==null?void 0:a.markQPLPoint("fetch_more_msgs_end","begin attempting to extend a message range in a given direction");o&&e.$19(!1)}))};e.$19=function(a){var d=this;c("justknobx")._("3066")&&!a?c("promiseDone")(new(h||(h=b("Promise")))(function(a){return c("setTimeout")(a,0)}).then(function(){return d.$7.next(a)})):this.$7.next(a)};e.$20=function(a,b,e){a.isLoadingAfter;a.isLoadingBefore;var f=babelHelpers.objectWithoutPropertiesLoose(a,["isLoadingAfter","isLoadingBefore"]);if(this.$15!=null){var g=this.$15,h=g.boundary;g=g.observable;if(c("deepEquals")(f,h)){(h=this.$9)==null?void 0:h.markQPLPoint("use_cached_messages_observable");return g}}h=this.$4;g=h.messageId;h=h.timestampMs;g=(g==null||g==="")&&(i||(i=d("I64"))).equal(h,(i||(i=d("I64"))).max_int);h=g&&(i||(i=d("I64"))).equal(f.minTimestampMs,(i||(i=d("I64"))).max_int);g=!f.hasMoreBefore||h;if(h&&c("qex")._("756")&&c("gkx")("5896")){var j;j=this.$3==="asc"?(j=a.isLoadingAfter)!=null?j:!1:(j=a.isLoadingBefore)!=null?j:!1;j||this.$18(a,b)}j=d("MAWMessagesDirection").switchOnMWPMessagesDirection(this.$3,{asc:{gte:d("ReQL").key(this.$4.timestampMs,d("MessagesRangesV2ExternalIds").MIN_EXTERNAL_ID),lte:d("ReQL").key(f.hasMoreAfter?f.maxTimestampMs:(i||(i=d("I64"))).max_int,(j=b==null?void 0:b.maxExternalId)!=null?j:d("MessagesRangesV2ExternalIds").MAX_EXTERNAL_ID)},desc:{gte:d("ReQL").key(g?(i||(i=d("I64"))).min_int:f.minTimestampMs,(a=b==null?void 0:b.minExternalId)!=null?a:d("MessagesRangesV2ExternalIds").MIN_EXTERNAL_ID),lte:d("ReQL").key(this.$4.timestampMs,d("MessagesRangesV2ExternalIds").MAX_EXTERNAL_ID)}});g=h?n:this.$5;b=s(this.$13,this.$2,this.$4,this.$10,this.$3,j,g,this.$14,e,h);a=(b==null?void 0:b.type)==="main"?b.query:null;e=(b==null?void 0:b.type)==="dual_read"?b.query:null;b=(h=r(this.$1,this.$3,this.$4,j,g))!=null?h:d("relay-runtime").Observable.from([]);j=e!=null?q(e,b):b;if(a==null||this.$11&&p){(g=this.$9)==null?void 0:g.markQPLPoint("use_lsdb_optimistic_observable");return j}e=(h=c("qex")._("1112"))!=null?h:!1;b=this.$5<=this.$14;if(e&&b){g=this.$21(a,j);this.$15={boundary:f,observable:g};(h=this.$9)==null?void 0:h.markQPLPoint("use_lsdb_initial_load_observable");return g}if(d("useMAWSeparateReadsSelectorCommon").isDiffingEnabled()){e=c("combineLatestWith")(a,j).map(function(a){var b=a[0];a=a[1];a=t(a);d("useMAWSeparateReadsSelectorCommon").compareMapAndLogDiffereneces(b.map(function(a){var b=a[0];a=a[1];return[b,a.message]}).filter(function(a){a[0];a=a[1];if(!d("MAWMsg").isOptimistic(a))return!0}),a.map(function(a){var b=a[0];a=a[1];return[b,a.message]}).filter(function(a){a[0];a=a[1];if(!d("MAWMsg").isOptimistic(a))return!0}),"MessageList",["transportKey"]);return b});this.$15={boundary:f,observable:e};(b=this.$9)==null?void 0:b.markQPLPoint("use_diffing_observable");return e}this.$15={boundary:f,observable:a};(h=this.$9)==null?void 0:h.markQPLPoint("use_maw_observable");return a};e.$21=function(a,b){return d("relay-runtime").Observable.create(function(c){var d=new Set([a,b]),e=!1,f=null;f=b.subscribe({complete:function(){d["delete"](b),d.size===0&&c.complete()},error:c.error,next:function(a){e||c.next(a)}});var g=a.subscribe({complete:function(){d["delete"](a),d.size===0&&c.complete()},error:c.error,next:function(a){var b;e=!0;(b=f)==null?void 0:b.unsubscribe();f=null;c.next(a)}});return function(){var a;g.unsubscribe();(a=f)==null?void 0:a.unsubscribe()}})};e.$22=function(a,b,c,d){var e,f;b===void 0&&(b=[]);a=a;e=(e=m(b))==null?void 0:e[1].message;f=this.$3==="asc"?[c==null?void 0:c.maxMessageId,(f=c==null?void 0:c.hasMoreAfter)!=null?f:!1,(f=c==null?void 0:c.isLoadingAfter)!=null?f:!1]:[c==null?void 0:c.minMessageId,(f=c==null?void 0:c.hasMoreBefore)!=null?f:!1,(f=c==null?void 0:c.isLoadingBefore)!=null?f:!1];var g=f[0],h=f[1];f=f[2];e=b.length===this.$5&&(e!=null&&e.messageId!==g||!h);c!=null&&b.length<this.$5&&h&&!e&&!a&&!f&&(a=!0,this.$18(c,d));return{data:b,hasMore:e||h,isLoadingMore:a||!e&&f}};e.$16=function(){var a=this;return this.$17()?d("relay-runtime").Observable.from(new(d("ReplayLastSubject").ReplayLastSubject)({data:[],hasMore:!1,isLoadingMore:!1})):c("memoizeObservable")(c("combineLatestWith")(this.$7,c("switchMap")(this.$6.getOrCreateMessageRangeCoveringCursor(this.$4,this.$9,this.$12),function(b){var c,e=b.range,f=b.rangeExternalIds,g=b.type;b.prefetchedData;var h=babelHelpers.objectWithoutPropertiesLoose(b,["prefetchedData"]);(c=a.$9)==null?void 0:c.markQPLPoint("emitting_range");(c=a.$9)==null?void 0:c.addQPLAnnotations({bool:{hasPrefetchedMessages:g==="range_with_prefetched_messages"&&((c=(c=b.prefetchedData)==null?void 0:(g=c.messages)==null?void 0:g.length)!=null?c:0)>0},string:{range:JSON.stringify(babelHelpers["extends"]({},h,{maxTimestampMs:e.maxTimestampMs==null?null:(i||(i=d("I64"))).to_string(e.maxTimestampMs),minTimestampMs:e.minTimestampMs==null?null:(i||(i=d("I64"))).to_string(e.minTimestampMs)}))}});g=b.type==="range_with_prefetched_messages"?{coverEntireRange:b.prefetchedData.coverEntireRange,data:b.prefetchedData.messages}:null;return a.$20(e,f,g).map(function(a){return{messagesAndAssociatedData:a,messagesRange:e,messagesRangeExternalIds:f}})["do"]({error:function(b){var c;(c=a.$9)==null?void 0:c.markQPLPoint("emitting_messages_failed");(c=a.$9)==null?void 0:c.addQPLAnnotations({string:{emitting_message_error_message:b.message,emitting_message_error_name:b.name}})},next:function(b){var c;b=b.messagesAndAssociatedData;(c=a.$9)==null?void 0:c.markQPLPoint("emitting_messages");(c=a.$9)==null?void 0:c.addQPLAnnotations({"int":{num_fetched:b.length}})}})})).map(function(b){var c=b[0];b=b[1];b=(b=b)!=null?b:{};var d=b.messagesAndAssociatedData,e=b.messagesRange;b=b.messagesRangeExternalIds;return a.$22(c,d,e,b)}))["do"]({error:function(b){var c;(c=a.$9)==null?void 0:c.markQPLFailure(b);a.$9=void 0},next:function(b){var c=b.data;b=b.isLoadingMore;if(!b){(b=a.$9)==null?void 0:b.addQPLAnnotations({"int":{final_query_count:a.$5}});(b=a.$9)==null?void 0:b.markQPLSuccess(c.length);a.$9=void 0}else{(b=a.$9)==null?void 0:b.markQPLPoint("waiting_for_fetch")}}})};return a}();function r(a,b,e,f,g){b=b==="asc"?d("ReQL").fromTableAscending:d("ReQL").fromTableDescending;var h;c("qex")._("18")?h=b(a.tables.messages.index("messageDisplayOrderOfflineThreadingId")).getKeyRange(e.threadKey).bounds({gte:f.gte,lte:f.lte}):h=b(a.tables.messages).getKeyRange(e.threadKey).bounds({gte:[f.gte[0]],lte:[f.lte[0]]});var j=h.filter(function(a){a=a.messageRenderingType;return!(i||(i=d("I64"))).equal(a,i.of_int32(c("LSMessageRenderingType").HIDDEN))}).filter(function(a){a=a.transportKey;return c("justknobx")._("3424")&&d("MAWMediaGalleryM2Utils").isMediaGalleryM2Enabled()?a!=="EncryptedBackupsMedia":!0}).take(g).map(function(a){return{message:a}});return d("ReQLObservable").create(a,function(){return j})}function s(a,b,c,e,f,g,h,j,m,n){var o=c.secureThreadJid==null?null:(i||(i=d("I64"))).to_string(c.secureThreadJid);if(b==null||o==null||k==null&&l==null)return null;e=d("LSMessagingThreadTypeUtil").isGroup(e);e=e?d("WAJids").toGroupJid(o):d("MAWJids").toUserJid(o);if(l!=null){o=l({bounds:g,cacheKey:a,count:h,direction:f,disableLogging:!0,isInitialPlaceholderRange:n,jid:e,mawDb:b,pageSize:j,prefetchedMessages:m,threadKey:c.threadKey});return{query:o,type:"dual_read"}}else if(k!=null)return{query:k({bounds:g,cacheKey:a,count:h,direction:f,isInitialPlaceholderRange:n,jid:e,mawDb:b,pageSize:j,prefetchedMessages:m,threadKey:c.threadKey}),type:"main"}}function t(a){return a.map(function(a){var b=a[0],c=a[1];return b.length===4?[[b[0],b[2]],c]:a})}g["default"]=f}),98);
__d("MWPMessageRangeDataSource",["I64","LSFactory","LSIntEnum","LSIssueMessagesRangeQueryStoredProcedure","LSMailboxMessagesRangeQueryDirection","LSMessagePointQueryStoredProcedure","MLV2DataSourceLogger","Promise","ReQL","ReQLObservable","asyncToGeneratorRuntime","err","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j;a=function(a){var e=this;this.$2=function(a){return k(e.$1.tables.messages_ranges_v2__generated,a)};this.getOrCreateMessageRangeCoveringCursor=function(a,b,f){b==null?void 0:b.annotateMessageRangesDataSource("MWPMessageRangeDataSource");b==null?void 0:b.markQPLPoint("msys_message_range_fetch_start");return d("ReQLObservable").create(e.$1,function(){return e.$2(a)}).map(function(f){b==null?void 0:b.markQPLPoint("msys_message_range_fetch_end");f=(f=f[0])==null?void 0:f[1];if(f==null)if(a.messageId==null){var g;return{range:{hasMoreAfter:!(j||(j=d("I64"))).equal(a.timestampMs,j.max_int),hasMoreBefore:!0,isLoadingAfter:!1,isLoadingBefore:!1,maxMessageId:(g=a.messageId)!=null?g:"",maxTimestampMs:a.timestampMs,minMessageId:(g=a.messageId)!=null?g:"",minTimestampMs:a.timestampMs,threadKey:a.threadKey},rangeExternalIds:{maxExternalId:a.externalId,minExternalId:a.externalId},type:"range_only"}}else{c("promiseDone")(p(e.$1,a));return{range:{hasMoreAfter:!0,hasMoreBefore:!0,isLoadingAfter:!0,isLoadingBefore:!0,maxMessageId:(g=a.messageId)!=null?g:"",maxTimestampMs:a.timestampMs,minMessageId:(g=a.messageId)!=null?g:"",minTimestampMs:a.timestampMs,threadKey:a.threadKey},rangeExternalIds:{maxExternalId:a.externalId,minExternalId:a.externalId},type:"range_only"}}return{range:f,rangeExternalIds:{maxExternalId:null,minExternalId:null},type:"range_only"}})};this.extendRange=function(a,g,i,k,o){var p=d("MLV2DataSourceLogger").getMLV2LoggerForThread(a.threadKey,i);p==null?void 0:p.annotateMessageRangesDataSource("MWPMessageRangeDataSource");p==null?void 0:p.markQPLPoint("msys_extend_range_start");var q=a.threadKey;if(!n(a,i)){p==null?void 0:p.markQPLPoint("mwp_msg_range_not_extensible","Trying to extend a range that is not extensible");return(h||(h=b("Promise"))).resolve()}return e.$1.runInTransaction(function(){var e=b("asyncToGeneratorRuntime").asyncToGenerator(function*(b){var e;p==null?void 0:p.markQPLPoint("fetch_message_ranges_from_table_start","Find a range in the database matching the range we were handed.");e=(e=(yield d("ReQL").firstAsync(d("ReQL").fromTableDescending(b.messages_ranges_v2__generated).getKeyRange(q).bounds({lte:d("ReQL").key(a.minTimestampMs)}).filter(function(b){return(j||(j=d("I64"))).ge(b.maxTimestampMs,a.maxTimestampMs)}))))!=null?e:a;if(!n(e,i)){p==null?void 0:p.markQPLPoint("mwp_msg_range_not_extensible","Trying to extend a range that is not extensible");return}if(!l(e,a,i)){p==null?void 0:p.markQPLPoint("mwp_msg_range_bound_mismatch","The range we are trying to extend has already been extended");return}p==null?void 0:p.markQPLPoint("mwp_fetch_message_ranges_start","Begin fetching message ranges");return c("LSIssueMessagesRangeQueryStoredProcedure")(c("LSFactory")(b),m(e,i))["finally"](function(){p==null?void 0:p.markQPLPoint("mwp_fetch_message_ranges_end","Finish fetching message ranges")})});return function(a){return e.apply(this,arguments)}}(),"readwrite",void 0,void 0,f.id+":159")};this.$1=a};function k(a,b){return d("ReQL").fromTableDescending(a).getKeyRange(b.threadKey).bounds({lte:d("ReQL").key(b.timestampMs)}).filter(function(a){return o(b,a)}).take(1)}function l(a,b,c){if(c==="asc")return(j||(j=d("I64"))).equal(a.minTimestampMs,b.minTimestampMs);else return(j||(j=d("I64"))).equal(a.maxTimestampMs,b.maxTimestampMs)}function m(a,b){var e=a.maxTimestampMs,f=a.minTimestampMs;a=a.threadKey;return b==="asc"?{direction:(i||(i=d("LSIntEnum"))).ofNumber(c("LSMailboxMessagesRangeQueryDirection").AFTER),referenceTimestampMs:e,threadKey:a}:{direction:(i||(i=d("LSIntEnum"))).ofNumber(c("LSMailboxMessagesRangeQueryDirection").BEFORE),referenceTimestampMs:f,threadKey:a}}function n(a,b){return b==="asc"&&a.hasMoreAfter&&!a.isLoadingAfter||b==="desc"&&a.hasMoreBefore&&!a.isLoadingBefore}function o(a,b){a=a.timestampMs;return((j||(j=d("I64"))).equal(a,(j||(j=d("I64"))).max_int)||(j||(j=d("I64"))).ge(b.maxTimestampMs,a))&&(j||(j=d("I64"))).le(b.minTimestampMs,a)}function p(a,b,c){return q.apply(this,arguments)}function q(){q=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,e){e===void 0&&(e=20);var g=b.messageId,h=b.threadKey;if(g==null)throw c("err")("Cannot issue a point query without a message ID.");yield a.runInTransaction(function(a){return c("LSMessagePointQueryStoredProcedure")(c("LSFactory")(a),{messageId:g,numContextMessages:(j||(j=d("I64"))).of_float(e),threadKey:h})},"readwrite",void 0,void 0,f.id+":313")});return q.apply(this,arguments)}g.MSYSMessageRangeDataSource=a}),98);
__d("MWPMessageListDataSource",["I64","LSAuthorityLevel","LSIntEnum","LSMessagingThreadTypeUtil","MAWDumbRangeDataSource","MAWEBCombinedRangeDataSource","MWPConcatenateMessageListsDataSource","MWPMessageListSingleDirectionDataSource","MWPMessageRangeDataSource","ReQL","ReQLObservable","combineLatestWith","cr:13106","cr:7424","gkx","nullthrows","relay-runtime/network/RelayObservable","switchMap"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=c("gkx")("8297");a=function(){var a=e.prototype;a.subscribe=function(a){return this.$1.subscribe(a)};function e(a,e,f,g,i){var o=f.after,p=f.before,q=f.cursor,r=f.pageSize,s=f.secondaryThreadKey,t=f.secondaryThreadType,u=f.threadAuthorityLevel,v=f.threadType,w=function(b,f){f=new(c("MWPMessageListSingleDirectionDataSource"))(a,e,f==="desc"&&!(h||(h=d("I64"))).equal(q.timestampMs,(h||(h=d("I64"))).max_int)?babelHelpers["extends"]({},q,{timestampMs:(h||(h=d("I64"))).sub(q.timestampMs,(h||(h=d("I64"))).one)}):q,f,b,l(a,v,u),v,u,g,i,r);return f},x=function(b,f){f=new(c("MWPMessageListSingleDirectionDataSource"))(a,e,{externalId:q.externalId,messageId:q.messageId,threadKey:c("nullthrows")(s),timestampMs:f==="desc"&&!(h||(h=d("I64"))).equal(q.timestampMs,(h||(h=d("I64"))).max_int)?(h||(h=d("I64"))).sub(q.timestampMs,(h||(h=d("I64"))).one):q.timestampMs},f,b,l(a,c("nullthrows")(t),u),v,u,g,i,r);return f},y;s==null||t==null?(f=w(p,"desc"),y=w(o,"asc")):(f=new(c("MWPConcatenateMessageListsDataSource"))({count:p,first:w(p,"desc"),getSecond:function(a){return x(a,"desc")}}),y=new(c("MWPConcatenateMessageListsDataSource"))({count:o,first:x(o,"asc"),getSecond:function(a){return w(a,"asc")}}));p=c("relay-runtime/network/RelayObservable").create(function(a){return a.next([])});o=d("LSMessagingThreadTypeUtil").isArmadilloSecure(v)&&j?(o=b("cr:13106")==null?void 0:b("cr:13106")(a,q.threadKey))!=null?o:p:p;var z=new Map();p=c("combineLatestWith")(f,y,o).map(function(a){var b=a[0],c=a[1];a=a[2];a.forEach(function(a){return z.set(a[1].message.messageId,a)});a=new Set(z.keys());var d=b.data.toReversed().concat(c.data).sort(n(q.threadKey));m(a,d);var e=[];for(var f=z,g=Array.isArray(f),h=0,f=g?f:f[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var i;if(g){if(h>=f.length)break;i=f[h++]}else{h=f.next();if(h.done)break;i=h.value}i=i;var j=i[0];i=i[1];!a.has(j)?z["delete"](j):e.push(i)}return{authoritativeMessages:d,hasNext:c.hasMore,hasPrevious:b.hasMore,isLoadingNext:c.isLoadingMore,isLoadingPrevious:b.isLoadingMore,optimisticMessages:e}});this.$1=c("switchMap")(p,function(b){var c=b.authoritativeMessages,d=b.hasNext,e=b.hasPrevious,f=b.isLoadingNext,g=b.isLoadingPrevious;b=b.optimisticMessages;return k(a,b).map(function(a){a=[].concat(c,a);a.sort(n(q.threadKey));return{data:a,hasNext:d,hasPrevious:e,isLoadingNext:f,isLoadingPrevious:g}})})}return e}();function k(a,b){if(b.length===0)return c("relay-runtime/network/RelayObservable").create(function(a){return a.next([])});var e=b.map(function(b){b[0];b=b[1];return d("ReQL").fromTableAscending(a.tables.messages.index("optimistic")).getKeyRange(b.message.offlineThreadingId).map(function(a){return{message:a}})}).map(function(b){return d("ReQLObservable").create(a,function(){return b})});return c("combineLatestWith").apply(void 0,e).map(function(a){var c=[];a.forEach(function(a,d){if(a.length===0)return;a=a[0];a[0];a=a[1];c.push([b[d][0],a])});return c})}function l(a,e,f){if(d("LSMessagingThreadTypeUtil").isArmadilloSecure(e)){if((h||(h=d("I64"))).equal(f,(i||(i=d("LSIntEnum"))).ofNumber(c("LSAuthorityLevel").OPTIMISTIC))&&c("gkx")("7990"))return c("MAWDumbRangeDataSource")();return b("cr:7424")!=null?b("cr:7424")(a):c("MAWEBCombinedRangeDataSource")(a)}return new(d("MWPMessageRangeDataSource").MSYSMessageRangeDataSource)(a)}function m(a,b){if(a.size===0)return;var e=b.length-1;while(e>=0){var f=b[e];f[0];f=f[1];f=f.message;a.has(f.offlineThreadingId)&&((h||(h=d("I64"))).lt(f.authorityLevel,(i||(i=d("LSIntEnum"))).ofNumber(c("LSAuthorityLevel").AUTHORITATIVE))?b.splice(e,1):a["delete"](f.offlineThreadingId));e--}}var n=function(a){return function(b,c){b=b[1];c=c[1];b=b.message;c=c.message;var e=(h||(h=d("I64"))).compare(b.threadKey,c.threadKey);if(e!==0)return(h||(h=d("I64"))).equal(b.threadKey,a)?1:-1;e=h.compare(b.primarySortKey,c.primarySortKey);if(e!==0)return e;e=h.compare((e=b.secondarySortKey)!=null?e:(h||(h=d("I64"))).zero,(e=c.secondarySortKey)!=null?e:(h||(h=d("I64"))).zero);return e!==0?e:h.compare(b.timestampMs,c.timestampMs)}};g["default"]=a}),98);
__d("useIsNearBottomOfScrollArea",["react"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");var i=b.useLayoutEffect,j=b.useState,k=10;function a(a,b){b===void 0&&(b=k);var c=j(!0),d=c[0],e=c[1];i(function(){var c=a.current;if(c==null)return;var d=function(){return e(Math.abs(c.scrollHeight-c.scrollTop-c.clientHeight)<b)},f=window.requestAnimationFrame(d);c.addEventListener("scroll",d);return function(){c.removeEventListener("scroll",d),window.cancelAnimationFrame(f)}},[b,a]);return d}g["default"]=a}),98);
__d("MWPMessageListJumpToMostRecentMessageButton.react",["MWPJumpToMostRecentMessageButtonAnimationWrapper.react","react","useIsNearBottomOfScrollArea"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||c("react");function a(a){var b=a.alwaysShow,d=a.jumpToMostRecentMessage,e=a.renderButton;a=a.scrollAreaRef;a=c("useIsNearBottomOfScrollArea")(a,108);a=a===!1||b;return e?i.jsx(c("MWPJumpToMostRecentMessageButtonAnimationWrapper.react"),{visible:a,children:e(d)}):null}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWXMessageScrollList.react",["CometInfiniteScrollTrigger.react","MWXScrollableAreaStyles","gkx","react","stylex","useMergeRefs","useResizeObserver"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||(i=d("react"));b=i;var k=b.useCallback,l=b.useLayoutEffect,m=b.useRef,n=10,o=function(a){return a},p={expanding:{display:"x78zum5",flexDirection:"xdt5ytf",flexGrow:"x1iyjqo2",flexShrink:"x2lah0s",justifyContent:"xl56j7k",minHeight:"x121v3j4",$$css:!0},overscrollBehaviorContain:{overscrollBehavior:"xish69e",$$css:!0},scrollArea:{display:"x78zum5",flexDirection:"xdt5ytf",flexGrow:"x1iyjqo2",overflowX:"x6ikm8r",overflowY:"x1odjw0f",$$css:!0}};function q(a){var b=a.anchoredElement,d=a.getKeyForItem;d=d===void 0?o:d;var e=a.hasNext;a=a.items;var f=a.length,g=f>0?d(a[0]):void 0,h=f>0?d(a[a.length-1]):void 0,i=m(f),j=m(g),p=m(h),q=m(),r=m(),s=m(),t=m(),u=m();d=k(function(a){a=a.target;if(!(a instanceof HTMLDivElement))return;if(q.current!=null&&a.scrollHeight!==q.current||r.current!=null&&a.clientHeight!==r.current)return;s.current=a.scrollTop},[]);l(function(){var a=u.current;if(a==null)return;a.scrollTop<=n&&(a.scrollTop=a.scrollHeight)},[]);a=k(function(){var a,c,d,k,l,m,o;a=(a=b==null?void 0:(a=b.current)==null?void 0:a.offsetTop)!=null?a:0;var v=p.current,w=j.current;c=(c=i.current)!=null?c:0;d=(d=q.current)!=null?d:0;k=(k=r.current)!=null?k:0;l=(l=s.current)!=null?l:0;m=(m=t.current)!=null?m:-1;var x=u.current;if((x==null?void 0:x.scrollHeight)===0&&(x==null?void 0:x.clientHeight)===0)return;q.current=(o=x==null?void 0:x.scrollHeight)!=null?o:q.current;s.current=(o=x==null?void 0:x.scrollTop)!=null?o:s.current;i.current=f;j.current=g;p.current=h;t.current=a;if(x==null)return;o=x.clientHeight;var y=x.scrollHeight;r.current=o;var z=Math.abs(d-l-k)<n;v=v!=null&&h!==v;w=w!=null&&g!==w;c=f>c;w=c&&w;c=c&&v;var A=k!==0&&k!==o;v=m!==-1&&m>l&&m<l+k;var B;(b==null?void 0:b.current)!=null&&v?B=a-(m-l):!e&&z?B=l+y-d+k-o:w?B=l+y-d:c&&(B=l);var C=B;if(C!=null){x.scrollTop=C;s.current=B;var D=window.requestAnimationFrame(function(){var a=x.scrollTop;Math.abs(a-C)>n?x.scrollTop=C+(a>C?1:-1)*n:A&&(x.scrollTop=C)});return function(){return window.cancelAnimationFrame(D)}}},[g,e,h,f,b]);var v=c("useResizeObserver")(a),w=c("useResizeObserver")(a);l(a,[a]);return{contentRef:w,onScroll:d,ref:c("useMergeRefs")(u,v)}}e=j.forwardRef(a);function a(a,b){var d=a.anchoredElement,e=a.ariaLabel,f=a.getKeyForItem,g=a.hasNext,i=a.hasPrevious,l=a.isLoadingNext,m=a.isLoadingPrevious,n=a.items,o=a.loadNext,r=a.loadPrevious,s=a.onUserScroll,t=a.renderFooter,u=a.renderHeader,v=a.renderItem,w=a.renderLoadingAnimation;a=a.role;a=a===void 0?"grid":a;var x=n.length;u=[!i&&u!=null&&j.jsx(j.Fragment,{children:u()},"header"),j.jsx(c("CometInfiniteScrollTrigger.react"),{hasMore:i,isLoading:m,onLoadMore:r,xstyle:p.expanding,children:w==null?void 0:w(x)},"loadPrevious")].concat(n.map(function(a,b){return v(a,n[b-1],n[b+1],c("gkx")("7810")?x-1-b:0)}),[j.jsx(c("CometInfiniteScrollTrigger.react"),{hasMore:g,isLoading:l,onLoadMore:o,xstyle:p.expanding,children:w==null?void 0:w(x)},"loadNext"),!g&&t!=null&&j.jsx(j.Fragment,{children:t()},"footer")]);i=q({anchoredElement:d,getKeyForItem:f,hasNext:g,items:n});m=i.contentRef;var y=i.onScroll;r=i.ref;l=k(function(a){s==null?void 0:s(),y(a)},[s,y]);o=c("useMergeRefs")(r,b);return j.jsx("div",babelHelpers["extends"]({"aria-label":e},(h||(h=c("stylex"))).props(p.scrollArea,p.overscrollBehaviorContain,c("MWXScrollableAreaStyles").themed),{"data-testid":void 0,onScroll:l,ref:o,role:a,children:j.jsx("div",babelHelpers["extends"]({className:"x78zum5 xdt5ytf x1iyjqo2 x2lah0s xl56j7k x121v3j4"},{ref:m,children:u}))}))}a.displayName=a.name+" [from "+f.id+"]";d=e;g["default"]=d}),98);
__d("MessageForIntegrityCheck",[],(function(a,b,c,d,e,f){"use strict";function a(a){return a.isAdminMessage?null:{displayedContentTypes:a.displayedContentTypes,messageId:a.messageId,offlineThreadingId:a.offlineThreadingId,primarySortKey:a.primarySortKey,timestampMs:a.timestampMs}}f.prepMessageForIntegrityCheck=a}),66);
__d("useMWPMessageListData",["I64","Int64Hooks","MAWObservableUtils","MAWStateContext.react","MWPMessageListDataSource","MWPVisibleMessageContext.react","ReQL","ReQLSuspense","cr:6730","justknobx","qex","react","useObservable","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j;e=j||d("react");var k=e.useCallback,l=e.useContext,m=e.useEffect,n=e.useRef,o=e.useState;function p(a,b){return JSON.stringify(a)===JSON.stringify(b)}var q=c("justknobx")._("3383");function a(a,e,g){var j,r=a.authorityLevel,s=a.threadKey,t=a.threadType,u=(h||(h=c("useReStore")))(),v=n(d("MAWObservableUtils").getUniqueRef()),w=b("cr:6730")(),x=l(d("MAWStateContext.react").MAWDispatchContext);a=d("MWPVisibleMessageContext.react").useMWPVisibleMessageContext();a=a.visibleMessage;var y=a==null?void 0:a.messageId,z=a==null?void 0:a.messageOtid,A=(a=a==null?void 0:a.timestamp)!=null?a:(i||(i=d("I64"))).max_int,B=e==null?void 0:e.threadKey,C=e==null?void 0:e.threadType;a=o(g);var D=a[0],E=a[1];e=o(g);var F=e[0],G=e[1];a=o(y);var H=a[0],I=a[1];e=o(z);var J=e[0],K=e[1];a=o(A);var L=a[0],M=a[1];e=o(q);a=e[0];var N=e[1];e=o(!1);var O=e[0],P=e[1],Q=n(new Map()),R=d("ReQLSuspense").useFirst(function(){return d("ReQL").fromTableAscending(u.tables.mi_act_mapping_table,["jid"]).getKeyRange(s).map(function(a){return a.jid})},[u,s],f.id+":97");e=d("Int64Hooks").useMemoInt64(function(){return new(c("MWPMessageListDataSource"))(u,w,{after:F,before:D,cursor:{externalId:J,messageId:H,secureThreadJid:R,threadKey:s,timestampMs:L},pageSize:g,secondaryThreadKey:B,secondaryThreadType:C,threadAuthorityLevel:r,threadType:t},x,v.current)},[F,D,u,w,R,x,H,J,B,C,s,t,L,r,g]);e=c("useObservable")(e);var S=e[0];e=e[1];m(function(){N(!1),P(!1)},[S]);if(e!=null)throw e;e=(e=S==null?void 0:S.data.map(function(a){a[0];a=a[1];var b=a.message,d=Q.current.get(b.messageId);if(d!=null&&p(a,d))return d;c("qex")._("189")&&Q.current.set(b.messageId,a);return a}))!=null?e:[];var T=e.some(function(a){return a.message.messageId===y});d("Int64Hooks").useEffectInt64(function(){T||(M(A),I(y),K(z),E(g),G(g),q&&N(!0))},[T,y,z,A,g]);var U=(j=S==null?void 0:S.hasNext)!=null?j:!1,V=((j=S==null?void 0:S.isLoadingNext)!=null?j:!1)||O;j=k(function(){!V&&U&&(G(F+g),P(!0))},[U,V,F,g]);var W=(O=S==null?void 0:S.hasPrevious)!=null?O:!0,X=((O=S==null?void 0:S.isLoadingPrevious)!=null?O:!1)||a;S=k(function(){!X&&W&&(E(D+g),N(!0))},[W,X,D,g]);return{hasNext:U,hasPrevious:W,isLoadingNext:V,isLoadingPrevious:X,loadNext:j,loadPrevious:S,messagesAndAssociatedData:e}}g["default"]=a}),98);
__d("useMWPMessageListOnScrollToBottom",["I64","MWMessageListScrollContext.react","Promise","gkx","react","useIsNearBottomOfScrollArea","useMWPSafelyMarkThreadAsRead"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j;e=j||d("react");var k=e.useCallback,l=e.useEffect;function m(a,d,e,f,g){var i=k(function(){return(h||(h=b("Promise"))).resolve(f&&!e)},[e,f]),j=c("useMWPSafelyMarkThreadAsRead")(g,i,a,d),m=a();l(function(){f&&!m&&j()},[f,m,j])}function a(a,b,e,f,g,h){var j=c("useIsNearBottomOfScrollArea")(g),k=d("MWMessageListScrollContext.react").useMWMessageListScrollContextSetters(),n=(i||(i=d("I64"))).to_string(h.threadKey);l(function(){if(c("gkx")("7117")&&k!=null){k.setIsThreadAtBottom(n,j);return function(){return k.unsetIsThreadAtBottom(n)}}},[j,k,n]);l(function(){f!=null&&f(j)},[j,f]);m(a,b,e,j,h)}g["default"]=a}),98);
__d("getOrCreateMapValue",[],(function(a,b,c,d,e,f){"use strict";function a(a,b,c){var d=a.get(b);d==null&&(d=c(),a.set(b,d));return d}f["default"]=a}),66);
__d("useMWPMessageListScrollVisibleMessageIntoView",["MWPVisibleMessageContext.react","getOrCreateMapValue","react"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");var i=b.createRef,j=b.startTransition,k=b.useCallback,l=b.useEffect,m=b.useRef;function a(){var a=m(new Map()),b=d("MWPVisibleMessageContext.react").useMWPVisibleMessageContext(),e=b.setVisibleMessage,f=b.visibleMessage;b=k(function(b){var d=c("getOrCreateMapValue")(a.current,b,i);f!=null&&b===f.messageId&&(f==null?void 0:f.ref)!==d&&e(babelHelpers["extends"]({},f,{ref:d}));return d},[e,f]);l(function(){var b=f==null?void 0:f.messageId;if(b==null||f==null)return;var c=a.current.get(b);c!==(f==null?void 0:f.ref)&&j(function(){e(babelHelpers["extends"]({},f,{ref:c}))})},[f,e]);l(function(){var a,b=f==null?void 0:(a=f.ref)==null?void 0:a.current;if(b==null)return;var c=window.requestAnimationFrame(function(){b.scrollIntoView({behavior:"instant",block:"start",inline:"nearest"})});return function(){return window.cancelAnimationFrame(c)}},[f]);return b}g["default"]=a}),98);
__d("useMWPRelayMessageListJumpToMostRecentMessage",["MWPVisibleMessageContext.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h;h||(h=d("react"));var i=h.useCallback;function a(a){var b=d("MWPVisibleMessageContext.react").useMWPVisibleMessageContext(),c=b.setVisibleMessage;return i(function(){var b=a.current;b!=null&&(c(void 0),b.scrollTop=b.scrollHeight)},[a,c])}g["default"]=a}),98);
__d("useObserveMessagePageLoad",["I64","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i;c=h||d("react");var j=c.useEffect,k=c.useRef;function l(a,b){return b?[a.slice(0,a.length-1),a[a.length-1]]:[[].concat(a),null]}function m(a,b,c){if(b==null)return l(a,c);else{var d=a.findIndex(function(a){return a.messageId===b});if(d===-1)return l(a,c);else return[a.slice(0,d),a.at(d)]}}var n=function(a,b){return a.some(function(a){return b.findIndex(function(b){return b.offlineThreadingId===a.offlineThreadingId})>-1})};function o(a,b,c,e,f,g){var h=k([]),l=k(null),o=k(0);j(function(){var j;g?(h.current.length>0&&!n(h.current,a)&&(h.current=[],l.current=null,o.current=f?999:0),h.current=[].concat(h.current,a).reduce(function(a,b){var c=a.find(function(a){return a.offlineThreadingId===b.offlineThreadingId});if(c==null)a.push(b);else if(c.offlineThreadingId===c.messageId&&b.messageId!==b.offlineThreadingId){c=a.indexOf(c);a[c]=b}return a},[]).sort(function(a,b){var c=(i||(i=d("I64"))).compare(a.primarySortKey,b.primarySortKey);return c!==0?c:a.offlineThreadingId.localeCompare(b.offlineThreadingId)}),j=h.current):j=a;if(e)return;if(j.length===0){l.current=null;return}j=m(j,l.current,f);var k=j[0];j=j[1];if(k.length<b)return;k=k.reverse();j=j;while(k.length>=b){var p=k.splice(0,b);c(j==null?null:j,p.map(function(a){return a}),b,o.current);o.current+=1;j=p[p.length-1]}l.current=(p=j)==null?void 0:p.messageId},[c,b,a,e,f,g])}function a(a,b,c,d,e){return o(a,b,c,d,e,!1)}function b(a,b,c,d,e){return o(a,b,c,d,e,!0)}g.useObserveMessagePageLoad=a;g.useObserveMessagePageLoadWithAggregation=b}),98);
__d("MWPRelayBaseMessageList.react",["BaseHeadingContextWrapper.react","Box.react","CometHeroHoldTrigger.react","CometHideableComponentExperiment.react","I64","LSAuthorityLevel","LSIntEnum","LSMessagingThreadTypeUtil","MWChatInteraction","MWPMessageAuthor.react","MWPMessageListJumpToMostRecentMessageButton.react","MWPVisibleMessageContext.react","MWXMessageScrollList.react","MessageForIntegrityCheck","emptyFunction","gkx","justknobx","react","useMWPMessageListData","useMWPMessageListOnScrollToBottom","useMWPMessageListScrollVisibleMessageIntoView","useMWPRelayMessageListJumpToMostRecentMessage","useObserveMessagePageLoad"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=h||(h=d("react"));e=h;var l=e.useEffect,m=e.useImperativeHandle,n=e.useRef,o={backgroundColor:{backgroundColor:"x1eb86dx",$$css:!0},list:{display:"x78zum5",flexDirection:"xdt5ytf",flexGrow:"x1iyjqo2",flexShrink:"xs83m0k",overflowX:"x6ikm8r",overflowY:"x10wlt62",zIndex:"x1ja2u2z",$$css:!0}};function p(a,b){l(function(){if(b==null)return;var c=d("MWChatInteraction").get((i||(i=d("I64"))).to_string(a));c!=null&&d("MWChatInteraction").set((i||(i=d("I64"))).to_string(b),c)},[a,b])}var q=k.forwardRef(a);function a(a,b){var e=a.checkIsThreadManuallySetAsUnread;e=e===void 0?c("emptyFunction").thatReturnsFalse:e;var f=a.entryPoint,g=a.onPageLoaded;g=g===void 0?c("emptyFunction"):g;var h=a.onScrollToBottom,j=a.onUserScroll,l=a.pageSize,q=a.renderFooter,r=a.renderHeader,s=a.renderJumpToMostRecentMessageButton,t=a.renderLoadingAnimation,u=a.renderRow,v=a.secondaryThread,w=a.shouldPausePageLoadTracking;w=w===void 0?!1:w;var x=a.thread,y=n();a=c("useMWPMessageListData")(x,v,l);var z=a.hasNext,A=a.hasPrevious,B=a.isLoadingNext,C=a.isLoadingPrevious,D=a.loadNext,E=a.loadPrevious;a=a.messagesAndAssociatedData;var F=c("useMWPMessageListScrollVisibleMessageIntoView")();p(x.threadKey,v==null?void 0:v.threadKey);d("useObserveMessagePageLoad").useObserveMessagePageLoadWithAggregation(a.map(function(a){a=a.message;return(i||(i=d("I64"))).equal(a.threadKey,x.threadKey)?d("MessageForIntegrityCheck").prepMessageForIntegrityCheck(a):null}).filter(Boolean),l,g,w,z);c("useMWPMessageListOnScrollToBottom")(e,f,z,h,y,x);var G=c("useMWPRelayMessageListJumpToMostRecentMessage")(y);m(b,function(){return{getScrollAreaElement:c("emptyFunction"),jumpToMostRecentMessage:function(){G(!0)},restoreScrollPosition:c("emptyFunction")}},[G]);var H=n(null);return k.jsxs(c("Box.react"),{xstyle:o.list,children:[k.jsx(c("BaseHeadingContextWrapper.react"),{children:k.jsx(c("MWXMessageScrollList.react"),{anchoredElement:(v=d("MWPVisibleMessageContext.react").useMWPVisibleMessageContext().visibleMessage)==null?void 0:v.ref,getKeyForItem:function(a){return a.message.messageId},hasNext:z,hasPrevious:A,isLoadingNext:B,isLoadingPrevious:C,items:a,loadNext:D,loadPrevious:E,onUserScroll:j,ref:y,renderFooter:q,renderHeader:r,renderItem:function(a,b,e,f){var g=a.message;return k.jsx("div",{className:(i||(i=d("I64"))).to_float(g.displayedContentTypes)===8&&"x1vjfegm",ref:F(g.messageId),children:k.jsx(c("CometHideableComponentExperiment.react"),{callingSurface:"thread_view",disableHiding:!0,scrollport:function(){return y.current},unmountXStyle:o.backgroundColor,children:k.jsx(d("MWPMessageAuthor.react").MWPMessageAuthor,{contactId:g.senderId,threadKey:g.threadKey,children:u({domElementRef:H,message:a.message,messageAssociatedData:a==null?void 0:a.associatedData,nextMessage:e==null?void 0:e.message,prevMessage:b==null?void 0:b.message,rowIndexFromBottom:f})})})},g.offlineThreadingId)},renderLoadingAnimation:function(a){a=a>c("justknobx")._("2674");return k.jsxs(k.Fragment,{children:[t==null?void 0:t(a),k.jsx(c("CometHeroHoldTrigger.react"),{description:"MessageListLoadingMoreItems",hold:!a})]})},role:"none"})}),k.jsx(c("MWPMessageListJumpToMostRecentMessageButton.react"),{alwaysShow:z,jumpToMostRecentMessage:G,renderButton:s,scrollAreaRef:y})]})}a.displayName=a.name+" [from "+f.id+"]";e=k.forwardRef(b);function b(a,b){a=babelHelpers["extends"]({},a);var e=a.renderHeader,f=a.renderLoadingAnimation,g=a.thread;if((i||(i=d("I64"))).equal(g.authorityLevel,(j||(j=d("LSIntEnum"))).ofNumber(c("LSAuthorityLevel").OPTIMISTIC))&&!c("gkx")("7990"))return k.jsxs(k.Fragment,{children:[k.jsx(c("CometHeroHoldTrigger.react"),{description:"MWChatWaitingForDisplayState-optimisticThread",hold:!0}),e==null?void 0:e()]});e=(i||(i=d("I64"))).equal(g.authorityLevel,(j||(j=d("LSIntEnum"))).ofNumber(c("LSAuthorityLevel").OPTIMISTIC))&&d("LSMessagingThreadTypeUtil").isCMSubthread(g.threadType);return e?k.jsxs(k.Fragment,{children:[k.jsx(c("CometHeroHoldTrigger.react"),{description:"MWChatWaitingForDisplayState-optimisticSubThread",hold:!0}),f==null?void 0:f(!1)]}):k.jsx(q,babelHelpers["extends"]({},a,{ref:b}))}b.displayName=b.name+" [from "+f.id+"]";a=e;g["default"]=a}),98);
__d("WAGetMediaDevicesSupportedConstraints",["WALogger"],(function(a,b,c,d,e,f,g){"use strict";function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["getSupportedConstraints is not supported in this browser. Error: ",""]);h=function(){return a};return a}function a(){try{var a;a=(a=navigator.mediaDevices)==null?void 0:a.getSupportedConstraints();return a}catch(a){d("WALogger").LOG(h(),a);return null}}g.getMediaDevicesSupportedConstraints=a}),98);
__d("MWPUseVoiceRecorder",["AudioContextSingleton","MWChatRecorderUtilsWorkerResource","MWPAudioPlayerIcons.react","MWPAudioPlayerLabels","Promise","WAGetMediaDevicesSupportedConstraints","WAGetSafeQPLError","WebWorker","clearTimeout","emptyFunction","react","setTimeout","useIsMountedRef","usePrevious"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||(i=d("react")),k=i,l=k.useCallback,m=k.useEffect,n=k.useReducer,o=k.useRef;function a(a){switch(a.stage){case"Unopen":case"Recording":return!1;case"Recorded":case"Playing":return!0}}function e(a){switch(a.stage){case"Unopen":case"Recording":return!1;case"Recorded":case"Playing":return!0}}function p(a){switch(a.stage){case"Unopen":return 0;case"Recording":return a.duration;case"Recorded":case"Playing":return Math.max(a.duration-a.currentTime,0)}}function q(a){switch(a.stage){case"Unopen":return 0;case"Recording":return a.recordingTimeout;case"Recorded":case"Playing":return a.duration}}function r(a){switch(a.stage){case"Unopen":case"Recording":return;case"Recorded":case"Playing":return a.currentTime}}function s(a){switch(a.stage){case"Unopen":case"Recorded":return!1;case"Recording":case"Playing":return!0}}function t(a){if(a.stage==="Recorded")return a.currentTime===0;else return!1}function u(a){switch(a.stage){case"Recording":return d("MWPAudioPlayerLabels").stopLabel;case"Unopen":case"Recorded":return d("MWPAudioPlayerLabels").playLabel;case"Playing":return d("MWPAudioPlayerLabels").pauseLabel}}function v(a,b){switch(a.stage){case"Recording":return j.jsx(d("MWPAudioPlayerIcons.react").StopIcon,{color:b});case"Unopen":case"Recorded":return j.jsx(d("MWPAudioPlayerIcons.react").PlayIcon,{color:b});case"Playing":return j.jsx(d("MWPAudioPlayerIcons.react").PauseIcon,{color:b})}}v.displayName=v.name+" [from "+f.id+"]";function w(a,b){switch(b.type){case"Start":return{duration:0,mediaStream:b.mediaStream,recordingTimeout:b.recordingTimeout,stage:"Recording"};case"Toggle":switch(a.stage){case"Unopen":return a;case"Recording":return{currentTime:0,duration:a.duration,stage:"Recorded"};case"Recorded":return{currentTime:a.currentTime,duration:a.duration,stage:"Playing"};case"Playing":return{currentTime:a.currentTime,duration:a.duration,stage:"Recorded"}}break;case"UpdateDuration":var c=b.duration;switch(a.stage){case"Unopen":return a;case"Recording":return{duration:c,mediaStream:a.mediaStream,recordingTimeout:a.recordingTimeout,stage:"Recording"};case"Recorded":return{currentTime:a.currentTime,duration:c,stage:"Recorded"};case"Playing":return{currentTime:a.currentTime,duration:c,stage:"Playing"}}break;case"UpdateTime":c=b.currentTime;switch(a.stage){case"Unopen":case"Recording":return a;case"Recorded":var d=a.duration;return c===d?{currentTime:0,duration:d,stage:"Recorded"}:{currentTime:c,duration:d,stage:"Recorded"};case"Playing":d=a.duration;return c===d?{currentTime:0,duration:d,stage:"Recorded"}:{currentTime:c,duration:d,stage:"Playing"}}break;case"RecordingTimeout":return{currentTime:0,duration:b.recordingTimeout,stage:"Recorded"};case"Reset":return{stage:"Unopen"}}}var x={stage:"Unopen"},y=1;function z(a){var e=a.maxDuration,f=e===void 0?60:e;e=a.logClickStartRecording;var g=e===void 0?c("emptyFunction"):e;e=a.logBrowserDenyAccess;var i=e===void 0?c("emptyFunction"):e,j=a.createVoiceRecordQpl,k=((e=d("WAGetMediaDevicesSupportedConstraints").getMediaDevicesSupportedConstraints())==null?void 0:e.sampleRate)===!0;a=n(w,x);var p=a[0],q=a[1],r=c("useIsMountedRef")(),s=o(),t=o([]),u=o([]),v=o(),z=o(),A=o(),B=o(),C=o(),D=o(c("emptyFunction")),E=l(function(a){var b=a[0],c=a[1];if(!r.current)return;a=URL.createObjectURL(b);A.current=a;var d=new Audio(a);d.addEventListener("canplay",function(){z.current=d;var a=d.duration;q({duration:a,type:"UpdateDuration"});a={duration:a,file:b,waveformData:c};B.current=a;D.current(a);(a=C.current)==null?void 0:a.endSuccess()});d.addEventListener("timeupdate",function(){var a;a=(a=z.current)==null?void 0:a.currentTime;a!=null&&q({currentTime:a,type:"UpdateTime"})});d.addEventListener("durationchange",function(){var a;a=(a=z.current)==null?void 0:a.duration;a!=null&&!Number.isNaN(a)&&q({duration:a,type:"UpdateDuration"})})},[r]),F=l(function(){if(s.current==null||v.current==null)return;v.current.postMessage({buffersL:t.current,buffersR:y===2?u.current:null,sampleRate:s.current})},[]);m(function(){if(p.stage!=="Recording")return;t.current=[];u.current=[];var a=c("AudioContextSingleton").get({sampleRate:k?44100:void 0}),b=a.destination;s.current=a.sampleRate;var d=p.mediaStream,e=a.createScriptProcessor(4096,y,y);a=a.createMediaStreamSource(d);v.current=new(c("WebWorker"))(c("MWChatRecorderUtilsWorkerResource")).setMessageHandler(E).setAllowCrossPageTransition(!0).execute();var f=function(a){p.stage==="Recording"&&a instanceof AudioProcessingEvent&&(t.current.push(a.inputBuffer.getChannelData(0).slice()),y===2&&u.current.push(a.inputBuffer.getChannelData(1).slice()))};e.addEventListener("audioprocess",f);a.connect(e);e.connect(b);g();return function(){d.getAudioTracks().forEach(function(a){if(a.readyState!=="ended"){a.stop();return}}),e.removeEventListener("audioprocess",f)}},[E,g,p.stage,p.mediaStream,k]);var G=c("usePrevious")(p);m(function(){(G==null?void 0:G.stage)==="Recording"&&p.stage==="Recorded"&&F()},[G==null?void 0:G.stage,F,p.stage]);m(function(){if(p.stage!=="Recording")return;var a=Date.now(),b,d=function d(){var e=(Date.now()-a)/1e3;if(e>=f){q({recordingTimeout:f,type:"RecordingTimeout"});return}q({duration:e,type:"UpdateDuration"});b=c("setTimeout")(d,1e3)};b=c("setTimeout")(d,1e3);return function(){b!=null&&c("clearTimeout")(b)}},[f,p.stage]);e=l(function(a){var b=j==null?void 0:j();C.current=b;b==null?void 0:b.start({startInfo:{isOpusRecorder:!1}});q({mediaStream:a,recordingTimeout:f,type:"Start"})},[f,j]);a=l(function(){var a;(a=C.current)==null?void 0:a.endCancel();q({type:"Reset"});(a=z.current)==null?void 0:a.pause();z.current=void 0;B.current=void 0;s.current=void 0;a=A.current;a!=null&&(URL.revokeObjectURL(a),A.current=void 0)},[]);var H=l(function(){var a=function(){q({type:"Toggle"})},b=z.current;if(b==null){a();return}switch(p.stage){case"Unopen":a();break;case"Recording":var c;(c=C.current)==null?void 0:c.addPoint("stop-recording");a();break;case"Recorded":(c=C.current)==null?void 0:c.addPoint("play-audio");b.play().then(a)["catch"](function(a){var b;(b=C.current)==null?void 0:b.endFail("browser-deny-access",{string:{failReason:d("WAGetSafeQPLError").getSafeQPLErrorMessage(a)}});i()});break;case"Playing":(c=C.current)==null?void 0:c.addPoint("pause-playing");b.pause();a();break}},[i,p.stage]),I=l(function(){return new(h||(h=b("Promise")))(function(a){var b=B.current;if(b!=null)return a(b);D.current=a;if(p.stage==="Recording")return H()})},[p,H]);return{audioEl:z,getVoiceClip:I,reset:a,start:e,state:p,toggle:H}}g.showScreenReaderLabel=a;g.hasScrubber=e;g.getTimerTime=p;g.getDuration=q;g.getCurrentTime=r;g.isProgressing=s;g.isCompleted=t;g.getPlaybackLabel=u;g.getPlaybackIcon=v;g.useVoiceRecorder=z}),98);
__d("MessengerViewOnceFilled.svg.react",["XPlatReactSVG","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){return i.jsxs(d("XPlatReactSVG").Svg,babelHelpers["extends"]({viewBox:"0 0 36 36",fill:"currentColor",width:"1em",height:"1em",title:a.title},a,{children:[a.children!=null&&i.jsx(d("XPlatReactSVG").Defs,{children:a.children}),i.jsx(d("XPlatReactSVG").Path,{d:"M7 18c0-6.075 4.925-11 11-11a1.25 1.25 0 1 1 0 2.5 8.5 8.5 0 0 0 0 17 1.25 1.25 0 1 1 0 2.5c-6.075 0-11-4.925-11-11zM22.25 10.5a1.25 1.25 0 1 0 0-2.5 1.25 1.25 0 0 0 0 2.5zM27.5 12.75a1.25 1.25 0 1 1-2.5 0 1.25 1.25 0 0 1 2.5 0zM27.75 19.25a1.25 1.25 0 1 0 0-2.5 1.25 1.25 0 0 0 0 2.5zM27.5 23.25a1.25 1.25 0 1 1-2.5 0 1.25 1.25 0 0 1 2.5 0zM22.25 28a1.25 1.25 0 1 0 0-2.5 1.25 1.25 0 0 0 0 2.5z"}),i.jsx(d("XPlatReactSVG").Path,{d:"M19.448 13.134c.34.19.552.548.552.937v7.858a1.071 1.071 0 0 1-2.143 0v-5.667a.143.143 0 0 0-.218-.12l-1 .624a1.071 1.071 0 1 1-1.135-1.817l2.857-1.786c.33-.207.746-.218 1.087-.029z"})]}))}a.displayName=a.name+" [from "+f.id+"]";a._isSVG=!0;b=a;g["default"]=b}),98);
__d("MWViewOnceMessageIcon",["MWXSvgIcon","MessengerViewOnceFilled.svg.react","SVGIcon"],(function(a,b,c,d,e,f,g){"use strict";a=d("MWXSvgIcon").mwxSvgIcon(d("SVGIcon").svgIcon(c("MessengerViewOnceFilled.svg.react")),!0);g["default"]=a}),98);
__d("MWRepliesRaven.react",["fbt","LSIntEnum","MWViewOnceMessageIcon","MWXIconStrict.react","MWXMessageReplyBubble.react","MessagingAttachmentType","ReQL","ReQLSuspense","react","useReStore"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k,l=k||(k=d("react")),m=k.useEffect,n=h._(/*BTDS*/"__JHASH__erSLCwH2gH2__JHASH__");function a(a){var b=a.mediaRenderQpl,e=a.message;a=a.outgoing;m(function(){b==null?void 0:b.addPoint("render-replies-raven")},[b]);var g=(i||(i=c("useReStore")))(),k=e.replySourceId,o=e.threadKey;e=d("ReQLSuspense").useFirst(function(){return k!=null?d("ReQL").fromTableAscending(g.tables.attachments).getKeyRange(o,k):d("ReQL").empty()},[g,o,k],f.id+":55");var p=n;if(e!=null){e=(j||(j=d("LSIntEnum"))).unwrapIntEnum(e.attachmentType);switch(e){case c("MessagingAttachmentType").EPHEMERAL_IMAGE:p=h._(/*BTDS*/"__JHASH__ZUGF0BOPIS7__JHASH__");break;case c("MessagingAttachmentType").EPHEMERAL_VIDEO:p=h._(/*BTDS*/"__JHASH___qBQkB3_Go4__JHASH__");break;default:p=n}}return l.jsx(c("MWXMessageReplyBubble.react"),{outgoing:a,children:l.jsxs("div",babelHelpers["extends"]({"aria-label":p},{className:"x6s0dn4 x78zum5"},{children:[l.jsx("span",babelHelpers["extends"]({className:"x1lliihq x1w0mnb"},{children:l.jsx(c("MWXIconStrict.react"),{color:"secondary",icon:c("MWViewOnceMessageIcon"),size:12})})),p]}))})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("MWSupportTranslatedMessageText.react",["MWChatTextTransform","MWXMessageTextWithEntities.react","MWXText.react","react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||d("react"),k={incoming:{color:"x18lvrbx",$$css:!0},regular:{marginTop:"x1gslohp",marginEnd:"x11i5rnm",marginBottom:"x12nagc",marginStart:"x1mh8g0r",textAlign:"x1yc453h",whiteSpace:"x126k92a",$$css:!0}};function a(a){var b=a.maxLength,e=a.maxLines,f=a.seeLessLinkProps,g=a.seeMoreLinkProps,i=a.text,l=a.truncationStyle,m=a.ranges,n=a.renderers,o=a.transforms;a=a.xstyleForText;return j.jsx(c("MWXText.react"),{color:"primary",type:"body3",children:j.jsx("div",babelHelpers["extends"]({},(h||(h=c("stylex"))).props(k.regular,a,k.incoming),{dir:"auto",children:j.jsx(c("MWXMessageTextWithEntities.react"),{maxLength:b,maxLines:e,ranges:m,renderers:n,seeLessLinkProps:f,seeMoreLinkProps:g,text:i||"",transforms:(a=o)!=null?a:d("MWChatTextTransform").textTransforms,truncationStyle:l,truncationThreshold:2,withParagraphs:!0})}))})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWSupportTranslatedMessageTextEntry.react",["MWSupportTranslatedMessageText.react","MWXMessageBubble.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){a=a.text;var b={color_DEPRECATED:void 0,weight_DEPRECATED:"semibold"};return i.jsx("div",babelHelpers["extends"]({className:"x78zum5 x1iyjqo2 xs83m0k xjpr12u xeuugli xbyyjgo"},{"data-testid":void 0,role:"none",children:i.jsx("div",babelHelpers["extends"]({className:"x1k62owy"},{children:i.jsx(c("MWXMessageBubble.react"),{align:"left",color:"incoming",connectBottom:!1,connectTop:!1,variant:"opaque",children:i.jsx(c("MWSupportTranslatedMessageText.react"),{maxLength:300,maxLines:3,ranges:[],seeLessLinkProps:b,seeMoreLinkProps:b,text:a,truncationStyle:"see-more-and-less"})})}))}))}a.displayName=a.name+" [from "+f.id+"]";g.MWSupportTranslatedMessageTextEntry=a}),98);
__d("MWSupportTranslatedMessageTextWrapper.react",["MWSupportTranslatedMessageTextEntry.react","MWSupportTranslationsContext.react","react","stylex","useSupportTranslationsFetchDataLS"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||d("react"),k={base:{backgroundColor:"x1eb86dx",maxWidth:"x193iq5w",zIndex:"x1vjfegm",$$css:!0},incoming:{display:"x1lliihq",paddingStart:"xd06s5i",$$css:!0}};function a(a){var b=a.msgId;a=a.xstyle;var e=d("MWSupportTranslationsContext.react").useMWSupportTranslationsContext();e=e.showUntranslatedText;b=c("useSupportTranslationsFetchDataLS")(b);if(b==null)return null;a=j.jsx("div",babelHelpers["extends"]({},(h||(h=c("stylex"))).props(k.base,k.incoming,a),{role:"none",children:j.jsx(d("MWSupportTranslatedMessageTextEntry.react").MWSupportTranslatedMessageTextEntry,{text:b})}));return e?a:null}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWV2ChatHotlikeButtonAnimation.react",["BaseView.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");b=150;e=2500;d=b+e;b={medium:.7,small:.35};var j={almostPoppingShakeAnimationHotlike:{animationDelay:"x1uhpyvt",animationDuration:"xtsvl71",animationFillMode:"x10e4vud",animationIterationCount:"xa4qsjk",animationName:"x1kol0s",animationTimingFunction:"x1fjjn57",transformOrigin:"xhmqdbg",$$css:!0},animationBox:{alignItems:"x6s0dn4",display:"x78zum5",height:"x1qx5ct2",justifyContent:"xl56j7k",pointerEvents:"x47corl",width:"xw4jnvo",$$css:!0},growAnimationHotlike:{animationDelay:"xmmqq2k",animationDuration:"x1h5mrz9",animationFillMode:"x10e4vud",animationIterationCount:"x1v7wizp",animationName:"x1kvv0nh",animationTimingFunction:"x1fjjn57",transformOrigin:"xhmqdbg",$$css:!0},shakeAnimationHotlike:{animationDelay:"xmmqq2k",animationDuration:"xtsvl71",animationFillMode:"x10e4vud",animationIterationCount:"xa4qsjk",animationName:"x1dogid2",animationTimingFunction:"x1fjjn57",transformOrigin:"xhmqdbg",$$css:!0}};function a(a){var b=a.animationsContainerRef,d=a.children;a=a.shouldShowGrowAnimation;return i.jsx(c("BaseView.react"),{ref:b,xstyle:a&&j.growAnimationHotlike,children:i.jsx(c("BaseView.react"),{xstyle:a&&j.shakeAnimationHotlike,children:i.jsx(c("BaseView.react"),{xstyle:[j.animationBox,a&&j.almostPoppingShakeAnimationHotlike],children:d})})})}a.displayName=a.name+" [from "+f.id+"]";g.TOTAL_GROW_ANIMATION_TIME_MS=d;g.EMOJI_SIZE_PERCENTAGE_THRESHOLDS=b;g.MWV2ChatHotlikeButtonAnimation=a}),98);
__d("MWXIconDragHandle",["MWXSvgIcon","SVGIcon","cr:12401","gkx"],(function(a,b,c,d,e,f,g){"use strict";a=d("MWXSvgIcon").mwxSvgIcon(d("SVGIcon").svgIcon(b("cr:12401")),c("gkx")("23219"));g["default"]=a}),98);
__d("useMWV2DisabledPageComposerSendMenuItem",["LSFactory","LSIntEnum","LSMailboxType","LSMessageReplySourceType","LSMessageReplySourceTypeV2","LSOptimisticSendMessageV2StoredProcedure","LSShape","LSThreadAttributionTypeUtil","MWPActor.react","MessagePowerUp","promiseDone","react","useLSMessagingSource","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=(j||d("react")).useCallback;function a(){var a=(h||(h=c("useReStore")))(),b=d("MWPActor.react").useActor(),e=c("useLSMessagingSource")();return k(function(g,h,j){c("promiseDone")(a.runInTransaction(function(a){var f=d("LSThreadAttributionTypeUtil").getSource(g,e);return c("LSOptimisticSendMessageV2StoredProcedure")(c("LSFactory")(a),{extraSendMessageParams:d("LSShape").ofRecord({calculate_denormalizations:!0,mark_read:!0,platform_token:j,power_up_style:(i||(i=d("LSIntEnum"))).ofNumber(c("MessagePowerUp").NONE),reply_source_type:i.ofNumber(c("LSMessageReplySourceType").MESSAGE),reply_source_type_v2:i.ofNumber(c("LSMessageReplySourceTypeV2").MESSAGE),snippet_has_emoji:!1,source:f}),mailboxType:i.ofNumber(c("LSMailboxType").MESSENGER),senderId:b,snippet:h,text:h,threadKey:g,threadType:i.ofNumber(1)})},"readwrite",void 0,void 0,f.id+":41"))},[a,e,b])}g["default"]=a}),98);
__d("MWV2DisabledPageComposer.react",["fbt","JSResourceForInteraction","MWBlockedComposerLogging","MWXButton.react","MWXIconDragHandle","MWXLazyPopoverTrigger.react","react","useMWV2DisabledPageComposerSendMenuItem","vulture"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react"),k=c("JSResourceForInteraction")("LSComposerPersistentMenu.react").__setRef("MWV2DisabledPageComposer.react");function a(a){var b=a.threadKey;c("vulture")("1ikiMf6X8Re");d("MWBlockedComposerLogging").useLogMWBlockedComposerReason(b,d("MWBlockedComposerLogging").ComposerBlockingReason.PAGE_THREAD_DISABLED);var e=c("useMWV2DisabledPageComposerSendMenuItem")();a=function(a){var c=a.title;a=a.id;if(a!=null)return e(b,c,a)};return j.jsx(c("MWXLazyPopoverTrigger.react"),{align:"middle",popoverProps:{onClose:function(){},onSelect:a},popoverResource:k,children:function(a,b){return j.jsx("div",babelHelpers["extends"]({className:"x78zum5 xu06os2 xvijh9v xz9dl7a xn6708d xsag5q8 x1ye3gou"},{ref:a,children:j.jsx(c("MWXButton.react"),{icon:c("MWXIconDragHandle"),label:h._(/*BTDS*/"__JHASH__pzPWkkyVYqg__JHASH__"),onPress:b,reduceEmphasis:!0})}))}})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("MWV2ErrorComposer.react",["fbt","MDSTextPairing.react","MWXText.react","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react");function a(){return j.jsx("div",babelHelpers["extends"]({className:"xcrg951 x8cjs6t x13fuv20 x178xt8z x1a8lsjc xl521sm x9mfa4r x889kno"},{children:j.jsx(c("MDSTextPairing.react"),{headline:h._(/*BTDS*/"__JHASH__viCgEPmOyD5__JHASH__"),headlineColor:"secondary",level:4,meta:j.jsx(c("MWXText.react"),{numberOfLines:2,type:"meta3",children:h._(/*BTDS*/"__JHASH__FrvKCKsD46D__JHASH__")}),reduceEmphasis:!0,textAlign:"center"})}))}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("MWVoiceRecordQpl",["MAWLoggerUtils","QPLUserFlow","qpl"],(function(a,b,c,d,e,f,g){"use strict";var h=c("qpl")._(25302342,"1531"),i=10*60*1e3;function a(){var a=d("MAWLoggerUtils").getInstanceKey();return{addAnnotations:function(b){c("QPLUserFlow").addAnnotations(h,b,{instanceKey:a})},addPoint:function(b,d){c("QPLUserFlow").addPoint(h,b,{data:d,instanceKey:a})},endCancel:function(b,d){c("QPLUserFlow").endCancel(h,{annotations:d,cancelReason:b,instanceKey:a})},endFail:function(b,d){c("QPLUserFlow").endFailure(h,b,{annotations:d,instanceKey:a})},endSuccess:function(b){c("QPLUserFlow").endSuccess(h,{annotations:b,instanceKey:a})},start:function(b){b=b.startInfo.isOpusRecorder;c("QPLUserFlow").start(h,{annotations:{bool:{isOpusRecorder:b}},cancelOnUnload:!0,instanceKey:a,timeoutInMs:i})}}}g.event=h;g.createVoiceRecordQpl=a}),98);
__d("MWXACSunsettedComposer.react",["fbt","BaseTheme.react","MWXLink.react","MWXText.react","MWXTextPairing.react","react","vulture"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react"),k={dark:{"primary-text":"#e4e6eb","secondary-text":"#b0b3b8"},light:{"primary-text":"rgba(0, 0, 0, 0.7)","secondary-text":"rgba(0, 0, 0, 0.5)"},type:"VARIABLES"};function a(){c("vulture")("2d9rhLLlsjD");var a=h._(/*BTDS*/"__JHASH__E5yAiYeCVHB__JHASH__",[h._param("=Learn more",j.jsx(c("MWXLink.react"),{href:"https://www.facebook.com/help/messenger-app/619453488713104?ref=learn_more",children:j.jsx(c("MWXText.react"),{color:"blueLink",type:"bodyLink4",children:h._(/*BTDS*/"__JHASH__W_KwwnBzw9K__JHASH__")})}))]);return j.jsx("div",babelHelpers["extends"]({className:"x1exxf4d x13fuv20 x178xt8z xqy66fx xc73u3c xx6bls6 x5ib6vp"},{children:j.jsx(c("BaseTheme.react"),{config:k,children:j.jsx(c("MWXTextPairing.react"),{body:j.jsx(c("MWXText.react"),{align:"center",color:"secondary",type:"body4",children:a}),level:4,textAlign:"center"})})}))}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("MWXIconPhotoPlus",["MWXSvgIcon","SVGIcon","cr:12529","gkx"],(function(a,b,c,d,e,f,g){"use strict";a=d("MWXSvgIcon").mwxSvgIcon(d("SVGIcon").svgIcon(b("cr:12529")),c("gkx")("23219"));g["default"]=a}),98);
__d("MWXComposerAttachmentPreview.react",["fbt","MWXCircleButton.react","MWXIconCross","MWXIconDocument","MWXIconPhotoPlus","MWXIconStrict.react","MWXImage.react","MWXPressable.react","MWXText.react","MWXTooltip.react","MWXVideoStatusListener.react","react","react-strict-dom"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||(i=d("react")),k=i,l=k.useEffect,m=k.useRef,n={cancelButton:{end:"xoo4vsp",left:null,right:null,position:"x10l6tqk",top:"x1v4kod4",$$css:!0},card:{marginEnd:"xq8finb",position:"x1n2onr6",$$css:!0},contentWrapper:{backgroundColor:"x1qhmfi1",borderTopStartRadius:"x1lq5wgf",borderTopEndRadius:"xgqcy7u",borderBottomEndRadius:"x30kzoy",borderBottomStartRadius:"x9jhf4c",height:"xsdox4t",minWidth:"x900493",overflowX:"x6ikm8r",overflowY:"x10wlt62",$$css:!0},filePreview:{alignItems:"x6s0dn4",boxSizing:"x9f619",display:"x78zum5",rowGap:"xp1r0qw",columnGap:"xtqikln",height:"xsdox4t",maxWidth:"x1kbpmyu",paddingTop:"xz9dl7a",paddingEnd:"xn6708d",paddingBottom:"xsag5q8",paddingStart:"x1ye3gou",width:"xezivpi",$$css:!0},imagePreview:{alignItems:"x6s0dn4",display:"x78zum5",height:"xsdox4t",justifyContent:"xl56j7k",width:"x1useyqa",$$css:!0},playIcon:{start:"xtzzx4i",left:null,right:null,marginStart:"x16hk5td",marginTop:"x7wgvq7",position:"x10l6tqk",top:"xwa60dl",$$css:!0}};function o(a){var b=a.hasError;b=b===void 0?!1:b;a=a.progress;if(a===1||a==null)return null;var c=4;b=b?"var(--negative)":"var(--chat-composer-button-color, var(--accent))";a=Math.ceil(a*100);var d=(c/2).toString();d="M 0,"+d+" L 100,"+d;return j.jsxs("svg",{"aria-hidden":!0,className:"x168nmei x13lgxp2 x30kzoy x9jhf4c x1ey2m1c x17qophe x10l6tqk xh8yej3",preserveAspectRatio:"none",style:{height:c.toString()},viewBox:"0 0 100 "+c.toString(),children:[j.jsx("path",{d:d,stroke:"rgba(0,0,0,.5)",strokeLinecap:"round",strokeWidth:c.toString()}),j.jsx("path",{d:d,stroke:b,strokeLinecap:"round",strokeWidth:(a===0?0:c).toString(),style:{strokeDasharray:"100",strokeDashoffset:(100-a).toString(),transition:"stroke-dashoffset .5s, stroke .5s"}})]})}o.displayName=o.name+" [from "+f.id+"]";function p(a){var b=a.children,e=a.hasError;e=e===void 0?!1:e;var f=a.onCancel,g=a.progress;a=a.testid;return j.jsxs(d("react-strict-dom").html.div,{"data-testid":void 0,style:n.card,children:[j.jsxs(d("react-strict-dom").html.div,{style:n.contentWrapper,children:[b,j.jsx(o,{hasError:e,progress:g})]}),f!=null&&j.jsx(d("react-strict-dom").html.div,{style:n.cancelButton,children:j.jsx(c("MWXCircleButton.react"),{icon:c("MWXIconCross"),label:h._(/*BTDS*/"__JHASH__a2BigkmhfXY__JHASH__"),onPress:f,size:24,type:"overlay"})})]})}p.displayName=p.name+" [from "+f.id+"]";function a(a){var b=a.hasError;b=b===void 0?!1:b;var d=a.onCancel,e=a.onError,f=a.onLoad,g=a.progress;a=a.src;return j.jsx(p,{hasError:b,onCancel:d,progress:g,testid:void 0,children:j.jsx(c("MWXImage.react"),{objectFit:"contain",onError:e,onLoad:f,src:a,xstyle:n.imagePreview})})}a.displayName=a.name+" [from "+f.id+"]";function b(a){var b=a.hasError;b=b===void 0?!1:b;var e=a.onCancel,f=a.onError,g=a.onLoad,h=a.progress;a=a.src;var i=m(null);return j.jsxs(p,{hasError:b,onCancel:e,progress:h,testid:void 0,children:[j.jsx(c("MWXVideoStatusListener.react"),{onError:f,onLoad:g,videoRef:i}),j.jsx("video",babelHelpers["extends"]({className:"xl1xv1r"},{height:"48",ref:i,src:a,width:"48"})),j.jsx(d("react-strict-dom").html.div,{style:n.playIcon,children:j.jsx(c("MWXImage.react"),{src:"/images/video/play_24dp.png"})})]})}b.displayName=b.name+" [from "+f.id+"]";function e(a){var b=a.hasError;b=b===void 0?!1:b;var e=a.onCancel,f=a.onLoad,g=a.progress;a=a.title;l(function(){f==null?void 0:f()},[f]);return j.jsx(p,{hasError:b,onCancel:e,progress:g,testid:void 0,children:j.jsx(c("MWXTooltip.react"),{position:"above",tooltip:a,children:j.jsxs(d("react-strict-dom").html.div,{style:n.filePreview,children:[j.jsx(c("MWXIconStrict.react"),{icon:c("MWXIconDocument"),size:20}),j.jsx(c("MWXText.react"),{numberOfLines:2,type:"bodyLink3",children:a})]})})})}e.displayName=e.name+" [from "+f.id+"]";function q(a){var b=a.isDisabled;a=a.onPress;var d=h._(/*BTDS*/"__JHASH__07aSX1Sv-Xl__JHASH__");return j.jsx(p,{children:j.jsx(c("MWXPressable.react"),{"aria-label":d,disabled:b,onPress:a,testid:void 0,xstyle:n.imagePreview,children:j.jsx(c("MWXIconStrict.react"),{color:b?"disabled":"primary",icon:c("MWXIconPhotoPlus"),size:24})})})}q.displayName=q.name+" [from "+f.id+"]";g.MWXComposerImageAttachmentPreview=a;g.MWXComposerVideoAttachmentPreview=b;g.MWXComposerFileAttachmentPreview=e;g.MWXComposerAddAttachmentButton=q}),226);
__d("MWXComposerButtonContext.react",["react"],(function(a,b,c,d,e,f,g){"use strict";var h;a=h||d("react");b=a.createContext({});g["default"]=b}),98);
__d("MWXComposerRow.react",["react","react-strict-dom"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react"),j={padding12:{paddingTop:"xz9dl7a",paddingEnd:"xn6708d",paddingBottom:"xsag5q8",paddingStart:"x1ye3gou",$$css:!0},padding4:{paddingTop:"x1iorvi4",paddingEnd:"x150jy0e",paddingBottom:"xjkvuk6",paddingStart:"x1e558r4",$$css:!0},padding6:{paddingTop:"x1yrsyyn",paddingEnd:"xsyo7zv",paddingBottom:"x10b6aqq",paddingStart:"x16hj40l",$$css:!0},row:{alignItems:"xpqajaz",boxSizing:"x9f619",display:"x78zum5",flexGrow:"x1iyjqo2",flexShrink:"xs83m0k",position:"x1n2onr6",width:"xh8yej3",$$css:!0},scrollable:{contain:"x41o525",overflowX:"xw2csxc",overflowY:"x1odjw0f",$$css:!0}};function a(a){var b=a.children,c=a["data-testid"];c=a.padding;c=c===void 0?0:c;var e=a.scrollable;a=a.xStyle;return i.jsx(d("react-strict-dom").html.div,{"data-testid":void 0,style:[j.row,c===12&&j.padding12,c===4&&j.padding4,c===6&&j.padding6,e===!0&&j.scrollable,a],children:b})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWXComposerHeader.react",["MWXComposerButtonContext.react","MWXComposerRow.react","MWXText.react","MWXTextPairing.react","react","react-strict-dom"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react"),j={body:{alignItems:"x6s0dn4",paddingBottom:"x1120s5i",paddingStart:"xpkgp8e",paddingEnd:"xmns6w2",paddingLeft:null,paddingRight:null,paddingTop:"xz9dl7a",$$css:!0},border:{borderTopColor:"x8cjs6t",borderTopStyle:"x13fuv20",borderTopWidth:"x178xt8z",$$css:!0},rightAddon:{marginStart:"x1gryazu",$$css:!0}},k={color:"secondary",size:24};function a(a){var b=a.bodyText,e=a.bodyTextType,f=a["data-testid"];f=a.hasTopBorder;f=f===void 0?!1:f;var g=a.headlineText,h=a.headlineTextType,l=a.leftAddon,m=a.level;m=m===void 0?3:m;var n=a.loadingIndicator,o=a.rightAddon;a=a.subtext;return n!=null?i.jsx(c("MWXComposerRow.react"),{"data-testid":void 0,xStyle:[j.body],children:n}):i.jsxs(c("MWXComposerRow.react"),{"data-testid":void 0,xStyle:[j.body,f&&j.border],children:[l!=null&&l,(b!=null||a!=null||g!=null)&&i.jsx(c("MWXTextPairing.react"),{body:b!=null&&e!=null?i.jsx(c("MWXText.react"),{type:e,children:b}):b!=null?i.jsx(c("MWXText.react"),{type:"body4",children:b}):void 0,headline:g!=null&&h!=null?i.jsx(c("MWXText.react"),{isSemanticHeading:!0,type:h,children:g}):g!=null?i.jsx(c("MWXText.react"),{isSemanticHeading:!0,type:"headline4",children:g}):void 0,level:m,meta:a}),o!=null&&i.jsx(c("MWXComposerButtonContext.react").Provider,{value:k,children:i.jsx(d("react-strict-dom").html.div,{style:j.rightAddon,children:o})})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWXComposerIconButton.react",["MWXCircleButton.react","MWXComposerButtonContext.react","MWXThreadThemeColor","MWXTooltip.react","react","react-strict-dom"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react")),j=h.useContext,k={horizontalPaddingSmall:{paddingStart:"x1h0ha7o",paddingEnd:"xg83lxy",paddingLeft:null,paddingRight:null,$$css:!0},layoutWrapper:{flexGrow:"x1c4vz4f",flexShrink:"x2lah0s",$$css:!0}};b=i.forwardRef(a);function a(a,b){a=babelHelpers["extends"]({},a);var e=a.color,f=a.disableTooltip,g=a.size,h=a.type;h=h===void 0?"deemphasized":h;var m=a.wrapperStyle,n=a.wrapperXStyle,o=babelHelpers.objectWithoutPropertiesLoose(a,["color","disableTooltip","size","type","wrapperStyle","wrapperXStyle"]),p=j(c("MWXComposerButtonContext.react")),q=p.color,r=p.iconRatio;r=r===void 0?"medium":r;var s=p.paddingHorizontal;s=s===void 0?"none":s;p=p.size;p=p===void 0?36:p;return i.jsx(d("react-strict-dom").html.div,{style:[s==="small"&&k.horizontalPaddingSmall,k.layoutWrapper,[n,m]],children:i.jsx(l,{disableTooltip:f,label:a.label,children:i.jsx(c("MWXCircleButton.react"),babelHelpers["extends"]({},o,{color:(n=(s=e)!=null?s:q)!=null?n:d("MWXThreadThemeColor").mwxThreadThemeColor("var(--chat-composer-button-color, var(--accent))"),iconRatio:r,ref:b,size:(m=g)!=null?m:p,type:h}))})})}a.displayName=a.name+" [from "+f.id+"]";e=b;function l(a){var b=a.children,d=a.disableTooltip;a=a.label;return d===!0?b:i.jsx(c("MWXTooltip.react"),{position:"above",tooltip:a,children:b})}l.displayName=l.name+" [from "+f.id+"]";g["default"]=e}),98);
__d("MWXComposerInputArea.react",["MWXComposerButtonContext.react","MWXComposerRow.react","react","react-strict-dom"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react"),j={colors:{backgroundColor:"x16sw7j7",borderTopStartRadius:"x107yiy2",borderTopEndRadius:"xv8uw2v",borderBottomEndRadius:"x1tfwpuw",borderBottomStartRadius:"x2g32xy",borderTopWidth:"x178xt8z",borderEndWidth:"xm81vs4",borderBottomWidth:"xso031l",borderStartWidth:"xy80clv",marginEnd:"x1w0mnb",marginStart:"x1mnrxsn",$$css:!0},flexLayout:{display:"x78zum5",flexDirection:"xdt5ytf",flexGrow:"x1iyjqo2",flexShrink:"xs83m0k",minWidth:"x13qp9f6",overflowX:"x6ikm8r",overflowY:"x10wlt62",$$css:!0}},k={iconRatio:"large",paddingHorizontal:"none",size:28};function a(a){var b=a.children;a=a.header;return i.jsx(c("MWXComposerButtonContext.react").Provider,{value:k,children:i.jsxs(d("react-strict-dom").html.div,{style:[j.colors,j.flexLayout],children:[a,i.jsx(c("MWXComposerRow.react"),{padding:4,children:b})]})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWXComposerSpinner.react",["MWXComposerButtonContext.react","MWXSpinner.react","MWXTooltip.react","react","react-strict-dom"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react")),j=h.useContext,k={horizontalPaddingSmall:{paddingStart:"x1h0ha7o",paddingEnd:"xg83lxy",paddingLeft:null,paddingRight:null,$$css:!0},layoutWrapper:{alignItems:"x6s0dn4",display:"x78zum5",flexGrow:"x1c4vz4f",flexShrink:"x2lah0s",justifyContent:"xl56j7k",$$css:!0}};function a(a){var b=a.color;b=b===void 0?"blue":b;var e=a.label,f=a.size,g=a.spinnerSize;g=g===void 0?20:g;var h=a.wrapperStyle,l=a.wrapperXStyle;a=babelHelpers.objectWithoutPropertiesLoose(a,["color","label","size","spinnerSize","wrapperStyle","wrapperXStyle"]);var m=j(c("MWXComposerButtonContext.react")),n=m.paddingHorizontal;n=n===void 0?"none":n;m=m.size;m=m===void 0?36:m;f=((f=f)!=null?f:m)+"px";return i.jsx(d("react-strict-dom").html.div,{style:[n==="small"&&k.horizontalPaddingSmall,k.layoutWrapper,[l,h],[{height:f,width:f}]],children:i.jsx(c("MWXTooltip.react"),{position:"above",tooltip:e,children:i.jsx(c("MWXSpinner.react"),babelHelpers["extends"]({color:b,size:g},a))})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWXComposerTextEditor.react",["CometLexicalContentEditable.react","CometLexicalPlaceholder.react","LexicalErrorBoundary","LexicalPlainTextPlugin","MWXRowItem.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react"),j={padding:{marginBottom:"x12nagc",marginEnd:"x1w0mnb",marginStart:"x1mnrxsn",marginTop:"x1gslohp",maxHeight:"xctk3hg",minWidth:"x900493",overflowY:"x1odjw0f",paddingTop:"xexx8yu",paddingEnd:"x4uap5",paddingBottom:"x18d9i69",paddingStart:"xkhd6sd",$$css:!0}};function a(a){var b=a.children,e=a.contentEditableProps,f=a.placeholderText;a=a.testid;f=f==null?{}:{"aria-placeholder":f,placeholder:i.jsx(c("CometLexicalPlaceholder.react"),{children:f})};a=i.jsx(c("CometLexicalContentEditable.react"),babelHelpers["extends"]({tabIndex:0,webDriverTestID:a},f,e));return i.jsxs(c("MWXRowItem.react"),{expanding:!0,verticalAlign:"center",xstyle:j.padding,children:[i.jsx(d("LexicalPlainTextPlugin").PlainTextPlugin,{ErrorBoundary:d("LexicalErrorBoundary").LexicalErrorBoundary,contentEditable:a}),b]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWXComposer.react",["LexicalComposerContext","LexicalHistoryPlugin","MWXComposerAttachmentPreview.react","MWXComposerHeader.react","MWXComposerIconButton.react","MWXComposerInputArea.react","MWXComposerRow.react","MWXComposerSpinner.react","MWXComposerTextEditor.react","react","react-strict-dom","vulture"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react")),j=h.useMemo,k={composer:{backgroundColor:"xt5xv9l",contain:"x6wvzqs",$$css:!0},flexLayout:{alignItems:"xpqajaz",display:"x78zum5",flexDirection:"xdt5ytf",flexGrow:"x1c4vz4f",flexShrink:"xs83m0k",minWidth:"x13qp9f6",$$css:!0},padding:{paddingTop:"xz9dl7a",paddingBottom:"xsag5q8",paddingStart:"x1e558r4",paddingEnd:"x150jy0e",paddingLeft:null,paddingRight:null,$$css:!0}};function a(a){var b=a.children,e=a.editor,f=a.header;a=a.testid;c("vulture")("9r9LA8FM8fA");var g=d("LexicalComposerContext").createLexicalComposerContext();a=j(function(){return[e,g]},[e,g]);return i.jsxs(d("LexicalComposerContext").LexicalComposerContext.Provider,{value:a,children:[i.jsxs(d("react-strict-dom").html.div,{style:[k.composer,k.flexLayout],children:[f,i.jsx(c("MWXComposerRow.react"),{"data-testid":void 0,xStyle:k.padding,children:b})]}),i.jsx(d("LexicalHistoryPlugin").HistoryPlugin,{})]})}a.displayName=a.name+" [from "+f.id+"]";b={Add:d("MWXComposerAttachmentPreview.react").MWXComposerAddAttachmentButton,FilePreview:d("MWXComposerAttachmentPreview.react").MWXComposerFileAttachmentPreview,ImagePreview:d("MWXComposerAttachmentPreview.react").MWXComposerImageAttachmentPreview,VideoPreview:d("MWXComposerAttachmentPreview.react").MWXComposerVideoAttachmentPreview};g.Composer=a;g.Button=c("MWXComposerIconButton.react");g.TextEditor=c("MWXComposerTextEditor.react");g.InputArea=c("MWXComposerInputArea.react");g.Header=c("MWXComposerHeader.react");g.Row=c("MWXComposerRow.react");g.Spinner=c("MWXComposerSpinner.react");g.Attachments=b}),98);
__d("MWXComposerButtonGroupContext.react",["react"],(function(a,b,c,d,e,f,g){"use strict";var h;a=h||d("react");b=a.createContext({isMenu:!1});g["default"]=b}),98);
__d("MWXComposerButtonGroupButton.react",["MWXComposerButtonGroupContext.react","MWXComposerIconButton.react","MWXMenuItem.react","MWXThreadThemeColor","react","vulture"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react")),j=h.useContext;b=i.forwardRef(a);function a(a,b){a=babelHelpers["extends"]({},a);c("vulture")("50Cf9adUXGO");var e=a.color,f=a.icon,g=a.label,h=a.onPress,k=a.preventClosingMenuOnSelect,l=a.testid;l=babelHelpers.objectWithoutPropertiesLoose(a,["color","icon","label","onPress","preventClosingMenuOnSelect","testid"]);a=j(c("MWXComposerButtonGroupContext.react"));var m=a.isMenu,n=a.styleForButton;a=a.xstyleForButton;if(m){return i.jsx(c("MWXMenuItem.react"),babelHelpers["extends"]({"aria-label":g,icon:f.asMenuItemIcon_ESCAPE_HATCH(),iconColor:(m=e)!=null?m:d("MWXThreadThemeColor").mwxThreadThemeColor("var(--chat-composer-button-color, var(--accent))"),onClick:h,preventClosingMenuOnSelect:k,primaryText:g,ref:b,testid:void 0},l))}return i.jsx(c("MWXComposerIconButton.react"),babelHelpers["extends"]({icon:f,label:g,onPress:h,ref:b,testid:void 0,wrapperStyle:n,wrapperXStyle:a},e!=null?{color:e}:{},l))}a.displayName=a.name+" [from "+f.id+"]";e=b;g["default"]=e}),98);
__d("withMWXPopover",["BaseMenuContext","BaseMultiPageViewContext","BasePopoverTrigger.react","MWXPopover.react","MWXPopoverLoadingState.react","lazyLoadComponent","react","tracePolicyFromResource","useCometPopoverInteractionTracing","vulture","withCometPlaceholder"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));b=h;var j=b.useContext,k=b.useMemo;function a(a,b){function e(e){var f=e.onHoverIn,g=e.onHoverOut,h=e.popover,l=e.popoverPresentationProps,m=e.popoverProps,n=e.preloadTrigger,o=babelHelpers.objectWithoutPropertiesLoose(e,["onHoverIn","onHoverOut","popover","popoverPresentationProps","popoverProps","preloadTrigger"]);c("vulture")("8uOADpi12Az");e=(e=j(c("BaseMenuContext")))!=null?e:{};var p=e.onClose;e=(e=j(c("BaseMultiPageViewContext")))!=null?e:{};var q=e.pushPage,r=k(function(){return d("withCometPlaceholder").withCometPlaceholder(c("lazyLoadComponent")(h),i.jsx(c("MWXPopoverLoadingState.react"),{withArrow:!1}),b)},[h]);e=c("useCometPopoverInteractionTracing")(c("tracePolicyFromResource")("comet.popover",h),"lazy");l=(l=l)!=null?l:{};var s=l.align;s=s===void 0?"middle":s;var t=l.position;t=t===void 0?"above":t;l=babelHelpers.objectWithoutPropertiesLoose(l,["align","position"]);var u=k(function(){return function(a){return i.jsx(c("MWXPopover.react"),{withArrow:!0,children:i.jsx(r,babelHelpers["extends"]({},a))})}},[r]),v=k(function(){return function(a){return function(b){var c;b=b.onReturn;return i.jsx(r,babelHelpers["extends"]({},a,{onClose:(c=p)!=null?c:b}))}}},[r,p]);return i.jsx(c("BasePopoverTrigger.react"),babelHelpers["extends"]({align:s,position:t},l,{interactionTracker:e,popover:u,popoverPreloadResource:h,popoverProps:m,preloadTrigger:n,children:function(b,c,d,e,h){return i.jsx(a,babelHelpers["extends"]({onHoverIn:function(a){e(a),f==null?void 0:f(a)},onHoverOut:function(a){h(),g==null?void 0:g(a)}},o,{onPress:function(){q!=null&&p!=null?q(v(m)):c();for(var a=arguments.length,b=new Array(a),d=0;d<a;d++)b[d]=arguments[d];o.onPress==null?void 0:o.onPress.apply(o,b)},preventClosingMenuOnSelect:!0,ref:b}))}}))}e.displayName=e.name+" [from "+f.id+"]";return e}g["default"]=a}),98);
__d("MWXComposerButtonGroupPopoverButton.react",["MWXComposerButtonGroupButton.react","react","withMWXPopover"],(function(a,b,c,d,e,f,g){"use strict";var h;h||d("react");a=c("withMWXPopover")(c("MWXComposerButtonGroupButton.react"));b=a;g["default"]=b}),98);
__d("MWXIconFaceHappy",["MWXSvgIcon","SVGIcon","cr:12413","gkx"],(function(a,b,c,d,e,f,g){"use strict";a=d("MWXSvgIcon").mwxSvgIcon(d("SVGIcon").svgIcon(b("cr:12413")),c("gkx")("23219"));g["default"]=a}),98);
__d("MWXComposerEmojiButton.react",["fbt","JSResourceForInteraction","LexicalComposerContext","MWXComposerButtonGroupPopoverButton.react","MWXIconFaceHappy","Promise","promiseDone","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=j||d("react"),l=c("JSResourceForInteraction")("cometAddEmojiToComposerForLexical").__setRef("MWXComposerEmojiButton.react");function a(){var a=d("LexicalComposerContext").useLexicalComposerContext(),e=a[0];return k.jsx(c("MWXComposerButtonGroupPopoverButton.react"),{icon:c("MWXIconFaceHappy"),label:h._(/*BTDS*/"__JHASH__450DFbxuM_0__JHASH__"),onPress:function(){l.preload()},popover:c("JSResourceForInteraction")("MWV2ComposerEmojiPickerForJSResource").__setRef("MWXComposerEmojiButton.react"),popoverProps:{onSelect:function(a){return c("promiseDone")(l.load(),function(c){c(a,e,16);return(i||(i=b("Promise"))).resolve()})},withArrow:!1},preloadTrigger:"button",testid:void 0})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("MWXComposerGlimmer.react",["MWXColumn.react","MWXColumnItem.react","MWXGlimmer.react","react","vulture"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react"),j={block:{paddingBottom:"x1l90r2v",$$css:!0},container:{alignSelf:"xkh2ocl",backgroundColor:"x57kliw",borderTopColor:"x1epquy7",borderTopStyle:"x13fuv20",borderTopWidth:"x178xt8z",$$css:!0},glimmer:{borderTopStartRadius:"x1lq5wgf",borderTopEndRadius:"xgqcy7u",borderBottomEndRadius:"x30kzoy",borderBottomStartRadius:"x9jhf4c",height:"xlup9mm",width:"xh8yej3",$$css:!0}};b=i.forwardRef(a);function a(a,b){c("vulture")("aL3UoOxyE0R");return i.jsx(c("MWXColumn.react"),{paddingHorizontal:16,paddingVertical:16,ref:b,spacing:20,xstyle:[j.container,j.block],children:i.jsx(c("MWXColumnItem.react"),{children:i.jsx(c("MWXGlimmer.react"),{index:0,xstyle:j.glimmer})})})}a.displayName=a.name+" [from "+f.id+"]";e=b;g["default"]=e}),98);
__d("MWXIconHdOutline",["MWXSvgIcon","SVGIcon","cr:12458","gkx"],(function(a,b,c,d,e,f,g){"use strict";a=d("MWXSvgIcon").mwxSvgIcon(d("SVGIcon").svgIcon(b("cr:12458")),c("gkx")("23219"));g["default"]=a}),98);
__d("MWXComposerHdMediaButton.react",["fbt","MWXComposer.react","MWXIconHd","MWXIconHdOutline","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react");function a(a){var b=a.isHdEnabled,e=a.onToggle,f=a.visible;a=a.wrapperXStyle;return!f?null:j.jsx(d("MWXComposer.react").Button,{disableTooltip:!0,icon:b?c("MWXIconHd"):c("MWXIconHdOutline"),label:b?h._(/*BTDS*/"__JHASH__DvlIu2TbBRo__JHASH__"):h._(/*BTDS*/"__JHASH__6jXQcgH2CYa__JHASH__"),onPress:function(){e()},testid:void 0,wrapperXStyle:a})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("MWXIconLink",["MWXSvgIcon","SVGIcon","cr:12481","gkx"],(function(a,b,c,d,e,f,g){"use strict";a=d("MWXSvgIcon").mwxSvgIcon(d("SVGIcon").svgIcon(b("cr:12481")),c("gkx")("23219"));g["default"]=a}),98);
__d("MWXLinkPreviewLoadingIndicator.react",["MWXGlimmer.react","MWXIconLink","MWXIconStrict.react","MWXText.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react"),j={glimmer:{borderTopStartRadius:"x1lq5wgf",borderTopEndRadius:"xgqcy7u",borderBottomEndRadius:"x30kzoy",borderBottomStartRadius:"x9jhf4c",height:"xng8ra",width:"xh8yej3",$$css:!0}};function a(a){a=a.title;return a==null?null:i.jsx(c("MWXGlimmer.react"),{index:0,xstyle:j.glimmer,children:i.jsxs("div",babelHelpers["extends"]({className:"x6s0dn4 x1amjocr x78zum5 x1q0g3np x5yr21d xc73u3c x5ib6vp"},{children:[i.jsx(c("MWXIconStrict.react"),{color:"secondary",icon:c("MWXIconLink"),size:16}),i.jsx("div",babelHelpers["extends"]({className:"x1iyjqo2"},{children:i.jsx(c("MWXText.react"),{type:"body4",children:a})}))]}))})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWXLinkPreviewTruncateText",[],(function(a,b,c,d,e,f){"use strict";var g={body:100,headline:80,subtext:100},h={body:30,headline:20,subtext:30};function a(a){var b=a.isChatTab,c=a.position;a=a.text;b=b?h:g;b=b[c];if(a==null)return void 0;c=a.replace(/\r?\n|\r/g,"").trim();return c.length<=b?c:Array.from(c).slice(0,b).join("").trim()+"..."}f.truncateText=a}),66);
__d("Query__lightspeed_data",["LSRelayContext","Promise","emptyFunction","promiseDone","relay-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a){var e=new Map(),f=d("LSRelayContext").getContext(a);f instanceof(h||(h=b("Promise")))&&c("promiseDone")(f,function(a){f=a,e.forEach(function(a){return a()}),e.clear()});return{read:function(){return f instanceof(h||(h=b("Promise")))?d("relay-runtime").suspenseSentinel():{context:f,value:void 0}},subscribe:function(a){if(!(f instanceof(h||(h=b("Promise")))))return c("emptyFunction");var d={};e.set(d,a);return function(){e["delete"](d)}}}}g.lightspeed_data=a}),98);
__d("canMWAddMemberToGroupThread",["I64","LSIntEnum","LSThreadBitOffset"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function a(a,b){if(b)return!1;b=(h||(h=d("I64"))).equal(a.threadType,(i||(i=d("LSIntEnum"))).ofNumber(16));b=b&&a.needsAdminApprovalForNewParticipant===!1;return d("LSThreadBitOffset").has(27,a)||b}g["default"]=a}),98);
__d("getMAWNonAddressableContactBannerStrings",["fbt","IntlVariations"],(function(a,b,c,d,e,f,g,h){"use strict";function a(a,b){var d;if(a)return{details:h._(/*BTDS*/"__JHASH__ixaC9ybh3Q8__JHASH__"),headline:h._(/*BTDS*/"__JHASH___yUMmqEez-U__JHASH__")};a=((a=b.firstName)!=null?a:"")===""?null:b.firstName;d=((d=b.name)!=null?d:"")===""?null:b.name;b=(a=(b=a)!=null?b:d)!=null?a:"recipient";d=c("IntlVariations").GENDER_UNKNOWN;return{details:h._(/*BTDS*/"__JHASH__J_HXGmiXLis__JHASH__",[h._name("message recipient name",b,d)]),headline:h._(/*BTDS*/"__JHASH__9vfr7-Uns9r__JHASH__",[h._name("message recipient name",b,d)])}}g["default"]=a}),226);
__d("getMWPUnavailableComposerConfiguration",["I64","LSAuthorityLevel","LSMessagingThreadTypeUtil","MWBlockedComposerLogging","MWChatUnavailableComposer.react","MWXComposerGlimmer.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=h||d("react");function a(a,b,e){if(d("LSMessagingThreadTypeUtil").isOneToOne(b)&&e!=null){b=!e.isPage&&(!e.hasMessageCapability||!e.hasReplyMessageCapability);if(e.blockedSinceTimestampMs==null&&b)return(i||(i=d("I64"))).lt(e.authorityLevel,(i||(i=d("I64"))).of_int32(c("LSAuthorityLevel").AUTHORITATIVE))?j.jsx(c("MWXComposerGlimmer.react"),{}):j.jsx(c("MWChatUnavailableComposer.react"),{reason:e.hasMessageCapability?d("MWBlockedComposerLogging").ComposerBlockingReason.USER_BLOCKED_CANNOT_REPLY:d("MWBlockedComposerLogging").ComposerBlockingReason.USER_BLOCKED_CANNOT_MESSAGE,thread:{threadKey:a}})}}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("useCometSubscribeMessengerHasDefaultThreadOneToOneCapability",["FBLogger","LSContactBitOffset","LSMessagingThreadTypeUtil","MAWDefaultE2eeOneToOneEligibility","ReQL","ReQLSuspense","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a,b){var e=(h||(h=c("useReStore")))(),g=d("ReQLSuspense").useFirst(function(){return d("ReQL").fromTableAscending(e.tables._user_info).map(function(a){return a.facebookUserId})},[e],f.id+":38"),i=d("ReQLSuspense").useFirst(function(){return g!=null?d("ReQL").fromTableAscending(e.tables.contacts,d("LSContactBitOffset").contactCapabilityFields).getKeyRange(g):d("ReQL").empty()},[e,g],f.id+":43"),j=i!=null&&d("LSContactBitOffset").has(80,i),k=d("ReQLSuspense").useFirst(function(){return a!=null&&b!=null&&d("LSMessagingThreadTypeUtil").isOpenOneToOne(b)?d("ReQL").fromTableAscending(e.tables.contacts,[].concat(d("LSContactBitOffset").contactCapabilityFields,["id"])).getKeyRange(a):d("ReQL").empty()},[e,a,b],f.id+":62"),l=d("MAWDefaultE2eeOneToOneEligibility").isContactDefaultE2eeOneToOneEligible({contactId:a,maybeContact:k});if(b==null||!d("LSMessagingThreadTypeUtil").isOpenOneToOne(b))return[!1,!0,null];if(i==null){c("FBLogger")("default_e2ee").info("Viewer is null when checking default e2ee thread capability");return[!1,!1,null]}if(!j){l&&c("FBLogger")("default_e2ee").warn("Viewer has no DEFAULT_E2EE_THREADS capability but other participant has DEFAULT_E2EE_THREAD_ONE_TO_ONE");return[!1,!0,null]}return k==null?[!1,!1,null]:[l,!0,k.id]}g["default"]=a}),98);
__d("useHasNonAddressableParticipantWAI",["CurrentMessengerUser","FBLogger","I64","Int64Hooks","LSAuthorityLevel","LSIntEnum","MAWBridgeSendAndReceive","MWGetChatTabOpenQPLEventTrace","MWGetInboxNavigateQPLEventTrace","MWPActor.react","ODS","ReQL","ReQLSuspense","TemporaryLoggingUtilsForS406998Only","WAJids","WALogger","asyncToGeneratorRuntime","gkx","promiseDone","react","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k,l;function m(){var a=babelHelpers.taggedTemplateLiteralLoose(["occam_reachable_with_no_wai_devices in "," (",")"]);m=function(){return a};return a}function n(){var a=babelHelpers.taggedTemplateLiteralLoose(["occam_not_reachable_with_wai_devices in "," (",")"]);n=function(){return a};return a}var o=(l||d("react")).useState;function a(a){var e=a.isComposerBlocked,g=a.isGroup,k=a.isSecure,l=a.threadKey,m=(h||(h=c("useReStore")))(),n=d("MWPActor.react").useActor();a=o(null);var q=a[0],r=a[1],s=d("ReQLSuspense").useArray(function(){return k?d("ReQL").mergeJoin(d("ReQL").fromTableAscending(m.tables.participants,["contactId"]).getKeyRange(l),d("ReQL").fromTableAscending(m.tables.contacts,["authorityLevel","firstName","name"])).map(function(a){var b=a[0].contactId;a=a[1];return(i||(i=d("I64"))).ge(a.authorityLevel,(j||(j=d("LSIntEnum"))).ofNumber(c("LSAuthorityLevel").AUTHORITATIVE))&&!(i||(i=d("I64"))).equal(b,n)?[d("WAJids").toMsgrUserJid((i||(i=d("I64"))).to_string(b)),a]:null}).filter(Boolean):d("ReQL").empty()},[n,m.tables.contacts,m.tables.participants,k,l],f.id+":64");d("Int64Hooks").useEffectInt64(function(){if(c("gkx")("483")){if(!k){r(null);return}var a=s.map(function(a){a=a[0];return a});a.forEach(function(a){var e=a.split("@")[0];d("TemporaryLoggingUtilsForS406998Only").isStanzaIdForS406998Only(e)&&c("promiseDone")(b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var b=(i||(i=d("I64"))).of_string(e),f=(yield m.tables.threads.get(l)),h=(yield m.tables.contacts.get(b));b=(yield m.tables.participants.index("contactIdThreadKey").get(b,l));f=f==null?void 0:f.authorityLevel;h=h==null?void 0:h.authorityLevel;b=b==null?void 0:b.authorityLevel;c("FBLogger")("messenger_e2ee_web","invalid_participant_id").mustfix("[S406998] invalid participant %s. threadKey: %s. isGroup: %s. count: %s. threadAuthLevel: %s. contactAuthLevel: %s. participantAuthLevel: %s",a,i.to_string(l),g,s.length,f?(i||(i=d("I64"))).to_string(f):"",h?(i||(i=d("I64"))).to_string(h):"",b?(i||(i=d("I64"))).to_string(b):"")})())});c("promiseDone")(d("MAWBridgeSendAndReceive").sendAndReceive("backend","getWAIDevices",{users:a}).then(function(a){var b=s.find(function(b){b=b[0];return!a.has(b)||((b=a.get(b))==null?void 0:b.length)===0});p(l,g,e,b!=null);r(b!=null?{hasNonAddressableParticipant:!0,nonAddressableParticipantName:b[1]}:{hasNonAddressableParticipant:!1})}))}},[m.tables.contacts,m.tables.participants,m.tables.threads,e,g,k,l,s]);return q}function p(a,b,e,f){b=b?"group":"1:1";var g=d("CurrentMessengerUser").isTestUser()?"test user":"prod user",h=function(a){a.addAnnotationBoolean("hasNonAddressableParticipantOccam",e),a.addAnnotationBoolean("hasNonAddressableParticipantWAI",f)};c("MWGetChatTabOpenQPLEventTrace")(a,h);c("MWGetInboxNavigateQPLEventTrace")(a,h);e&&!f?((k||(k=d("ODS"))).bumpEntityKey(3185,"mwchat_composer","occam_not_reachable_with_wai_devices in "+b+" ("+g+")"),d("WALogger").DEV(n(),b,g),c("FBLogger")("messenger_e2ee_web","occam_not_reachable").mustfix("occam returned not reachable but WA devices available. Thread: %s, Thread Type: %s, User Type: %s",(i||(i=d("I64"))).to_string(a),b,g)):!e&&f&&((k||(k=d("ODS"))).bumpEntityKey(3185,"mwchat_composer","occam_reachable_with_no_wai_devices in "+b+" ("+g+")"),d("WALogger").DEV(m(),b,g))}g.useHasNonAddressableParticipantWAI=a}),98);
__d("useIsDefaultE2eeOpenThread",["LSMessagingThreadTypeUtil","cr:8061"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){return[!1,!0,null]}var h=(e=b("cr:8061"))!=null?e:a;function c(a){var b=h(a.threadKey,a.threadType),c=b[0];b[1];b[2];return d("LSMessagingThreadTypeUtil").isOpenOneToOne(a.threadType)&&c}g["default"]=c}),98);
__d("useMAWCreateOptimisticSecureMessageNoOp",["err"],(function(a,b,c,d,e,f,g){"use strict";function a(){return function(){throw c("err")("Attempted to use separate read hooks in non-separate read mode")}}g["default"]=a}),98);
__d("useMAWCreateOptimisticSecureMessageV2",["I64","MAWCreateOptimisticSecureMessage","MAWOptimisticMessageUtils","MWPActor.react","Promise","QPLUserFlow","asyncToGeneratorRuntime","qpl","react","useAsyncReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=(j||d("react")).useCallback;function a(){var a=c("useAsyncReStore")(),e=d("MWPActor.react").useActor();return k(function(g,j,k,l,m,n,o,p){return(h||(h=b("Promise"))).resolve(a).then(function(a){return a.runInTransaction(function(){var f=b("asyncToGeneratorRuntime").asyncToGenerator(function*(b){c("QPLUserFlow").addPoint(c("qpl")._(25313175,"1551"),"before_create_optimistic_message",{instanceKey:m});var f=d("MAWOptimisticMessageUtils").getOptimisticMessageTimestamp(),h=(i||(i=d("I64"))).of_float(f);o(p);var q=(yield d("MAWCreateOptimisticSecureMessage").buildOptimisticLsMessage(a,b,e,g,j,k,l,m,n,p,h,1));yield b.messages.add(q);c("QPLUserFlow").addPoint(c("qpl")._(25313175,"1551"),"after_create_optimistic_message",{instanceKey:m});c("QPLUserFlow").addPoint(c("qpl")._(25313175,"1551"),"optimistic_bump_thread_start",{instanceKey:m});yield d("MAWOptimisticMessageUtils").optimisticBumpThread(b,{hotEmojiSize:l,mentionedJids:n,messageText:j,senderId:e,threadKey:k,ts:h});c("QPLUserFlow").addPoint(c("qpl")._(25313175,"1551"),"optimistic_bump_thread_end",{instanceKey:m});return{messageExternalId:p,offlineMsgTimestamp:f}});return function(a){return f.apply(this,arguments)}}(),"readwrite","ui",void 0,f.id+":58")})},[a,e])}g["default"]=a}),98);
__d("useMAWCreateOptimisticSecureMessageWithAttachments",["MAWCreateOptimisticSecureMessageWithAttachment","MAWGetEphemeralSettings","MWPActor.react","Promise","asyncToGeneratorRuntime","cr:9039","gkx","nullthrows","qex","useLSMessagingInitiatingSourceNumber","useMWLSDefaultThreadSource","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i;e=b("cr:9039")||{createIdbOptimisticMessageWithAttachment:void 0};var j=e.createIdbOptimisticMessageWithAttachment,k=c("gkx")("8297");function a(){var a,e=(i||(i=c("useReStore")))(),g=d("MWPActor.react").useActor(),l=c("useLSMessagingInitiatingSourceNumber")(),m=c("useMWLSDefaultThreadSource")(),n=((a=c("qex")._("189"))!=null?a:!1)&&!k;return function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,i,k,o,p,q,r,s,t,u,v){if(s==null)return(h||(h=b("Promise"))).resolve();var w=n?yield d("MAWGetEphemeralSettings").getEphemeralSetting(k.jid,i):void 0;return e.runInTransaction(function(b){return n?c("nullthrows")(j)(b,{attachmentType:s,ephemeralSettings:w,initiatingSource:l,instanceKey:q,isHd:v,mawThreadResult:k,mediaGroupMetadataMap:u,messageExternalId:t,offlineAttachmentId:o,onOfflineMsgId:r,optimisticMediaAttachment:p,reply:a,senderId:g,threadKey:i,threadSource:m(i)}):d("MAWCreateOptimisticSecureMessageWithAttachment").createOptimisticMessageWithAttachment(e,b,g,a,i,o,p,q,r,s,t,u,v)},"readwrite","ui",void 0,f.id+":85")});return function(b,c,d,e,f,g,h,i,j,k,l){return a.apply(this,arguments)}}()}g["default"]=a}),98);
__d("useMAWCreateOptimisticSecureMessageWithXMAAttachment",["I64","LSIntEnum","MAWAdminMsg","MAWBumpThread","MAWCreateOptimisticSecureMessage","MAWLocalizationType","MAWOptimisticMessageUtils","MAWSendFileMsgTypes","MAWVault","MWPActor.react","MessagingAttachmentType","Promise","QPLUserFlow","asyncToGeneratorRuntime","cr:12008","gkx","nullthrows","qex","qpl","useAsyncReStore","useLSMessagingInitiatingSourceNumber","useMWLSDefaultThreadSource"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=b("cr:12008")||void 0,l=c("gkx")("8297");function a(){var a,e=c("useAsyncReStore")(),g=d("MWPActor.react").useActor(),h=c("useMWLSDefaultThreadSource")(),i=c("useLSMessagingInitiatingSourceNumber")(),n=((a=c("qex")._("60"))!=null?a:!1)&&!l;return function(a,d,l,o,p,q,r,s,t,u,v,w,x){return(j||(j=b("Promise"))).resolve(e).then(function(b){return b.runInTransaction(function(e){return n?c("nullthrows")(k)(e,g,a,d,o,p,q,l,r,s,t,u,v,i,h(d),w,x):m(b,e,g,a,d,o,p,q,r,s,t,u,v,w)},"readwrite","ui",void 0,f.id+":94")})}}function m(a,b,c,d,e,f,g,h,i,j,k,l,m,o){return n.apply(this,arguments)}function n(){n=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,e,f,g,j,k,l,m,n,o,p,q,r){m(n);m=d("MAWOptimisticMessageUtils").getOptimisticMessageTimestamp();var s=(h||(h=d("I64"))).of_float(m);f=(yield d("MAWCreateOptimisticSecureMessage").buildOptimisticLsMessage(a,b,e,f,(a=d("MAWVault").unvault(q))!=null?a:"",g,void 0,l,r,n,s,1024));yield b.messages.add(f);a=d("MAWOptimisticMessageUtils").buildOptimisticAttachment({attachmentType:(i||(i=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").XMA),messageExternalId:n,offlineAttachmentId:j,optimisticMediaAttachment:k,senderId:e,subtitleText:p,threadKey:g,timestampMsI64:s,titleText:o});yield b.attachments.add(a);c("QPLUserFlow").addPoint(c("qpl")._(25313175,"1551"),"after_create_optimistic_message",{instanceKey:l});c("QPLUserFlow").addPoint(c("qpl")._(25313175,"1551"),"optimistic_bump_thread_start",{instanceKey:l});yield d("MAWBumpThread").threadMutation_DEPRECATED({description:"useMAWCreateOptimisticSecureMessageWithXMAAttachment",lastActivityTs:s,lastReadTs:s,snippet:d("MAWAdminMsg").buildLocalizedString([d("MAWVault").unvault(q)],[],d("MAWLocalizationType").CURRENT_USER_SEND_TEXT),snippetSenderContactId:e,threadKey:g,txn:b});c("QPLUserFlow").addPoint(c("qpl")._(25313175,"1551"),"optimistic_bump_thread_end",{instanceKey:l});return{messageExternalId:n,offlineAttachmentId:d("MAWSendFileMsgTypes").toOfflineAttachmentIDFromString(j),offlineMsgTimestamp:m}});return n.apply(this,arguments)}g["default"]=a}),98);
__d("useMAWCreateOptimisticSecureMessagesWithAttachments",["MAWCreateOptimisticSecureMessageWithAttachment","MAWGetEphemeralSettings","MAWSendFileMsgTypes","MWPActor.react","Promise","asyncToGeneratorRuntime","cr:9039","gkx","qex","useLSMessagingInitiatingSourceNumber","useMWLSDefaultThreadSource","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i;e=b("cr:9039")||{createIdbOptimisticMessageWithAttachment:void 0};var j=e.createIdbOptimisticMessageWithAttachment,k=c("gkx")("8297");function a(){var a,e=(i||(i=c("useReStore")))(),g=d("MWPActor.react").useActor(),l=c("useLSMessagingInitiatingSourceNumber")(),m=c("useMWLSDefaultThreadSource")(),n=((a=c("qex")._("189"))!=null?a:!1)&&!k;return function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,c,i,k,o,p,q,r){var s=n?yield d("MAWGetEphemeralSettings").getEphemeralSetting(i.jid,c):void 0;return e.runInTransaction(function(f){return(h||(h=b("Promise"))).all(q.map(function(q){var t=q.attachmentType,u=q.messageExternalId,v=q.offlineAttachmentId;q=q.optimisticMediaAttachment;if(t==null)return(h||(h=b("Promise"))).resolve();var w=r.get(d("MAWSendFileMsgTypes").toOfflineAttachmentIDFromString(v));return n?j==null?void 0:j(f,{attachmentType:t,ephemeralSettings:s,initiatingSource:l,instanceKey:k,isHd:w,mawThreadResult:i,mediaGroupMetadataMap:p,messageExternalId:u,offlineAttachmentId:v,onOfflineMsgId:o,optimisticMediaAttachment:q,reply:a,senderId:g,threadKey:c,threadSource:m(c)}):d("MAWCreateOptimisticSecureMessageWithAttachment").createOptimisticMessageWithAttachment(e,f,g,a,c,v,q,k,o,t,u,p,w)}))},"readwrite","ui",void 0,f.id+":81")});return function(b,c,d,e,f,g,h,i){return a.apply(this,arguments)}}()}g["default"]=a}),98);
__d("useMAWOverrideNonAddressableParticipantWithWAI",["getMAWNonAddressableContactBannerStrings","gkx","useHasNonAddressableParticipantWAI"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=a.bannerFromOccam,e=a.isGroup,f=a.isSecure;a=a.threadKey;var g=b!=null;a=d("useHasNonAddressableParticipantWAI").useHasNonAddressableParticipantWAI({isComposerBlocked:g,isGroup:e,isSecure:f,threadKey:a});if(!f||a==null)return b;if(!a.hasNonAddressableParticipant&&g&&c("gkx")("8670"))return null;return a.hasNonAddressableParticipant&&!g&&c("gkx")("8671")?c("getMAWNonAddressableContactBannerStrings")(e,a.nonAddressableParticipantName):b}g["default"]=a}),98);
__d("useMaybeCreateThreadForMAWSendSecurMessageV2",["I64","LSDatabaseSingleton","MAWMiActMaybeCreateActThread","MAWWaitForBackendSetup","MWPActor.react","QPLUserFlow","ReQL","asyncToGeneratorRuntime","qpl","sendToSentQPLLogger"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function a(){var a=d("MWPActor.react").useActor();return function(){var e=b("asyncToGeneratorRuntime").asyncToGenerator(function*(b,e){c("QPLUserFlow").addPoint(c("qpl")._(25313175,"1551"),"db_resolved_in_maybe_create_thread_start",{instanceKey:e});var f=(yield (h||(h=d("LSDatabaseSingleton"))).LSDatabaseSingleton);c("QPLUserFlow").addPoint(c("qpl")._(25313175,"1551"),"db_resolved_in_maybe_create_thread_success",{instanceKey:e});var g=(yield d("ReQL").toArrayAsync(d("ReQL").fromTableAscending(f.tables.participants,["contactId"]).getKeyRange(b).map(function(a){return(i||(i=d("I64"))).to_string(a.contactId)})));c("QPLUserFlow").addPoint(c("qpl")._(25313175,"1551"),"participant_ids_fetched",{instanceKey:e});d("sendToSentQPLLogger").markSendToSentPoint(e,"maybe_create_mi_thread_start");return d("MAWWaitForBackendSetup").waitForBackendSetup("maybe-create-thread-for-send").then(function(){d("sendToSentQPLLogger").markSendToSentPoint(e,"maybe_create_mi_thread_backend_setup_complete");return c("MAWMiActMaybeCreateActThread")(f,b,{actorId:a,participantIds:g},e,"maybe-create-thread-for-send")}).then(function(a){d("sendToSentQPLLogger").markSendToSentPoint(e,"maybe_create_mi_thread_end");return a})});return function(a,b){return e.apply(this,arguments)}}()}g["default"]=a}),98);
__d("useMAWSendSecureGifAttachmentMessage",["FBLogger","Int64Hooks","LSDatabaseSingleton","LSIntEnum","MAWExternalId","MAWFetchExternalAttachmentBlob","MAWGetEphemeralSettings","MAWImagePreProcess","MAWSendFileMsgIfNecessaryV2","MAWSendFileMsgTypes","MAWStateContext.react","MWPActor.react","MessagingAttachmentType","Promise","QPLUserFlow","WALoggerDeferred","asyncToGeneratorRuntime","cr:7799","qpl","useLSMessagingInitiatingSourceNumber","useMAWCreateOptimisticSecureMessageWithAttachments","useMWLSDefaultThreadSource","useMaybeCreateThreadForMAWSendSecurMessageV2"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j;function a(){var a=d("MWPActor.react").useActor(),e=c("useMWLSDefaultThreadSource")(),f=c("useMaybeCreateThreadForMAWSendSecurMessageV2")(),g=c("useLSMessagingInitiatingSourceNumber")(),k=c("useMAWCreateOptimisticSecureMessageWithAttachments")(),l=d("MAWStateContext.react").useDispatchOptimisticSendMessage(),m=b("cr:7799")();return d("Int64Hooks").useCallbackInt64(function(){var n=b("asyncToGeneratorRuntime").asyncToGenerator(function*(n){var o=n.externalAttachmentUrl,p=n.lssTraceApi,q=n.messageExternalId,r=n.onGenerateOfflineMsgId,s=n.reply,t=n.s2sInstanceKey;n=n.thread;yield d("WALoggerDeferred").logWithTags(["MAWSendSecureMessageV2","Composer","useMAWSendSecureGifAttachmentMessage"],["Starting GIF attachment message send"],"LOG");var u=new Map(),v;try{var w=d("MAWSendFileMsgTypes").toOfflineAttachmentIDFromStanzaId(d("MAWExternalId").generateExternalId()),x=e(n.threadKey),y=(yield (j||(j=b("Promise"))).all([(h||(h=d("LSDatabaseSingleton"))).LSDatabaseSingleton,f(n.threadKey,t)])),z=y[0];y=y[1];v=y;y=(yield d("MAWGetEphemeralSettings").getEphemeralSetting(v.jid,n.threadKey));c("QPLUserFlow").addPoint(c("qpl")._(25313175,"1551"),"fetch_ephemeral_settings",{instanceKey:t});p==null?void 0:p.addMarkerPoint("fetch_external_attachment_blob_start","AppTiming");o=(yield d("MAWFetchExternalAttachmentBlob").fetchExternalAttachmentBlob(o,t));o=new File([o],"gifFromPicker",{type:o.type});p==null?void 0:p.addMarkerPoint("fetch_external_attachment_blob_end","AppTiming");p==null?void 0:p.addMarkerPoint("create_optimistic_message_start","AppTiming");var A=(yield d("MAWImagePreProcess").optimisticImagePreprocess(o,!1));A=(yield k(s,n.threadKey,v,w,A,t,r,(i||(i=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").ANIMATED_IMAGE),q));A!=null?(u.set(w,{messageExternalId:q,offlineMsgTimestamp:A.offlineMsgTimestamp}),l(A.messageExternalId,A.offlineMsgTimestamp),p==null?void 0:p.addMarkerPoint("create_optimistic_message_success","AppTiming")):(c("FBLogger")("messenger_web_media").mustfix("Failed while sending secure optimistic media message: unable to create optimistic message for GIF"),p==null?void 0:p.addMarkerPoint("create_optimistic_message_fail","AppTiming"));p==null?void 0:p.addMarkerPoint("preprocess_start","AppTiming");r=(yield d("MAWImagePreProcess").imagePreprocess(o,!1));p==null?void 0:p.addMarkerPoint("preprocess_end","AppTiming");q=[[r,w]];A={actorId:a,attachments:q,chatJid:v.jid,db:z,ephemeralSetting:y,initiatingSource:g,isFirstMsg:v.created,offlineAttachmentIdToMessageData:u,reply:s,s2sInstanceKey:t,source:x,thread:n};return yield d("MAWSendFileMsgIfNecessaryV2").sendFileMsgIfNecessaryV2(z,A)}catch(a){o=a instanceof Error?a.message:"Fail to send secure attachment message";p=Array.from(u.values()).map(function(a){a=a.messageExternalId;return a});v&&(yield m(p,o,v.jid,!1));yield d("WALoggerDeferred").logWithTags(["MAWSendSecureMessageV2","Composer","useMAWSendSecureGifAttachmentMessage"],["Send GIF attachment message failed:"+JSON.stringify(a)],"ERROR");throw a}});return function(a){return n.apply(this,arguments)}}(),[a,k,l,e,g,m,f])}g["default"]=a}),98);
__d("useMAWSendSecureTextMessage",["MAWDbMsg","MAWGetEphemeralSettings","MAWGetProtocolMsgIdByMsgIdInUI","MAWStateContext.react","MAWVault","Promise","WALoggerDeferred","asyncToGeneratorRuntime","cr:4535","cr:7799","emptyFunction","gkx","promiseDone","qex","react","sendToSentQPLLogger","useMAWCreateOptimisticSecureMessageV2","useMAWSendMessageV2","useMWLSDefaultThreadSource","useMaybeCreateThreadForMAWSendSecurMessageV2"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=(i||d("react")).useCallback,k=c("gkx")("8297");function a(){var a=c("useMWLSDefaultThreadSource")(),e=c("useMaybeCreateThreadForMAWSendSecurMessageV2")(),f=c("useMAWSendMessageV2")(),g=c("useMAWCreateOptimisticSecureMessageV2")(),i=b("cr:7799")(),l=d("MAWStateContext.react").useDispatchOptimisticSendMessage(),m=b("cr:4535")();return j(function(){var j=b("asyncToGeneratorRuntime").asyncToGenerator(function*(j,n){var o=n.hotEmojiSize,p=n.lssTraceApi,q=n.mentionedJids,r=n.messageExternalId,s=n.messageText,t=n.onGenerateOfflineMsgId,u=n.reply,v=n.s2sInstanceKey,w=n.thread;d("sendToSentQPLLogger").markSendToSentPoint(v,"send_secure_message_start");n=((n=c("qex")._("189"))!=null?n:!1)&&!k;var x=null,y;try{p==null?void 0:p.addMarkerPoint("create_optimistic_message_start","AppTiming");n=n?yield b("asyncToGeneratorRuntime").asyncToGenerator(function*(){y=(yield d("sendToSentQPLLogger").measureSendToSentPerformance("maybe_create_thread",v,function(){return e(w.threadKey,v)}));x=(yield d("MAWGetEphemeralSettings").getEphemeralSetting(y.jid,w.threadKey));var a=(yield d("sendToSentQPLLogger").measureSendToSentPerformance("create_optimistic_message_v2",v,function(){var a;return m(u,d("MAWVault").vault(s),w.threadKey,y,o,v,q,(a=t)!=null?a:c("emptyFunction"),r,x)}));return[y,a]})():yield (h||(h=b("Promise"))).all([d("sendToSentQPLLogger").measureSendToSentPerformance("maybe_create_thread",v,function(){return e(w.threadKey,v)}),d("sendToSentQPLLogger").measureSendToSentPerformance("create_optimistic_message_v2",v,function(){var a;return g(u,d("MAWVault").vault(s),w.threadKey,o,v,q,(a=t)!=null?a:c("emptyFunction"),r)})]);var z=n[0];n=n[1];p==null?void 0:p.addMarkerPoint("create_optimistic_message_end","AppTiming");p=n.offlineMsgTimestamp;l(n.messageExternalId,Date.now());d("sendToSentQPLLogger").markSendToSentPoint(v,"fetch_ephemeral_settings_start");x=x===null?yield d("MAWGetEphemeralSettings").getEphemeralSetting(z.jid,w.threadKey):x;d("sendToSentQPLLogger").markSendToSentPoint(v,"fetch_ephemeral_settings_end");n=a(w.threadKey);var A=null;if(u!=null){d("sendToSentQPLLogger").markSendToSentPoint(v,"fetch_reply_message_start");var B=d("MAWDbMsg").toMsgId(u.messageId);B!=null&&(A=(yield d("MAWGetProtocolMsgIdByMsgIdInUI").getProtocolMsgIdByMsgIdUI(B)));d("sendToSentQPLLogger").markSendToSentPoint(v,"fetch_reply_message_end")}return yield f(j,w.threadKey,w.threadType,z.jid,s,n,void 0,r,p,o,z.created,void 0,void 0,A,x,q,v,r)}catch(a){B=a instanceof Error?a.message:"Fail to send secure text message";r!=null&&y!=null&&c("promiseDone")(i([r],B,y.jid,!1));yield d("WALoggerDeferred").logWithTags(["MAWSendSecureMessageV2","Composer","useMAWSendSecureTextMessage"],["Send text message failed:"+JSON.stringify(a)],"ERROR");throw a}});return function(a,b){return j.apply(this,arguments)}}(),[g,m,l,a,i,e,f])}g["default"]=a}),98);
__d("useMAWSendSecureLinkXMAMessage",["ConstUriUtils","E2EELinkPreviewXMADataStatus","E2EELinkPreviewXMADataType","E2EELinkPreviewXMASendStatus","FBLogger","I64","MAWDbMsg","MAWExternalId","MAWExternalLinkUtil","MAWFetchXMABlob","MAWFindFirstUrl","MAWGetProtocolMsgIdByMsgIdInUI","MAWImagePreProcess","MAWLinkPreviewDataStatusUtils","MAWLinkPreviewDataTypeUtils","MAWParseLinkPreviewXMAData","MAWSendExternalLinkXMAV2","MAWStateContext.react","MAWVault","MWPBumpEntityKey","Promise","ReQL","WAArmadilloXMA.pb","WALoggerDeferred","WAMediaQplHelper","asyncToGeneratorRuntime","clearTimeout","cr:7799","emptyFunction","gkx","justknobx","react","sendToSentQPLLogger","setTimeout","useMAWCreateOptimisticSecureMessageWithXMAAttachment","useMAWDeleteLinkPreviewXMATableData","useMAWSendSecureTextMessage","useMWLSDefaultThreadSource","useMaybeCreateThreadForMAWSendSecurMessageV2"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j;e=j||d("react");var k=e.useCallback,l=e.useEffect,m=e.useRef;function a(a){var e=c("useMWLSDefaultThreadSource")(),f=c("useMaybeCreateThreadForMAWSendSecurMessageV2")(),g=c("useMAWSendSecureTextMessage")(),i=c("useMAWCreateOptimisticSecureMessageWithXMAAttachment")(),j=d("MAWStateContext.react").useDispatchOptimisticSendMessage(),o=b("cr:7799")(),q=m(c("emptyFunction")),v=m(null),w=m(null),x=c("useMAWDeleteLinkPreviewXMATableData")(a);l(function(){return function(){q.current(),w.current=null,v.current!=null&&(c("clearTimeout")(v.current),v.current=null)}},[]);var y=function(a,b){d("sendToSentQPLLogger").markSendToSentPoint(a.s2sInstanceKey,"wait_for_link_preview_xma_data_timeout");v.current=null;w.current=d("MAWSendExternalLinkXMAV2").sendExternalLinkXMAV2(a,b);return w.current},z=k(function(a,e,f,g){return new(h||(h=b("Promise")))(function(h){q.current=a.subscribe(function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){if(b.operation==="delete")return;a=w.current;if(a!=null){q.current();w.current=null;return a.then(h)}a=b.value;var i=d("MAWParseLinkPreviewXMAData").parseLinkPreviewXMAData(a);b=d("MAWLinkPreviewDataStatusUtils").linkPreviewDataStatusIsOfType(a==null?void 0:a.status,c("E2EELinkPreviewXMADataStatus").LOADED);d("sendToSentQPLLogger").markSendToSentPoint(e,"wait_for_link_preview_data_end",void 0,{bool:{has_xma_data:i!=null,is_link_preview_data_loaded:b}});if(!b||i==null)return;c("clearTimeout")(v.current);var j=d("MAWLinkPreviewDataTypeUtils").linkPreviewDataTypeIsOfType(a==null?void 0:a.dataType,c("E2EELinkPreviewXMADataType").OEMBED);q.current();b=(yield d("sendToSentQPLLogger").measureSendToSentPerformance("fetch_link_preview_blob",e,function(){return r(j,i)}));s(e,b);h(d("MAWSendExternalLinkXMAV2").sendExternalLinkXMAV2(babelHelpers["extends"]({},f,{previewBlob:b,xmaData:i}),g))});return function(b,c){return a.apply(this,arguments)}}())})},[]);return k(function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){var h=b.currentDraftId,k=b.lssTraceApi,l=b.mentionedJids,m=b.messageExternalId,q=b.messageText,w=b.onGenerateOfflineMsgId,A=b.reply,B=b.s2sInstanceKey,C=b.thread,D=b.threadKey;yield d("WALoggerDeferred").logWithTags(["MAWSendSecureMessageV2","Composer","useMAWSendSecureLinkXMAMessage"],["Starting Link Preview XMA attachment message send"],"LOG");b=d("MAWFindFirstUrl").findFirstUrl(q);b=b.length>0?b[0]:null;void n(a,h);var E;try{d("sendToSentQPLLogger").markSendToSentPoint(B,"get_link_preview_data_start");var F=(yield p(a,h,B,k)),G=F==null?void 0:F.xmaData,H=d("MAWLinkPreviewDataTypeUtils").linkPreviewDataTypeIsOfType(F==null?void 0:F.dataType,c("E2EELinkPreviewXMADataType").OEMBED),I=d("MAWLinkPreviewDataStatusUtils").linkPreviewDataStatusIsOfType(F==null?void 0:F.dataStatus,c("E2EELinkPreviewXMADataStatus").DISABLED);d("sendToSentQPLLogger").addSendToSentAnnotations(B,{bool:{has_xma_data:G!=null,is_link_preview_oembed_data:H}});k==null?void 0:k.addAnnotationBoolean("has_xma_data",G!=null);k==null?void 0:k.addAnnotationBoolean("is_link_preview_oembed_data",H);if(h==null||b==null||I){d("sendToSentQPLLogger").markSendToSentPoint(B,"send_link_message_as_text");return g(a,{mentionedJids:l,messageExternalId:m,messageText:q,onGenerateOfflineMsgId:w,reply:A,s2sInstanceKey:B,thread:C})}I={title:(I=d("ConstUriUtils").getUri(b.entity.url))==null?void 0:I.getDomain(),url:b.entity.url};b=(b=G)!=null?b:I;d("sendToSentQPLLogger").markSendToSentPoint(B,"get_link_preview_data_end");var J=(yield t(A)),K=d("MAWExternalId").generateExternalId();w==null?void 0:w(K);var L=e(D);E=(yield d("sendToSentQPLLogger").measureSendToSentPerformance("maybe_create_thread",B,function(){return f(D,B)}));k==null?void 0:k.addMarkerPoint("fetch_link_preview_blob_start","AppTiming");var M=(yield d("sendToSentQPLLogger").measureSendToSentPerformance("fetch_link_preview_blob",B,function(){return r(H,G)}));s(B,M);k==null?void 0:k.addMarkerPoint("fetch_link_preview_blob_end","AppTiming");k==null?void 0:k.addMarkerPoint("create_optimistic_message_start","AppTiming");d("sendToSentQPLLogger").markSendToSentPoint(B,"create_optimistic_message_start");var N=null;if(M!=null&&d("MAWExternalLinkUtil").allowedPreviewTypes.includes(M.type)){var O=new File([M],"preview",{type:M.type});N=(yield d("MAWImagePreProcess").optimisticImagePreprocess(O))}A=(yield i(A,C.threadKey,E,K,N,B,(O=w)!=null?O:c("emptyFunction"),m,b==null?void 0:b.title,b==null?void 0:b.author_name,d("MAWVault").vault(q),l,d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.MSG_EXTERNAL_LINK_SHARE));C=A!=null?{messageExternalId:m,offlineMsgTimestamp:A.offlineMsgTimestamp}:void 0;C!=null?(j(C.messageExternalId,C.offlineMsgTimestamp),k==null?void 0:k.addMarkerPoint("create_optimistic_message_success","AppTiming"),d("sendToSentQPLLogger").markSendToSentPoint(B,"create_optimistic_message_end")):(c("FBLogger")("messenger_web_media").mustfix("Failed while sending secure optimistic media message: unable to create optimistic message for GIF"),k==null?void 0:k.addMarkerPoint("create_optimistic_message_fail","AppTiming"),d("sendToSentQPLLogger").markSendToSentPoint(B,"create_optimistic_message_fail"));N=d("MAWLinkPreviewDataStatusUtils").linkPreviewDataStatusIsOfType(F==null?void 0:F.dataStatus,c("E2EELinkPreviewXMADataStatus").LOADED);var P={chatJid:E.jid,mentionedJids:l,message:q,offlineAttachmentId:K,optimisticMessageData:C,quote:(w=J)!=null?w:void 0,s2sInstanceKey:B,source:L,threadKey:D};d("MWPBumpEntityKey").bumpEntityKey("maw.send_secure_link_xma",G==null?"xma_data_is_null":"xma_data_is_not_null");if(G!=null&&!N){d("sendToSentQPLLogger").markSendToSentPoint(B,"wait_for_link_preview_data_start");if(c("gkx")("8595")){O=(yield u(a,h,B,x));A=O.previewBlob;k=O.xmaData;return d("MAWSendExternalLinkXMAV2").sendExternalLinkXMAV2(babelHelpers["extends"]({},P,{previewBlob:A,xmaData:(F=k)!=null?F:I}),a)}else{l=c("justknobx")._("3137");v.current=c("setTimeout")(function(){return y(babelHelpers["extends"]({},P,{previewBlob:M,xmaData:G}),a)},l);d("sendToSentQPLLogger").addSendToSentAnnotations(B,{"int":{wait_for_link_preview_data_timeout_ms:l}});q=d("ReQL").fromTableAscending(a.tables.e2ee_composer_draft_link_preview).getKeyRange(h);return z(q,B,P,a)}}else d("sendToSentQPLLogger").markSendToSentPoint(B,"wait_for_link_preview_data_skipped");return d("MAWSendExternalLinkXMAV2").sendExternalLinkXMAV2(babelHelpers["extends"]({},P,{previewBlob:M,xmaData:b}),a)}catch(a){K=a instanceof Error?a.message:"Fail to send secure attachment message";E!=null&&(yield o([m],K,E.jid,!1));c("FBLogger")("messenger_web_sharing").catching(a).mustfix("[External link] Failed to send external link XMA ");yield d("WALoggerDeferred").logWithTags(["MAWSendSecureMessageV2","Composer","useMAWSendSecureLinkXMAMessage"],["Send Link Preview XMA attachment message failed:"+JSON.stringify(a)],"ERROR");throw a}});return function(b,c){return a.apply(this,arguments)}}(),[i,x,j,e,o,f,g,z])}function n(a,b){return o.apply(this,arguments)}function o(){o=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,e){if(e==null)return;yield a.runInTransaction(function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=(yield a.e2ee_composer_draft_link_preview.get(e));yield a.e2ee_composer_draft_link_preview.upsert([e],babelHelpers["extends"]({},b,{draftId:e,sendStatus:(i||(i=d("I64"))).of_int32(c("E2EELinkPreviewXMASendStatus").SENDING)}))});return function(b){return a.apply(this,arguments)}}(),"readwrite",void 0,void 0,f.id+":546")});return o.apply(this,arguments)}function p(a,b,c,d){return q.apply(this,arguments)}function q(){q=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,e,g){if(b==null){d("sendToSentQPLLogger").markSendToSentPoint(e,"get_link_preview_xma_data_from_table_no_draft_id");g==null?void 0:g.addMarkerPoint("get_link_preview_xma_data_from_table_no_draft_id","AppTiming");return null}d("sendToSentQPLLogger").markSendToSentPoint(e,"get_link_preview_xma_data_from_table_start");g==null?void 0:g.addMarkerPoint("get_link_preview_xma_data_from_table_start","AppTiming");a=(yield a.runInTransaction(function(a){return a.e2ee_composer_draft_link_preview.get(b)},"readonly",void 0,void 0,f.id+":588"));d("sendToSentQPLLogger").markSendToSentPoint(e,"get_link_preview_xma_data_from_table_end");g==null?void 0:g.addMarkerPoint("get_link_preview_xma_data_from_table_end","AppTiming");d("MAWLinkPreviewDataStatusUtils").linkPreviewDataStatusIsOfType(a==null?void 0:a.status,c("E2EELinkPreviewXMADataStatus").LOADING)&&(d("sendToSentQPLLogger").markSendToSentPoint(e,"get_link_preview_xma_data_from_table_still_loading"),g==null?void 0:g.addMarkerPoint("get_link_preview_xma_data_from_table_still_loading","AppTiming"));return{dataStatus:a==null?void 0:a.status,dataType:a==null?void 0:a.dataType,xmaData:d("MAWParseLinkPreviewXMAData").parseLinkPreviewXMAData(a)}});return q.apply(this,arguments)}var r=function(a,b){return a?d("MAWExternalLinkUtil").getImageBlobResponse({xmaData:b}):d("MAWFetchXMABlob").fetchBlob({descriptionForLogging:"useMAWSendSecureLinkXMAMessage",url:b==null?void 0:b.thumbnail_url,xmaContentType:void 0})},s=function(a,b){d("sendToSentQPLLogger").addSendToSentAnnotations(a,{bool:{has_fetched_xma_preview:b!=null},string:{fetched_xma_preview_file_size_bucket:b!=null?d("WAMediaQplHelper").convertIntegerSizeToStringBucket(b.size):void 0}})},t=function(a){if(a!=null){a=d("MAWDbMsg").toMsgId(a.messageId);if(a!=null)return d("MAWGetProtocolMsgIdByMsgIdInUI").getProtocolMsgIdByMsgIdUI(a)}return null};function u(a,b,c,d){return v.apply(this,arguments)}function v(){v=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,c,e){var f=(yield d("sendToSentQPLLogger").measureSendToSentPerformance("wait_for_link_preview_data",c,function(){return w(a,b,c,e)}));if(f==null)return{previewBlob:null,xmaData:null};var g=f.isOEmbedData,h=f.xmaData;f=(yield d("sendToSentQPLLogger").measureSendToSentPerformance("fetch_link_preview_blob",c,function(){return r(g,h)}));return{previewBlob:f,xmaData:h}});return v.apply(this,arguments)}function w(a,e,f,g){var i=c("justknobx")._("3137");return(h||(h=b("Promise"))).race([x(a,e,f,g),new h(function(a){return window.setTimeout(function(){d("sendToSentQPLLogger").markSendToSentPoint(f,"wait_for_link_preview_data_timeout"),a(null)},i)})])}function x(a,e,f,g){d("sendToSentQPLLogger").markSendToSentPoint(f,"wait_for_link_preview_data_subscribe_to_lsdb_table_start");return new(h||(h=b("Promise")))(function(b){var h=d("ReQL").fromTableAscending(a.tables.e2ee_composer_draft_link_preview).getKeyRange(e).subscribe(function(a,i){if(i.operation==="delete")return;a=i.value;i=d("MAWParseLinkPreviewXMAData").parseLinkPreviewXMAData(a);var j=d("MAWLinkPreviewDataStatusUtils").linkPreviewDataStatusIsOfType(a==null?void 0:a.status,c("E2EELinkPreviewXMADataStatus").LOADED);if(!j||i==null)return;h();e!=null&&void g({draftId:e});j=d("MAWLinkPreviewDataTypeUtils").linkPreviewDataTypeIsOfType(a==null?void 0:a.dataType,c("E2EELinkPreviewXMADataType").OEMBED);d("sendToSentQPLLogger").markSendToSentPoint(f,"wait_for_link_preview_data_subscribe_to_lsdb_table_end");b({isOEmbedData:j,xmaData:i})})})}g["default"]=a}),98);
__d("useMAWSendSecureStagedMediaAttachmentMessage",["FBLogger","Int64Hooks","LSDatabaseSingleton","MAWExternalId","MAWGetEphemeralSettings","MAWMediaManagerUtils","MAWPrepareAttachmentsFromMediaManager","MAWSecureAttachmentGroupingUtils","MAWSendFileMsgIfNecessaryV2","MAWSendFileMsgTypes","MAWStateContext.react","MWPActor.react","Promise","QPLUserFlow","WALoggerDeferred","WAMediaQplHelper","asyncToGeneratorRuntime","cr:7799","err","qpl","sendToSentQPLLogger","useLSMessagingInitiatingSourceNumber","useMAWCreateOptimisticSecureMessageWithAttachments","useMAWCreateOptimisticSecureMessagesWithAttachments","useMWLSDefaultThreadSource","useMaybeCreateThreadForMAWSendSecurMessageV2"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function a(){var a=d("MWPActor.react").useActor(),e=c("useMWLSDefaultThreadSource")(),f=c("useMaybeCreateThreadForMAWSendSecurMessageV2")(),g=c("useLSMessagingInitiatingSourceNumber")(),j=c("useMAWCreateOptimisticSecureMessageWithAttachments")(),k=d("MAWStateContext.react").useDispatchOptimisticSendMessage(),l=b("cr:7799")(),m=c("useMAWCreateOptimisticSecureMessagesWithAttachments")();return d("Int64Hooks").useCallbackInt64(function(){var j=b("asyncToGeneratorRuntime").asyncToGenerator(function*(j){var n=j.lssTraceApi,o=j.mediaStagings,p=j.messageTypeParams,q=j.onGenerateOfflineMsgId,r=j.reply,s=j.s2sInstanceKey;j=j.thread;yield d("WALoggerDeferred").logWithTags(["MAWSendSecureMessageV2","Composer","useMAWSendSecureStagedMediaAttachmentMessage"],["Starting staged media attachment message send"],"LOG");var t=new Map(),u;try{var v=null,w=d("MAWSecureAttachmentGroupingUtils").orderMediaStagingsForGrouping(o);v=d("MAWSecureAttachmentGroupingUtils").generateMediaGroupMetadataForMediaStagings(w);var x=w.reduce(function(a,b){a.set(d("MAWSendFileMsgTypes").toOfflineAttachmentIDFromString(b.offlineAttachmentId),b.isHd);return a},new Map()),y=new Map();u=(yield f(j.threadKey,s));n==null?void 0:n.addMarkerPoint("create_optimistic_message_start","AppTiming");d("sendToSentQPLLogger").markSendToSentPoint(s,"create_optimistic_message_start");var z=w.map(function(a){var b=d("MAWMediaManagerUtils").MAWMediaManagerAttachmentsV2.get(a.offlineAttachmentId);b=b==null?void 0:b.optimisticMedia;if(b==null){c("FBLogger")("messenger_web_media").mustfix("Failed while sending secure optimistic media message: unable to find optimistic media attachment in useMAWSendSecureAttachmentMessage");return null}var e=d("MAWExternalId").generateExternalId();e={attachmentType:a.attachmentType,messageExternalId:e,offlineAttachmentId:a.offlineAttachmentId,optimisticMediaAttachment:b};return e}).filter(Boolean);z=(yield m(r,j.threadKey,u,s,q,v,z,x));z.forEach(function(a){if(a==null||a.offlineAttachmentId==null){c("FBLogger")("messenger_web_media").mustfix("Failed while sending secure optimistic media message: unable to create optimistic message");return null}t.set(d("MAWSendFileMsgTypes").toOfflineAttachmentIDFromString(a.offlineAttachmentId),{messageExternalId:a.messageExternalId,offlineMsgTimestamp:a.offlineMsgTimestamp});k(a.messageExternalId,a.offlineMsgTimestamp)});n==null?void 0:n.addMarkerPoint("create_optimistic_message_end","AppTiming");d("sendToSentQPLLogger").markSendToSentPoint(s,"create_optimistic_message_end");n==null?void 0:n.addMarkerPoint("get_preprocess_media_start","AppTiming");d("sendToSentQPLLogger").markSendToSentPoint(s,"get_preprocess_media_start");yield (i||(i=b("Promise"))).all(w.map(function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=d("MAWMediaManagerUtils").MAWMediaManagerAttachmentsV2.get(a.offlineAttachmentId);if(b==null){c("FBLogger")("messenger_web_media").mustfix("Failed while sending secure media message: unable to find media attachment in useMAWSendSecureAttachmentMessage");return}yield b.processedMediaPromise.then(function(b){y.set(d("MAWSendFileMsgTypes").toOfflineAttachmentIDFromString(a.offlineAttachmentId),b)})["catch"](function(a){a=a instanceof Error?a:c("err")(typeof a==="string"?a:"Fail to preprocess media: "+JSON.stringify(a));throw a})["finally"](function(){var a=b.optimisticMedia;a!=null&&c("QPLUserFlow").addAnnotations(c("qpl")._(25313175,"1551"),{string:{optimistic_media_file_size:d("WAMediaQplHelper").convertIntegerSizeToStringBucket(a.file.size),optimistic_media_file_type:a.file.type,optimistic_media_type:a.type}},{instanceKey:s})})});return function(b){return a.apply(this,arguments)}}()))["catch"](function(a){n==null?void 0:n.addMarkerPoint("get_preprocess_media_fail","AppTiming"),d("sendToSentQPLLogger").markSendToSentPoint(s,"get_preprocess_media_fail")});n==null?void 0:n.addMarkerPoint("get_preprocess_media_end","AppTiming");d("sendToSentQPLLogger").markSendToSentPoint(s,"get_preprocess_media_end");z=d("MAWPrepareAttachmentsFromMediaManager").prepareAttachmentsFromMediaManagerImpl(w,p,q,y,s);w=z.attachments;p=e(j.threadKey);c("QPLUserFlow").addPoint(c("qpl")._(25313175,"1551"),"fetch_ls_singleton_db",{instanceKey:s});q=(yield (h||(h=d("LSDatabaseSingleton"))).LSDatabaseSingleton);c("QPLUserFlow").addPoint(c("qpl")._(25313175,"1551"),"ls_singleton_db_resolved",{instanceKey:s});c("QPLUserFlow").addPoint(c("qpl")._(25313175,"1551"),"thread_result_fetched",{instanceKey:s});d("sendToSentQPLLogger").markSendToSentPoint(s,"fetch_ephemeral_settings_start");z=(yield d("MAWGetEphemeralSettings").getEphemeralSetting(u.jid,j.threadKey));d("sendToSentQPLLogger").markSendToSentPoint(s,"fetch_ephemeral_settings_end");w={actorId:a,attachments:w,chatJid:u.jid,db:q,ephemeralSetting:z,hdMediaMap:x,initiatingSource:g,isFirstMsg:u.created,mediaGroupMetadataMap:v,offlineAttachmentIdToMessageData:t,reply:r,s2sInstanceKey:s,source:p,thread:j};return yield d("MAWSendFileMsgIfNecessaryV2").sendFileMsgIfNecessaryV2(q,w)}catch(a){z=a instanceof Error?a:c("err")(typeof a==="string"?a:"Fail to send secure attachment message: "+JSON.stringify(a));x=Array.from(t.values()).map(function(a){a=a.messageExternalId;return a});u&&(yield l(x,z.message,u.jid,!1));yield d("WALoggerDeferred").logWithTags(["MAWSendSecureMessageV2","Composer","useMAWSendSecureStagedMediaAttachmentMessage"],["Send staged media attachment message failed:"+JSON.stringify(z)],"ERROR");throw z}finally{o.map(function(a){return d("MAWMediaManagerUtils").MAWMediaManagerAttachmentsV2["delete"](a.offlineAttachmentId)})}});return function(a){return j.apply(this,arguments)}}(),[a,j,m,k,e,g,l,f])}g["default"]=a}),98);
__d("useMarkOptimisticMessagesAsFailed",["LSFactory","LSMarkOptimisticMessageFailedStoredProcedure","asyncToGeneratorRuntime","react","useAsyncReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).useCallback;function a(){var a=c("useAsyncReStore")();return i(function(){var d=b("asyncToGeneratorRuntime").asyncToGenerator(function*(d,e,g,h){g=(yield a);return g.runInTransaction(function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){for(var b of d)yield c("LSMarkOptimisticMessageFailedStoredProcedure")(c("LSFactory")(a),{errorMessage:e,isRetryable:h,optimisticMid:b})});return function(b){return a.apply(this,arguments)}}(),"readwrite",void 0,void 0,f.id+":36")});return function(a,b,c,e){return d.apply(this,arguments)}}(),[a])}g["default"]=a}),98);
__d("useMAWSendSecureStickerAttachmentMessage",["FBLogger","Int64Hooks","LSDatabaseSingleton","LSIntEnum","MAWExternalId","MAWFetchExternalAttachmentBlob","MAWGetEphemeralSettings","MAWImagePreProcess","MAWSendFileMsgIfNecessaryV2","MAWSendFileMsgTypes","MAWStateContext.react","MWPActor.react","MessagingAttachmentType","Promise","WALoggerDeferred","asyncToGeneratorRuntime","sendToSentQPLLogger","useLSMessagingInitiatingSourceNumber","useMAWCreateOptimisticSecureMessageWithAttachments","useMWLSDefaultThreadSource","useMarkOptimisticMessagesAsFailed","useMaybeCreateThreadForMAWSendSecurMessageV2"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j;function a(){var a=d("MWPActor.react").useActor(),e=c("useMWLSDefaultThreadSource")(),f=c("useMaybeCreateThreadForMAWSendSecurMessageV2")(),g=c("useLSMessagingInitiatingSourceNumber")(),k=c("useMAWCreateOptimisticSecureMessageWithAttachments")(),l=d("MAWStateContext.react").useDispatchOptimisticSendMessage(),m=c("useMarkOptimisticMessagesAsFailed")();return d("Int64Hooks").useCallbackInt64(function(){var n=b("asyncToGeneratorRuntime").asyncToGenerator(function*(n){var o=n.externalAttachmentUrl,p=n.lssTraceApi,q=n.messageExternalId,r=n.onGenerateOfflineMsgId,s=n.reply,t=n.s2sInstanceKey;n=n.thread;d("sendToSentQPLLogger").markSendToSentPoint(t,"send_secure_message_start");yield d("WALoggerDeferred").logWithTags(["MAWSendSecureMessageV2","Composer","useMAWSendSecureStickerAttachmentMessage"],["Starting sticker attachment message send"],"LOG");var u=new Map(),v;try{var w=d("MAWSendFileMsgTypes").toOfflineAttachmentIDFromStanzaId(d("MAWExternalId").generateExternalId()),x=e(n.threadKey),y=(yield (j||(j=b("Promise"))).all([(h||(h=d("LSDatabaseSingleton"))).LSDatabaseSingleton,f(n.threadKey,t)])),z=y[0];y=y[1];v=y;d("sendToSentQPLLogger").markSendToSentPoint(t,"fetch_ephemeral_settings_start");y=(yield d("MAWGetEphemeralSettings").getEphemeralSetting(v.jid,n.threadKey));d("sendToSentQPLLogger").markSendToSentPoint(t,"fetch_ephemeral_settings_end");d("sendToSentQPLLogger").markSendToSentPoint(t,"fetch_external_attachment_blob_start");p==null?void 0:p.addMarkerPoint("fetch_external_attachment_blob_start","AppTiming");o=(yield d("MAWFetchExternalAttachmentBlob").fetchExternalAttachmentBlob(o,t));var A=new File([o],"stickerFromPicker",{type:o.type});d("sendToSentQPLLogger").markSendToSentPoint(t,"fetch_external_attachment_blob_end");p==null?void 0:p.addMarkerPoint("fetch_external_attachment_blob_end","AppTiming");p==null?void 0:p.addMarkerPoint("create_optimistic_message_start","AppTiming");d("sendToSentQPLLogger").markSendToSentPoint(t,"optimist_image_preprocess_start");A=(yield d("MAWImagePreProcess").optimisticImagePreprocess(A,!0));d("sendToSentQPLLogger").markSendToSentPoint(t,"optimist_image_preprocess_end");d("sendToSentQPLLogger").markSendToSentPoint(t,"create_optimistic_message_start");A=(yield k(s,n.threadKey,v,w,A,t,r,(i||(i=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").STICKER),q));A!=null?(u.set(w,{messageExternalId:q,offlineMsgTimestamp:A.offlineMsgTimestamp}),l(A.messageExternalId,A.offlineMsgTimestamp),d("sendToSentQPLLogger").markSendToSentPoint(t,"create_optimistic_message_end"),p==null?void 0:p.addMarkerPoint("create_optimistic_message_end","AppTiming")):(c("FBLogger")("messenger_web_media").mustfix("Failed while sending secure optimistic media message: unable to create optimistic message for sticker"),d("sendToSentQPLLogger").markSendToSentPoint(t,"create_optimistic_message_fail"),p==null?void 0:p.addMarkerPoint("create_optimistic_message_fail","AppTiming"));d("sendToSentQPLLogger").markSendToSentPoint(t,"image_preprocess_start");p==null?void 0:p.addMarkerPoint("image_preprocess_start","AppTiming");r=(yield d("MAWImagePreProcess").imagePreprocess(new File([o],"stickerFromPicker",{type:o.type}),!0));d("sendToSentQPLLogger").markSendToSentPoint(t,"image_preprocess_end");p==null?void 0:p.addMarkerPoint("image_preprocess_end","AppTiming");q=[[r,w]];A={actorId:a,attachments:q,chatJid:v.jid,db:z,ephemeralSetting:y,initiatingSource:g,isFirstMsg:v.created,offlineAttachmentIdToMessageData:u,reply:s,s2sInstanceKey:t,source:x,thread:n};return yield d("MAWSendFileMsgIfNecessaryV2").sendFileMsgIfNecessaryV2(z,A)}catch(a){o=a instanceof Error?a.message:"Fail to send secure attachment message";p=Array.from(u.values()).map(function(a){a=a.messageExternalId;return a});v&&(yield m(p,o,v.jid,!1));yield d("WALoggerDeferred").logWithTags(["MAWSendSecureMessageV2","Composer","useMAWSendSecureStickerAttachmentMessage"],["Send sticker attachment message failed:"+JSON.stringify(a)],"ERROR");throw a}});return function(a){return n.apply(this,arguments)}}(),[a,k,l,e,g,m,f])}g["default"]=a}),98);
__d("useMAWSendSecureVoiceClipAttachmentMessage",["FBLogger","Int64Hooks","LSDatabaseSingleton","LSIntEnum","MAWAudioPreProcess","MAWExternalId","MAWGetEphemeralSettings","MAWSendFileMsgIfNecessaryV2","MAWSendFileMsgTypes","MAWStateContext.react","MWMediaRenderQplUtils","MWPActor.react","MessagingAttachmentType","Promise","QPLUserFlow","WABlobToArrayBuffer","WALoggerDeferred","asyncToGeneratorRuntime","qpl","useLSMessagingInitiatingSourceNumber","useMAWCreateOptimisticSecureMessageWithAttachments","useMWLSDefaultThreadSource","useMarkOptimisticMessagesAsFailed","useMaybeCreateThreadForMAWSendSecurMessageV2"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j;function a(){var a=d("MWPActor.react").useActor(),e=c("useMWLSDefaultThreadSource")(),f=c("useMaybeCreateThreadForMAWSendSecurMessageV2")(),g=c("useLSMessagingInitiatingSourceNumber")(),k=c("useMAWCreateOptimisticSecureMessageWithAttachments")(),l=d("MAWStateContext.react").useDispatchOptimisticSendMessage(),m=c("useMarkOptimisticMessagesAsFailed")();return d("Int64Hooks").useCallbackInt64(function(){var n=b("asyncToGeneratorRuntime").asyncToGenerator(function*(n){var o=n.lssTraceApi,p=n.messageExternalId,q=n.onGenerateOfflineMsgId,r=n.reply,s=n.s2sInstanceKey,t=n.thread;n=n.voiceClip;yield d("WALoggerDeferred").logWithTags(["MAWSendSecureMessageV2","Composer","useMAWSendSecureVoiceClipAttachmentMessage"],["Starting voice clip attachment message send"],"LOG");var u=new Map(),v;try{var w=d("MAWSendFileMsgTypes").toOfflineAttachmentIDFromStanzaId(d("MAWExternalId").generateExternalId()),x=e(t.threadKey),y=(yield (j||(j=b("Promise"))).all([(h||(h=d("LSDatabaseSingleton"))).LSDatabaseSingleton,f(t.threadKey,s)])),z=y[0];y=y[1];v=y;y=(yield d("MAWGetEphemeralSettings").getEphemeralSetting(v.jid,t.threadKey));c("QPLUserFlow").addPoint(c("qpl")._(25313175,"1551"),"fetch_ephemeral_settings",{instanceKey:s});c("QPLUserFlow").addAnnotations(c("qpl")._(25313175,"1551"),{string:{audio_duration_bucket:d("MWMediaRenderQplUtils").convertDurationToStringBucket(n.duration||0)}},{instanceKey:s});var A=(yield d("MAWAudioPreProcess").optimisticAudioPreprocess(n.file));o==null?void 0:o.addMarkerPoint("create_optimistic_message_start","AppTiming");A=(yield k(r,t.threadKey,v,w,A,s,q,(i||(i=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").AUDIO),p));A!=null?(u.set(w,{messageExternalId:p,offlineMsgTimestamp:A.offlineMsgTimestamp}),l(A.messageExternalId,A.offlineMsgTimestamp),o==null?void 0:o.addMarkerPoint("create_optimistic_message_success","AppTiming")):(c("FBLogger")("messenger_web_media").mustfix("Failed while sending secure optimistic media message: unable to create optimistic message for GIF"),o==null?void 0:o.addMarkerPoint("create_optimistic_message_fail","AppTiming"));q={durations:n.duration||0,file:n.file,isPtt:!0,plaintext:yield d("WABlobToArrayBuffer").blobToArrayBuffer(n.file),type:"audio"};p=[[q,w]];A={actorId:a,attachments:p,chatJid:v.jid,db:z,ephemeralSetting:y,initiatingSource:g,isFirstMsg:v.created,offlineAttachmentIdToMessageData:u,reply:r,s2sInstanceKey:s,source:x,thread:t};return yield d("MAWSendFileMsgIfNecessaryV2").sendFileMsgIfNecessaryV2(z,A)}catch(a){o=a instanceof Error?a.message:"Fail to send secure attachment message";n=Array.from(u.values()).map(function(a){a=a.messageExternalId;return a});v&&(yield m(n,o,v.jid,!1));yield d("WALoggerDeferred").logWithTags(["MAWSendSecureMessageV2","Composer","useMAWSendSecureVoiceClipAttachmentMessage"],["Send voice clip attachment message failed:"+JSON.stringify(a)],"ERROR");throw a}});return function(a){return n.apply(this,arguments)}}(),[a,k,l,e,g,m,f])}g["default"]=a}),98);
__d("useMAWUpdateThreadCapabilities",["LSMessagingThreadTypeUtil","MAWUpdateLSThreadCapabilities","Promise","react","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=(j||d("react")).useCallback;function a(){var a=(i||(i=c("useReStore")))();return k(function(c){return!d("LSMessagingThreadTypeUtil").isOneToOne(c.threadType)?(h||(h=b("Promise"))).resolve():a.runInTransaction(function(a){return d("MAWUpdateLSThreadCapabilities").updateNonMessageRequestThreadTxn(a,c.threadKey)},"readwrite",void 0,void 0,f.id+":37")},[a])}g["default"]=a}),98);
__d("useMAWSendSecureMessageV2Impl",["FBLogger","I64","Int64Hooks","LSContactListConversionAttributionStore","LSIntEnum","LSMessagingThreadTypeUtil","LSThreadAttributionTypeUtil","MAWMessageSendReporterV2","MAWOptimisticUpdateContactRelationship","MWLSLogSend","MWPActor.react","MWPBumpEntityKey","MWPReplyContext.react","MWSharedMsgLogUtils","MWVersion","MessageRequestsLog","MessengerClickImpressionEventsLoggerImpl","Promise","WALoggerDeferred","asyncToGeneratorRuntime","err","gkx","react","sendToSentQPLLogger","useAsyncReStore","useLSMessagingSource","useMAWDeleteLinkPreviewXMATableData","useMAWSendSecureGifAttachmentMessage","useMAWSendSecureLinkXMAMessage","useMAWSendSecureStagedMediaAttachmentMessage","useMAWSendSecureStickerAttachmentMessage","useMAWSendSecureTextMessage","useMAWSendSecureVoiceClipAttachmentMessage","useMAWUpdateThreadCapabilities","useMWLSUnarchiveThread"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k,l=(i||d("react")).useContext;function a(a,e){var f=d("MWPActor.react").useActor(),g=l(d("MWPReplyContext.react").MWPReplyContext),i=g.clearReply,m=c("useAsyncReStore")(),n=c("useLSMessagingSource")(),o=c("useMAWSendSecureTextMessage")(),p=c("useMAWSendSecureLinkXMAMessage")(e),q=c("useMAWDeleteLinkPreviewXMATableData")(e),r=c("useMAWSendSecureGifAttachmentMessage")(),s=c("useMAWSendSecureStagedMediaAttachmentMessage")(),t=c("useMAWSendSecureStickerAttachmentMessage")(),u=c("useMAWSendSecureVoiceClipAttachmentMessage")(),v=c("useMWLSUnarchiveThread")(),w=c("useMAWUpdateThreadCapabilities")();return d("Int64Hooks").useCallbackInt64(function(){var e=b("asyncToGeneratorRuntime").asyncToGenerator(function*(e){var g=e.composerEntrypointForLogging,l=e.currentDraftId,x=e.externalAttachmentUrl,y=e.hotEmojiSize,z=e.lssTraceApi,A=e.mediaStagings,B=e.mentionedJids,C=e.messageExternalId,D=e.messageText,E=e.messageTypeParams,F=e.reply,G=e.s2sInstanceKey,H=e.stickerId,I=e.thread;e=e.voiceClip;yield d("WALoggerDeferred").logWithTags(["MAWSendSecureMessageV2","Composer"],["Starting message send"],"LOG");d("sendToSentQPLLogger").markSendToSentPoint(G,"send_secure_message_start");z.addMarkerPoint("send_secure_message_started","AppTiming");var J=(yield m),K=d("LSMessagingThreadTypeUtil").isMessageRequest(I),L=(j||(j=d("I64"))).equal(I.parentThreadKey,(k||(k=d("LSIntEnum"))).ofNumber(-10)),M=d("LSThreadAttributionTypeUtil").getSource(I.threadKey,n);d("MWSharedMsgLogUtils").addSendMessageMetadataForInteractionTrace(z,E,I,g);g=function(a){d("MWLSLogSend").logSentHeroInteraction(z,a,{isMessageRequest:K,mwVersion:d("MWVersion").v2,source:(k||(k=d("LSIntEnum"))).unwrapIntEnum(M),threadType:I.threadType}),d("sendToSentQPLLogger").markSendToSentPoint(G,"offline_msg_id_generated")};var N=[],O=E.hasAttachment,P=E.hasLinks;D!=null&&D!==""&&(P?(N.push(p(J,{currentDraftId:l,lssTraceApi:z,mentionedJids:B,messageExternalId:C,messageText:D,onGenerateOfflineMsgId:O?void 0:g,reply:F,s2sInstanceKey:G,thread:I,threadKey:I.threadKey}).then(function(a){l!=null&&void q({draftId:l});return a})),d("sendToSentQPLLogger").markSendToSentPoint(G,"link_xma_message_promise_pushed_to_send_promises")):(N.push(o(J,{hotEmojiSize:y,lssTraceApi:z,mentionedJids:B,messageExternalId:C,messageText:D,onGenerateOfflineMsgId:O?void 0:g,reply:F,s2sInstanceKey:G,thread:I})),d("sendToSentQPLLogger").markSendToSentPoint(G,"text_message_promise_pushed_to_send_promises")));y=!0;O&&(H!=null&&x!=null?(N.push(t({externalAttachmentUrl:x,lssTraceApi:z,messageExternalId:C,onGenerateOfflineMsgId:g,reply:F,s2sInstanceKey:G,thread:I})),d("sendToSentQPLLogger").markSendToSentPoint(G,"sticker_message_promise_pushed_to_send_promises"),y=!1):x!=null?(N.push(r({externalAttachmentUrl:x,lssTraceApi:z,messageExternalId:C,onGenerateOfflineMsgId:g,reply:F,s2sInstanceKey:G,thread:I})),y=!1):e!=null?(N.push(u({lssTraceApi:z,messageExternalId:C,onGenerateOfflineMsgId:g,reply:F,s2sInstanceKey:G,thread:I,voiceClip:e})),d("sendToSentQPLLogger").markSendToSentPoint(G,"voice_clip_message_promise_pushed_to_send_promises"),y=!1):A.length>0?(N.push(s({lssTraceApi:z,mediaStagings:A,messageTypeParams:E,onGenerateOfflineMsgId:g,reply:F,s2sInstanceKey:G,thread:I})),d("sendToSentQPLLogger").markSendToSentPoint(G,"staged_media_message_promise_pushed_to_send_promises")):(d("sendToSentQPLLogger").markSendToSentPoint(G,"no_send_promises_pushed_to_send_promises"),c("FBLogger")("messenger_web_media").mustfix("Unable to send attachment in useMAWSendSecureMessageV2Impl: incorrect params")));y&&a();i(I.threadKey,!1);d("sendToSentQPLLogger").markSendToSentPoint(G,"attachment_and_reply_data_cleared");N.length===0?(d("sendToSentQPLLogger").markSendToSentPoint(G,"create_send_promises_fail"),N.push(new(h||(h=b("Promise")))(function(a,b){b(c("err")("No send actions taken because hasAttachment="+O.toString()))}))):d("sendToSentQPLLogger").markSendToSentPoint(G,"create_send_promises_end",void 0,{"int":{send_promise_count:N.length}});d("sendToSentQPLLogger").markSendToSentPoint(G,"resolve_send_promises_start");(N.length>1||A.length>1)&&d("MWPBumpEntityKey").bumpEntityKeyWithAppId("mw_message_send","send:"+N.length+".media:"+A.length);return(h||(h=b("Promise"))).all(N).then(function(a){return a.flat(1)}).then(function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){d("sendToSentQPLLogger").markSendToSentPoint(G,"resolve_send_promises_end");if(D!=null&&D!==""&&P)if(d("MAWMessageSendReporterV2").isMessageSendReporterV2Enabled())return a;else d("sendToSentQPLLogger").markSendToSentSuccess(G);yield d("WALoggerDeferred").logWithTags(["MAWSendSecureMessageV2","Composer"],["Send message is done"],"LOG");if(c("gkx")("8412")){var b;b=d("LSContactListConversionAttributionStore").getAttribution((j||(j=d("I64"))).to_string(I.threadKey),j.to_string((b=I.consistentThreadFbid)!=null?b:(j||(j=d("I64"))).zero));if(b!=null){d("MessengerClickImpressionEventsLoggerImpl").logConversionClickEvent(b);d("LSContactListConversionAttributionStore").resetAttribution((j||(j=d("I64"))).to_string(I.threadKey),j.to_string((b=I.consistentThreadFbid)!=null?b:(j||(j=d("I64"))).zero))}}d("MAWOptimisticUpdateContactRelationship").call(I,J,f);yield w(I);K&&d("MessageRequestsLog").logActionConfirmed(I,1);L&&v(I.threadKey);b=a==null?void 0:a.find(function(a){return(a==null?void 0:a.success)===!1});d("sendToSentQPLLogger").markSendToSentPoint(G,"send_attachment_end");return b!=null?[b]:a});return function(b){return a.apply(this,arguments)}}())["catch"](function(a){d("MAWMessageSendReporterV2").isMessageSendReporterV2Enabled()||d("sendToSentQPLLogger").markSendToSentFail(G,"message_send_fail",a);if(a instanceof Error){var b;c("FBLogger")("messenger_web_messaging").catching(a).addMetadata("MESSENGER_E2EE_WEB","ERROR_MESSAGE","hasAttachment: "+O.toString()).mustfix("Failed while sending %s secure messages in useMAWSendSecureMessageV2Impl: %s",N.length,(b=a.message)!=null?b:String(a))}else c("FBLogger")("messenger_web_messaging").addMetadata("MESSENGER_E2EE_WEB","ERROR_MESSAGE","hasAttachment: "+O.toString()).mustfix("Failed while sending secure message in useMAWSendSecureMessageV2Impl, %s",a.message);throw a})});return function(a){return e.apply(this,arguments)}}(),[m,n,i,f,w,p,q,o,t,r,u,s,a,v])}g["default"]=a}),98);
__d("useMAWSendSecureMessageV2",["I64","LSIntEnum","LSThreadAttributionTypeUtil","MAWExternalId","MAWJids","MAWMediaGalleryM2Utils","MAWMessageSendReporterV2","MWPReplyContext.react","MWPreloadableQueries","MWSharedMsgLogUtils","MWV2ComposerActionsContext.react","ReQL","WALoggerDeferred","asyncToGeneratorRuntime","getMWIsDefaultHotlikeStickerId","justknobx","promiseDone","qpl","react","sendToSentQPLLogger","unrecoverableViolation","useAsyncReStore","useCometInteractionTracing","useIsSecureMessageData","useLSMessagingSource","useMAWSendSecureMessageV2Impl"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=(h||d("react")).useContext;function a(a,e,f){var g=k(d("MWPReplyContext.react").MWPReplyContext),h=g.reply,l=c("useIsSecureMessageData")({messageId:h==null?void 0:h.messageId,messageThreadKey:h==null?void 0:h.threadKey,messageTimestamp:h==null?void 0:h.timestampMs},{fallbackThreadType:a.threadType});g=k(d("MWV2ComposerActionsContext.react").MWV2ComposerActionsContext);var m=g.onMessageSendAttempt,n=c("useMAWSendSecureMessageV2Impl")(f,a.threadType),o=c("useCometInteractionTracing")(c("qpl")._(30605384,"573"),"fast","INTERACTION",void 0),p=c("useAsyncReStore")(),q=c("useLSMessagingSource")();return function(f,g,k,r,s,t,u,v,w,x,y,z,A,B,C,D){c("promiseDone")(d("WALoggerDeferred").logWithTags(["Composer"],["Calling useMAWSendSecureMessageV2"],"LOG"));var E=g==null?void 0:g.map(function(a){return d("MAWJids").toUserJid(a.id)}),F=f;k!=null&&c("getMWIsDefaultHotlikeStickerId")((i||(i=d("I64"))).to_string(k))&&(F="\ud83d\udc4d");var G=d("MAWExternalId").generateExternalId();c("promiseDone")(p,function(g){m==null?void 0:m(!0),o(function(i){var m=function(b,f,g){return n({composerEntrypointForLogging:D,currentDraftId:C,externalAttachmentUrl:t,hotEmojiSize:r,lssTraceApi:i,mediaStagings:g,mentionedJids:E,messageExternalId:G,messageText:F,messageTypeParams:f,reply:l?h:void 0,s2sInstanceKey:b,stickerId:k,thread:a,voiceClip:v}).then(function(a){var b=a.some(function(a){return(a==null?void 0:a.success)===!1});b||(e(),c("justknobx")._("2486")&&(x&&x()));return a})["catch"](function(a){d("MAWMessageSendReporterV2").isMessageSendReporterV2Enabled()||d("sendToSentQPLLogger").markSendToSentFail(b,"message_send_fail",a);i.failTrace(a,!0);throw c("unrecoverableViolation")("Encountered failure during Armadillo Message Send (UI)","messenger_web_messaging",{error:a})})};if(d("MAWMessageSendReporterV2").isMessageSendReporterV2Enabled())c("promiseDone")(d("MAWMessageSendReporterV2").MAWMessageSendReporterV2({composerEntrypoint:D,externalId:G,extraAnnotations:{bool:{is_media_gallery_restore_enabled:d("MAWMediaGalleryM2Utils").isMediaGalleryM2Enabled()}},lsSource:q,messageTypeParamsArgs:{externalAttachmentUrl:t,hotEmojiSize:r,messageText:f,reply:h,stickerId:k,voiceClip:v},thread:a},m,g));else{var o=d("sendToSentQPLLogger").markSendToSentStart();d("sendToSentQPLLogger").addSendToSentAnnotations(o,{bool:{is_media_gallery_restore_enabled:d("MAWMediaGalleryM2Utils").isMediaGalleryM2Enabled()}});c("promiseDone")(d("sendToSentQPLLogger").measureSendToSentPerformance("get_media_staging_query",o,function(){return d("ReQL").toArrayAsync(d("MWPreloadableQueries").getMediaStagingQuery(g,a.threadKey))}),function(){var c=b("asyncToGeneratorRuntime").asyncToGenerator(function*(b){var c=d("MWSharedMsgLogUtils").getMessageTypeParams({externalAttachmentUrl:t,hotEmojiSize:r,mediaStagings:b,messageText:f,reply:h,stickerId:k,threadType:a.threadType,voiceClip:v}),e=d("LSThreadAttributionTypeUtil").getSource(a.threadKey,q);d("sendToSentQPLLogger").addSendToSentAnnotations(o,yield d("MWSharedMsgLogUtils").getSendToSentAnnotations(a,c,(j||(j=d("LSIntEnum"))).unwrapIntEnum(e),D));return m(o,c,b)});return function(a){return c.apply(this,arguments)}}())}})})}}g["default"]=a}),98);
__d("useMWAddParticipantDialog",["JSResourceForInteraction","LSIntEnum","LSMessagingThreadTypeUtil","MWLSDatabaseLazySync","promiseDone","useMWXLazyDialog"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a,b){var e=d("MWLSDatabaseLazySync").useSync((h||(h=d("LSIntEnum"))).ofNumber(7)),f=c("useMWXLazyDialog")(c("JSResourceForInteraction")("MWAddParticipantOpenDialog.react").__setRef("useMWAddParticipantDialog")),g=f[0];f=c("useMWXLazyDialog")(c("JSResourceForInteraction")("MAWAddParticipantSecureDialog.react").__setRef("useMWAddParticipantDialog"));var i=f[0];return function(){c("promiseDone")(e());var f=d("LSMessagingThreadTypeUtil").isArmadilloSecure(b);f?i({threadKey:a}):g({threadKey:a})}}g["default"]=a}),98);
__d("useMWCMEditChatInfoDialogEntrypoint",["GroupsCometChatEditChatDialog.entrypoint","I64","MWXCardedDialogLoadingState.react","react","useMWXEntryPointDialog"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=h||d("react");function a(a,b){a=c("useMWXEntryPointDialog")(c("GroupsCometChatEditChatDialog.entrypoint"),{threadID:(i||(i=d("I64"))).to_string(a)},void 0,function(){return j.jsx(c("MWXCardedDialogLoadingState.react"),{})});var e=a[0];return function(){return e({enableEditNameOrDescription:!0,entryPoint:b})}}g["default"]=a}),98);
__d("useMWComposerEmojiTransform",["react","requireDeferred","useDeferredModuleOnReady"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).useEffect,j=c("requireDeferred")("getUpgradedCometEmojiComposerHandler").__setRef("useMWComposerEmojiTransform");function a(a){var b=c("useDeferredModuleOnReady")(j);i(function(){return b==null?void 0:b(a,16)},[a,b])}g["default"]=a}),98);
__d("useMWComposerPersistentMenuItemSelect",["react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).useCallback;function a(a){var b=a.composerEntrypointForLogging,c=a.onSendMessage;return i(function(a){var d=a.id;a=a.title;return c(a,void 0,void 0,void 0,void 0,void 0,void 0,void 0,d,void 0,void 0,void 0,void 0,void 0,void 0,b)},[c,b])}g["default"]=a}),98);
__d("useMWCutoverComposerConfiguration",["JSResourceForInteraction","LSMessagingThreadTypeUtil","MWBlockedComposerLogging","cr:13127","lazyLoadComponent","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react")),j=h.useState,k=c("lazyLoadComponent")(c("JSResourceForInteraction")("MWCutoverComposer.react").__setRef("useMWCutoverComposerConfiguration")),l=c("lazyLoadComponent")(c("JSResourceForInteraction")("MWOnDemandCutoverComposer.react").__setRef("useMWCutoverComposerConfiguration")),m=c("lazyLoadComponent")(c("JSResourceForInteraction")("MWDualThreadCutoverComposer.react").__setRef("useMWCutoverComposerConfiguration"));function a(a,c,e,f,g,h){var n=j(!1),o=n[0];n=n[1];var p=b("cr:13127")(a);if((h||g||p||o)&&(!d("LSMessagingThreadTypeUtil").isOneToOne(c)||e!=null))if(f)return i.jsx(m,{otherUser:e,thread:{threadKey:a}});else if(p||o)return i.jsx(l,{isODCutoverNavigationInProgress:o,reason:d("MWBlockedComposerLogging").ComposerBlockingReason.ON_DEMAND_CUTOVER,setIsODCutoverNavigationInProgress:n,thread:{threadKey:a}});else return i.jsx(k,{reason:e!=null?d("MWBlockedComposerLogging").ComposerBlockingReason.ARMADILLO_THREAD_ALREADY_CUTOVER:d("MWBlockedComposerLogging").ComposerBlockingReason.ARMADILLO_GROUP_THREAD_CUTOVER,thread:{threadKey:a}})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("useMWMediaManagerUploadFailedToast",["mwPushToast","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).useCallback;function a(){return i(function(a,b){d("mwPushToast").mwPushErrorToast({body:b,title:a})},[])}g["default"]=a}),98);
__d("useMWMediaManager",["MWMediaManager","MWMediaManagerFileSizeLimit","justknobx","useMWMediaManagerUploadFailedToast"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=a.onUploadFailure;a=a.thread;var e=c("useMWMediaManagerUploadFailedToast")(),f=c("justknobx")._("2538");return d("MWMediaManager").useMediaManager({getMaxAttachmentSizeInMB:function(a,b){return d("MWMediaManagerFileSizeLimit").getMWMaxAttachmentSizeInMB(b)},maxNumberOfAttachments:f,onUploadFailure:b,showUploadFailureToast:e,thread:a})}g["default"]=a}),98);
__d("useOnTypingStateChanged",["I64","Int64Hooks","LSAuthorityLevel","LSContactBlockedByViewerStatus","LSFactory","LSIntEnum","LSMessagingThreadTypeUtil","LSSendTypingIndicatorStoredProcedure","LSTypingIndicatorSettingState","MWPActor.react","MessengerWebUXLogger","Promise","ReQL","asyncToGeneratorRuntime","mwCMIsAnyCMThread","promiseDone","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k;function l(a,b,c,d){return m.apply(this,arguments)}function m(){m=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,e,f,g){if((j||(j=d("I64"))).equal(f,(k||(k=d("LSIntEnum"))).ofNumber(1))&&!(j||(j=d("I64"))).equal(e,g)){e=(yield (i||(i=b("Promise"))).all([d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.tables.threads,["typingIndicatorDisabled"]).getKeyRange(e)),d("ReQL").firstAsync(d("ReQL").mergeJoin(d("ReQL").fromTableAscending(a.tables.participants).getKeyRange(e),d("ReQL").fromTableAscending(a.tables.contacts.index("blockedByViewerStatusId")).getKeyRange((k||(k=d("LSIntEnum"))).ofNumber(c("LSContactBlockedByViewerStatus").UNBLOCKED))).filter(function(a){var b=a[0];a[1];return!(j||(j=d("I64"))).equal(b.contactId,g)}))]));a=e[0];e=e[1];a=a==null?void 0:a.typingIndicatorDisabled;a=a!=null?(j||(j=d("I64"))).equal((k||(k=d("LSIntEnum"))).ofNumber(c("LSTypingIndicatorSettingState").DISABLED),a):!1;return e!=null&&!a}else return!c("mwCMIsAnyCMThread")(f)});return m.apply(this,arguments)}function a(a){var b=(h||(h=c("useReStore")))(),e=d("MWPActor.react").useActor(),g=c("MessengerWebUXLogger").useInteractionLogger();return d("Int64Hooks").useCallbackInt64(function(h){if(!(j||(j=d("I64"))).ge(a.authorityLevel,(k||(k=d("LSIntEnum"))).ofNumber(c("LSAuthorityLevel").AUTHORITATIVE)))return;c("promiseDone")(l(b,a.threadKey,a.threadType,e).then(function(e){if(e){g==null?void 0:g({eventName:"send_typing_indicators",threadKey:a.threadKey,threadType:a.threadType});return b.runInTransaction(function(b){return c("LSSendTypingIndicatorStoredProcedure")(c("LSFactory")(b),{isGroupThread:d("LSMessagingThreadTypeUtil").isGroup(a.threadType),isTyping:h,threadKey:a.threadKey})},"readwrite",void 0,void 0,f.id+":134")}}))},[a.authorityLevel,a.threadKey,a.threadType,b,e,g])}g["default"]=a}),98);
__d("useMWOnTypingStateChanged",["MWChatViewerChatVisibilityHook","react","useOnTypingStateChanged"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).useMemo,j=function(a){return void 0};function a(a){var b=c("useOnTypingStateChanged")(a),e=d("MWChatViewerChatVisibilityHook").useViewerChatVisibility();return i(function(){return e?b:j},[b,e])}g["default"]=a}),98);
__d("useMWPAdultMinorRestrictionLogging",["I64","LSContactReachabilityStatusType","LSIntEnum","LSMessagingThreadTypeUtil","MwbActorExperienceEventFalcoEvent","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=(h||d("react")).useEffect;function l(a){var b=d("LSMessagingThreadTypeUtil").isArmadilloSecure(a),c=d("LSMessagingThreadTypeUtil").isOneToOne(a);a=d("LSMessagingThreadTypeUtil").isGroup(a);if(c)return b?"messenger_encrypted_direct_thread":"messenger_direct_thread_details";return a?b?"messenger_encrypted_group_thread":"messenger_group_thread_details":"unknown"}function m(a){switch(a){case c("LSContactReachabilityStatusType").UNREACHABLE_USER_TYPE:return 12;case c("LSContactReachabilityStatusType").UNREACHABLE_ADULT_TYPE:return 21;default:return 0}}var n=function(a){return a?(i||(i=d("LSIntEnum"))).toNumber(a):c("LSContactReachabilityStatusType").REACHABLE};function a(a,b){var e=n(b),f=l(a),g=(j||(j=d("I64"))).to_string(a);k(function(){e!==c("LSContactReachabilityStatusType").REACHABLE&&e!==c("LSContactReachabilityStatusType").REACHABLE_INVITE_BANNER&&e!==c("LSContactReachabilityStatusType").REACHABLE_INVITE_MODEL_TEXT_ONLY&&c("MwbActorExperienceEventFalcoEvent").log(function(){return{action:1,restriction_type:m(e),surface:f,thread_id:g}})},[g,e,f])}g["default"]=a}),98);
__d("useMWPComposerFileDropzoneRegisterHandler",["MWV2FileDropzone.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");var i=b.useContext,j=b.useEffect;function a(a){var b=i(d("MWV2FileDropzone.react").mWV2FileDropzoneContext);j(function(){if(a){b.current.enabled=!1;b.current.handler=null;return function(){b.current.enabled=!0,b.current.handler=null}}},[b,a])}g["default"]=a}),98);
__d("useMWPDisablePageComposerConfiguration",["MWV2DisabledPageComposer.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){if(a.disableComposerInput&&a.hasPersistentMenu)return i.jsx(c("MWV2DisabledPageComposer.react"),{threadKey:a.threadKey})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("useMWPFeatureLimitsBlockedComposerConfiguration",["MWPFeatureLimitsBlockedComposer.react","isFeatureLimitEnabled","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a,b,d){b=b&&(!a||c("isFeatureLimitEnabled")());if(b)return i.jsx(c("MWPFeatureLimitsBlockedComposer.react"),{thread:d})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("useMWPNullComposerConfiguration",["I64","LSNullstateCTAType","MWBlockedComposerLogging","MWPreloadedText","justknobx","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=h||(h=d("react")),k=h.useContext;function l(a){var b=a.reason;a=a.threadKey;d("MWBlockedComposerLogging").useLogMWBlockedComposerReason(a,b);return null}l.displayName=l.name+" [from "+f.id+"]";function a(a,b,e,f){var g=k(c("MWPreloadedText"));f=f!=null&&(i||(i=d("I64"))).equal(f,(i||(i=d("I64"))).of_float(c("LSNullstateCTAType").GET_STARTED))&&!g.text;g=!(i||(i=d("I64"))).equal(b,i.zero);b=c("justknobx")._("926");if(f&&!g||!b&&e)return j.jsx(l,{reason:e?d("MWBlockedComposerLogging").ComposerBlockingReason.GAMING_GAME_BOT:d("MWBlockedComposerLogging").ComposerBlockingReason.GAMING_GET_STARTED_CTA,threadKey:a})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("useMWPShouldShowRestrictedComposer",["LSMessagingThreadTypeUtil"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){return d("LSMessagingThreadTypeUtil").isOneToOne(a)&&b}g["default"]=a}),98);
__d("useMWProactiveWarningPayloadMemo",["I64","Int64Hooks"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a){var b=a.banner,c=a.ignoreDismissTime,e=a.isPWDismissTimeSet,f=a.pwSettings,g=a.threadKey;return d("Int64Hooks").useMemoInt64(function(){if(f==null||b==null)return;var a=f.context,i=f.entryPoint,j=f.storyLocation,k=f.suspectId,l=f.tag,m=b.bannerId,n=b.cta1Title,o=b.cta2Title,p=b.heading,q=b.titleSectionOne;if(!((Boolean(c)||e)&&(h||(h=d("I64"))).equal(m,(h||(h=d("I64"))).of_string("7"))))return;if(k!=null&&a!=null&&j!=null&&i!=null&&l!=null&&p!=null&&o!=null&&n!=null&&q!=null)return{context:a,cta1Title:n,cta2Title:o,description:q,falco_event_data:{data:{entry_point:(h||(h=d("I64"))).to_int32(i),feedback_tags:[l],surface:h.to_int32(j)},impersonatedUser:{id:"0"},otherUser:{id:h.to_string(k)},reportedUser:{id:"0"},thread:{id:h.to_string(g),type:1}},header:p,threadKey:g}},[g,b,f,e,c])}g["default"]=a}),98);
__d("useMWToggleHDMedia",["LSFactory","LSUpdateE2eeHdMediaSettings","promiseDone","react","useAsyncReStore","useDebouncedComet","useMWIsHDMediaEnabled"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).useCallback,j=1e3;function a(a){var b=c("useMWIsHDMediaEnabled")(!1),d=!b,e=c("useAsyncReStore")();b=i(function(){c("promiseDone")(e,function(a){return a.runInTransaction(function(a){return c("LSUpdateE2eeHdMediaSettings")(d,c("LSFactory")(a))},"readwrite",void 0,void 0,f.id+":33")}),a(d)},[e,d,a]);b=c("useDebouncedComet")(b,{leading:!0,wait:j});return b}g["default"]=a}),98);
__d("useMWV2ChatHotlikeButton",["I64","LSHotEmojiSize","LSIntEnum","MWV2ChatHotlikeButtonAnimation.react","MessengerWebUXLogger","QPLUserFlow","StickerConstants","clearTimeout","gkx","isStringNullOrEmpty","qpl","react","requireDeferred","setTimeout","useDebouncedComet"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j;b=h||d("react");var k=b.useCallback,l=b.useEffect,m=b.useRef,n=b.useState,o=c("requireDeferred")("MWV2ChatHotlikeSounds").__setRef("useMWV2ChatHotlikeButton"),p=500,q=50,r=(e={},e[c("LSHotEmojiSize").NONE]=(i||(i=d("I64"))).of_string(c("StickerConstants").HOT_LIKE_SMALL_STICKER_ID),e[c("LSHotEmojiSize").SMALL]=i.of_string(c("StickerConstants").HOT_LIKE_SMALL_STICKER_ID),e[c("LSHotEmojiSize").MEDIUM]=i.of_string(c("StickerConstants").HOT_LIKE_MEDIUM_STICKER_ID),e[c("LSHotEmojiSize").LARGE]=i.of_string(c("StickerConstants").HOT_LIKE_LARGE_STICKER_ID),e);function s(a){if(a<=d("MWV2ChatHotlikeButtonAnimation.react").EMOJI_SIZE_PERCENTAGE_THRESHOLDS.small)return c("LSHotEmojiSize").SMALL;else if(a<=d("MWV2ChatHotlikeButtonAnimation.react").EMOJI_SIZE_PERCENTAGE_THRESHOLDS.medium)return c("LSHotEmojiSize").MEDIUM;else return c("LSHotEmojiSize").LARGE}function t(){o.onReadyImmediately(function(a){return a.start()})}function u(){o.onReadyImmediately(function(a){return a.pop()})}function v(a){o.onReadyImmediately(function(b){return b.snap(a)})}function a(a,b,e,f){var g=c("isStringNullOrEmpty")(a),h=n(!1),i=h[0],o=h[1],w=m(null),x=m(null),y=m(!1),z=c("MessengerWebUXLogger").useInteractionLogger(),A=k(function(a){z==null?void 0:z({eventName:g?"send_hot_like":"send_hot_emoji",extraData:{size:a.toString()},threadType:e})},[g,z,e]);h=k(function(c){!g?b(a,void 0,void 0,(j||(j=d("LSIntEnum"))).ofNumber(c),void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,f):b(void 0,void 0,r[c],(j||(j=d("LSIntEnum"))).ofNumber(c),void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,f),A(c)},[a,g,A,b,f]);var B=c("useDebouncedComet")(h,{leading:!0,wait:q}),C=function(){c("clearTimeout")(w.current),w.current=null};l(function(){return function(){C()}},[]);var D=function(){return y.current===!0&&(!i||w.current==null)};h=function(){y.current===!0&&(c("QPLUserFlow").endCancel(c("qpl")._(25311430,"2261"),{annotations:{string:{reason:"hover-out"}}}),u()),y.current=!1,o(!1),C()};var E=function(){if(c("gkx")("23249"))return;c("QPLUserFlow").start(c("qpl")._(25311430,"2261"));y.current=!0;o(!0);t();w.current=c("setTimeout")(function(){u(),o(!1),w.current=null,c("QPLUserFlow").endCancel(c("qpl")._(25311430,"2261"),{annotations:{string:{reason:"long-press-pop"}}})},d("MWV2ChatHotlikeButtonAnimation.react").TOTAL_GROW_ANIMATION_TIME_MS+p)},F=k(function(){var a;a=(a=x.current)==null?void 0:a.getAnimations()[0];a=a==null?void 0:a.currentTime;return a!=null?a/d("MWV2ChatHotlikeButtonAnimation.react").TOTAL_GROW_ANIMATION_TIME_MS:0},[]),G=function(){if(c("gkx")("23249")){B(c("LSHotEmojiSize").SMALL);return}if(D()){y.current=!1;return}C();o(!1);y.current=!1;var a=F();a=s(a);v(a);B(a);c("QPLUserFlow").endSuccess(c("qpl")._(25311430,"2261"),{annotations:{bool:{isDefaultLike:g},"int":{size:a}}})};return{animationsContainerRef:x,handleHoverOut:h,handleOnPress:G,handlePressIn:E,shouldShowGrowAnimation:i}}g["default"]=a}),98);
__d("useMWV2ComposerOnPressVoiceClip",["$InternalEnum","JSResourceForInteraction","WAGetMediaDevicesSupportedConstraints","emptyFunction","react","requireDeferred","useMWXLazyDialog"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).useState,j=c("requireDeferred")("MWChatAudioLog").__setRef("useMWV2ComposerOnPressVoiceClip"),k=b("$InternalEnum").Mirrored(["AWAITING","GRANTED","DENIED","FAILED"]);function a(a){var b=i(k.AWAITING),e=b[0],f=b[1];b=c("useMWXLazyDialog")(c("JSResourceForInteraction")("MWChatAudioRecorderPermissionsDialog.react").__setRef("useMWV2ComposerOnPressVoiceClip"));var g=b[0],h={channelCount:1};b=((b=d("WAGetMediaDevicesSupportedConstraints").getMediaDevicesSupportedConstraints())==null?void 0:b.sampleRate)===!0;b&&(h.sampleRate=44100);var l=function(){return g({contentType:"accessDenied",onAllow:c("emptyFunction")},c("emptyFunction"))},m=function(){var b;(b=navigator)==null?void 0:(b=b.mediaDevices)==null?void 0:b.getUserMedia({audio:h,video:!1}).then(function(b){f(k.GRANTED),a.start(b)})["catch"](function(a){a.name==="NotAllowedError"?(f(k.DENIED),l()):f(k.FAILED),j.onReady(function(a){return a.logBrowserDenyAccess()})})},n=function(){return g({contentType:"askForAccess",onAllow:function(){return m()}},c("emptyFunction"))};return function(){var a;switch(e){case k.AWAITING:a=(a=navigator.permissions)==null?void 0:a.query({name:"microphone"});a!=null?a.then(function(a){a=a.state;switch(a){case"denied":f(k.DENIED);l();break;case"granted":m();break;case"prompt":n();break;default:n()}})["catch"](function(){n()}):(m(),j.onReady(function(a){return a.logMicAccessCheckFailed()}));return;case k.DENIED:return l();case k.GRANTED:case k.FAILED:return m()}}}g["default"]=a}),98);
__d("useMWXComposerClearAndSendOnEnter",["Lexical","MLCKeyBindingUtil","gkx","justknobx","react"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");var i=b.useCallback,j=b.useInsertionEffect,k=b.useLayoutEffect,l=b.useRef;function a(a,b){var e=a.clearReplyState,f=a.editor,g=a.onSend,h=l(b);j(function(){h.current=b},[b]);var m=i(function(){var a=g(h.current);e==null?void 0:e();(a||!c("justknobx")._("2597"))&&f.dispatchCommand(d("Lexical").CLEAR_EDITOR_COMMAND)},[g,e,f]);k(function(){return f.registerCommand(d("Lexical").KEY_ENTER_COMMAND,function(a){if(a!=null&&!a.shiftKey&&!a.altKey&&(!c("gkx")("23402")||d("MLCKeyBindingUtil").hasCommandModifier(a))){a.preventDefault();m();return!0}return!1},d("Lexical").COMMAND_PRIORITY_LOW)},[f,m]);return{onSend:m}}g["default"]=a}),98);
__d("useMWXComposerMaybeShowHDMediaNuxQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="9552138191486161"}),null);
__d("useMWXComposerMaybeShowHDMediaNuxQuery.graphql",["useMWXComposerMaybeShowHDMediaNuxQuery_facebookRelayOperation","relay-runtime"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{kind:"Literal",name:"surface_nux_id",value:8879},{kind:"Literal",name:"trigger",value:"MESSENGER_INTERSTITIAL"}],c=[{kind:"Literal",name:"supported",value:"4BtD9E"}],d={kind:"InlineFragment",selections:[{args:null,documentName:"useMWXComposerMaybeShowHDMediaNuxQuery",fragmentName:"CometQuickPromotionMessengerWebHDImageRendererStrategy_quickPromotionRef",fragmentPropName:"quickPromotionRef",kind:"ModuleImport"}],type:"CometQuickPromotionMessengerWebHDImageRendererStrategy",abstractKey:null};return{fragment:{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useMWXComposerMaybeShowHDMediaNuxQuery",selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:null,args:a,concreteType:"ViewerEligibleQuickPromotionsConnection",kind:"LinkedField",name:"eligible_promotions",plural:!1,selections:[{alias:null,args:null,concreteType:"QuickPromotion",kind:"LinkedField",name:"nodes",plural:!0,selections:[{alias:null,args:null,concreteType:"CometQuickPromotionSections",kind:"LinkedField",name:"comet_qp_sections",plural:!1,selections:[{alias:null,args:c,concreteType:null,kind:"LinkedField",name:"renderer_strategy",plural:!1,selections:[d],storageKey:'renderer_strategy(supported:"4BtD9E")'}],storageKey:null}],storageKey:null}],storageKey:'eligible_promotions(surface_nux_id:8879,trigger:"MESSENGER_INTERSTITIAL")'}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[],kind:"Operation",name:"useMWXComposerMaybeShowHDMediaNuxQuery",selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:null,args:a,concreteType:"ViewerEligibleQuickPromotionsConnection",kind:"LinkedField",name:"eligible_promotions",plural:!1,selections:[{alias:null,args:null,concreteType:"QuickPromotion",kind:"LinkedField",name:"nodes",plural:!0,selections:[{alias:null,args:null,concreteType:"CometQuickPromotionSections",kind:"LinkedField",name:"comet_qp_sections",plural:!1,selections:[{alias:null,args:c,concreteType:null,kind:"LinkedField",name:"renderer_strategy",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},d],storageKey:'renderer_strategy(supported:"4BtD9E")'}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null}],storageKey:'eligible_promotions(surface_nux_id:8879,trigger:"MESSENGER_INTERSTITIAL")'}],storageKey:null}]},params:{id:b("useMWXComposerMaybeShowHDMediaNuxQuery_facebookRelayOperation"),metadata:{},name:"useMWXComposerMaybeShowHDMediaNuxQuery",operationKind:"query",text:null}}}();b("relay-runtime").PreloadableQueryRegistry.set(a.params.id,a);e.exports=a}),null);
__d("useMWXComposerMaybeShowHDMediaNux",["CometRelay","JSResourceForInteraction","promiseDone","react","useMWXComposerMaybeShowHDMediaNuxQuery.graphql","useMWXLazyDialog"],(function(a,b,c,d,e,f,g){"use strict";var h,i;e=i||d("react");var j=e.useEffect,k=e.useState,l=c("JSResourceForInteraction")("MAWThreadComposerNUXQuickPromotion.react").__setRef("useMWXComposerMaybeShowHDMediaNux"),m=h!==void 0?h:h=b("useMWXComposerMaybeShowHDMediaNuxQuery.graphql");function a(a,b,e){var f=d("CometRelay").useRelayEnvironment(),g=k(!1),h=g[0],i=g[1];g=k(null);var n=g[0],o=g[1];g=c("useMWXLazyDialog")(l);var p=g[0];j(function(){a&&!b&&!h&&(i(!0),c("promiseDone")(d("CometRelay").fetchQuery(f,m,{},{fetchPolicy:"network-only"}).toPromise().then(function(a){o(a==null?void 0:(a=a.viewer)==null?void 0:(a=a.eligible_promotions)==null?void 0:(a=a.nodes)==null?void 0:(a=a.find(function(a){return((a=a.comet_qp_sections)==null?void 0:a.renderer_strategy)!=null}))==null?void 0:(a=a.comet_qp_sections)==null?void 0:a.renderer_strategy)})))},[h,f,b,a]);return function(){if(n!=null){p({onClosed:e,rendererStrategy:n},function(){o(null)});return!0}return!1}}g["default"]=a}),98);
__d("useMWXComposerHdMediaButton",["I64","LSIntEnum","MessagingAttachmentType","qex","react","useMWIsHDMediaEnabled","useMWToggleHDMedia","useMWXComposerMaybeShowHDMediaNux"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=(h||d("react")).useCallback;function a(a,b,e){a=a.some(function(a){return(i||(i=d("I64"))).equal(a.attachmentType,(j||(j=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").IMAGE))});b=b&&a&&c("qex")._("512")===!0;a=c("useMWIsHDMediaEnabled")(!1);var f=c("useMWToggleHDMedia")(e);e=k(function(a){a||f()},[f]);var g=c("useMWXComposerMaybeShowHDMediaNux")(b,a,e);e=k(function(){var a=g();a||f()},[g,f]);return{isHdEnabled:a,isVisible:b,onToggled:e}}g["default"]=a}),98);
__d("useMWXLexicalEditor",["CometLexicalEmojiNode","Lexical","MessengerLexicalActorNode","cometLexicalBaseTheme","cr:3101","cr:6138","useLexicalInitializeEditor__DEPRECATED","useMWPLexicalClearEditor","useStable"],(function(a,b,c,d,e,f,g){"use strict";e=b("cr:3101")||b("cr:6138");var h=[d("MessengerLexicalActorNode").MessengerLexicalActorNode,e==null?void 0:e.MessengerLexicalCommandNode,d("CometLexicalEmojiNode").EmojiNode];function a(){var a=c("useStable")(function(){return d("Lexical").createEditor({namespace:"MWPEditor",nodes:h.filter(Boolean),onError:function(){},theme:babelHelpers["extends"]({},c("cometLexicalBaseTheme"),{paragraph:"xat24cr xdj266r"})})});c("useMWPLexicalClearEditor")(a);c("useLexicalInitializeEditor__DEPRECATED")(a);return{editor:a}}g.useMWXLexicalEditor=a}),98);
__d("useMessageRequestDeleteConversation",["Int64Hooks","LSFactory","LSIntEnum","LSOptimisticRemoveThreadStoredProcedure","LSThreadRemoveType","MWChatStateActions","MWChatStateV2.react","MessageRequestsLog","promiseDone","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function a(a){var b=(i||(i=c("useReStore")))(),e=d("MWChatStateV2.react").useDispatch();return d("Int64Hooks").useCallbackInt64(function(){d("MessageRequestsLog").logActionConfirmed(a,8),c("promiseDone")(b.runInTransaction(function(b){return c("LSOptimisticRemoveThreadStoredProcedure")(c("LSFactory")(b),{removeType:(h||(h=d("LSIntEnum"))).ofNumber(c("LSThreadRemoveType").DELETE_THREAD),threadKey:a.threadKey})},"readwrite",void 0,void 0,f.id+":42"),function(){return e(d("MWChatStateActions").closeTabByThreadKey(Date.now(),a.threadKey))})},[b,a,e])}g["default"]=a}),98);
__d("useMessageRequestLeaveGroup",["Int64Hooks","LSFactory","LSOptimisticRemoveParticipantsFromGroupThreadStoredProcedure","LSVec","MWPActor.react","promiseDone","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a){var b=(h||(h=c("useReStore")))(),e=d("MWPActor.react").useActor();return d("Int64Hooks").useCallbackInt64(function(){c("promiseDone")(b.runInTransaction(function(b){return c("LSOptimisticRemoveParticipantsFromGroupThreadStoredProcedure")(c("LSFactory")(b),{contactIds:c("LSVec").ofArray([e]),threadKey:a})},"readwrite",void 0,void 0,f.id+":28"))},[e,b,a])}g["default"]=a}),98);
__d("useReactionsMAWNoop",[],(function(a,b,c,d,e,f){"use strict";function a(a,b){return[]}f["default"]=a}),66);
__d("useThreadHasCompletedEBFrontLoadingNoop",[],(function(a,b,c,d,e,f){"use strict";function a(a){return!1}f["default"]=a}),66);