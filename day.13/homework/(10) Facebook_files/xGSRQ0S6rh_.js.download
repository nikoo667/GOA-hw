;/*FB_PKG_DELIM*/

__d("ChannelShareDialogLoggingContext",["$InternalEnum"],(function(a,b,c,d,e,f){"use strict";a=b("$InternalEnum").Mirrored(["BROADCAST_CHANNEL_CREATION","THREAD_DETAILS_SHARE_ITEM","THREAD_DETAILS_QUICK_ACTION","CONTEXT_BANNER_QUICK_ACTION"]);c=a;f["default"]=c}),66);
__d("CometAccessibilityAnnouncementForDynamicContent.react",["CometAccessibilityAnnouncement.react","DocumentTranslationStatusProvider.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=d("DocumentTranslationStatusProvider.react").useTranslationKeyForTextParent();return i.createElement(c("CometAccessibilityAnnouncement.react"),babelHelpers["extends"]({},a,{key:b}))}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("CometMarketplaceConfirmMarkAsPaidDialogQuery$Parameters",["CometMarketplaceConfirmMarkAsPaidDialogQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a={kind:"PreloadableConcreteRequest",params:{id:b("CometMarketplaceConfirmMarkAsPaidDialogQuery_facebookRelayOperation"),metadata:{},name:"CometMarketplaceConfirmMarkAsPaidDialogQuery",operationKind:"query",text:null}};e.exports=a}),null);
__d("CometMarketplaceConfirmMarkAsPaidDialog.entrypoint",["CometMarketplaceConfirmMarkAsPaidDialogQuery$Parameters","JSResourceForInteraction"],(function(a,b,c,d,e,f,g){"use strict";a={getPreloadProps:function(a){return{queries:{cometMarketplaceConfirmMarkAsPaidDialogQueryReference:{parameters:c("CometMarketplaceConfirmMarkAsPaidDialogQuery$Parameters"),variables:{thread_id:a.threadId}}}}},root:c("JSResourceForInteraction")("CometMarketplaceConfirmMarkAsPaidDialog.react").__setRef("CometMarketplaceConfirmMarkAsPaidDialog.entrypoint")};g["default"]=a}),98);
__d("CometMarketplaceInboxLabelChatDialogQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="5046975135324826"}),null);
__d("CometMarketplaceInboxLabelChatDialogQuery$Parameters",["CometMarketplaceInboxLabelChatDialogQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a={kind:"PreloadableConcreteRequest",params:{id:b("CometMarketplaceInboxLabelChatDialogQuery_facebookRelayOperation"),metadata:{},name:"CometMarketplaceInboxLabelChatDialogQuery",operationKind:"query",text:null}};e.exports=a}),null);
__d("CometMarketplaceInboxLabelChatDialog.entrypoint",["CometMarketplaceInboxLabelChatDialogQuery$Parameters","JSResourceForInteraction"],(function(a,b,c,d,e,f,g){"use strict";a={getPreloadProps:function(a){return{queries:{cometMarketplaceInboxLabelChatDialogQueryReference:{parameters:c("CometMarketplaceInboxLabelChatDialogQuery$Parameters"),variables:{id:a.thread_id}}}}},root:c("JSResourceForInteraction")("CometMarketplaceInboxLabelChatDialog.react").__setRef("CometMarketplaceInboxLabelChatDialog.entrypoint")};g["default"]=a}),98);
__d("FBIconChevronDownFilled12.svg.react",["XPlatReactSVG","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){return i.jsxs(d("XPlatReactSVG").Svg,babelHelpers["extends"]({viewBox:"0 0 12 13",width:"1em",height:"1em",fill:"currentColor",title:a.title},a,{children:[a.children!=null&&i.jsx(d("XPlatReactSVG").Defs,{children:a.children}),i.jsx(d("XPlatReactSVG").G,{fillRule:"evenodd",transform:"translate(-450 -1073)",children:i.jsx(d("XPlatReactSVG").Path,{fillRule:"nonzero",d:"M453.03 1077.72a.75.75 0 0 0-1.06 1.06l3.5 3.5a.75.75 0 0 0 1.06 0l3.5-3.5a.75.75 0 0 0-1.06-1.06l-2.97 2.97-2.97-2.97z"})})]}))}a.displayName=a.name+" [from "+f.id+"]";a._isSVG=!0;b=a;g["default"]=b}),98);
__d("FBIconFriendAddFilled12.svg.react",["XPlatReactSVG","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){return i.jsxs(d("XPlatReactSVG").Svg,babelHelpers["extends"]({viewBox:"0 0 12 13",width:"1em",height:"1em",fill:"currentColor",title:a.title},a,{children:[a.children!=null&&i.jsx(d("XPlatReactSVG").Defs,{children:a.children}),i.jsx(d("XPlatReactSVG").G,{fillRule:"evenodd",transform:"translate(-450 -1073)",children:i.jsxs(d("XPlatReactSVG").G,{children:[i.jsx(d("XPlatReactSVG").Path,{d:"M105 920.25c0 1.242-.895 2.25-2 2.25s-2-1.008-2-2.25.572-2.25 2-2.25 2 1.008 2 2.25",transform:"translate(351.5 156) translate(.5)"}),i.jsx(d("XPlatReactSVG").Path,{fillRule:"nonzero",d:"M105.5 920.25c0 1.506-1.105 2.75-2.5 2.75s-2.5-1.244-2.5-2.75c0-1.638.878-2.75 2.5-2.75 1.622 0 2.5 1.112 2.5 2.75zm-1 0c0-1.13-.489-1.75-1.5-1.75-1.011 0-1.5.62-1.5 1.75 0 .979.686 1.75 1.5 1.75s1.5-.771 1.5-1.75z",transform:"translate(351.5 156) translate(.5)"}),i.jsx(d("XPlatReactSVG").Path,{d:"M106.564 929h-7.129a.938.938 0 0 1-.935-.936v-.515a3.058 3.058 0 0 1 3.049-3.049h2.902a3.058 3.058 0 0 1 3.049 3.049v.515a.938.938 0 0 1-.936.936",transform:"translate(351.5 156) translate(.5)"}),i.jsx(d("XPlatReactSVG").Path,{fillRule:"nonzero",d:"M106.564 929.5h-7.129c-.79 0-1.435-.645-1.435-1.436v-.515a3.558 3.558 0 0 1 3.549-3.549h2.902a3.558 3.558 0 0 1 3.549 3.549v.515c0 .791-.645 1.436-1.436 1.436zm0-1a.438.438 0 0 0 .436-.436v-.515c0-1.4-1.148-2.549-2.549-2.549h-2.902a2.558 2.558 0 0 0-2.55 2.549l.001.515c0 .239.197.436.435.436h7.13z",transform:"translate(351.5 156) translate(.5)"}),i.jsx(d("XPlatReactSVG").Path,{fillRule:"nonzero",d:"M107 922h3a.5.5 0 0 0 0-1h-3a.5.5 0 0 0 0 1z",transform:"translate(351.5 156)"}),i.jsx(d("XPlatReactSVG").Path,{fillRule:"nonzero",d:"M108 920v3a.5.5 0 0 0 1 0v-3a.5.5 0 0 0-1 0z",transform:"translate(351.5 156)"})]})})]}))}a.displayName=a.name+" [from "+f.id+"]";a._isSVG=!0;b=a;g["default"]=b}),98);
__d("FBIconPlusCircleFilled12.svg.react",["XPlatReactSVG","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){return i.jsxs(d("XPlatReactSVG").Svg,babelHelpers["extends"]({viewBox:"0 0 12 13",width:"1em",height:"1em",fill:"currentColor",title:a.title},a,{children:[a.children!=null&&i.jsx(d("XPlatReactSVG").Defs,{children:a.children}),i.jsx(d("XPlatReactSVG").G,{fillRule:"evenodd",transform:"translate(-450 -1073)",children:i.jsx(d("XPlatReactSVG").Path,{d:"M459 1080.25h-2.25v2.25c0 .412-.337.75-.75.75a.752.752 0 0 1-.75-.75v-2.25H453a.752.752 0 0 1-.75-.75c0-.412.337-.75.75-.75h2.25v-2.25c0-.412.337-.75.75-.75s.75.338.75.75v2.25H459c.413 0 .75.338.75.75s-.337.75-.75.75m-3-6.75c-3.308 0-6 2.691-6 6s2.692 6 6 6 6-2.691 6-6-2.692-6-6-6"})})]}))}a.displayName=a.name+" [from "+f.id+"]";a._isSVG=!0;b=a;g["default"]=b}),98);
__d("FBIconPushpinFilled12.svg.react",["XPlatReactSVG","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){return i.jsxs(d("XPlatReactSVG").Svg,babelHelpers["extends"]({viewBox:"0 0 12 13",width:"1em",height:"1em",fill:"currentColor",title:a.title},a,{children:[a.children!=null&&i.jsx(d("XPlatReactSVG").Defs,{children:a.children}),i.jsx(d("XPlatReactSVG").G,{fillRule:"evenodd",transform:"translate(-450 -1073)",children:i.jsxs(d("XPlatReactSVG").G,{children:[i.jsx(d("XPlatReactSVG").Path,{d:"m6.657 1-2.64 2.639A3.191 3.191 0 0 0 1 4.481L5.52 9a3.191 3.191 0 0 0 .84-3.018L9 3.344",transform:"translate(354 143.5) translate(96.5 931.5)"}),i.jsx(d("XPlatReactSVG").Path,{fillRule:"nonzero",d:"M3.854 3.096A3.687 3.687 0 0 0 .647 4.127a.5.5 0 0 0 0 .707l4.52 4.52a.5.5 0 0 0 .706 0 3.687 3.687 0 0 0 1.03-3.207l2.45-2.45-.706-.707-2.64 2.639a.5.5 0 0 0-.132.472c.182.748.04 1.53-.388 2.159L1.74 4.513a2.697 2.697 0 0 1 2.16-.388.5.5 0 0 0 .471-.132l2.64-2.64-.708-.707-2.45 2.45z",transform:"translate(354 143.5) translate(96.5 931.5)"}),i.jsx(d("XPlatReactSVG").Path,{d:"m105.392 935.194-2.586-2.586a1.045 1.045 0 0 1 0-1.478l.555-.553a.26.26 0 0 1 .369 0l3.693 3.693a.26.26 0 0 1 0 .37l-.553.554a1.045 1.045 0 0 1-1.478 0",transform:"translate(354 143.5)"}),i.jsx(d("XPlatReactSVG").Path,{fillRule:"nonzero",d:"m105.038 935.547-2.585-2.585a1.545 1.545 0 0 1 0-2.186l.553-.552a.76.76 0 0 1 1.077 0l3.693 3.692a.76.76 0 0 1 0 1.077l-.553.554a1.545 1.545 0 0 1-2.185 0zm-1.878-4.063a.545.545 0 0 0 0 .77l2.585 2.586a.545.545 0 0 0 .77 0l.386-.385-3.356-3.356-.385.385z",transform:"translate(354 143.5)"}),i.jsx(d("XPlatReactSVG").Path,{d:"M96.147 941.854a.5.5 0 0 1 0-.708l2.276-2.276a.25.25 0 0 1 .353 0l.354.353a.25.25 0 0 1 0 .354l-2.276 2.277a.5.5 0 0 1-.707 0",transform:"translate(354 143.5)"})]})})]}))}a.displayName=a.name+" [from "+f.id+"]";a._isSVG=!0;b=a;g["default"]=b}),98);
__d("HelpdeskGeminiNullthrows",["FBLogger"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){b===void 0&&(b="Got unexpected null or undefined");if(a==null)throw c("FBLogger")("hdwp").mustfixThrow(b);return a}g.nullthrows=a}),98);
__d("LSExecuteCTA",["LSIssueNewTask"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(e){return c.filter(c.db.table(119).fetch(),function(b){return c.i64.eq(b.ctaId,a[0])}).next().then(function(a,e){var f=a.done;a=a.value;return f?0:(e=a.item,d[0]=new c.Map(),d[0].set("banner_id",e.bannerId),d[0].set("cta_type",e.ctaType),d[0].set("context_id",e.contextId),d[1]=c.toJSON(d[0]),c.storedProcedure(b("LSIssueNewTask"),"in_thread_banner_execute_cta_queue",c.i64.cast([0,73]),d[1],void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]),void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0])))})},function(a){return c.resolve(e)}])}a.__sproc_name__="LSInThreadBannerExecuteCTAStoredProcedure";a.__tables__=["in_thread_banner_ctas"];e.exports=a}),null);
__d("LSExecuteCTAStoredProcedure",["LSExecuteCTA","LSSynchronousPromise","Promise","cr:8709"],(function(a,b,c,d,e,f,g){var h;function a(a,e){a=a.storedProcedure(c("LSExecuteCTA"),e.ctaId);return(h||(h=b("Promise"))).resolve(d("LSSynchronousPromise").maybeExtractValueIfSynchronousPromise(a))}g["default"]=a}),98);
__d("LSFetchBannersStoredProcedure",["LSFetchBanners","LSSynchronousPromise","Promise","cr:8709"],(function(a,b,c,d,e,f,g){var h;function a(a,e){a=a.storedProcedure(c("LSFetchBanners"),e.threadKey);return(h||(h=b("Promise"))).resolve(d("LSSynchronousPromise").maybeExtractValueIfSynchronousPromise(a))}g["default"]=a}),98);
__d("LSInitiateThreadMigration",["LSIssueNewTask"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(e){return a[3]!==void 0?(d[0]=new c.Map(),d[0].set("open_message_thread_key",a[0]),d[0].set("armadillo_thread_key",a[1]),d[0].set("trace_id",a[3]),d[0].set("should_copy_messages",a[2]),d[1]=d[0].get("open_message_thread_key"),d[2]=d[0].get("armadillo_thread_key"),d[3]=c.toJSON(d[0]),c.storedProcedure(b("LSIssueNewTask"),[c.i64.to_string(d[1]),"_",c.i64.to_string(d[2])].join(""),c.i64.cast([0,436]),d[3],void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]),void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]))):(d[0]=new c.Map(),d[0].set("open_message_thread_key",a[0]),d[0].set("armadillo_thread_key",a[1]),d[0].set("should_copy_messages",a[2]),d[1]=d[0].get("open_message_thread_key"),d[2]=d[0].get("armadillo_thread_key"),d[3]=c.toJSON(d[0]),c.storedProcedure(b("LSIssueNewTask"),[c.i64.to_string(d[1]),"_",c.i64.to_string(d[2])].join(""),c.i64.cast([0,436]),d[3],void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]),void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0])))},function(a){return c.resolve(e)}])}a.__sproc_name__="LSE2EEMessagingMetadataMailboxInitiateThreadMigrationStoredProcedure";a.__tables__=[];e.exports=a}),null);
__d("LSInitiateThreadMigrationStoredProcedure",["LSInitiateThreadMigration","LSSynchronousPromise","Promise","cr:8709"],(function(a,b,c,d,e,f,g){var h;function a(a,e){a=a.storedProcedure(c("LSInitiateThreadMigration"),e.openMessageThreadKey,e.armadilloThreadKey,e.shouldCopyMessages,e.traceId);return(h||(h=b("Promise"))).resolve(d("LSSynchronousPromise").maybeExtractValueIfSynchronousPromise(a))}g["default"]=a}),98);
__d("LSNullstateDescriptionType",[],(function(a,b,c,d,e,f){a=Object.freeze({DEFAULT:0,SUBTEXT:1,TITLE_SMALL_DEFAULT:2,TITLE_SMALL_SUBTEXT:3});f["default"]=a}),66);
__d("LSPageType",[],(function(a,b,c,d,e,f){a=Object.freeze({DEFAULT:0,AI:1});f["default"]=a}),66);
__d("LSRequestAdContextFromThreadKey",["LSIssueNewTask"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(e){return d[0]=new c.Map(),d[0].set("thread_key",a[0]),d[1]=c.toJSON(d[0]),c.storedProcedure(b("LSIssueNewTask"),"ctm_ad_context",c.i64.cast([0,235]),d[1],void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]),void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]))},function(a){return c.resolve(e)}])}a.__sproc_name__="LSMessagingAdsRequestAdContextFromThreadKeyStoredProcedure";a.__tables__=[];e.exports=a}),null);
__d("LSRequestAdContextFromThreadKeyStoredProcedure",["LSRequestAdContextFromThreadKey","LSSynchronousPromise","Promise","cr:8709"],(function(a,b,c,d,e,f,g){var h;function a(a,e){a=a.storedProcedure(c("LSRequestAdContextFromThreadKey"),e.threadKey);return(h||(h=b("Promise"))).resolve(d("LSSynchronousPromise").maybeExtractValueIfSynchronousPromise(a))}g["default"]=a}),98);
__d("LSServerMutationCta",["LSIssueNewError","LSIssueNewTask"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(e){return c.sequence([function(a){return c.sortBy(c.db.table(115).fetch(),[["timestampMs","DESC"]]).next().then(function(a,b){var c=a.done;a=a.value;return c?d[0]=!1:(b=a.item,d[0]=b.errorShouldBeShown)})},function(a){return d[0]===!0?c.sequence([function(a){return c.localizeV2Async(c.i64.cast([0,2285622730]),void 0).then(function(a){return d[4]=a})},function(a){return c.localizeV2Async(c.i64.cast([0,1919524925]),void 0).then(function(a){return d[5]=a})},function(a){return c.storedProcedure(b("LSIssueNewError"),void 0,c.i64.cast([0,1545093]),d[4],d[5],void 0,void 0)}]):c.resolve()},function(e){return d[2]=new c.Map(),d[2].set("thread_key",a[0]),d[2].set("marketplace_cta_type",a[1]),d[3]=c.toJSON(d[2]),c.storedProcedure(b("LSIssueNewTask"),"marketplace_server_mutation_cta",c.i64.cast([0,279]),d[3],void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]),void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]))}])},function(a){return c.resolve(e)}])}a.__sproc_name__="LSMarketplaceServerMutationCtaStoredProcedure";a.__tables__=["user_visible_network_connectivity_error"];e.exports=a}),null);
__d("LSServerMutationCtaStoredProcedure",["LSServerMutationCta","LSSynchronousPromise","Promise","cr:8709"],(function(a,b,c,d,e,f,g){var h;function a(a,e){a=a.storedProcedure(c("LSServerMutationCta"),e.threadKey,e.marketplaceCtaType);return(h||(h=b("Promise"))).resolve(d("LSSynchronousPromise").maybeExtractValueIfSynchronousPromise(a))}g["default"]=a}),98);
__d("LsBotComposerQuickReplyDisplayedFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("1743836");b=d("FalcoLoggerInternal").create("ls_bot_composer_quick_reply_displayed",a);e=b;g["default"]=e}),98);
__d("LsBotComposerQuickReplyTappedFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("1743837");b=d("FalcoLoggerInternal").create("ls_bot_composer_quick_reply_tapped",a);e=b;g["default"]=e}),98);
__d("LsBusinessWelcomePageGetStartedButtonTappedFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("1743846");b=d("FalcoLoggerInternal").create("ls_business_welcome_page_get_started_button_tapped",a);e=b;g["default"]=e}),98);
__d("MWFileUtils",["fbt","I64","formatFileSize"],(function(a,b,c,d,e,f,g,h){"use strict";var i;b=h._(/*BTDS*/"__JHASH__uiTAWyhPCWI__JHASH__");function a(a){return a.filesize==null?null:c("formatFileSize")((i||(i=d("I64"))).to_int32(a.filesize))}g.PLACEHOLDER_FILENAME=b;g.getFileSize=a}),226);
__d("MAWFilePressable.react",["CometErrorBoundary.react","FBLogger","I64","MAWAttachmentBlob.react","MWChatMessageId","MWFileUtils","MWFileViewerLogger","MWXPressable.react","goUriOnNewWindow","react","useMWFileOnPress","vulture"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=h||(h=d("react"));b=h;var k=b.useCallback,l=b.useEffect,m={filePressable:{overflowX:"x6ikm8r",overflowY:"x10wlt62",$$css:!0}};function n(a){var b=a.children,d=a.linkProps,e=a.onPress;a=a.testid;c("vulture")("9iVXsDohf3M");return j.jsx(c("MWXPressable.react"),{display:"inline",linkProps:d,onPress:e,overlayDisabled:!0,testid:void 0,xstyle:m.filePressable,children:b})}n.displayName=n.name+" [from "+f.id+"]";function o(a){var b=a.attachmentID,e=a.children,f=a.entrypoint,g=a.linkProps,h=a.messageID,i=a.onPress;a=a.testid;a=c("useMWFileOnPress")(h,b,i,f,d("MWFileViewerLogger").generateSessionId());return j.jsx(n,{linkProps:g,onPress:a,testid:void 0,children:e})}o.displayName=o.name+" [from "+f.id+"]";function a(a){var b=a.children,e=a.entrypoint,f=a.file,g=a.getFileUrl,h=a.mediaRenderQpl,m=a.onPress,p=a.renderUnsupportedAttachment;a=a.testid;c("vulture")("3i3eZsW6zuY");a=((a=f.filename)!=null?a:d("MWFileUtils").PLACEHOLDER_FILENAME).toString();var q=g!=null?g(f,"MAWFilePressable",h):d("MAWAttachmentBlob.react").getAttachmentBlob(f,"MAWFilePressable",h);g=d("MWChatMessageId").makeSent((i||(i=d("I64"))).to_string(f.threadKey),f.messageId,i.to_string(f.timestampMs));var r={download:a,target:"_blank",url:q},s=d("MWFileUtils").getFileSize(f),t=k(function(a,b){c("FBLogger")("messenger_web_media","cannot_load_entry_point").mustfix(a.message||"Cannot open file viewer in "+b),q!=null&&c("goUriOnNewWindow")(q)},[q]);l(function(){q!=null&&q.length>0?(h==null?void 0:h.addPoint("render-file-pressable"),h==null?void 0:h.endSuccess()):h==null?void 0:h.endFail("load-file-error")},[h,q]);if((q==null||q.length===0)&&p!=null)return p(f);return g.type==="sent"?j.jsx(c("CometErrorBoundary.react"),{onError:t,children:j.jsx(o,{attachmentID:f.attachmentFbid,entrypoint:e,linkProps:r,messageID:g.value,onPress:m,testid:void 0,children:b({filename:a,messageID:g,size:s})})}):j.jsx(n,{linkProps:r,onPress:m,testid:void 0,children:b({filename:a,messageID:g,size:s})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MAWChatFile.react",["MAWFilePressable.react","MWChatFilePreview.react","MWXTextPairing.react","react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||d("react"),k={root:{alignItems:"x6s0dn4",display:"x78zum5",userSelect:"x87ps6o",$$css:!0}};function a(a){var b=a.file,d=a.getFileUrl,e=a.mediaRenderQpl;a=a.renderUnsupportedAttachment;return j.jsx(c("MAWFilePressable.react"),{entrypoint:"chat_file_v4",file:b,getFileUrl:d,mediaRenderQpl:e,renderUnsupportedAttachment:a,testid:void 0,children:function(a){var d=a.filename;a=a.size;return j.jsxs("div",babelHelpers["extends"]({},(h||(h=c("stylex"))).props(k.root,!1),{children:[j.jsx(c("MWChatFilePreview.react"),{attachment:b,withPreview:!1}),j.jsxs("div",babelHelpers["extends"]({className:"xzsf02u x1iyjqo2 x1s688f xz9dl7a xsag5q8 x1ye3gou x1pi30zi x13faqbe"},{children:[j.jsx(c("MWXTextPairing.react"),{headline:d,headlineLineLimit:3,level:4}),j.jsx("div",babelHelpers["extends"]({className:"x889kno"},{children:j.jsx(c("MWXTextPairing.react"),{body:a,bodyColor:"secondary",bodyLineLimit:1,level:4})}))]}))]}))}})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MAWCutoverEncryptedBackupsBanner.react",["CometErrorBoundary.react","cr:3127","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){a=a.isShown;return i.jsx(i.Fragment,{children:a&&b("cr:3127")?i.jsx(c("CometErrorBoundary.react"),{fallback:function(){return null},children:i.jsx(b("cr:3127"),{})}):null})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MAWMessageIntegrityCheckDeferred",["promiseDone","requireDeferred"],(function(a,b,c,d,e,f,g){"use strict";var h=c("requireDeferred")("MAWMessageIntegrityCheck").__setRef("MAWMessageIntegrityCheckDeferred");function a(a,b,d,e,g,i,j,k,l){h.onReady(function(h){return c("promiseDone")(h.runMessageIntegrityCheck(a,b,d,e,g,i,j,k,l))})}g.runMessageIntegrityCheckDeferred=a}),98);
__d("MWV2AudioAttachmentErrorPlaceholder.react",["I64","MWPAudioHighlightStylesHooks","MWPAudioPlaybackButton.react","MWPAudioPlayerContainer.react","MWPAudioPlayerHighlight.react","MWPAudioPlayerSharedStyles","MWPAudioPlayerTimer.react","MWPAudioPlayerUtils","MWXMessageBubbleCornerStyles.react","emptyFunction","react","stylex","vulture"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=i||(i=d("react"));b=i;var l=b.useEffect,m=b.useRef;function a(a){var b=a.attachment,e=a.connectBottom,f=a.connectTop,g=a.isReply;g=g===void 0?!1:g;var i=a.isRetryableError,n=a.mediaRenderQpl,o=a.message,p=a.onRetry,q=a.outgoing;a=a.width;c("vulture")("4ZGgIYiwmVp");var r=b.playableDurationMs;r=(j||(j=d("I64"))).to_float((r=r)!=null?r:(j||(j=d("I64"))).zero)/1e3;e=d("MWXMessageBubbleCornerStyles.react").getMWXBubbleCornerStyles({align:q===!0?"right":"left",connectBottom:e,connectTop:f});f=d("MWPAudioPlayerUtils").useControlCenter(void 0,void 0,o.messageId,void 0,c("emptyFunction"),!1,r,n);f[0];f[1];var s=f[2];f[3];var t=f[4];f[5];o=j.gt((f=o.ephemeralDurationInSec)!=null?f:(j||(j=d("I64"))).zero,j.zero);f=m();var u=d("MWPAudioHighlightStylesHooks").useHighlightStyles(q);a=d("MWPAudioPlayerUtils").useCalculatePlayerWidth(a,o);o={width:a+"px"};l(function(){n==null?void 0:n.addPoint("render-audio-error-placeholder",{bool:{is_retryable_error:i}})},[n,i]);return k.jsx(c("MWPAudioPlayerContainer.react"),{audioEl:s,hasScrubber:!1,mediaRenderQpl:null,scrubberRef:f,style:o,testid:void 0,useCase:d("MWPAudioPlayerUtils").UseCase.PLAYER,children:k.jsxs("div",babelHelpers["extends"]({},(h||(h=c("stylex"))).props(d("MWPAudioPlayerSharedStyles").styles.common,e,q?d("MWPAudioPlayerSharedStyles").styles.commonOutgoing:d("MWPAudioPlayerSharedStyles").styles.commonIncoming,g&&d("MWPAudioPlayerSharedStyles").styles.commonReply,q&&g&&d("MWPAudioPlayerSharedStyles").styles.commonOutgoingReply),{children:[k.jsx(d("MWPAudioPlayerHighlight.react").MWPAudioPlayerHighlightV2,{audioEl:s,currentTime:r,disabled:!0,duration:r,hasEnded:!1,hasScrubber:!1,isListened:b.isAttachmentConsumed===!0,isPlaying:!1,onUpdateScrubber:c("emptyFunction"),outgoing:q,progressHighlightRef:t,scrubberRef:f,waveformData:null,xstyle:u,children:k.jsx(c("MWPAudioPlaybackButton.react"),{disabled:!0,hasEnded:!1,isError:!0,isLoading:!1,isPaused:!1,isPlaying:!1,isRetryableError:i,onPress:function(){p&&p()},outgoing:q,scrubberRef:f})}),k.jsx("div",{children:k.jsx(c("MWPAudioPlayerTimer.react"),{disabled:!0,outgoing:q,time:r})})]}))})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MAWSecureAudioAttachmentContent.react",["CometPlaceholder.react","MAWThreadViewAttachmentStateHandlerContent.react","MWPAudioPlayerUtils","MWV2AudioAttachmentErrorPlaceholder.react","cr:5622","mwpMessageIsReply","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react")),j=h.useEffect;function a(a){var e=a.connectBottom,f=a.connectTop,g=a.dbAttachment,h=a.getPlayableUrl,k=a.mediaRenderQpl,l=a.message,m=a.outgoing;j(function(){k==null?void 0:k.addPoint("render-audio-attachment")},[k]);a=d("MWPAudioPlayerUtils").useCalculatePlayerWidth();var n=d("MWPAudioPlayerUtils").useCalculatePlayerHeight(d("MWPAudioPlayerUtils").UseCase.PLAYER),o=function(a,b){return i.jsx(c("MWV2AudioAttachmentErrorPlaceholder.react"),{attachment:g,connectBottom:e,connectTop:f,isRetryableError:a,mediaRenderQpl:k,message:l,onRetry:b,outgoing:m})},p=function(a){return i.jsx(c("CometPlaceholder.react"),{fallback:a("MAWSecureAudioAttachmentContentV2.Suspense",!0),name:"MAWSecureAudioAttachmentContentV2.Suspense",children:i.jsx(b("cr:5622"),{attachment:g,connectBottom:e,connectTop:f,getPlayableUrl:h,isReply:c("mwpMessageIsReply")(l),isSecure:!0,mediaRenderQpl:k,message:l,outgoing:m,renderUnsupportedAttachment:function(){return o(!1)}})})};return i.jsx(c("MAWThreadViewAttachmentStateHandlerContent.react"),{connectBottom:e,connectTop:f,dbAttachment:g,descriptionForLogging:"MAWSecureAudioAttachmentContentV2",errorComponentRenderer:o,mediaRenderQpl:k,outgoing:m,placeholderHeight:n,placeholderWidth:a,successfulComponentRenderer:p})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWV2AttachmentErrorPlaceholder.react",["fbt","MWXAspectRatioContainer.react","MWXIconCautionTriangle","MWXIconStrict.react","MWXMessageBubbleCornerStyles.react","MWXTooltip.react","react","stylex","useCurrentDisplayMode"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=j||d("react"),l={content:{alignItems:"x6s0dn4",borderTopStartRadius:"x1tlxs6b",borderTopEndRadius:"x1g8br2z",borderBottomEndRadius:"x1gn5b1j",borderBottomStartRadius:"x230xth",display:"x78zum5",height:"x5yr21d",justifyContent:"xl56j7k",width:"xh8yej3",$$css:!0},dark:{backgroundColor:"xhzw6zf",$$css:!0},light:{backgroundColor:"x1vtvx1t",$$css:!0}};function a(a){var b=a.connectBottom,e=a.connectTop,f=a.detailedUserFacingErrorMessage,g=a.hasAppAttribution,j=a.height,m=a.outgoing,n=a.width,o=a.xstyle,p=c("useCurrentDisplayMode")();j=(a=j)!=null?a:100;n=(a=n)!=null?a:200;var q=d("MWXMessageBubbleCornerStyles.react").getMWXBubbleCornerStyles({align:m===!0?"right":"left",connectBottom:b,connectTop:e,flatten:g===!0?"bottom":"none"});return k.jsx(c("MWXTooltip.react"),{tooltip:f!=null?f:h._(/*BTDS*/"__JHASH__k6bhcm2tjqK__JHASH__"),children:k.jsx(c("MWXAspectRatioContainer.react"),{height:j,maxHeight:200,maxWidth:480,width:n,children:function(a){return k.jsx("div",babelHelpers["extends"]({},(i||(i=c("stylex"))).props([a,l.content,p==="dark"?l.dark:l.light,q,o]),{"data-testid":void 0,children:k.jsx(c("MWXIconStrict.react"),{color:"primary",icon:c("MWXIconCautionTriangle"),size:20})}))}})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("MWV2SecureFileAttachmentErrorPlaceholder.react",["MWChatFilePreview.react","MWFileUtils","MWXTextPairing.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react")),j=h.useEffect;function a(a){var b,e=a.file,f=a.isRetryableError,g=a.mediaRenderQpl;a=a.onRetry;b=((b=e.filename)!=null?b:d("MWFileUtils").PLACEHOLDER_FILENAME).toString();var h=d("MWFileUtils").getFileSize(e);j(function(){g==null?void 0:g.addPoint("render-file-error-placeholder",{bool:{is_retryable_error:f}})},[g,f]);return i.jsxs("div",babelHelpers["extends"]({className:"x6s0dn4 x78zum5 x87ps6o"},{"data-testid":void 0,children:[i.jsx(c("MWChatFilePreview.react"),{attachment:e,isError:!0,isRetryableError:f,onRetry:a,withPreview:!1}),i.jsxs("div",babelHelpers["extends"]({className:"x1x80s81 x1iyjqo2 x1s688f xz9dl7a xsag5q8 x1ye3gou x1pi30zi x13faqbe"},{children:[i.jsx(c("MWXTextPairing.react"),{headline:b,headlineColor:"disabled",headlineLineLimit:3,level:4}),i.jsx("div",babelHelpers["extends"]({className:"x1x80s81 x889kno"},{children:i.jsx(c("MWXTextPairing.react"),{body:h,bodyColor:"disabled",bodyLineLimit:1,level:4})}))]}))]}))}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MAWSecureFileAttachmentContent.react",["CometPlaceholder.react","MAWChatFile.react","MAWThreadViewAttachmentStateHandlerContent.react","MWV2AttachmentErrorPlaceholder.react","MWV2SecureFileAttachmentErrorPlaceholder.react","MWXMessageBubble.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react")),j=h.useEffect,k=60,l=250,m={bubble:{paddingTop:"xexx8yu",paddingEnd:"x4uap5",paddingBottom:"x18d9i69",paddingStart:"xkhd6sd",$$css:!0}};function a(a){var b=a.connectBottom,d=a.connectTop,e=a.dbAttachment,f=a.getFileUrl,g=a.mediaRenderQpl,h=a.outgoing;j(function(){g==null?void 0:g.addPoint("render-file-attachment")},[g]);a=function(a,f){return i.jsx(c("MWXMessageBubble.react"),{align:h?"right":"left",color:"incoming",connectBottom:b,connectTop:d,xstyle:m.bubble,children:i.jsx(c("MWV2SecureFileAttachmentErrorPlaceholder.react"),{file:e,isRetryableError:a,mediaRenderQpl:g,onRetry:f})})};var n=function(a){return i.jsx(c("CometPlaceholder.react"),{fallback:a("MAWSecureFileAttachmentContentV2.Suspense",!0),name:"MAWSecureFileAttachmentContentV2.Suspense",children:i.jsx(c("MWXMessageBubble.react"),{align:h?"right":"left",color:"incoming",connectBottom:b,connectTop:d,xstyle:m.bubble,children:i.jsx(c("MAWChatFile.react"),{file:e,getFileUrl:f,mediaRenderQpl:g,renderUnsupportedAttachment:function(){return i.jsx(c("MWV2AttachmentErrorPlaceholder.react"),{connectBottom:b,connectTop:d,height:k,outgoing:h,width:l})}})})})};return i.jsx(c("MAWThreadViewAttachmentStateHandlerContent.react"),{connectBottom:b,connectTop:d,dbAttachment:e,descriptionForLogging:"MAWSecureFileAttachmentContentV2",errorComponentRenderer:a,mediaRenderQpl:g,outgoing:h,placeholderHeight:k,placeholderWidth:l,successfulComponentRenderer:n})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MediaDownloadStatusIconSize",["$InternalEnum"],(function(a,b,c,d,e,f){"use strict";a=b("$InternalEnum")({Small:"small",Large:"large"});c=a;f["default"]=c}),66);
__d("MWV2AttachmentErrorPlaceholderV2.react",["fbt","MAWVideoAudioPlaybackErrorHandlerUtils","MWXAspectRatioContainer.react","MWXIconExclamationMarkCircle","MWXIconRefreshAlt","MWXIconStrict.react","MWXMessageBubbleCornerStyles.react","MWXPressable.react","MWXText.react","MWXTooltip.react","MediaDownloadStatusIconSize","react","stylex","useCurrentDisplayMode","vulture"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=j||(j=d("react")),l=j.useEffect,m={buttonLarge:{height:"xdd8jsf",marginTop:"xuqeo79",marginEnd:"x11i5rnm",marginBottom:"xat24cr",marginStart:"xbuoto1",width:"xvni27",$$css:!0},buttonSmall:{height:"xxk0z11",marginTop:"x7wgvq7",marginEnd:"x11i5rnm",marginBottom:"xat24cr",marginStart:"x16hk5td",width:"xvy4d1p",$$css:!0},circleButton:{backgroundColor:"x18l40ae",borderTopStartRadius:"x14yjl9h",borderTopEndRadius:"xudhj91",borderBottomEndRadius:"x18nykt9",borderBottomStartRadius:"xww2gxu",opacity:"x1hc1fzr",$$css:!0},container:{alignItems:"x6s0dn4",cursor:"x1ypdohk",display:"x78zum5",start:"xtzzx4i",left:null,right:null,justifyContent:"xl56j7k",position:"x10l6tqk",top:"xwa60dl",$$css:!0},content:{alignItems:"x6s0dn4",borderTopStartRadius:"x1tlxs6b",borderTopEndRadius:"x1g8br2z",borderBottomEndRadius:"x1gn5b1j",borderBottomStartRadius:"x230xth",display:"x78zum5",height:"x5yr21d",justifyContent:"xl56j7k",width:"xh8yej3",$$css:!0},dark:{backgroundColor:"xhzw6zf",$$css:!0},galleryMediaStatusIcon:{height:"xxk0z11",width:"xvy4d1p",$$css:!0},light:{backgroundColor:"x1vtvx1t",$$css:!0},nonRetryableError:{alignItems:"x6s0dn4",backgroundColor:"x18l40ae",borderTopStartRadius:"x14yjl9h",borderTopEndRadius:"xudhj91",borderBottomEndRadius:"x18nykt9",borderBottomStartRadius:"xww2gxu",color:"x19rn6z",display:"x78zum5",justifyContent:"xl56j7k",$$css:!0},threadMediaStatusIcon:{height:"xdd8jsf",width:"xvni27",$$css:!0}};function a(a){var b=a.attachment,e=a.connectBottom,f=a.connectTop,g=a.hasAppAttribution,j=a.height,n=a.iconSize,o=a.isRetryableError,p=a.maxHeight,q=a.maxWidth,r=a.mediaRenderQpl,s=a.onRetry,t=a.outgoing,u=a.width,v=a.withTooltip,w=a.xstyle;c("vulture")("8IcElu6iKAk");a=d("MAWVideoAudioPlaybackErrorHandlerUtils").useGetMetadataForMediaNotRendered(b,o,s);b=a.mediaStatusText;a=a.retryButton;l(function(){r==null?void 0:r.addPoint("render-error-placeholder",{bool:{is_retryable_error:o}})},[r,o]);var x=c("useCurrentDisplayMode")();j=(j=j)!=null?j:100;u=(u=u)!=null?u:200;var y=d("MWXMessageBubbleCornerStyles.react").getMWXBubbleCornerStyles({align:t===!0?"right":"left",connectBottom:e,connectTop:f,flatten:g===!0?"bottom":"none"});f=k.jsx(c("MWXAspectRatioContainer.react"),{height:j,maxHeight:(t=p)!=null?t:200,maxWidth:(e=q)!=null?e:480,width:u,children:function(a){return k.jsx("div",babelHelpers["extends"]({},(i||(i=c("stylex"))).props([a,m.content,x==="dark"?m.dark:m.light,y,w]),{"data-testid":void 0,children:o?k.jsx(c("MWXPressable.react"),{display:"inline",label:h._(/*BTDS*/"__JHASH__BGxC_0TtXwE__JHASH__"),onPress:s,testid:void 0,xstyle:[m.circleButton,m.container,n===c("MediaDownloadStatusIconSize").Large&&m.buttonLarge,n===c("MediaDownloadStatusIconSize").Small&&m.buttonSmall],children:k.jsx(c("MWXIconStrict.react"),{color:"white",icon:c("MWXIconRefreshAlt"),size:n===c("MediaDownloadStatusIconSize").Large?24:12})}):k.jsx("div",babelHelpers["extends"]({},(i||(i=c("stylex"))).props([m.nonRetryableError,n===c("MediaDownloadStatusIconSize").Large?m.threadMediaStatusIcon:m.galleryMediaStatusIcon]),{children:k.jsx(c("MWXIconStrict.react"),{color:"white",icon:c("MWXIconExclamationMarkCircle"),size:n===c("MediaDownloadStatusIconSize").Large?24:12})}))}))}});return v===!0?k.jsx(c("MWXTooltip.react"),{label:b,tooltip:k.jsxs(c("MWXText.react"),{color:"tooltip",type:"meta4",children:[b,a]}),children:f}):f}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("MWV2AttachmentPlaceholderWithBlurImage.react",["CometPlaceholder.react","FDSBlurredBackgroundImage.react","MWV2ChatImage.react","MWXAspectRatioContainer.react","MWXMessageBubbleCornerStyles.react","react","stylex","useCurrentDisplayMode","vulture"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||d("react"),k={content:{alignItems:"x6s0dn4",borderTopStartRadius:"x1tlxs6b",borderTopEndRadius:"x1g8br2z",borderBottomEndRadius:"x1gn5b1j",borderBottomStartRadius:"x230xth",display:"x78zum5",height:"x5yr21d",justifyContent:"xl56j7k",width:"xh8yej3",$$css:!0},dark:{backgroundColor:"xhzw6zf",$$css:!0},gallery:{backgroundPosition:"x1bz1qqp",$$css:!0},light:{backgroundColor:"x1vtvx1t",$$css:!0}};function a(a){var b=a.connectBottom,e=a.connectTop,f=a.dbAttachment,g=a.getPreviewUrl,i=a.hasAppAttribution,m=a.height,n=a.isGroupedImage,o=a.maxHeight,p=a.maxWidth,q=a.mediaRenderQpl,r=a.message,s=a.outgoing,t=a.width,u=a.xstyle;c("vulture")("aweEVJxOGvw");var v=c("useCurrentDisplayMode")();m=(a=m)!=null?a:100;t=(a=t)!=null?a:200;var w=d("MWXMessageBubbleCornerStyles.react").getMWXBubbleCornerStyles({align:s===!0?"right":"left",connectBottom:b,connectTop:e,flatten:i===!0?"bottom":"none"}),x=j.jsx(c("MWXAspectRatioContainer.react"),{height:m,maxHeight:(a=o)!=null?a:200,maxWidth:(i=p)!=null?i:480,width:t,children:function(a){return j.jsx("div",babelHelpers["extends"]({},(h||(h=c("stylex"))).props([a,k.content,v==="dark"?k.dark:k.light,w,u]),{"data-testid":void 0}))}});return j.jsx("div",babelHelpers["extends"]({className:"x47corl"},{children:r!=null?j.jsx(c("CometPlaceholder.react"),{fallback:x,name:"MWV2AttachmentErrorPlaceholderWithBlurImage",children:j.jsx(c("MWV2ChatImage.react"),{attachment:f,connectBottom:b,connectTop:e,getPreviewUrl:g,isGroupedImage:n,isSecure:!0,maxHeight:(a=o)!=null?a:m,maxWidth:(i=p)!=null?i:t,mediaRenderQpl:null,message:r,navigateToRouteForMediaViewer:!1,outgoing:s,renderUnsupportedAttachment:function(){return x},shouldBlur:!0})}):j.jsx(c("CometPlaceholder.react"),{fallback:x,name:"MWV2AttachmentErrorPlaceholderWithBlurImage",children:j.jsx(l,{dbAttachment:f,fallback:x,getPreviewUrl:g,heightCalculated:m,maxHeight:o,maxWidth:p,mediaRenderQpl:q,widthCalculated:t})})}))}a.displayName=a.name+" [from "+f.id+"]";function l(a){var b=a.dbAttachment,d=a.fallback,e=a.getPreviewUrl,f=a.heightCalculated,g=a.maxHeight,h=a.maxWidth,i=a.mediaRenderQpl;a=a.widthCalculated;c("vulture")("ahVdmszh3XN");var l=e(b,"MWV2AttachmentErrorPlaceholderWithBlurImage.react",i);return l!=null?j.jsx(c("MWXAspectRatioContainer.react"),{height:f,maxHeight:g,maxWidth:h,width:a,children:function(a){return j.jsx(c("FDSBlurredBackgroundImage.react"),{src:l,xstyle:[a,k.gallery]})}}):d}l.displayName=l.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWV2AttachmentErrorPlaceholderWithBlurImage.react",["MAWVideoAudioPlaybackErrorHandlerUtils","MWV2AttachmentPlaceholderWithBlurImage.react","MWXIconExclamationMarkCircle","MWXIconStrict.react","MWXText.react","MWXTooltip.react","MediaDownloadStatusIconSize","react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||(i=d("react")),k=i.useEffect,l={galleryMediaStatusIcon:{height:"xxk0z11",width:"xvy4d1p",$$css:!0},nonRetryableError:{alignItems:"x6s0dn4",backgroundColor:"x18l40ae",borderTopStartRadius:"x14yjl9h",borderTopEndRadius:"xudhj91",borderBottomEndRadius:"x18nykt9",borderBottomStartRadius:"xww2gxu",color:"x14ctfv",display:"x78zum5",justifyContent:"xl56j7k",$$css:!0},threadMediaStatusIcon:{height:"xdd8jsf",width:"xvni27",$$css:!0}};function a(a){var b=a.connectBottom,e=a.connectTop,f=a.dbAttachment,g=a.getPreviewUrl,i=a.hasAppAttribution,m=a.height,n=a.iconSize,o=a.isGroupedImage,p=a.maxHeight,q=a.maxWidth,r=a.mediaRenderQpl,s=a.message,t=a.outgoing,u=a.width,v=a.withTooltip;a=a.xstyle;k(function(){r==null?void 0:r.addPoint("render-error-placeholder-with-blur-image",{bool:{has_message:s!=null}})},[r,s]);var w=d("MAWVideoAudioPlaybackErrorHandlerUtils").useGetMetadataForMediaNotRendered(f,!1),x=w.mediaStatusText;w=w.retryButton;n=j.jsxs(j.Fragment,{children:[j.jsx("div",babelHelpers["extends"]({className:"xtzzx4i x10l6tqk xwa60dl x11lhmoz x1vjfegm"},{children:j.jsx("div",babelHelpers["extends"]({},(h||(h=c("stylex"))).props([l.nonRetryableError,n===c("MediaDownloadStatusIconSize").Large?l.threadMediaStatusIcon:l.galleryMediaStatusIcon]),{"data-testid":void 0,children:j.jsx(c("MWXIconStrict.react"),{color:"white",icon:c("MWXIconExclamationMarkCircle"),size:n===c("MediaDownloadStatusIconSize").Large?24:12})}))})),j.jsx(c("MWV2AttachmentPlaceholderWithBlurImage.react"),{connectBottom:b,connectTop:e,dbAttachment:f,getPreviewUrl:g,hasAppAttribution:i,height:m,isGroupedImage:o,maxHeight:p,maxWidth:q,mediaRenderQpl:r,message:s,outgoing:t,width:u,xstyle:a})]});return v===!0?j.jsx(c("MWXTooltip.react"),{label:x,tooltip:j.jsxs(c("MWXText.react"),{color:"tooltip",type:"meta4",children:[x,w]}),children:n}):n}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWV2AttachmentRetriableErrorPlaceholderWithBlurImage.react",["fbt","MAWVideoAudioPlaybackErrorHandlerUtils","MWV2AttachmentPlaceholderWithBlurImage.react","MWXIconRefreshAlt","MWXIconStrict.react","MWXPressable.react","MWXText.react","MWXTooltip.react","MediaDownloadStatusIconSize","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||(i=d("react")),k=i.useEffect,l={buttonLarge:{height:"xdd8jsf",marginTop:"xuqeo79",marginEnd:"x11i5rnm",marginBottom:"xat24cr",marginStart:"xbuoto1",width:"xvni27",$$css:!0},buttonSmall:{height:"xxk0z11",marginTop:"x7wgvq7",marginEnd:"x11i5rnm",marginBottom:"xat24cr",marginStart:"x16hk5td",width:"xvy4d1p",$$css:!0},circleButton:{backgroundColor:"x18l40ae",borderTopStartRadius:"x14yjl9h",borderTopEndRadius:"xudhj91",borderBottomEndRadius:"x18nykt9",borderBottomStartRadius:"xww2gxu",opacity:"x1hc1fzr",$$css:!0},container:{alignItems:"x6s0dn4",cursor:"x1ypdohk",display:"x78zum5",start:"xtzzx4i",left:null,right:null,justifyContent:"xl56j7k",position:"x10l6tqk",top:"xwa60dl",$$css:!0}};function a(a){var b=a.connectBottom,e=a.connectTop,f=a.dbAttachment,g=a.getPreviewUrl,i=a.hasAppAttribution,m=a.height,n=a.iconSize,o=a.isGroupedImage,p=a.maxHeight,q=a.maxWidth,r=a.mediaRenderQpl,s=a.message,t=a.onRetry,u=a.outgoing,v=a.width,w=a.withTooltip;a=a.xstyle;k(function(){r==null?void 0:r.addPoint("render-error-placeholder-with-blur-image",{bool:{has_message:s!=null,is_retryable_error:!0}})},[r,s]);var x=d("MAWVideoAudioPlaybackErrorHandlerUtils").useGetMetadataForMediaNotRendered(f,!0,t),y=x.mediaStatusText;x=x.retryButton;t=j.jsxs(j.Fragment,{children:[j.jsx("div",babelHelpers["extends"]({className:"xtzzx4i x10l6tqk xwa60dl x11lhmoz x1vjfegm"},{children:j.jsx(c("MWXPressable.react"),{display:"inline",label:h._(/*BTDS*/"__JHASH__BGxC_0TtXwE__JHASH__"),onPress:t,testid:void 0,xstyle:[l.circleButton,l.container,n===c("MediaDownloadStatusIconSize").Large&&l.buttonLarge,n===c("MediaDownloadStatusIconSize").Small&&l.buttonSmall],children:j.jsx(c("MWXIconStrict.react"),{color:"white",icon:c("MWXIconRefreshAlt"),size:n===c("MediaDownloadStatusIconSize").Large?24:12})})})),j.jsx(c("MWV2AttachmentPlaceholderWithBlurImage.react"),{connectBottom:b,connectTop:e,dbAttachment:f,getPreviewUrl:g,hasAppAttribution:i,height:m,isGroupedImage:o,maxHeight:p,maxWidth:q,mediaRenderQpl:r,message:s,outgoing:u,width:v,xstyle:a})]});return w===!0?j.jsx(c("MWXTooltip.react"),{label:y,tooltip:j.jsxs(c("MWXText.react"),{color:"tooltip",type:"meta4",children:[y,x]}),children:t}):t}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("MAWSecureImageAttachmentContent.react",["CometHeroHoldTrigger.react","CometPlaceholder.react","MAWThreadViewAttachmentStateHandlerContent.react","MWLSThreadDisplayContext","MWMessageListImageSizingUtils","MWV2AttachmentErrorPlaceholderV2.react","MWV2AttachmentErrorPlaceholderWithBlurImage.react","MWV2AttachmentLoadingPlaceholder.react","MWV2AttachmentRetriableErrorPlaceholderWithBlurImage.react","MWV2ChatImage.react","MediaDownloadStatusIconSize","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react")),j=h.useEffect;function a(a){var b=a.attachmentsFromGroupToRetry,e=a.connectBottom,f=a.connectTop,g=a.dbAttachment,h=a.getPreviewUrl,k=a.isGroupedImage,l=a.mediaRenderQpl,m=a.message,n=a.outgoing,o=a.previewHeight,p=a.previewWidth;j(function(){l==null?void 0:l.addPoint("render-image-attachment")},[l]);a=d("MWLSThreadDisplayContext").useMWLSThreadDisplayContext();a=d("MWMessageListImageSizingUtils").getMaxPreviewHeightAndWidth(!0,(a=a)!=null?a:void 0,k);var q=a.maxHeight,r=a.maxWidth;if(m==null||g==null)return i.jsxs(i.Fragment,{children:[i.jsx(c("MWV2AttachmentLoadingPlaceholder.react"),{connectBottom:e,connectTop:f,descriptionForLogging:"MAWSecureImageAttachmentContent.NoMedia",hasAppAttribution:(g==null?void 0:g.attributionAppName)!=null,height:o,maxHeight:q,maxWidth:r,mediaRenderQpl:l,outgoing:n,width:p}),i.jsx(c("CometHeroHoldTrigger.react"),{description:"MAWSecureImageAttachmentContent.NoMedia",hold:!0})]});var s=function(a,b){return i.jsx(c("MWV2AttachmentErrorPlaceholderV2.react"),{attachment:g,connectBottom:e,connectTop:f,hasAppAttribution:g.attributionAppName!=null,height:o,iconSize:c("MediaDownloadStatusIconSize").Large,isRetryableError:a,maxHeight:q,maxWidth:r,mediaRenderQpl:l,onRetry:b,outgoing:n,width:p})};a=function(a,b){return a?i.jsx(c("MWV2AttachmentRetriableErrorPlaceholderWithBlurImage.react"),{connectBottom:e,connectTop:f,dbAttachment:g,getPreviewUrl:h,height:o,iconSize:c("MediaDownloadStatusIconSize").Large,isGroupedImage:k,maxHeight:q,maxWidth:r,mediaRenderQpl:l,message:m,onRetry:b,outgoing:n,width:p}):i.jsx(c("MWV2AttachmentErrorPlaceholderWithBlurImage.react"),{connectBottom:e,connectTop:f,dbAttachment:g,getPreviewUrl:h,height:o,iconSize:c("MediaDownloadStatusIconSize").Large,isGroupedImage:k,maxHeight:q,maxWidth:r,mediaRenderQpl:l,message:m,outgoing:n,width:p})};var t=function(a){return m==null?a("MAWSecureImageAttachmentContentV2.NoMessage",!1):i.jsx(c("CometPlaceholder.react"),{fallback:a("MAWSecureImageAttachmentContentV2.Suspense",!0),name:"MAWSecureImageAttachmentContentV2.Suspense",children:i.jsx(c("MWV2ChatImage.react"),{attachment:g,connectBottom:e,connectTop:f,getPreviewUrl:h,isGroupedImage:k,isSecure:!0,maxHeight:q,maxWidth:r,mediaRenderQpl:l,message:m,navigateToRouteForMediaViewer:!1,outgoing:n,renderUnsupportedAttachment:function(){return s(!1)}})})};return i.jsx(c("MAWThreadViewAttachmentStateHandlerContent.react"),{attachmentsFromGroupToRetry:b,connectBottom:e,connectTop:f,dbAttachment:g,descriptionForLogging:"MAWSecureImageAttachmentContentV2",errorComponentRenderer:s,errorWithBlurComponentRenderer:a,mediaRenderQpl:l,outgoing:n,placeholderHeight:o,placeholderMaxHeight:q,placeholderMaxWidth:r,placeholderWidth:p,successfulComponentRenderer:t})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MAWSecureGroupedImageAttachment.react",["MAWGetAttachmentThumbnailBlob","MAWSecureImageAttachmentContent.react","react","useGetMediaGroupStyles"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react")),j=h.useEffect;function a(a){var b=a.mediaGroupInfo,e=a.mediaRenderQpl,f=a.outgoing;a=b.messagesAndAttachmentsShownInGroup;var g=b.tileSize,h=d("useGetMediaGroupStyles").useGetMediaGroupStyles(f,g),k=h.containerStyles,l=h.coordinations,m=h.imageSize,n=h.wrapperStyles;j(function(){e==null?void 0:e.addPoint("render-grouped-image-attachment"),e==null?void 0:e.addAnnotations({bool:{is_grouped_image:!0}})},[e]);return i.jsx("div",{className:k,"data-testid":void 0,children:a.map(function(a,h){var j=a.attachment;a=a.message;return i.jsx("div",{className:n,style:babelHelpers["extends"]({zIndex:g-h},l[h]),children:i.jsx(c("MAWSecureImageAttachmentContent.react"),{attachmentsFromGroupToRetry:b.attachmentsToRetryDownload,connectBottom:!1,connectTop:!1,dbAttachment:j,getPreviewUrl:d("MAWGetAttachmentThumbnailBlob").getThumbnailBlob,isGroupedImage:!0,mediaRenderQpl:e,message:a,outgoing:f,previewHeight:m,previewWidth:m})},h)})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MAWSecureStickerAttachmentContent.react",["CometPlaceholder.react","MAWThreadViewAttachmentStateHandlerContent.react","MWV2AttachmentErrorPlaceholderV2.react","MWV2Sticker.react","MediaDownloadStatusIconSize","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react")),j=h.useEffect;function a(a){var b=a.connectBottom,d=a.connectTop,e=a.dbAttachment,f=a.getPreviewUrl,g=a.mediaRenderQpl,h=a.outgoing,k=a.previewHeight,l=a.previewWidth;j(function(){g==null?void 0:g.addPoint("render-sticker-attachment")},[g]);var m=function(a,f){return i.jsx(c("MWV2AttachmentErrorPlaceholderV2.react"),{attachment:e,connectBottom:b,connectTop:d,hasAppAttribution:e.attributionAppName!=null,height:k,iconSize:c("MediaDownloadStatusIconSize").Large,isRetryableError:a,mediaRenderQpl:g,onRetry:f,outgoing:h,width:l})};a=function(a){return e.receiverFetchId!=null&&e.previewUrl==null?a("MAWSecureStickerAttachmentContentV2.NoReceiverFetchMedia",!0):i.jsx(c("CometPlaceholder.react"),{fallback:a("MAWSecureStickerAttachmentContentV2.Suspense",!0),name:"MAWSecureStickerAttachmentContentV2.Suspense",children:i.jsx(c("MWV2Sticker.react"),{attachment:e,getPreviewUrl:f,mediaRenderQpl:g,renderUnsupportedAttachment:function(){return m(!1)}})})};var n=e.receiverFetchId!=null?e.messageId:e.attachmentFbid;return i.jsx(c("MAWThreadViewAttachmentStateHandlerContent.react"),{connectBottom:b,connectTop:d,dbAttachment:e,descriptionForLogging:"MAWSecureStickerAttachmentContentV2",downloadStatusKeyOverride:n,errorComponentRenderer:m,mediaRenderQpl:g,outgoing:h,placeholderHeight:k,placeholderWidth:l,successfulComponentRenderer:a})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MAWSecureVideoInvalidAttachment.react",["MWV2AttachmentErrorPlaceholderV2.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react")),j=h.useEffect;function a(a){var b=a.attachment,d=a.connectBottom,e=a.connectTop,f=a.height,g=a.iconSize,h=a.maxHeight,k=a.maxWidth,l=a.mediaRenderQpl,m=a.outgoing,n=a.width,o=a.withTooltip;a=a.xstyle;j(function(){l==null?void 0:l.addPoint("invalid-media-rendered"),l==null?void 0:l.endFail("invalid-media",{bool:{is_invalid_media:!0}})});return i.jsx(c("MWV2AttachmentErrorPlaceholderV2.react"),{attachment:b,connectBottom:d,connectTop:e,height:f,iconSize:g,isRetryableError:!1,maxHeight:h,maxWidth:k,mediaRenderQpl:null,outgoing:m,width:n,withTooltip:o,xstyle:a})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWV2AttachmentDownloadablePlaceholderWithBlurImage.react",["fbt","MWV2AttachmentPlaceholderWithBlurImage.react","MWXIconDownload","MWXIconStrict.react","MWXPressable.react","MWXText.react","MWXTooltip.react","MediaDownloadStatusIconSize","MessengerWebUXLoggerImpl","react","useMWV2MediaViewerSecurePlayableUrl","vulture"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||(i=d("react")),k=i.useEffect,l={buttonLarge:{height:"xdd8jsf",marginTop:"xuqeo79",marginEnd:"x11i5rnm",marginBottom:"xat24cr",marginStart:"xbuoto1",width:"xvni27",$$css:!0},buttonSmall:{height:"xxk0z11",marginTop:"x7wgvq7",marginEnd:"x11i5rnm",marginBottom:"xat24cr",marginStart:"x16hk5td",width:"xvy4d1p",$$css:!0},circleButton:{backgroundColor:"x18l40ae",borderTopStartRadius:"x14yjl9h",borderTopEndRadius:"xudhj91",borderBottomEndRadius:"x18nykt9",borderBottomStartRadius:"xww2gxu",opacity:"x1hc1fzr",$$css:!0},container:{alignItems:"x6s0dn4",cursor:"x1ypdohk",display:"x78zum5",start:"xtzzx4i",left:null,right:null,justifyContent:"xl56j7k",position:"x10l6tqk",top:"xwa60dl",$$css:!0}};function a(a){var b=a.connectBottom,e=a.connectTop,f=a.dbAttachment,g=a.getPreviewUrl,i=a.hasAppAttribution,m=a.height,n=a.iconSize,o=a.isGroupedImage,p=a.maxHeight,q=a.maxWidth,r=a.mediaRenderQpl,s=a.message,t=a.outgoing,u=a.placeholderMessage,v=a.width,w=a.withTooltip;a=a.xstyle;c("vulture")("4ZHjA4l0WD9");var x=d("MessengerWebUXLoggerImpl").useInteractionLogger(),y=c("useMWV2MediaViewerSecurePlayableUrl")();k(function(){r==null?void 0:r.addPoint("render-error-placeholder-with-blur-image",{bool:{has_message:s!=null,is_downloadable:!0}})},[r,s]);y=j.jsxs(j.Fragment,{children:[j.jsx("div",babelHelpers["extends"]({className:"xtzzx4i x10l6tqk xwa60dl x11lhmoz x1vjfegm"},{children:j.jsx(c("MWXPressable.react"),{display:"inline",label:h._(/*BTDS*/"__JHASH__aP8gCQjcFIz__JHASH__"),linkProps:{download:!0,url:y(f,"MWV2AttachmentDownloadablePlaceholderWithBlurImage")},onPress:function(){x==null?void 0:x({eventName:"click_unsupported_video_download_from_fallback"})},xstyle:[l.circleButton,l.container,n===c("MediaDownloadStatusIconSize").Large&&l.buttonLarge,n===c("MediaDownloadStatusIconSize").Small&&l.buttonSmall],children:j.jsx(c("MWXIconStrict.react"),{color:"white",icon:c("MWXIconDownload"),size:n===c("MediaDownloadStatusIconSize").Large?24:12})})})),j.jsx(c("MWV2AttachmentPlaceholderWithBlurImage.react"),{connectBottom:b,connectTop:e,dbAttachment:f,getPreviewUrl:g,hasAppAttribution:i,height:m,isGroupedImage:o,maxHeight:p,maxWidth:q,mediaRenderQpl:r,message:s,outgoing:t,width:v,xstyle:a})]});return w===!0?j.jsx(c("MWXTooltip.react"),{label:u,tooltip:j.jsx(c("MWXText.react"),{color:"tooltip",type:"meta4",children:u}),children:y}):y}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("MAWSecureVideoUnsupportedCodecAttachment.react",["MAWVideoAudioPlaybackErrorHandlerUtils","MWV2AttachmentDownloadablePlaceholderWithBlurImage.react","react","vulture"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react")),j=h.useEffect;function a(a){var b=a.connectBottom,e=a.connectTop,f=a.dbAttachment,g=a.getPreviewUrl,h=a.hasAppAttribution,k=a.height,l=a.iconSize,m=a.maxHeight,n=a.maxWidth,o=a.mediaRenderQpl,p=a.message,q=a.outgoing,r=a.width,s=a.withTooltip;a=a.xstyle;c("vulture")("8sq2nmojodJ");j(function(){o==null?void 0:o.addPoint("downloadable-unsupported-media-rendered"),o==null?void 0:o.endFail("unsupported-media",{bool:{is_unsupported_media:!0}})});var t=d("MAWVideoAudioPlaybackErrorHandlerUtils").useGetMetadataForMediaNotRendered(f,!1);t=t.mediaStatusText;return i.jsx(c("MWV2AttachmentDownloadablePlaceholderWithBlurImage.react"),{connectBottom:(b=b)!=null?b:!1,connectTop:(b=e)!=null?b:!1,dbAttachment:f,getPreviewUrl:g,hasAppAttribution:(e=h)!=null?e:!1,height:k,iconSize:l,maxHeight:m,maxWidth:n,mediaRenderQpl:null,message:p,outgoing:(b=q)!=null?b:!1,placeholderMessage:t,width:r,withTooltip:(f=s)!=null?f:!1,xstyle:a})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MAWSecureVideoAttachmentContent.react",["CometPlaceholder.react","I64","LSAuthorityLevel","LSIntEnum","MAWAttachmentSizeUtils","MAWSecureVideoInvalidAttachment.react","MAWSecureVideoUnsupportedCodecAttachment.react","MAWStateContext.react","MAWThreadViewAttachmentStateHandlerContent.react","MAWVideoAudioPlaybackErrorHandlerUtils","MWLSThreadDisplayContext","MWV2AttachmentErrorPlaceholderV2.react","MWV2AttachmentErrorPlaceholderWithBlurImage.react","MWV2AttachmentRetriableErrorPlaceholderWithBlurImage.react","MWV2ChatVideo.react","MediaDownloadStatusIconSize","WAHashUtils","gkx","react","useShouldShowPlaybackErrorFallback","useShouldShowUnsupportedCodecFallback"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=h||(h=d("react"));b=h;var l=b.useContext,m=b.useEffect;function a(a){var b,e=a.connectBottom,f=a.connectTop,g=a.dbAttachment,h=a.getPlayableUrl,n=a.getPreviewUrl,o=a.mediaRenderQpl,p=a.message,q=a.outgoing,r=a.previewHeight,s=a.previewWidth,t=l(d("MAWStateContext.react").MAWDispatchContext);m(function(){o==null?void 0:o.addPoint("render-video-attachment")},[o]);a=d("MWLSThreadDisplayContext").useMWLSThreadDisplayContext();a=d("MAWAttachmentSizeUtils").getMaxSizeForVideo({height:r,width:s},a);var u=a.maxHeight,v=a.maxWidth;a=(a=c("useShouldShowPlaybackErrorFallback")(g,o))!=null?a:!1;b=(b=c("useShouldShowUnsupportedCodecFallback")(g,o))!=null?b:!1;if(a)return k.jsx(c("MAWSecureVideoInvalidAttachment.react"),{attachment:g,connectBottom:e,connectTop:f,height:r,iconSize:c("MediaDownloadStatusIconSize").Large,maxHeight:u,maxWidth:v,mediaRenderQpl:o,outgoing:q,width:s});if(b){return k.jsx(c("MAWSecureVideoUnsupportedCodecAttachment.react"),{connectBottom:e,connectTop:f,dbAttachment:g,getPreviewUrl:(a=n)!=null?a:h,height:r,iconSize:c("MediaDownloadStatusIconSize").Large,maxHeight:u,maxWidth:v,mediaRenderQpl:o,message:p,outgoing:q,width:s})}var w=function(a,b){if(!a&&d("MAWVideoAudioPlaybackErrorHandlerUtils").isVideoFallbackExperiencesEnabled({silent:!1})){var i;t({tag:"SetMediaValidatedResult",value:{key:d("WAHashUtils").stringToPlaintextHash(g.attachmentFbid),validatedResult:{validatedMimeType:"unsupported-video"}}});o==null?void 0:o.addPoint("browser_cant_play_video",{string:{invalid_media_reason:"browser_cant_play_video"}});return k.jsx(c("MAWSecureVideoUnsupportedCodecAttachment.react"),{connectBottom:e,connectTop:f,dbAttachment:g,getPreviewUrl:(i=n)!=null?i:h,height:r,iconSize:c("MediaDownloadStatusIconSize").Large,maxHeight:u,maxWidth:v,mediaRenderQpl:o,message:p,outgoing:q,width:s})}return k.jsx(c("MWV2AttachmentErrorPlaceholderV2.react"),{attachment:g,connectBottom:e,connectTop:f,hasAppAttribution:g.attributionAppName!=null,height:r,iconSize:c("MediaDownloadStatusIconSize").Large,isRetryableError:a,maxHeight:u,maxWidth:v,mediaRenderQpl:o,onRetry:b,outgoing:q,width:s})};b=function(a){return k.jsx(c("CometPlaceholder.react"),{fallback:a("MAWSecureVideoAttachmentContentV2.Suspense",!0),name:"MAWSecureVideoAttachmentContentV2.Suspense",children:k.jsx(c("MWV2ChatVideo.react"),{attachment:g,autoPlaySetting:(i||(i=d("I64"))).le(p.authorityLevel,(j||(j=d("LSIntEnum"))).ofNumber(c("LSAuthorityLevel").OPTIMISTIC))||c("gkx")("8624")?"off":void 0,connectTop:f,getPlayableUrl:h,isSecure:!0,loops:!c("gkx")("8625"),mediaRenderQpl:o,message:p,navigateToRouteForMediaViewer:!1,outgoing:q,renderUnsupportedAttachment:function(){return w(!1)}})})};a=function(a,b){return a?k.jsx(c("MWV2AttachmentRetriableErrorPlaceholderWithBlurImage.react"),{connectBottom:e,connectTop:f,dbAttachment:g,getPreviewUrl:(a=n)!=null?a:h,height:r,iconSize:c("MediaDownloadStatusIconSize").Large,maxHeight:u,maxWidth:v,mediaRenderQpl:o,message:p,onRetry:b,outgoing:q,width:s}):k.jsx(c("MWV2AttachmentErrorPlaceholderWithBlurImage.react"),{connectBottom:e,connectTop:f,dbAttachment:g,getPreviewUrl:(a=n)!=null?a:h,height:r,iconSize:c("MediaDownloadStatusIconSize").Large,maxHeight:u,maxWidth:v,mediaRenderQpl:o,message:p,outgoing:q,width:s})};return k.jsx(c("MAWThreadViewAttachmentStateHandlerContent.react"),{connectBottom:e,connectTop:f,dbAttachment:g,descriptionForLogging:"MAWSecureVideoAttachmentContentV2",errorComponentRenderer:w,errorWithBlurComponentRenderer:a,mediaRenderQpl:o,outgoing:q,placeholderHeight:r,placeholderMaxHeight:u,placeholderMaxWidth:v,placeholderWidth:s,successfulComponentRenderer:b})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MAWSecureXMAAttachmentContent.react",["LSMediaUrlAttachment","MAWAttachmentBlob.react","MAWDownloadMediaInWorkerDeferred","MAWGetIsMediaDownloadStatusEnabled","MAWIsXMAWithPlaintextHash","MAWStateContext.react","MWXMAAttachment.react","isReceiverFetchReceivingEnabled","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));b=h;var j=b.useContext,k=b.useEffect;function a(a){var b=a.connectBottom,e=a.connectTop,f=a.dbAttachment,g=a.hasText,h=a.mediaRenderQpl;a=a.outgoing;var l=j(d("MAWStateContext.react").MAWDispatchContext);k(function(){f.hasMedia!==!0&&!(d("MAWIsXMAWithPlaintextHash").isXMAWithPlaintextHash(f)&&d("MAWGetIsMediaDownloadStatusEnabled").getIsMediaDownloadStatusForXMAsEnabled())&&d("MAWDownloadMediaInWorkerDeferred").maybeDownloadMediaInWorker({attachment:f,dispatch:l,mediaRenderQpl:h,triggerUIView:"thread"})},[f,h,l]);k(function(){h==null?void 0:h.addPoint("render-xma-attachment")},[f.hasMedia,h]);return i.jsx(d("MWXMAAttachment.react").MWXMAAttachment,{attachment:f,connectBottom:b,connectTop:e,getFaviconUrlXMA:function(a,b,e,f){f==null?void 0:f.addPoint("fetch_favicon_url_xma_start");if(a.faviconUrl!=null&&c("isReceiverFetchReceivingEnabled")(!0)){f==null?void 0:f.addPoint("fetch_favicon_url_xma_receiver_fetch");b=d("LSMediaUrlAttachment").faviconUrl(a);f==null?void 0:f.addPoint("fetch_favicon_url_xma_end",{bool:{has_favicon:!0,has_url:Boolean(b)},string:{fetch_by:"receiver_fetch"}});return b}if(a.hasXmaFavicon===!0){b=d("MAWAttachmentBlob.react").getInfoUrlXMA(a,"favicon","MAWSecureXMAAttachmentContent - getFaviconUrlXMA - "+e,f);f==null?void 0:f.addPoint("fetch_favicon_url_xma_end",{bool:{has_favicon:!0,has_url:Boolean(b)},string:{fetch_by:"maw_backend"}});return b}f==null?void 0:f.addPoint("fetch_favicon_url_xma_end",{bool:{has_favicon:!1},string:{fetch_by:"none"}});return void 0},getHeaderUrlXMA:function(a,b,e){e==null?void 0:e.addPoint("fetch_header_url_xma_start");if(a.headerImageUrl!=null&&c("isReceiverFetchReceivingEnabled")(!0)){e==null?void 0:e.addPoint("fetch_header_url_xma_receiver_fetch");var f=d("LSMediaUrlAttachment").headerImageUrl(a);e==null?void 0:e.addPoint("fetch_header_url_xma_end",{bool:{has_header_image:!0,has_url:Boolean(f)},string:{fetch_by:"receiver_fetch"}});return f}if(a.hasXmaHeaderImage===!0){f=d("MAWAttachmentBlob.react").getInfoUrlXMA(a,"header","MAWSecureXMAAttachmentContent - getHeaderUrlXMA - "+b,e);e==null?void 0:e.addPoint("fetch_header_url_xma_end",{bool:{has_header_image:!0,has_url:Boolean(f)},string:{fetch_by:"maw_backend"}});return f}e==null?void 0:e.addPoint("fetch_header_url_xma_end",{bool:{has_header_image:!1},string:{fetch_by:"none"}});return void 0},getPreviewUrlXMA:function(a,b,e,f){f==null?void 0:f.addPoint("fetch_preview_url_xma_start");if(a.previewUrl!=null&&c("isReceiverFetchReceivingEnabled")(!0)){f==null?void 0:f.addPoint("fetch_preview_url_xma_receiver_fetch");b=d("LSMediaUrlAttachment").previewUrl(a);f==null?void 0:f.addPoint("fetch_preview_url_xma_end",{bool:{has_preview:!0,has_url:Boolean(b)},string:{fetch_by:"receiver_fetch"}});return b}if(a.hasXmaPreview===!0){b=d("MAWAttachmentBlob.react").getInfoUrlXMA(a,"preview","MAWSecureXMAAttachmentContent - getPreviewUrlXMA - "+e,f);f==null?void 0:f.addPoint("fetch_preview_url_xma_end",{bool:{has_preview:!0,has_url:Boolean(b)},string:{fetch_by:"maw_backend"}});return b}f==null?void 0:f.addPoint("fetch_preview_url_xma_end",{bool:{has_preview:!1},string:{fetch_by:"none"}});return void 0},hasText:g,mediaRenderQpl:h,outgoing:a})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MAWSecureAttachment.react",["CometHeroHoldTrigger.react","HelpdeskGeminiNullthrows","I64","LSAuthorityLevel","LSIntEnum","LSMediaUrlAttachment","LSXmaContentType","MAWAttachmentBlob.react","MAWAttachmentSizeUtils","MAWGetAttachmentThumbnailBlob","MAWIsFBXMA","MAWIsReceiverFetchXmaInLoadingState","MAWLocalizationType","MAWSecureAudioAttachmentContent.react","MAWSecureFileAttachmentContent.react","MAWSecureGroupedImageAttachment.react","MAWSecureImageAttachmentContent.react","MAWSecureStickerAttachmentContent.react","MAWSecureVideoAttachmentContent.react","MAWSecureXMAAttachmentContent.react","MWChatBubbleEmphasisRing.react","MWChatTypingIndicator.react","MWPAttachmentDataContext","MWPMessageListAttachmentContainer.react","MWV2AttachmentLoadingPlaceholder.react","MWV2ChatBubbleContainer.react","MWV2ChatText.react","MWV2TombstonedMessage.react","MWXMessageBubble.react","MessagingAttachmentType","cr:10515","cr:3015","getMAWLocalizedFallbackMsgSnippet","isReceiverFetchSticker","react","useGetMediaGroupInformation","useIssueMediaReceiverFetchTask","useIssueXMAReceiverFetchTask","useXMAPreviewsDisabledSetting"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=h||(h=d("react"));e=h;var l=e.useEffect,m=e.useMemo,n={unsetWidth:{width:"x4pn7vq",$$css:!0}};function o(a){var e=a.dbAttachment,f=a.connectBottom,g=a.connectTop,h=a.hasText,m=a.mediaRenderQpl,n=a.message;a=a.outgoing;var o=e.attachmentFbid,p=e.attachmentType,q=e.authorityLevel;l(function(){m==null?void 0:m.addPoint("render-secure-attachment-content"),o===(i||(i=d("I64"))).to_string((i||(i=d("I64"))).max_int)&&(i||(i=d("I64"))).equal(q,(j||(j=d("LSIntEnum"))).ofNumber(c("LSAuthorityLevel").OPTIMISTIC))&&(m==null?void 0:m.addPoint("loading_eb_frontloading"))},[o,q,e,m]);var r=c("useGetMediaGroupInformation")(n,!0,m),s=d("MAWAttachmentSizeUtils").getSizeFromAttachment(e),t=s.height;s=s.width;switch(!0){case o===(i||(i=d("I64"))).to_string((i||(i=d("I64"))).max_int)&&(i||(i=d("I64"))).equal(q,(j||(j=d("LSIntEnum"))).ofNumber(c("LSAuthorityLevel").OPTIMISTIC)):return k.jsxs(k.Fragment,{children:[k.jsx(c("MWV2AttachmentLoadingPlaceholder.react"),{connectBottom:f,connectTop:g,descriptionForLogging:"MAWSecureAttachment.react.EBFrontloading",hasAppAttribution:e.attributionAppName!=null,height:t,mediaRenderQpl:m,outgoing:a,width:s}),k.jsx(c("CometHeroHoldTrigger.react"),{description:"MAWSecureAttachment.react.EBFrontloading",hold:!0})]});case(i||(i=d("I64"))).equal(p,(j||(j=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").IMAGE)):return c("MAWSecureGroupedImageAttachment.react")!=null&&r!=null?k.jsx(c("MAWSecureGroupedImageAttachment.react"),{mediaGroupInfo:r,mediaRenderQpl:m,outgoing:a}):k.jsx(c("MAWSecureImageAttachmentContent.react"),{connectBottom:f,connectTop:g,dbAttachment:e,getPreviewUrl:d("MAWGetAttachmentThumbnailBlob").getThumbnailBlob,mediaRenderQpl:m,message:n,outgoing:a,previewHeight:t,previewWidth:s});case(i||(i=d("I64"))).equal(p,(j||(j=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").VIDEO)):return k.jsx(c("MAWSecureVideoAttachmentContent.react"),{connectBottom:f,connectTop:g,dbAttachment:e,getPlayableUrl:d("MAWAttachmentBlob.react").getAttachmentBlob,getPreviewUrl:d("MAWGetAttachmentThumbnailBlob").getThumbnailBlob,mediaRenderQpl:m,message:n,outgoing:a,previewHeight:t,previewWidth:s});case(i||(i=d("I64"))).equal(p,(j||(j=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").AUDIO)):return k.jsx(c("MAWSecureAudioAttachmentContent.react"),{connectBottom:f,connectTop:g,dbAttachment:e,getPlayableUrl:d("MAWAttachmentBlob.react").getAttachmentBlob,mediaRenderQpl:m,message:n,outgoing:a});case(i||(i=d("I64"))).equal(p,(j||(j=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").ANIMATED_IMAGE)):return k.jsx(c("MAWSecureImageAttachmentContent.react"),{connectBottom:f,connectTop:g,dbAttachment:e,getPreviewUrl:d("MAWAttachmentBlob.react").getAttachmentBlob,mediaRenderQpl:m,message:n,outgoing:a,previewHeight:t,previewWidth:s});case(i||(i=d("I64"))).equal(p,(j||(j=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").STICKER)):return e.receiverFetchId!=null?k.jsx(c("MAWSecureStickerAttachmentContent.react"),{connectBottom:f,connectTop:g,dbAttachment:e,getPreviewUrl:function(a){return d("LSMediaUrlAttachment").previewUrl(a)},mediaRenderQpl:m,outgoing:a,previewHeight:t,previewWidth:s}):k.jsx(c("MAWSecureStickerAttachmentContent.react"),{connectBottom:f,connectTop:g,dbAttachment:e,getPreviewUrl:d("MAWAttachmentBlob.react").getAttachmentBlob,mediaRenderQpl:m,outgoing:a,previewHeight:t,previewWidth:s});case(i||(i=d("I64"))).equal(p,(j||(j=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").XMA)):return k.jsx(c("MAWSecureXMAAttachmentContent.react"),{connectBottom:f,connectTop:g,dbAttachment:e,hasText:h,mediaRenderQpl:m,outgoing:a});case(i||(i=d("I64"))).equal(p,(j||(j=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").FILE)):return k.jsx(c("MAWSecureFileAttachmentContent.react"),{connectBottom:f,connectTop:g,dbAttachment:e,getFileUrl:d("MAWAttachmentBlob.react").getAttachmentBlob,mediaRenderQpl:m,outgoing:a});case(i||(i=d("I64"))).equal(p,(j||(j=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").EPHEMERAL_IMAGE)):case(i||(i=d("I64"))).equal(p,(j||(j=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").EPHEMERAL_VIDEO)):return b("cr:3015")!=null?k.jsx(b("cr:3015"),{connectBottom:f,connectTop:g,dbAttachment:e,mediaRenderQpl:m,outgoing:a}):k.jsx(c("MWV2TombstonedMessage.react"),{isOutgoing:a,children:c("getMAWLocalizedFallbackMsgSnippet")(a?d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_SEND_UNRENDERABLE_MESSAGE_FALLBACK:d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_SEND_UNRENDERABLE_MESSAGE_FALLBACK)});default:m==null?void 0:m.endFail("unsupported-attachment");return"Unsupported attachment type"}}o.displayName=o.name+" [from "+f.id+"]";function a(a){var e=a.connectBottom,f=a.connectTop,g=a.hasEmphasisRing,h=a.hasText,p=a.mediaRenderQpl,q=a.message,r=a.outgoing;a=c("useXMAPreviewsDisabledSetting")();var s=d("MWPAttachmentDataContext").useMWPGetAttachments(q),t=s!=null&&s.length>0?s[0]:null;s=q.authorityLevel;var u=q.threadKey;l(function(){t!=null&&(p==null?void 0:p.addAttachmentAnnotations==null?void 0:p.addAttachmentAnnotations(t)),p==null?void 0:p.addPoint("render-secure-attachment",{bool:{has_attachment:t!=null}})},[s,t,p]);c("useIssueXMAReceiverFetchTask")(q.messageId,t==null?void 0:t.receiverFetchId,t==null?void 0:t.xmaContentType,p);c("useIssueMediaReceiverFetchTask")(t?c("isReceiverFetchSticker")(t):!1,q.messageId,u,t==null?void 0:t.receiverFetchId,!0,p,t==null?void 0:t.previewUrl,t==null?void 0:t.previewUrlExpirationTimestampMs,t==null?void 0:t.attachmentType);s=m(function(){return g===!0?function(a){return k.jsx(c("MWChatBubbleEmphasisRing.react"),{connectBottom:!1,connectTop:f,outgoing:r,precedesXMA:!1,children:a})}:void 0},[f,g,r]);if(t==null&&!b("cr:10515"))return null;u=(t==null?void 0:t.xmaContentType)!=null&&(j||(j=d("LSIntEnum"))).toNumber(t.xmaContentType)===c("LSXmaContentType").MSG_RECEIVER_FETCH_FALLBACK;a=a&&d("MAWIsFBXMA").isFBXMA(t==null?void 0:t.xmaContentType);if(a||u){p==null?void 0:p.addPoint("render_rf_xma_fallback");a?p==null?void 0:p.endSuccess():u&&(p==null?void 0:p.endFail("fetch_xma_data_receiver_fetch_failed"));a=babelHelpers["extends"]({},q,{text:t==null?void 0:t.actionUrl});return k.jsxs(k.Fragment,{children:[k.jsx("div",{className:"x1eb86dx x36qwtl xh8yej3"}),k.jsx(c("MWV2ChatBubbleContainer.react"),{connectBottom:e,connectTop:f,hasEmphasisRing:g,message:a,outgoing:r,precedesXMA:!1,children:k.jsx(c("MWV2ChatText.react"),{isSecureMessage:!1,message:a,outgoing:r})})]})}if(d("MAWIsReceiverFetchXmaInLoadingState").isReceiverFetchXmaInLoadingState(q.displayedContentTypes,t)){p==null?void 0:p.addPoint("fetch_xma_data_receiver_fetch");return k.jsxs(k.Fragment,{children:[k.jsx("div",{className:"x1eb86dx x36qwtl xh8yej3"}),k.jsx(c("MWPMessageListAttachmentContainer.react"),{connectTop:f,message:q,outgoing:r,xstyle:n.unsetWidth,children:k.jsxs(c("MWXMessageBubble.react"),{align:r?"right":"left",color:"incoming",connectBottom:e,connectTop:f,children:[k.jsx(c("MWChatTypingIndicator.react"),{}),k.jsx(c("CometHeroHoldTrigger.react"),{description:"MAWSecureAttachment.receiver_fetch.typing_indicator",hold:!0})]})})]})}return k.jsx(c("MWPMessageListAttachmentContainer.react"),{connectTop:f,message:q,paint:(i||(i=d("I64"))).equal(q.displayedContentTypes,(j||(j=d("LSIntEnum"))).ofNumber(4))?!1:void 0,renderEmphasisRing:s,children:t==null&&b("cr:10515")?k.jsxs(k.Fragment,{children:[k.jsx(b("cr:10515"),{connectBottom:e,connectTop:f,mediaRenderQpl:p,message:q,outgoing:r}),k.jsx(c("CometHeroHoldTrigger.react"),{description:"MAWSecureAttachment.react.separate_read",hold:!0})]}):k.jsx(o,{connectBottom:e,connectTop:f,dbAttachment:d("HelpdeskGeminiNullthrows").nullthrows(t),hasText:h,mediaRenderQpl:p,message:q,outgoing:r})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MAWSecureAttachmentRenderer.react",["CometPlaceholder.react","MAWMsg","MAWSecureAttachment.react","MAWSecurePlaceholder.react","MWPActor.react","MWPMessageParsingUtils","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react")),j=h.useCallback;function k(a,b,e,f,g,h,j,k){b=d("MWPMessageParsingUtils").MessageWithAttachments.shouldConnectTop(a,b,"below");e=d("MWPMessageParsingUtils").MessageWithAttachments.shouldConnectBottom(a,e,"below");return i.jsx(c("CometPlaceholder.react"),{fallback:null,name:"MAWSecureAttachmentRenderer.Suspense",children:d("MAWMsg").isMediaMsg(a)||d("MAWMsg").isXMAMsg(a)?i.jsx(c("MAWSecureAttachment.react"),{connectBottom:e,connectTop:b,hasEmphasisRing:k,hasText:h,mediaRenderQpl:g,message:a,outgoing:f}):i.jsx(c("MAWSecurePlaceholder.react"),{actorId:j,message:a})})}k.displayName=k.name+" [from "+f.id+"]";function a(a){var b=d("MWPActor.react").useActor(),c=j(function(c,d,e,f,g,h){return k(c,d,e,f,h,g,b,a)},[b,a]);return c}g.render=k;g.useRenderAttachment=a}),98);
__d("MAWMessageListRow.react",["I64","Int64Hooks","LSMessagingThreadTypeUtil","MAWMessageAssociatedDataContext","MAWMsg","MAWSecureAttachmentRenderer.react","MWMessageRow.react","MWPAttachmentDataContext","MWPVisibleMessageContext.react","MWV2MessageActionsVisibility.react","isMWNewSearchUXEnabled","qex","react","shouldUseImageGrouping","useGetMediaGroupInformation","vulture"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=h||d("react");function a(a){var b=a.domElementRef,e=a.entryPoint,f=a.lastEbMessageTime,g=a.messageAssociatedData,h=a.modal,l=a.row,m=a.rowIndexFromBottom,n=a.thread;c("vulture")("1mEBzePXNcD");a=d("MWV2MessageActionsVisibility.react").useStopHoveringRef();var o=d("LSMessagingThreadTypeUtil").isArmadilloSecure(n.threadType),p=d("MWPVisibleMessageContext.react").useMWPVisibleMessageContext();p=p.visibleMessage;var q=l.message;o=o?(i||(i=d("I64"))).equal(n.threadKey,q.threadKey):!1;var r=!1;if(p!=null){var s=p.messageId;switch(p.source){case"Reply":case"Pinned":r=s===q.messageId;break;case"Search":r=s===q.messageId&&c("isMWNewSearchUXEnabled")();break;default:r=!1}}p=d("MAWSecureAttachmentRenderer.react").useRenderAttachment(r);s=d("Int64Hooks").useMemoInt64(function(){return n.threadType},[n.threadType]);var t=c("useGetMediaGroupInformation")(q,o);if(t!=null&&t.groupId!=null&&t.isFirstMediaMessageInGroup===!1)return null;b={containerThreadKey:n.threadKey,domElementRef:b,entryPoint:e,hasMessageEmphasisRing:r,isMediaGroupLastMessage:t==null?void 0:t.isMediaGroupLastMessage,isModal:h===q.messageId,isSecureMessage:o,lastEbMessageTime:f,message:q,nextMessage:l.nextMessage,prevMessage:l.prevMessage,renderAttachment:p,rowIndexFromBottom:m,stopHoveringRef:a,threadType:s};if(!((e=c("qex")._("1599"))!=null?e:!1))return j.jsx(d("MWPAttachmentDataContext").MWPAttachmentDataContextProvider,{isSecureMessage:o,message:q,children:j.jsx(d("MWMessageRow.react").MWMessageRow,babelHelpers["extends"]({},b))});if(g!=null){r=g.reactions;t=g.attachmentData;h=j.jsx(d("MAWMessageAssociatedDataContext").MAWMessageAssociatedDataContextProvider,{reactions:r,children:j.jsx(d("MWMessageRow.react").MWMessageRow,babelHelpers["extends"]({},b))});if(k(q))return j.jsx(d("MWPAttachmentDataContext").MWPAttachmentDataContextProviderMAW,{attachmentData:t,children:h});else return j.jsx(d("MWPAttachmentDataContext").MWPAttachmentDataContextProviderLS,{message:q,children:h})}else return j.jsx(d("MWPAttachmentDataContext").MWPAttachmentDataContextProviderLS,{message:q,children:j.jsx(d("MAWMessageAssociatedDataContext").MAWMessageAssociatedDataContextFetchReactionsLSProvider,{message:q,children:j.jsx(d("MWMessageRow.react").MWMessageRow,babelHelpers["extends"]({},b))})})}a.displayName=a.name+" [from "+f.id+"]";function k(a){var b;if(d("MAWMsg").isMediaMsg(a)&&!((b=c("qex")._("60"))!=null?b:!1))return!1;if(d("MAWMsg").isXMAMsg(a)&&!((b=c("qex")._("1595"))!=null?b:!1))return!1;if(d("MAWMsg").isReceiverFetchXMAMsg(a))return!1;if(!d("MAWMsg").isMediaMsg(a)&&!d("MAWMsg").isXMAMsg(a))return!1;b=c("shouldUseImageGrouping")(a,!0);return b?!1:!0}g["default"]=a}),98);
__d("MWContextBannerChannelActivationPrompt.react",["fbt","ix","BroadcastChannelQPL","MWXImage.react","MWXTextPairing.react","react","useSinglePartialViewImpression","vulture"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j,k=j||(j=d("react")),l=j.useCallback;function a(){c("vulture")("ajEY08E48e5");var a=l(function(){var a;(a=d("BroadcastChannelQPL")).logCreateChannelNavigationToThreadEnd();a.logCCTVJoinNavigationToThreadEnd();a.logCreateChannelToThreadViewQPLSuccess();a.logCCTVJoinSuccess()},[]);a=c("useSinglePartialViewImpression")({onImpressionStart:a});return k.jsxs("div",babelHelpers["extends"]({className:"x6s0dn4 x78zum5 xdt5ytf xl56j7k xkrivgy x4ii5y1 x1gryazu x1pdq3kb xw5ewwj x2b8uid"},{ref:a,children:[k.jsx(c("MWXImage.react"),{src:i("196163"),xstyle:m.image}),k.jsx(c("MWXTextPairing.react"),{body:h._(/*BTDS*/"__JHASH__2R6ky2hU7sc__JHASH__"),headline:h._(/*BTDS*/"__JHASH__mjI7Tnaq_t2__JHASH__"),level:4,testid:void 0,textAlign:"center"})]}))}a.displayName=a.name+" [from "+f.id+"]";var m={image:{marginBottom:"x1hq5gj4",$$css:!0}};g["default"]=a}),226);
__d("MWContextBannerEndToEndEncryptedBanner.react",["fbt","ix","CometColumn.react","CometColumnItem.react","CometRow.react","CometRowItem.react","FDSIcon.react","FDSTextWithIcon.react","MWXLink.react","MWXText.react","XMessengerHelpCenterContentControllerRouteBuilder","fbicon","react","vulture"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j,k=j||d("react"),l={banner:{backgroundColor:"xlhe6ec",borderTopStartRadius:"x1lq5wgf",borderTopEndRadius:"xgqcy7u",borderBottomEndRadius:"x30kzoy",borderBottomStartRadius:"x9jhf4c",overflowX:"x6ikm8r",overflowY:"x10wlt62",paddingTop:"xz9dl7a",paddingBottom:"xsag5q8",paddingStart:"x1swvt13",paddingEnd:"x1pi30zi",paddingLeft:null,paddingRight:null,$$css:!0}};function a(){var a;c("vulture")("8uKDRDIbxFO");a=(a=c("XMessengerHelpCenterContentControllerRouteBuilder").buildUri({cms_id:"786613221989782"}))==null?void 0:a.toString();return k.jsx(c("CometRow.react"),{align:"center",paddingHorizontal:0,paddingTop:12,children:k.jsx(c("CometRowItem.react"),{children:k.jsxs(c("CometColumn.react"),{spacing:8,verticalAlign:"center",xstyle:l.banner,children:[k.jsx(c("CometColumnItem.react"),{expanding:!0,children:k.jsx(c("MWXText.react"),{align:"center",type:"bodyLink4",children:k.jsx(c("FDSTextWithIcon.react"),{iconBefore:k.jsx(c("FDSIcon.react"),{icon:d("fbicon")._(i("1596805"),10),size:10}),children:h._(/*BTDS*/"__JHASH__Kow3rs5K3HC__JHASH__")})})}),k.jsx(c("CometColumnItem.react"),{children:k.jsx(c("MWXText.react"),{align:"center",color:"secondary",type:"body4",children:h._(/*BTDS*/"__JHASH__yxX1nJvmnv5__JHASH__",[h._implicitParam("=m1",k.jsx(c("MWXText.react"),{color:"blueLink",type:"bodyLink4",children:h._(/*BTDS*/"__JHASH__bPYVQTNBjFa__JHASH__",[h._implicitParam("=m1",k.jsx(c("MWXLink.react"),{href:a,target:"_blank",children:h._(/*BTDS*/"__JHASH__vo_wtcDrjQ6__JHASH__")}))])}))])})})]})})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("MWContextBannerNullstateDescription.react",["I64","LSIntEnum","LSNullstateDescriptionType","MWXText.react","RecoverableViolation.react","react","vulture"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=h||d("react");function a(a){var b=a.kind;a=a.text;c("vulture")("96Yq36dhOIG");if((i||(i=d("I64"))).equal(b,(i||(i=d("I64"))).zero)||(i||(i=d("I64"))).equal(b,(j||(j=d("LSIntEnum"))).ofNumber(c("LSNullstateDescriptionType").SUBTEXT))||(i||(i=d("I64"))).equal(b,(j||(j=d("LSIntEnum"))).ofNumber(c("LSNullstateDescriptionType").TITLE_SMALL_DEFAULT))||(i||(i=d("I64"))).equal(b,(j||(j=d("LSIntEnum"))).ofNumber(c("LSNullstateDescriptionType").TITLE_SMALL_SUBTEXT)))return k.jsx("div",babelHelpers["extends"]({className:"xsag5q8"},{children:k.jsx(c("MWXText.react"),{align:"center",color:"secondary",type:"body4",children:a})}));else return k.jsx(c("RecoverableViolation.react"),{errorMessage:"Unhandled nullstate description",projectName:"messenger_comet"})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWPWebWorkerDisconnectedBanner.react",["ix","CometImageFromIXValue.react","FDSContextualMessage.react","MAWIssueNewUserVisibleErrors","MWXButtonGroup.react","asyncToGeneratorRuntime","fbs","promiseDone","react","requireDeferred","useMAWGetUserVisibleErrors"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||(i=d("react"));e=i;var k=e.useCallback,l=e.useState,m=c("requireDeferred")("MAWEncryptionErrorHandler").__setRef("MWPWebWorkerDisconnectedBanner.react");function a(){var a=c("useMAWGetUserVisibleErrors")(),e=a[0],f=a[1];a=l(!1);var g=a[0],i=a[1];a=l(!1);var n=a[0],o=a[1];a=k(function(){c("promiseDone")(b("asyncToGeneratorRuntime").asyncToGenerator(function*(){i(!0);if((e==null?void 0:e.errorExtraData)==="MAWEARKeychainDecryptionError"){var a=(yield m.load());yield a.handleEARKeychainError()}return f()})(),function(){window.location.reload(!0)},function(){i(!1)})},[f,e]);var p=k(function(){c("promiseDone")(f(),function(){o(!0)})},[o,f]),q=d("MAWIssueNewUserVisibleErrors").errorMsgBodyToFbtMap.get(e==null?void 0:e.errorBodyText),r=d("MAWIssueNewUserVisibleErrors").errorMsgTitleToFbtMap.get(e==null?void 0:e.errorTitleText);return e&&q!=null&&r!=null&&c("FDSContextualMessage.react")&&!n?j.jsx("div",babelHelpers["extends"]({className:"xjf5wm9 x17qophe xdj266r x11i5rnm xat24cr x1mh8g0r x10l6tqk x13vifvy xh8yej3"},{children:j.jsx(c("FDSContextualMessage.react"),{addOnPrimary:j.jsx(c("MWXButtonGroup.react"),{align:"justify",paddingHorizontal:12,primary:{disabled:g,label:c("fbs")._(/*BTDS*/"__JHASH__PnVpnKg9Gg___JHASH__"),loading:g,onPress:a,testid:"mw-encrypted-backups-in-thread-web-worker-failure-reset"}}),body:q,headline:j.jsx(j.Fragment,{children:r}),headlineAriaLabel:r,icon:j.jsx(c("CometImageFromIXValue.react"),{alt:r,source:h("1351648")}),level:4,onClose:p})})):void 0}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("MWMessageElementRefList",[],(function(a,b,c,d,e,f){"use strict";function a(){var a=new Map(),b=new Map(),c={contents:void 0};return{get:function(b,d){var e=a.get(b);if(e==null){c.contents=[b,d];return}return d(e)},set:function(d){var e=b.get(d);if(e!=null)return e;e=function(b){if(b==null){a["delete"](d);return}a.set(d,b);if(c.contents!=null&&c.contents[0]===d){var e=c.contents;e[0];e=e[1];e(b);c.contents=void 0;return}};b.set(d,e);return e}}}f["default"]=a}),66);
__d("useMWCurrentVisibleMessage",["I64","Int64Hooks","LSFactory","LSMessagePointQueryStoredProcedure","MWMessageElementRefList","MWPVisibleMessageContext.react","ReQL","ReQLSuspense","promiseDone","react","setTimeout","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j;b=j||d("react");var k=b.useCallback,l=b.useEffect,m=b.useRef,n=b.useState;function a(a,b){var e=d("MWPVisibleMessageContext.react").useMWPVisibleMessageContext(),g=e.visibleMessage,j=m(c("MWMessageElementRefList")()),o=a==null?void 0:a.threadKey,p=a==null?void 0:a.threadType,q=m(),r=(h||(h=c("useReStore")))(),s=d("ReQLSuspense").useFirst(function(){if(o==null)return d("ReQL").empty();if(g==null)return d("ReQL").fromTableDescending(r.tables.messages_ranges_v2__generated).getKeyRange(o);var a=g.timestamp;return d("ReQL").fromTableDescending(r.tables.messages_ranges_v2__generated).getKeyRange(o).bounds({lte:[a]}).filter(function(b){var c=b.maxTimestampMs;b=b.minTimestampMs;return(i||(i=d("I64"))).ge(a,b)&&(i||(i=d("I64"))).le(a,c)})},[o,g,r],f.id+":59");e=n(function(){return s});var t=e[0],u=e[1];l(function(){q.current=void 0,g==null&&(b==null?void 0:b.current)!=null&&b.current.scrollToBottom()},[b,g]);var v=k(function(a){var d=b==null?void 0:b.current;if(d!=null){c("setTimeout")(function(){return d.scrollElementIntoViewIfNeeded(a)},0);return}},[b]),w=k(function(a){if(a!==q.current)return j.current.get(a,function(b){v(b),q.current=a})},[v]);l(function(){s!=null?u(s):g==null&&u(function(){})},[g,s,u]);l(function(){g!=null&&t!=null&&g.messageId!=null&&w(g.messageId)},[r,g,t,w]);d("Int64Hooks").useEffectInt64(function(){if(a!=null&&s==null&&g!=null&&g.messageId!=null){var b,e=g.messageId;b=(i||(i=d("I64"))).to_int32((b=p)!=null?b:(i||(i=d("I64"))).neg_one);if(b!==-1&&(b===15||b===16))return;c("promiseDone")(r.runInTransaction(function(b){return c("LSMessagePointQueryStoredProcedure")(c("LSFactory")(b),{messageId:e,threadKey:a.threadKey,threadType:a.threadType})},"readwrite",void 0,void 0,f.id+":146"))}},[r,g,s,o,p,a]);return{messageElementRefs:j,messageRange:t,visibleMessage:(e=g)!=null?e:void 0}}g["default"]=a}),98);
__d("useMWLSIsViewerThreadAdminUsingThreadKey",["MWPActor.react","ReQL","ReQLSuspense","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a){var b=d("MWPActor.react").useActor(),e=(h||(h=c("useReStore")))(),g=d("ReQLSuspense").useFirst(function(){return d("ReQL").fromTableAscending(e.tables.participants).getKeyRange(a,b)},[e,b,a],f.id+":24");return(g=g==null?void 0:g.isAdmin)!=null?g:!1}g["default"]=a}),98);
__d("useMWV2ConversationScrollerRefs",["react"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");var i=b.useMemo,j=b.useRef;function a(){var a=j(null),b=j({type:"Bottom"});return i(function(){return{scrollerRef:a,scrollPositionRef:b}},[])}g["default"]=a}),98);
__d("MWThreadUtilHooks",["LSMessagingThreadTypeUtil","MWCMThreadTypes.react","MWLSThread","MWPActor.react","ReQL","ReQLSuspense","useMWCurrentVisibleMessage","useMWLSIsViewerThreadAdminUsingThreadKey","useMWV2ConversationScrollerRefs","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h;function i(a){var b=c("useMWV2ConversationScrollerRefs")();b=c("useMWCurrentVisibleMessage")(a,b.scrollerRef);b=b.messageRange;b=(b=b==null?void 0:b.isLoadingBefore)!=null?b:!1;var e=a.threadKey,g=(h||(h=c("useReStore")))();a=d("ReQLSuspense").useFirst(function(){return d("ReQL").fromTableDescending(g.tables.messages).getKeyRange(e).filter(function(a){return!a.isAdminMessage})},[g,e],f.id+":37");var i=d("ReQLSuspense").useFirst(function(){return d("ReQL").fromTableDescending(g.tables.attachments).getKeyRange(e)},[g,e],f.id+":46");a=a!=null||i!=null;return!(a||b)}function j(a){var b=i(a);return!b?!1:d("LSMessagingThreadTypeUtil").isDiscoverablePublicBroadcastChannel(a.threadType)}function a(a){var b=i(a);a=d("MWLSThread").useThread(a.threadKey,function(a){return a.threadSubtype});return!b?!1:d("MWCMThreadTypes.react").isIGBroadcastChannelThread(a)}function b(a){var b=j(a);a=c("useMWLSIsViewerThreadAdminUsingThreadKey")(a.threadKey);return(d("MWPActor.react").isAPPlus()||d("MWPActor.react").isPromode())&&b&&a}g.useMWIsThreadWithZeroMessage=i;g.useMWIsFBBroadcastChannelWithZeroMessage=j;g.useMWIsIGBroadcastChannelWithZeroMessage=a;g.useMWIsAdminAndFBBroadcastChannelWithZeroMessage=b}),98);
__d("usePageType",["I64","ReQL","ReQLSuspense","gkx","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function a(a){var b=(i||(i=c("useReStore")))(),e=d("ReQLSuspense").useFirst(function(){var c;return d("ReQL").fromTableAscending(b.tables.contacts,["pageType"]).getKeyRange((c=a)!=null?c:(h||(h=d("I64"))).zero)},[b,a],f.id+":24");return!c("gkx")("23425")?void 0:(e==null?void 0:e.pageType)!=null?e.pageType:void 0}g["default"]=a}),98);
__d("MWContextBanner.react",["fbt","BaseView.react","CometPlaceholder.react","I64","LSAuthorityLevel","LSIntEnum","LSMessagingThreadTypeUtil","LSPageType","LSThreadBitOffset","LSThreadTitle.react","LSVerificationBadge.react","MAWThreadCutover","MWCMThreadTypes.react","MWContextBannerChannelActivationPrompt.react","MWContextBannerEndToEndEncryptedBanner.react","MWContextBannerNullstateDescription.react","MWEditMessageOverlay.react","MWPWebWorkerDisconnectedBanner.react","MWThreadPicture.react","MWThreadUtilHooks","MWXText.react","ReQL","ReQLSuspense","cr:1607","cr:5777","gkx","isFeatureLimitEnabled","react","stylex","useIsReadOnlyFeatureLimitedWithThreadType","useMWPEditMessageDeemphasizer","usePageType","useReStore"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k,l,m,n=k||d("react"),o={container:{backgroundColor:"x1eb86dx",paddingBottom:"xsag5q8",paddingStart:"x1ye3gou",paddingEnd:"xn6708d",paddingTop:"x1cnzs8",$$css:!0}};function p(a){var e=a.isBusinessSupport,f=a.isReadOnlyFeatureLimited;a=a.thread;var g=d("MWThreadUtilHooks").useMWIsAdminAndFBBroadcastChannelWithZeroMessage(a);if(f||e)return null;return d("LSMessagingThreadTypeUtil").isGroup(a.threadType)&&(l||(l=d("I64"))).gt(a.authorityLevel,(m||(m=d("LSIntEnum"))).ofNumber(c("LSAuthorityLevel").SERVER_PARTIAL))&&b("cr:5777")!=null?g?n.jsx(c("MWContextBannerChannelActivationPrompt.react"),{}):n.jsx(b("cr:5777"),{thread:a}):null}p.displayName=p.name+" [from "+f.id+"]";function a(a){var e=a.threadKey;a=a.threadType;var g=c("useIsReadOnlyFeatureLimitedWithThreadType")(a),k=d("MAWThreadCutover").useIsCutoverSecureThread(e),q=d("MAWThreadCutover").useODCutoverEligibleOpenOneToOneThread(e)!=null,r=d("LSMessagingThreadTypeUtil").isDiscoverableChannel(a);a=d("MWCMThreadTypes.react").isJoinedCMThread(a);var s=c("useMWPEditMessageDeemphasizer")(),t=(i||(i=c("useReStore")))(),u=d("ReQLSuspense").useFirst(function(){return d("ReQL").fromTableAscending(t.tables.threads,["authorityLevel","isCustomThreadPicture","needsAdminApprovalForNewParticipant","nullstateDescriptionText1","nullstateDescriptionText2","nullstateDescriptionText3","nullstateDescriptionType1","nullstateDescriptionType2","nullstateDescriptionType3","parentThreadKey","threadDescription","threadInviteLink","threadInvitesEnabledV2","threadKey","threadName","threadPictureUrl","threadPictureUrlExpirationTimestampMs","threadPictureUrlFallback","threadType","capabilities","capabilities2","capabilities3","capabilities4","capabilities5"]).getKeyRange(e)},[t,e],f.id+":121"),v=c("usePageType")(u==null?void 0:u.threadKey);if(u==null)return null;var w=d("LSThreadBitOffset").has(47,u);if(w)return null;w=u.nullstateDescriptionText1;var x=u.nullstateDescriptionText2,y=u.nullstateDescriptionText3,z=u.nullstateDescriptionType1,A=u.nullstateDescriptionType2,B=u.nullstateDescriptionType3,C=(l||(l=d("I64"))).equal(u.parentThreadKey,(m||(m=d("LSIntEnum"))).ofNumber(-18)),D=d("LSMessagingThreadTypeUtil").isArmadilloSecure(u.threadType);g=g&&(!D||c("isFeatureLimitEnabled")());var E=n.jsx("span",babelHelpers["extends"]({className:"xxymvpz"},{children:n.jsx(c("CometPlaceholder.react"),{fallback:null,name:"MWContextBanner",children:n.jsx(c("LSVerificationBadge.react"),{size:"large",threadKey:u.threadKey})})})),F=n.jsx(c("LSThreadTitle.react"),{thread:u,wrapOutput:function(a,b){return b}});return n.jsxs(c("BaseView.react"),{children:[n.jsxs("div",babelHelpers["extends"]({},(j||(j=c("stylex"))).props(o.container,s),{"data-testid":void 0,children:[n.jsx("div",babelHelpers["extends"]({className:"x78zum5 xl56j7k xod5an3"},{children:n.jsx(c("MWThreadPicture.react"),{badgeSize:14,photoSize:60,threadKey:u.threadKey})})),n.jsx("div",babelHelpers["extends"]({className:"xod5an3"},{children:n.jsxs(c("MWXText.react"),{align:"center",numberOfLines:1,type:"headlineEmphasized3",children:[F,!r&&!a&&!c("gkx")("24081")&&E]})})),v!=null&&(l||(l=d("I64"))).equal(v,(m||(m=d("LSIntEnum"))).ofNumber(c("LSPageType").AI))?n.jsx("div",babelHelpers["extends"]({className:"xod5an3"},{children:n.jsx(c("MWXText.react"),{align:"center",color:"primary",type:"body4",children:h._(/*BTDS*/"__JHASH__5MDaoXA0f1Z__JHASH__")})})):null,w!=null&&z!=null?n.jsx(c("MWContextBannerNullstateDescription.react"),{kind:z,text:w}):null,x!=null&&A!=null?n.jsx(c("MWContextBannerNullstateDescription.react"),{kind:A,text:x}):null,y!=null&&B!=null?n.jsx(c("MWContextBannerNullstateDescription.react"),{kind:B,text:y}):null,b("cr:1607")!=null&&n.jsx(b("cr:1607"),{threadKey:e}),n.jsx(p,{isBusinessSupport:C,isReadOnlyFeatureLimited:g,thread:u}),D&&!k&&!q?n.jsx(c("MWContextBannerEndToEndEncryptedBanner.react"),{}):null,D&&c("MWPWebWorkerDisconnectedBanner.react")?n.jsx(c("MWPWebWorkerDisconnectedBanner.react"),{}):null]})),n.jsx(c("MWEditMessageOverlay.react"),{})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("useCheckMessageIntegrityForSecureThread",["fbt","I64","Int64Hooks","JSResourceForInteraction","MAWMessageIntegrityCheckDeferred","MetaConfig","Random","cometPushToast","cr:10710","gkx","react","useMWEntrypoint","useMWXLazyDialog"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=(i||d("react")).useCallback,l=(e=b("cr:10710")==null?void 0:b("cr:10710").getIntegrityCheckSampleRate())!=null?e:c("MetaConfig")._("59");function a(a,b,e){var f=c("useMWEntrypoint")(),g=c("useMWXLazyDialog")(c("JSResourceForInteraction")("MWInboxBugReportDialog.react").__setRef("useCheckMessageIntegrityForSecureThread")),i=g[0],m=k(function(a,b){if(!c("gkx")("4852"))return;d("cometPushToast").cometPushToast({action:{label:h._(/*BTDS*/"__JHASH__ZN4i-76hXIi__JHASH__"),onPress:function(c){return i({initialDescription:"Assign to @mengk. \nDetected missing messages on thread: "+(j||(j=d("I64"))).to_string(a)+" at time: "+((c=b)!=null?c:"most recent")+"\nIs there actual message missing? <PLEASE UPDATE: YES/NO>",initialProduct:"chat"})}},message:h._(/*BTDS*/"__JHASH__5ZwW1dU-TAQ__JHASH__"),truncateText:!1})},[i]);return d("Int64Hooks").useCallbackInt64(function(c,g,h,i){if(!d("Random").coinflip(l))return;d("MAWMessageIntegrityCheckDeferred").runMessageIntegrityCheckDeferred(a,b,e,f,h,c,g,i,function(){return m(b,(c==null?void 0:c.primarySortKey)==null?null:(j||(j=d("I64"))).to_float(c==null?void 0:c.primarySortKey))})},[a,b,e,f,m])}g["default"]=a}),226);
__d("useMWEncryptedBackupsGetLatestMessageTimestampForThreadInEB",["I64","ReQL","ReQLSuspense","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function a(a){var b=(i||(i=c("useReStore")))(),e=d("ReQLSuspense").useFirst(function(){return d("ReQL").fromTableAscending(b.tables.occamadillo_most_recent_message_per_thread).getKeyRange(a)},[b,a],f.id+":27"),g=d("ReQLSuspense").useArray(function(){return d("ReQL").fromTableAscending(b.tables.threads).getKeyRange(a)},[b,a],f.id+":35");return(e==null?void 0:e.timestampMs)==null?(h||(h=d("I64"))).div(g[0].lastActivityTimestampMs,h.of_float(1e3)):e==null?void 0:e.timestampMs}g["default"]=a}),98);
__d("MAWMessageList.react",["BaseTheme.react","CometErrorBoundary.react","CometPageletWithDiv.react","CometRelay","CometScreenReaderText.react","EBAPI","FBLogger","I64","LSMessagingThreadTypeUtil","MAWLoadingStateOutstandingUIReadyOfflineQueueSelector","MAWMessageListRow.react","MAWMiActOnActThreadReady","MWBaseTheme","MWBlockingProtectionContext.react","MWChatInteraction","MWContextBanner.react","MWEBEntrypointsKillswitch.enum","MWInboxThreadMessagesSpinner.react","MWJumpToMostRecentMessageButton.react","MWLSThreadDisplayContext","MWPActor.react","MWPMessageListColumn.react","MWPMessageListFocusTable.react","MWPThreadCapabilitiesContext","MWPTypingIndicators.react","MWV2ChatErrorBubble.react","MWV2MessageRowSimple.react","WAJids","asyncToGeneratorRuntime","cr:3907","cr:7486","cr:9458","justknobx","mwpMessageIsReply","react","useAsyncReStore","useCheckMessageIntegrityForSecureThread","useMWEBBackupState","useMWEncryptedBackupsGetLatestMessageTimestampForThreadInEB","useMWMessageRowTheme","useMWPAriaLabelForMessageListGrid","useReStore","withCometPlaceholder"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=j||(j=d("react")),l=j,m=l.useEffect,n=l.useId,o=l.useMemo,p=l.useState;function q(a){return k.jsx(c("MWJumpToMostRecentMessageButton.react"),{onPress:a})}q.displayName=q.name+" [from "+f.id+"]";function r(a,b){return s.apply(this,arguments)}function s(){s=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){a=(yield a);a=(yield d("MAWMiActOnActThreadReady").waitForACTThreadReady(a.tables,b,"MAWMessageList"));b=(yield c("EBAPI").messageMetadataQuery({direction:"after",fetchPolicy:"store-or-network",numberOfMessages:1,referenceTimestamp:null,threadId:d("WAJids").threadIdForChatJid(a.chatJid)}));return b.value?b.value.messages:[]});return s.apply(this,arguments)}function a(a){var b=a.theme;b=b===void 0?d("MWBaseTheme").empty:b;var e=a.threadKey;a=a.threadType;var f=d("MWPTypingIndicators.react").useTypingParticipants(e),g=d("MWPTypingIndicators.react").useAccessibilityText(f);if(f.length>0)return k.jsx(c("BaseTheme.react"),{config:b,children:k.jsx(c("MWV2MessageRowSimple.react"),{children:k.jsxs(d("MWPMessageListColumn.react").MWPMessageListColumnGrow,{children:[k.jsx("div",{"aria-live":"polite",children:k.jsx(c("CometScreenReaderText.react"),{text:g})}),k.jsx(d("MWPTypingIndicators.react").MWPTypingIndicators,{threadKey:e,threadType:a})]})})});else return null}a.displayName=a.name+" [from "+f.id+"]";var t=d("withCometPlaceholder").withCometPlaceholder(a,null,"MAWTypingIndicators");l=k.forwardRef(e);function e(a,e){var f=a.cutoverOpenThread,g=a.entryPoint,j=a.onScrollToBottom,l=a.thread;a=(h||(h=c("useReStore")))();var s=c("useAsyncReStore")(),u=d("MWPActor.react").useActor(),v=c("useMWPAriaLabelForMessageListGrid")(l),w=c("useMWMessageRowTheme")(),x=p(""),y=x[0];x=x[1];var z=n(),A=d("CometRelay").useRelayEnvironment(),B=p([]),C=B[0],D=B[1];m(function(){r(s,l.threadKey).then(function(a){return D(a)})["catch"](function(a){return c("FBLogger")("messenger_e2ee_web").catching(a).warn("Unable to get last EB message timestamp")})},[s,A,l.threadKey]);var E=c("useMWEBBackupState")({entrypoint:c("MWEBEntrypointsKillswitch.enum").IN_THREAD_GAP_UI}),F=c("useMWEncryptedBackupsGetLatestMessageTimestampForThreadInEB")(l.threadKey),G=o(function(){var a;if(E===2)return null;else if(C.length>0&&C[0].sortOrderMs!=null)return(i||(i=d("I64"))).of_string(C[0].sortOrderMs);return(a=F)!=null?a:(i||(i=d("I64"))).zero},[E,C,F]),H=c("useCheckMessageIntegrityForSecureThread")(a,l.threadKey,l.threadType);B=b("cr:9458")(!1,l,d("MAWLoadingStateOutstandingUIReadyOfflineQueueSelector").outstandingUIReadyOfflineQueueSelector);var I=d("LSMessagingThreadTypeUtil").isArmadilloSecure(l.threadType);A=d("MWLSThreadDisplayContext").useMWLSThreadDisplayContext();a=A==="ChatTab";A=c("justknobx")._("2575");var J=c("justknobx")._("2038");a=a?J:A;J=k.jsx(b("cr:7486"),{entryPoint:g,onPageLoaded:function(a,b,c,e){I&&H(a,b,c,e);a=d("MWChatInteraction").getInteractionTraceForThreadKey((i||(i=d("I64"))).to_string(l.threadKey));if(a==null)return;a.addMarkerPoint("page_loaded","AppTiming",void 0,{page_index:e,page_size:c,total_number_of_messages:b.length})},onScrollToBottom:j,pageSize:a,ref:e,renderFooter:function(){return k.jsx(t,{theme:w,threadKey:l.threadKey,threadType:l.threadType})},renderHeader:function(){return k.jsxs(d("MWPMessageListColumn.react").MWPMessageListColumnGrowJustified,{children:[k.jsx(d("MWPMessageListColumn.react").MWPMessageListColumnVerticalRhythm,{height:20}),k.jsx(c("MWContextBanner.react"),{threadKey:l.threadKey,threadType:l.threadType})]})},renderJumpToMostRecentMessageButton:q,renderLoadingAnimation:function(a){return k.jsx(c("MWInboxThreadMessagesSpinner.react"),{vcIgnore:a})},renderRow:function(a){var b=a.domElementRef,e=a.message,f=a.messageAssociatedData,h=a.nextMessage,j=a.prevMessage;a=a.rowIndexFromBottom;var m=c("mwpMessageIsReply")(e),n=(i||(i=d("I64"))).equal(e.senderId,u);return k.jsx(c("CometErrorBoundary.react"),{fallback:function(){return k.jsx(c("MWV2ChatErrorBubble.react"),{isOutgoing:n,isReply:m})},children:k.jsx(c("MAWMessageListRow.react"),{domElementRef:b,entryPoint:g,lastEbMessageTime:G,messageAssociatedData:f,modal:y,row:{message:e,nextMessage:h,prevMessage:j},rowIndexFromBottom:a,thread:l})})},secondaryThread:f,shouldPausePageLoadTracking:B,thread:l});return k.jsx("div",babelHelpers["extends"]({className:"x78zum5 xdt5ytf x1iyjqo2 x5yr21d"},{"data-testid":void 0,id:z,children:k.jsx(d("CometPageletWithDiv.react").Placeholder,{className:"x78zum5 xdt5ytf x1iyjqo2 x5yr21d",fallback:null,name:"MWV2MessageList",children:k.jsx(d("MWPThreadCapabilitiesContext").Provider,{thread:l,children:k.jsx(c("MWBlockingProtectionContext.react").Provider,{children:k.jsx(c("MWPMessageListFocusTable.react"),{ariaLabel:v,modal:y,setModal:x,children:b("cr:3907")==null?J:k.jsx(b("cr:3907"),{id:z,children:J})})})})})}))}e.displayName=e.name+" [from "+f.id+"]";a=l;g["default"]=a}),98);
__d("MWPOneToOneThreadBlockedContext.react",["I64","Int64Hooks","LSContactBlockedByViewerStatus","LSIntEnum","MWV2OneToOneThreadBlockedContext.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=h||d("react");function a(a){var b=a.children,e=a.participants,f=a.thread;a=d("Int64Hooks").useMemoInt64(function(){if(!((i||(i=d("I64"))).equal(f.threadType,(j||(j=d("LSIntEnum"))).ofNumber(1))||(i||(i=d("I64"))).equal(f.threadType,(j||(j=d("LSIntEnum"))).ofNumber(15))))return!1;var a={contents:!1};e.forEach(function(b,e,f){if(!(i||(i=d("I64"))).equal(b[1].blockedByViewerStatus,(j||(j=d("LSIntEnum"))).ofNumber(c("LSContactBlockedByViewerStatus").UNBLOCKED))){a.contents=!0;return}});return a.contents},[f.threadType,e]);return k.jsx(d("MWV2OneToOneThreadBlockedContext.react").MWV2OneToOneThreadBlockedContext,{blocked:a,children:b})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWV2SeenHead.react",["GenderConst","I64","LSIntEnum","MWMessageDeliveryStatus","getLSMediaContactProfilePictureUrl"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function j(a){var b,e=a[0];a=a[1];return{gender:c("GenderConst").NOT_A_PERSON,id:(h||(h=d("I64"))).to_string(a.id),imageSrc:c("getLSMediaContactProfilePictureUrl")(a),name:(b=e.nickname)!=null?b:a.name,timestamp:h.to_float(e.readActionTimestampMs)}}function a(a,b){var c={contents:(h||(h=d("I64"))).zero};a.forEach(function(a,e,f){e=a[0];if(!(h||(h=d("I64"))).equal(e.contactId,b)&&(h||(h=d("I64"))).gt(e.deliveredWatermarkTimestampMs,c.contents)){c.contents=e.deliveredWatermarkTimestampMs;return}});return c.contents}function b(a){return new Set([(h||(h=d("I64"))).to_string(a)])}function e(a,b,c,e,f,g){var k=[];b.forEach(function(b,e,f){if(c.has(e)||a.isAdminMessage)return;if(!(h||(h=d("I64"))).equal(a.sendStatusV2,(i||(i=d("LSIntEnum"))).ofNumber(2)))return;f=b[0];var l=(h||(h=d("I64"))).equal(a.senderId,f.contactId);f=h.le(a.timestampMs,f.readWatermarkTimestampMs);if(l||f){k.push(j(b));if(!g){c.add(e);return}else return}});var l=k.length===0&&c.size===1;if(k.length<=0)if((h||(h=d("I64"))).equal(a.senderId,f))return d("MWMessageDeliveryStatus").getDeliveryStatusForMessageSentByYou(a,e,l);else return{type:"NoneStatus"};if(!g)if(k.length>1)return{heads:k,type:"MultipleSeenHeads"};else return{head:k[0],type:"SingleSeenHead"};f=k.length===b.size-1;return{delivered:f,heads:k,type:"DeliveredAndRead"}}g.calculateMaxDeliveredTimestamp=a;g.makeExistingSeenHeads=b;g.deliveryStatusForMessage=e}),98);
__d("MWPBaseMessageList_DEPRECATED",["BaseHeadingContextWrapper.react","CometHideableComponentExperiment.react","LSMessagingThreadTypeUtil","MWPActor.react","MWPMessageAuthor.react","MWPOneToOneThreadBlockedContext.react","MWV2SeenHead.react","gkx","justknobx","react","vulture"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react"),j={backgroundColor:{backgroundColor:"x1eb86dx",$$css:!0}};function a(a){var b=a.children,e=a.messages,f=a.participants,g=a.renderRow;a=a.thread;c("vulture")("7wS6teLdJM0");var h=d("MWPActor.react").useActor(),k=d("MWV2SeenHead.react").calculateMaxDeliveredTimestamp(f,h),l=d("MWV2SeenHead.react").makeExistingSeenHeads(h),m=d("LSMessagingThreadTypeUtil").isGroup(a.threadType)&&d("LSMessagingThreadTypeUtil").isArmadilloSecure(a.threadType),n=[];for(var o=e.length-1|0;o>=0;--o){var p=o===0?void 0:e[o-1|0],q=o>=(e.length-1|0)?void 0:e[o+1|0],r=e[o],s=d("MWV2SeenHead.react").deliveryStatusForMessage(r,f,l,k,h,m);n.push(i.jsx(c("CometHideableComponentExperiment.react"),{callingSurface:"thread_view",disableHiding:!0,unmountXStyle:j.backgroundColor,children:i.jsx(d("MWPMessageAuthor.react").MWPMessageAuthor,{contactId:r.senderId,threadKey:r.threadKey,children:g({message:r,nextMessage:q,prevMessage:p,rowIndexFromBottom:c("gkx")("7810")?e.length-1-o:0,status:s})})},c("justknobx")._("2310")?r.offlineThreadingId:r.messageId))}if(n.length===0)return null;else return i.jsx(c("BaseHeadingContextWrapper.react"),{children:i.jsx("div",babelHelpers["extends"]({className:"x1ja2u2z"},{children:i.jsx(c("MWPOneToOneThreadBlockedContext.react"),{participants:f,thread:a,children:b(n.reverse())})}))})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MAWMessageList_DEPRECATED.react",["BaseTheme.react","CometPageletWithDiv.react","CometScreenReaderText.react","I64","Int64Hooks","MAWMessageListRow.react","MWBaseTheme","MWBlockingProtectionContext.react","MWPBaseMessageList_DEPRECATED","MWPMessageListColumn.react","MWPMessageListFocusTable.react","MWPThreadCapabilitiesContext","MWPTypingIndicators.react","MWV2MessageRowSimple.react","ReQL","ReQLSuspense","cr:3907","react","useMWEncryptedBackupsGetLatestMessageTimestampForThreadInEB","useMWMessageRowTheme","useMWPAriaLabelForMessageListGrid","useReStore","withCometPlaceholder"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=i||(i=d("react")),l=i,m=l.useEffect,n=l.useId,o=l.useState;function p(a,b){return new Map(d("ReQLSuspense").useArray(function(){return d("ReQL").mergeJoin(d("ReQL").fromTableAscending(b.tables.participants).getKeyRange(a.threadKey),d("ReQL").fromTableAscending(b.tables.contacts)).map(function(a){var b=a[0];a=a[1];return[(j||(j=d("I64"))).to_string(a.id),[b,a]]})},[b,a.threadKey],f.id+":76"))}function q(a,b){m(function(){var c;if((a==null?void 0:(c=a.scrollPositionRef.current)==null?void 0:c.type)==="Bottom"&&b.length>0){c=a.scrollerRef.current;c==null?void 0:c.scrollToBottom()}},[b,a])}function a(a){var b=a.scrollerRefs,e=a.theme;e=e===void 0?d("MWBaseTheme").empty:e;var f=a.threadKey;a=a.threadType;var g=d("MWPTypingIndicators.react").useTypingParticipants(f),h=d("MWPTypingIndicators.react").useAccessibilityText(g);q(b,g);if(g.length>0)return k.jsx(c("BaseTheme.react"),{config:e,children:k.jsx(c("MWV2MessageRowSimple.react"),{children:k.jsxs(d("MWPMessageListColumn.react").MWPMessageListColumnGrow,{children:[k.jsx("div",{"aria-live":"polite",children:k.jsx(c("CometScreenReaderText.react"),{text:h})}),k.jsx(d("MWPTypingIndicators.react").MWPTypingIndicators,{threadKey:f,threadType:a})]})})});else return null}a.displayName=a.name+" [from "+f.id+"]";var r=d("withCometPlaceholder").withCometPlaceholder(a,null,"MAWTypingIndicators");function e(a){var e=a.messageElementRefs,f=a.messages,g=a.scrollerRefs,i=a.thread;a=(h||(h=c("useReStore")))();a=p(i,a);var j=c("useMWPAriaLabelForMessageListGrid")(i),l=c("useMWMessageRowTheme")(),m=o(""),q=m[0],s=m[1],t=n(),u=d("Int64Hooks").useMemoInt64(function(){return i.threadType},[i.threadType]),v=c("useMWEncryptedBackupsGetLatestMessageTimestampForThreadInEB")(i.threadKey);return k.jsx(c("MWPBaseMessageList_DEPRECATED"),{messages:f,participants:a,renderRow:function(a){var b=a.message,d=a.messageAssociatedData,f=a.nextMessage,g=a.prevMessage;a=a.rowIndexFromBottom;return k.jsx(c("MAWMessageListRow.react"),{domElementRef:e.set(b.messageId),lastEbMessageTime:v,messageAssociatedData:d,modal:q,row:{message:b,nextMessage:f,prevMessage:g},rowIndexFromBottom:a,thread:i})},thread:i,children:function(a){a=k.jsxs(k.Fragment,{children:[a,k.jsx(r,{scrollerRefs:g,theme:l,threadKey:i.threadKey,threadType:u})]});return k.jsx("div",{"data-testid":void 0,id:t,children:k.jsx(d("CometPageletWithDiv.react").Placeholder,{fallback:null,name:"MWV2MessageList",children:k.jsx(d("MWPThreadCapabilitiesContext").Provider,{thread:i,children:k.jsx(c("MWBlockingProtectionContext.react").Provider,{children:k.jsx(c("MWPMessageListFocusTable.react"),{ariaLabel:j,modal:q,setModal:s,children:b("cr:3907")==null?a:k.jsx(b("cr:3907"),{id:t,children:a})})})})})})}})}e.displayName=e.name+" [from "+f.id+"]";g["default"]=e}),98);
__d("useSecureThreadDetailGetDevices",["I64","LSAuthorityLevel","LSIntEnum","ReQL","ReQLSuspense","WABridgedAPI","WAJids","promiseDone","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j;b=h||d("react");var k=b.useEffect,l=b.useRef;function a(a,b){var e=d("ReQLSuspense").useArray(function(){return d("ReQL").mergeJoin(d("ReQL").fromTableAscending(b.tables.participants,["contactId"]).getKeyRange(a.threadKey),d("ReQL").fromTableAscending(b.tables.contacts)).map(function(a){var b=a[0].contactId;a=a[1];return(i||(i=d("I64"))).ge(a.authorityLevel,(j||(j=d("LSIntEnum"))).ofNumber(c("LSAuthorityLevel").AUTHORITATIVE))?d("WAJids").toMsgrUserJid((i||(i=d("I64"))).to_string(b)):null}).filter(Boolean)},[b,a.threadKey],f.id+":30"),g=l(new Set());k(function(){var a=g.current.size!==e.length||!e.every(function(a){return g.current.has(a)});if(!a&&e.length>2)return;a=new Set(e);g.current=a;c("promiseDone")(c("WABridgedAPI").getDevices({ignoreDhash:!1,reason:"details-participants-changed",users:a}))},[e])}g["default"]=a}),98);
__d("MAWSecureThreadDetail.react",["CometPlaceholder.react","ComponentMountUnmountSubspanLogger.react","E2EEMessagingLinkContext.react","I64","LSAuthorityLevel","LSIntEnum","MAWMessageList.react","cr:7127","cr:9776","react","useReStore","useSecureThreadDetailGetDevices"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k,l,m=l||(l=d("react")),n=l.useState;function a(a,b){}var o=(h=b("cr:7127"))!=null?h:a;function e(a){var e=a.cutoverOpenThread,f=a.entryPoint,g=a.messageListRef;a=a.thread;var h=(i||(i=c("useReStore")))();c("useSecureThreadDetailGetDevices")(a,h);var l=n(!0),p=l[0],q=l[1];l=e!=null&&(j||(j=d("I64"))).equal(e.authorityLevel,(k||(k=d("LSIntEnum"))).ofNumber(c("LSAuthorityLevel").AUTHORITATIVE));o(h,a.threadKey);return m.jsxs(m.Fragment,{children:[m.jsx(c("CometPlaceholder.react"),{fallback:null,name:"MAWCutoverEncryptedBackupsBanner",children:b("cr:9776")!=null&&l&&m.jsx(b("cr:9776"),{isShown:!p})}),m.jsxs(d("E2EEMessagingLinkContext.react").E2EEMessagingLinkProvider,{isSecure:!0,children:[m.jsx(c("ComponentMountUnmountSubspanLogger.react"),{description:"MAWSecureThreadDetail"}),m.jsx(c("MAWMessageList.react"),{cutoverOpenThread:e,entryPoint:f,onScrollToBottom:function(a){return q(a)},ref:g,thread:a})]})]})}e.displayName=e.name+" [from "+f.id+"]";g["default"]=e}),98);
__d("isEventSupported",["fbjs/lib/ExecutionEnvironment"],(function(a,b,c,d,e,f,g){"use strict";var h;c("fbjs/lib/ExecutionEnvironment").canUseDOM&&(h=document.implementation&&document.implementation.hasFeature("","")!==!0);function a(a,b){if(!c("fbjs/lib/ExecutionEnvironment").canUseDOM||b===!0&&!("addEventListener"in document))return!1;b="on"+a;var d=b in document;if(!d){var e=document.createElement("div");e.setAttribute(b,"return;");d=typeof e.getAttribute(b)==="function"}!d&&h&&a==="wheel"&&(d=document.implementation.hasFeature("Events.wheel","3.0"));return d}g["default"]=a}),98);
__d("MWChatConversationScroller.react",["BaseScrollableAreaContext","CometThrottle","ExecutionEnvironment","MWXScrollableAreaStyles","emptyFunction","isEventSupported","react","stylex","useLayoutEffect_SAFE_FOR_SSR"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=j||(j=d("react"));b=j;var l=b.useCallback,m=b.useContext,n=b.useEffect,o=b.useImperativeHandle,p=b.useLayoutEffect,q=b.useMemo,r=b.useRef;function s(a,b){a=a!=null?a:20;if(b==null)return!1;else return b.scrollTop+b.clientHeight>=b.scrollHeight-a}function t(a,b){a=a!=null?a:20;if(b==null)return!1;else return b.scrollTop<=a}var u={contained:{contain:"x16qrkmw",$$css:!0},root:{display:"x78zum5",flexDirection:"xdt5ytf",flexGrow:"x1iyjqo2",overflowX:"x6ikm8r",overflowY:"x1odjw0f",overscrollBehavior:"xish69e",$$css:!0}},v=(h||(h=c("ExecutionEnvironment"))).canUseDOM?document.body.style.overscrollBehavior==null&&((e=document.body)==null?void 0:e.style.scrollBoundaryBehavior)==null:!1;d=k.forwardRef(a);function a(a,b){var d=a.boundingClientRectRef,e=a.children,f=a.dispatch,g=a.hasMoreAfter,h=a.onScroll,j=h===void 0?c("emptyFunction"):h,w=a.scrollPositionRef,x=r(f),y=r(null),z=l(function(a){y.current=a;if(d!=null){d.current=a!=null?a.getBoundingClientRect():void 0;return}},[d]);n(function(){x.current=f});var A=function(a,b){b=y.current;if(b!=null){b.scrollTop=a;return}},B=function(a){a===void 0&&(a=!1);var b=y.current;if(b!=null)return A(b.scrollHeight,a)},C=function(a,b){var c=y.current;if(c!=null)return A(c.scrollHeight-(a+c.clientHeight),b)},D=r(!1);D.current=g;var E=function(){var a=w.current,b=y.current;b=b!=null?b.scrollHeight-(b.scrollTop+b.clientHeight):void 0;var c=s(void 0,y.current),d=t(void 0,y.current);w.current=c?D.current?{type:"Island"}:{type:"Bottom"}:b!=null?d?{type:"Top",value:b}:{type:"Between",value:b}:{type:"Bottom"};c=w.current;d=0;var e=0;switch(a.type){case"Bottom":d=1;break;case"Top":case"Between":e=2;break;case"Island":break}if(e===2)switch(c.type){case"Top":d=1;break;case"Between":break;case"Bottom":case"Island":x.current("ScrollToBottom");break}if(d===1){e=0;switch(a.type){case"Top":break;case"Bottom":case"Between":e=2;break}e===2&&c.type==="Top"&&x.current("ScrollToTop")}return j(b)},F=function(a){if(v){var b=a.deltaY>0,c=a.deltaY<0;(b&&s(0,y.current)||c&&t(0,y.current))&&a.preventDefault()}return E()},G=function(a){var b=c("isEventSupported")("mousewheel")?"mousewheel":c("isEventSupported")("wheel")?"wheel":"DOMMouseScroll",d=function(b,c){a.addEventListener(b,c,{passive:!0});return function(){return a.removeEventListener(b,c,{passive:!0})}},e=function(){return a.addEventListener(b,F,{passive:!v})},f=function(){return a.removeEventListener(b,F,{passive:!v})},g=d("mouseenter",e),h=d("mouseleave",f);e=c("CometThrottle")(E,50,{trailing:!0});var i=d("scroll",e),j=d("mouseup",E),k=d("mousedown",E);return function(){f();i();g();h();k();return j()}};n(function(){var a=y.current;if(a==null)return;var b=G(a);return function(){return b()}},[]);p(function(){var a=y.current;a!=null&&a.clientHeight>0&&Math.abs(a.clientHeight-a.scrollHeight)<20&&x.current("ContentDoesNotFillContainer")});c("useLayoutEffect_SAFE_FOR_SSR")(function(){var a=w.current;switch(a.type){case"Bottom":B();break;case"Top":C(a.value,!1);break;case"Between":case"Island":break}});c("useLayoutEffect_SAFE_FOR_SSR")(function(){var a=w.current;switch(a.type){case"Bottom":B();break;case"Top":case"Between":C(a.value,!1);break;case"Island":break}},[]);var H=m(c("BaseScrollableAreaContext")),I=q(function(){return{getDOMNode:function(){return y.current}}},[]);h=q(function(){return H.concat([I])},[I,H]);o(b,function(){return{getScroller:function(){return z},isContainerFilled:function(){var a=y.current;if(a==null)return!0;else return!(a.clientHeight>0&&Math.abs(a.clientHeight-a.scrollHeight)<20)},scrollElementIntoViewIfNeeded:function(a){var b=y.current;if(b==null)return;var c=a.getBoundingClientRect();b=b.getBoundingClientRect();c=c.top;b=b.top;if(c<=b){a.scrollIntoView();return}},scrollToBottom:function(){w.current={type:"Bottom"};return B()},scrollToElement:function(a,b){var c=y.current;if(c==null)return;a.scrollIntoView();a=a.getBoundingClientRect();var d=c.getBoundingClientRect();a=a.top;d=d.top;if(a<=d){c.scrollBy(0,-b|0);return E()}},scrollToPosition:C}},[]);return k.jsx(c("BaseScrollableAreaContext").Provider,{children:k.jsx("div",babelHelpers["extends"]({},(i||(i=c("stylex"))).props(u.root,u.contained,c("MWXScrollableAreaStyles").themed),{"data-release-focus-from":"CLICK",ref:z,tabIndex:-1,children:e})),value:h})}a.displayName=a.name+" [from "+f.id+"]";b=d;g["default"]=b}),98);
__d("MWV2MessageScroller.react",["LSIntEnum","LSMailboxMessagesRangeQueryDirection","MWChatConversationScroller.react","emptyFunction","react","useMWMarkThreadAsReadWhenNewMessagesArrive"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=h||(h=d("react")),k=h.useCallback;function a(a){var b=a.children,e=a.fetchMore,f=a.hasMoreAfter,g=a.hasMoreBefore,h=a.markThreadAsRead,l=a.onScroll;l=l===void 0?c("emptyFunction"):l;var m=a.scrollerRefs;a=a.thread;h=h;var n=k(function(){var a;return((a=m.scrollPositionRef.current)==null?void 0:a.type)==="Bottom"},[m]),o=k(function(){return!1}),p=c("useMWMarkThreadAsReadWhenNewMessagesArrive")(a,h,n,o);return j.jsx(c("MWChatConversationScroller.react"),{dispatch:function(a){switch(a){case"ContentDoesNotFillContainer":if(g)return e((i||(i=d("LSIntEnum"))).ofNumber(c("LSMailboxMessagesRangeQueryDirection").BEFORE));else return;case"ScrollToBottom":if(f)return e((i||(i=d("LSIntEnum"))).ofNumber(c("LSMailboxMessagesRangeQueryDirection").AFTER));else return p();case"ScrollToTop":return e((i||(i=d("LSIntEnum"))).ofNumber(c("LSMailboxMessagesRangeQueryDirection").BEFORE))}},hasMoreAfter:f,onScroll:l,ref:m.scrollerRef,scrollPositionRef:m.scrollPositionRef,children:b})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("useFetchCutoverMessages",["I64","InteractionTracingMetrics","LSIntEnum","LSMailboxMessagesRangeQueryDirection","MAWFetchMoreMessages","MAWStateContext.react","MWPFetchMessagesPageV2","ReQL","promiseDone","react","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k;b=k||d("react");var l=b.useCallback,m=b.useContext;function a(a,b,e,f,g){var k=(h||(h=c("useReStore")))(),n=m(d("MAWStateContext.react").MAWDispatchContext),o=d("MAWFetchMoreMessages").useSecureDataStorage();return l(function(h){h=(i||(i=d("I64"))).equal(h,(j||(j=d("LSIntEnum"))).ofNumber(c("LSMailboxMessagesRangeQueryDirection").AFTER))?"after":"before";if(e==null)return;c("InteractionTracingMetrics").currentInteractionLogger().forEach(function(a){c("InteractionTracingMetrics").addMarkerPoint(a.traceId,"fetch_messages_page_start","AppTiming")});c("promiseDone")(c("MWPFetchMessagesPageV2")(k,g,h,d("ReQL").key(e.threadKey,e.minTimestampMs,e.minMessageId),a.threadType,f==null?null:d("ReQL").key(f.threadKey,f.minTimestampMs,f.minMessageId),b==null?void 0:b.threadType,o,n).then(function(){c("InteractionTracingMetrics").currentInteractionLogger().forEach(function(a){c("InteractionTracingMetrics").addMarkerPoint(a.traceId,"fetch_messages_page_end","AppTiming")})}))},[b==null?void 0:b.threadType,k,n,f,g,o,a.threadType,e])}g["default"]=a}),98);
__d("useMWChatLoadMoreItemsIncrementally",["I64","LSIntEnum","LSMailboxMessagesRangeQueryDirection","react","unrecoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j;b=h||d("react");var k=b.useCallback,l=b.useMemo,m=b.useRef,n=b.useState,o={contents:void 0};function p(){if(o.contents==null){var a;o.contents=((a=window.document.documentElement)==null?void 0:a.style.overflowAnchor)!=null}return(a=o.contents)!=null?a:!1}function a(a,b,e,f,g,h){a=a!=null?a:!1;var o=b!=null?b:!0;b=e!=null?e:{type:"Bottom"};e=a||!p();var q=f.length,r;switch(b.type){case"Top":case"Between":r=b.value>=200;break;case"Bottom":case"Island":r=!1;break}a=n(function(){if(r)return q;return o?window.screen.availHeight<1200?20:40:10});var s=a[0],t=a[1];b=l(function(){return f.slice(-s)},[f,s]);var u=m(s);a=k(function(a){if(!(i||(i=d("I64"))).equal(a,(j||(j=d("LSIntEnum"))).ofNumber(c("LSMailboxMessagesRangeQueryDirection").BEFORE)))throw c("unrecoverableViolation")("Message fetch direction must be 'before'","maw_db");if(u.current+15<=q){u.current+=15;return t(function(){return u.current})}else{g((j||(j=d("LSIntEnum"))).ofNumber(c("LSMailboxMessagesRangeQueryDirection").BEFORE));if(u.current<q+15){u.current=q+15;return t(function(){return u.current})}}},[g,q,t]);return e?[f,g,h]:[b,a,h||s<q]}g["default"]=a}),98);
__d("MAWSecureThreadDetail_DEPRECATED.react",["CometHeroHoldTrigger.react","CometPageletWithDiv.react","CometPlaceholder.react","ComponentMountUnmountSubspanLogger.react","E2EEMessagingLinkContext.react","I64","Int64Hooks","LSAuthorityLevel","LSIntEnum","LSMessagingThreadTypeUtil","MAWLoadingStateOutstandingUIReadyOfflineQueueSelector","MAWMessageList_DEPRECATED.react","MWContextBanner.react","MWInboxThreadMessagesSpinner.react","MWPMessageListColumn.react","MWV2MessageScroller.react","MessageForIntegrityCheck","ReQL","ReQLSuspense","cr:9458","cr:9776","emptyFunction","gkx","logMessengerWebFalcoEvent","react","useCheckMessageIntegrityForSecureThread","useFetchCutoverMessages","useMAWMarkThreadAsRead","useMWChatLoadMoreItemsIncrementally","useMWCurrentVisibleMessage","useMWV2ConversationScrollerRefs","useObserveMessagePageLoad","useReStore","useSecureThreadDetailGetDevices"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k,l=i||(i=d("react"));e=i;var m=e.useCallback,n=e.useImperativeHandle,o=e.useMemo,p=e.useState,q=10,r=10,s=10,t=30;function u(a,b){var c=(k||(k=d("I64"))).compare(a.primarySortKey,b.primarySortKey);if(c!==0)return c;c=k.compare((c=a.secondarySortKey)!=null?c:(k||(k=d("I64"))).zero,(c=b.secondarySortKey)!=null?c:(k||(k=d("I64"))).zero);return c!==0?c:k.compare(a.timestampMs,b.timestampMs)}function v(a,b){var e=(h||(h=c("useReStore")))();return d("ReQLSuspense").useArray(function(){var f=d("ReQL").fromTableAscending(e.tables.messages.index("messageDisplayOrder")).getKeyRange(b.threadKey);if(a!=null)return f.bounds({gte:d("ReQL").key(a.minTimestampMs),lte:d("ReQL").key(a.maxTimestampMs)});else if((k||(k=d("I64"))).lt(b.authorityLevel,(j||(j=d("LSIntEnum"))).ofNumber(c("LSAuthorityLevel").AUTHORITATIVE))||d("LSMessagingThreadTypeUtil").isArmadilloSecure(b.threadType))return f;return d("ReQL").empty()},[e,a,b.authorityLevel,b.threadKey,b.threadType],f.id+":103")}function w(a,b){var e=(h||(h=c("useReStore")))();return d("ReQLSuspense").useArray(function(){if(b==null)return d("ReQL").empty();var f=d("ReQL").fromTableAscending(e.tables.messages).getKeyRange(b.threadKey);if(a!=null)return d("ReQL").fromTableAscending(e.tables.messages).getKeyRange(b.threadKey).bounds({gte:d("ReQL").key(a.minTimestampMs),lte:d("ReQL").key(a.maxTimestampMs)});else if((k||(k=d("I64"))).lt(b.authorityLevel,(j||(j=d("LSIntEnum"))).ofNumber(c("LSAuthorityLevel").AUTHORITATIVE))||d("LSMessagingThreadTypeUtil").isArmadilloSecure(b.threadType))return f;return d("ReQL").empty()},[e,b,a],f.id+":137")}function x(a,b){var c=(k||(k=d("I64"))).compare(a.primarySortKey,b.primarySortKey);if(c!==0)return c;c=a.secondarySortKey;var e=b.secondarySortKey;if(c==null)if(e!=null)return-1;else return(k||(k=d("I64"))).compare(a.timestampMs,b.timestampMs);if(e==null)return 1;c=k.compare(c,e);return c!==0?c:k.compare(a.timestampMs,b.timestampMs)}function y(a,b){var d=(h||(h=c("useReStore")))();return c("useCheckMessageIntegrityForSecureThread")(d,a,b)}function z(a,e,f,g,h){var i=v(a,f),j=y(f.threadKey,f.threadType),l=b("cr:9458")(!1,f,d("MAWLoadingStateOutstandingUIReadyOfflineQueueSelector").outstandingUIReadyOfflineQueueSelector);d("useObserveMessagePageLoad").useObserveMessagePageLoad(i.map(function(a){return d("MessageForIntegrityCheck").prepMessageForIntegrityCheck(a)}).filter(Boolean),r,j,l,!1);var m=w(e,g);d("Int64Hooks").useEffectInt64(function(){if(g!=null&&m.length===0){var a=g.threadKey,b=g.threadType;c("logMessengerWebFalcoEvent")({threadKey:a,threadType:b},"no_open_messages_in_cutover_thread",h,{cutoverThreadKey:(k||(k=d("I64"))).to_string(f.threadKey),reason:"no_messages_fetched_for_open"})}},[h,m.length,g,f.threadKey]);return o(function(){if(a!=null&&!a.hasMoreBefore)return m.sort(x).concat(i.sort(u));else return i.sort(u)},[a,i,m])}function a(a){var e,f=a.cutoverOpenThread,g=a.entryPoint,i=a.messageListRef,j=a.openThreadLoadingHoldReason;a=a.thread;var k=c("useMWV2ConversationScrollerRefs")(),o=(h||(h=c("useReStore")))(),r=m(function(){var a;return((a=k.scrollPositionRef.current)==null?void 0:a.value)===void 0&&((a=k.scrollPositionRef.current)==null?void 0:a.type)==="Bottom"},[k]),u=c("useMWCurrentVisibleMessage")(a,k.scrollerRef),v=u.messageRange,w=c("useMWCurrentVisibleMessage")(f,k.scrollerRef);w=w.messageRange;var x=c("useFetchCutoverMessages")(a,f,v,w,c("gkx")("2454")&&g==="thread_details"?t:s);e=(e=v==null?void 0:v.hasMoreAfter)!=null?e:!1;var y=p(!1),A=y[0],B=y[1];x=c("useMWChatLoadMoreItemsIncrementally")(e,void 0,void 0,z(v,w,a,f,g),x,(y=v==null?void 0:v.hasMoreBefore)!=null?y:!1);y=x[0];var C=x[1];x=x[2];c("useSecureThreadDetailGetDevices")(a,o);n(i,function(){return{getScrollAreaElement:c("emptyFunction"),jumpToMostRecentMessage:c("emptyFunction"),restoreScrollPosition:function(){var a=k.scrollerRef.current,b=k.scrollPositionRef.current;if(a!=null&&b!=null)switch(b.type){case"Bottom":a.scrollToBottom();break;case"Top":case"Between":a.scrollToPosition(b.value,!1);break;case"Island":break}}}},[k.scrollPositionRef,k.scrollerRef]);o=null;y.length<q&&(v==null?o="visibleSecureMessageRange-null":v.isLoadingBefore?o="isSecureMessagesLoadingBefore":j!=null?o=j:f!=null&&w==null?o="visibleOpenMessageRange-null":f!=null&&(w==null?void 0:w.isLoadingBefore)&&(o="visibleOpenMessageRangeLoadingBefore"));i=j!=null||f!=null&&(w==null||w.hasMoreBefore);return l.jsxs(l.Fragment,{children:[l.jsx(c("CometPlaceholder.react"),{fallback:null,name:"MAWCutoverEncryptedBackupsBanner",children:b("cr:9776")!=null&&f&&l.jsx(b("cr:9776"),{isShown:A})}),l.jsxs(d("E2EEMessagingLinkContext.react").E2EEMessagingLinkProvider,{isSecure:!0,children:[l.jsx(c("ComponentMountUnmountSubspanLogger.react"),{description:"MAWSecureThreadDetail"}),l.jsxs(c("MWV2MessageScroller.react"),{fetchMore:C,hasMoreAfter:e,hasMoreBefore:x,markThreadAsRead:c("useMAWMarkThreadAsRead")(a,g),onScroll:function(){B(!r())},scrollerRefs:k,thread:a,children:[l.jsxs(d("MWPMessageListColumn.react").MWPMessageListColumnShrinkwrap,{children:[l.jsx(d("MWPMessageListColumn.react").MWPMessageListColumnVerticalRhythm,{height:20}),l.jsx(c("CometHeroHoldTrigger.react"),{description:"MAWLoadingMessages-"+((v=o)!=null?v:"null"),hold:o!=null}),x||i?l.jsx(c("MWInboxThreadMessagesSpinner.react"),{vcIgnore:o==null}):l.jsx(c("MWContextBanner.react"),{threadKey:a.threadKey,threadType:a.threadType}),l.jsx(d("MWPMessageListColumn.react").MWPMessageListColumnVerticalRhythm,{height:10})]}),l.jsx(d("MWPMessageListColumn.react").MWPMessageListColumnGrow,{children:null}),l.jsx(d("CometPageletWithDiv.react").Placeholder,{fallback:null,name:"MAWMessageList",children:l.jsx(c("MAWMessageList_DEPRECATED.react"),{messageElementRefs:u.messageElementRefs.current,messages:y,scrollerRefs:k,thread:a})}),e?l.jsx(c("MWInboxThreadMessagesSpinner.react"),{}):null]})]})]})}a.displayName=a.name+" [from "+f.id+"]";e=l.memo(a);g.MAWSecureThreadDetail_DEPRECATED=e}),98);
__d("MAWSecureThreadQPContainerQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="8892288604138580"}),null);
__d("MAWSecureThreadQPContainerQuery.graphql",["MAWSecureThreadQPContainerQuery_facebookRelayOperation","relay-runtime"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{kind:"Literal",name:"surface_nux_id",value:8879},{kind:"Literal",name:"trigger",value:"MESSENGER_E2EE_THREAD_OPEN"}];return{fragment:{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"MAWSecureThreadQPContainerQuery",selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:null,args:a,concreteType:"ViewerEligibleQuickPromotionsConnection",kind:"LinkedField",name:"eligible_promotions",plural:!1,selections:[{kind:"Defer",selections:[{args:null,kind:"FragmentSpread",name:"MAWSecureThreadQuickPromotion_eligiblePromotions"}]}],storageKey:'eligible_promotions(surface_nux_id:8879,trigger:"MESSENGER_E2EE_THREAD_OPEN")'}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[],kind:"Operation",name:"MAWSecureThreadQPContainerQuery",selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:null,args:a,concreteType:"ViewerEligibleQuickPromotionsConnection",kind:"LinkedField",name:"eligible_promotions",plural:!1,selections:[{"if":null,kind:"Defer",label:"MAWSecureThreadQPContainerQuery$defer$MAWSecureThreadQuickPromotion_eligiblePromotions",selections:[{alias:null,args:null,concreteType:"QuickPromotion",kind:"LinkedField",name:"nodes",plural:!0,selections:[{alias:null,args:null,concreteType:"CometQuickPromotionSections",kind:"LinkedField",name:"comet_qp_sections",plural:!1,selections:[{alias:null,args:[{kind:"Literal",name:"supported",value:"1OzhWV"}],concreteType:null,kind:"LinkedField",name:"renderer_strategy",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"MAWSecureThreadQuickPromotion_eligiblePromotions",fragmentName:"CometQuickPromotionArmadilloXMAPreviewSettingsNUXRendererStrategy_quickPromotionRef",fragmentPropName:"quickPromotionRef",kind:"ModuleImport"}],type:"CometQuickPromotionArmadilloXMAPreviewSettingsNUXRendererStrategy",abstractKey:null}],storageKey:'renderer_strategy(supported:"1OzhWV")'}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null}]}],storageKey:'eligible_promotions(surface_nux_id:8879,trigger:"MESSENGER_E2EE_THREAD_OPEN")'}],storageKey:null}]},params:{id:b("MAWSecureThreadQPContainerQuery_facebookRelayOperation"),metadata:{},name:"MAWSecureThreadQPContainerQuery",operationKind:"query",text:null}}}();b("relay-runtime").PreloadableQueryRegistry.set(a.params.id,a);e.exports=a}),null);
__d("MAWSecureThreadQuickPromotion_eligiblePromotions.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"MAWSecureThreadQuickPromotion_eligiblePromotions",selections:[{alias:null,args:null,concreteType:"QuickPromotion",kind:"LinkedField",name:"nodes",plural:!0,selections:[{alias:null,args:null,concreteType:"CometQuickPromotionSections",kind:"LinkedField",name:"comet_qp_sections",plural:!1,selections:[{alias:null,args:[{kind:"Literal",name:"supported",value:"1OzhWV"}],concreteType:null,kind:"LinkedField",name:"renderer_strategy",plural:!1,selections:[{kind:"InlineFragment",selections:[{args:null,documentName:"MAWSecureThreadQuickPromotion_eligiblePromotions",fragmentName:"CometQuickPromotionArmadilloXMAPreviewSettingsNUXRendererStrategy_quickPromotionRef",fragmentPropName:"quickPromotionRef",kind:"ModuleImport"}],type:"CometQuickPromotionArmadilloXMAPreviewSettingsNUXRendererStrategy",abstractKey:null}],storageKey:'renderer_strategy(supported:"1OzhWV")'}],storageKey:null}],storageKey:null}],type:"ViewerEligibleQuickPromotionsConnection",abstractKey:null};e.exports=a}),null);
__d("MAWSecureThreadQuickPromotion.react",["CometQuickPromotionLoggerContext.react","CometRelay","MAWSecureThreadQuickPromotion_eligiblePromotions.graphql","react","useQuickPromotionFalcoEvent"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||d("react"),k=h!==void 0?h:h=b("MAWSecureThreadQuickPromotion_eligiblePromotions.graphql");function a(a){a=a.eligiblePromotions;a=d("CometRelay").useFragment(k,a);a=a==null?void 0:(a=a.nodes)==null?void 0:a.find(function(a){return((a=a.comet_qp_sections)==null?void 0:a.renderer_strategy)!=null});a=a==null?void 0:(a=a.comet_qp_sections)==null?void 0:a.renderer_strategy;var b=c("useQuickPromotionFalcoEvent")({context_surface_id:8879,context_trigger:"messenger_e2ee_thread_open"});return a==null?null:j.jsx(c("CometQuickPromotionLoggerContext.react").Provider,{value:b,children:j.jsx(d("CometRelay").MatchContainer,{match:a})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MAWSecureThreadQPContainer.react",["CometErrorBoundary.react","CometPlaceholder.react","CometRelay","MAWSecureThreadQPContainerQuery.graphql","MAWSecureThreadQuickPromotion.react","emptyFunction","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||d("react"),k=h!==void 0?h:h=b("MAWSecureThreadQPContainerQuery.graphql");function a(){return j.jsx(c("CometPlaceholder.react"),{fallback:null,name:"MAWSecureThreadQPContainer.Query",children:j.jsx(l,{})})}a.displayName=a.name+" [from "+f.id+"]";function l(){var a=d("CometRelay").useLazyLoadQuery(k,{});a=a==null?void 0:(a=a.viewer)==null?void 0:a.eligible_promotions;return a==null?null:j.jsx(c("CometErrorBoundary.react"),{fallback:c("emptyFunction"),children:j.jsx(c("CometPlaceholder.react"),{fallback:null,name:"MAWSecureThreadQPContainer.EligiblePromotions",children:j.jsx(c("MAWSecureThreadQuickPromotion.react"),{eligiblePromotions:a})})})}l.displayName=l.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWFailChatTabOpenQPLEvent",["MWGetChatTabOpenQPLEventTrace"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){c("MWGetChatTabOpenQPLEventTrace")(a,function(a){a.failTrace(b,!0)})}g["default"]=a}),98);
__d("MWThreadErrorBoundary.react",["CometErrorBoundary.react","FBLogger","MWFailChatTabOpenQPLEvent","MWInboxErrorState.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react"),j={errorBoundary:{alignItems:"x6s0dn4",backgroundColor:"x2bj2ny",display:"x78zum5",height:"x5yr21d",justifyContent:"xl56j7k",width:"xh8yej3",$$css:!0}};function a(a){var b=a.children,d=a.message,e=a.threadKey;return i.jsx(c("CometErrorBoundary.react"),{fallback:function(a){return i.jsx(c("MWInboxErrorState.react"),{error:a,plural:!1,source:"thread_error_boundary",xstyle:j.errorBoundary})},onError:function(a){c("MWFailChatTabOpenQPLEvent")(e,a.toString()),c("FBLogger")("messenger_web_entrypoints").catching(a).mustfix(d+": %s",a.toString())},children:b})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("useMAWMaybeInsertDualThreadCutoverAdminMessage",["I64","MAWBridgeFireAndForget","MAWMiActOnActThreadReady","Promise","ReQL","ReQLSuspense","WATimeUtils","justknobx","promiseDone","react","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k,l=(k||d("react")).useEffect;function m(a){return a.showOpenMessageHistory===!1}function a(a){var e=(i||(i=c("useReStore")))(),g=d("ReQLSuspense").useFirst(function(){return d("ReQL").fromTableAscending(e.tables.mi_act_mapping_table).getKeyRange(a)},[a,e],f.id+":34"),k=g==null?void 0:g.jid,n=g==null?void 0:g.serverThreadKey,o=d("ReQLSuspense").useFirst(function(){return k?d("ReQL").fromTableAscending(e.tables.cutover_threads).getKeyRange(k).filter(m):d("ReQL").empty()},[e,k],f.id+":43");l(function(){if(!o||!n||!c("justknobx")._("1446"))return;c("promiseDone")(d("MAWMiActOnActThreadReady").onActThreadReady(e.tables,n,"useMAWMaybeInsertDualThreadCutoverAdminMessage",function(a,c){d("MAWBridgeFireAndForget").fireAndForget("backend","writeAdminMessageForDualThreadCutover",{chatJid:c,cutoverTimestampMs:d("WATimeUtils").castToMillisTime((j||(j=d("I64"))).to_float(o.timestampMs))});return(h||(h=b("Promise"))).resolve()}))},[e,o,n])}g["default"]=a}),98);
__d("useMAWMaybeResetEphemeralSettings",["DateConsts","Int64Hooks","MAWEphemeralGatingUtil","MAWGetEphemeralSettings","MAWMiActOnActThreadReady","Promise","WALoggerDeferred","promiseDone","react","updateEphemeralDuration","useAsyncReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["[reset ephemeral settings]: fail to reset settings for chatJid ",", previous settings was ",""]);j=function(){return a};return a}function k(){var a=babelHelpers.taggedTemplateLiteralLoose(["[reset ephemeral settings]: success to reset settings for chatJid ",", previous settings was ",""]);k=function(){return a};return a}var l=(i||d("react")).useRef,m=0;function a(a){var b=c("useAsyncReStore")(),e=l(null);d("Int64Hooks").useEffectInt64(function(){(e.current==null||e.current!==a)&&(e.current=a,d("MAWEphemeralGatingUtil").isResetEphemeralSettingsEnabled()&&c("promiseDone")(b,function(b){return c("promiseDone")(d("MAWMiActOnActThreadReady").onActThreadReady(b.tables,a,"useMAWResetEphemeralSettings",function(b,c){return n(a,c)}))}))},[a,b])}function n(a,e){var f=d("MAWEphemeralGatingUtil").getExpirationOptions();return e!=null?d("MAWGetEphemeralSettings").getEphemeralSetting(e,a).then(function(b){b&&b.ephemeralExpirationInSec>0&&b.ephemeralExpirationInSec<d("DateConsts").SEC_PER_DAY&&!f.includes(b.ephemeralExpirationInSec)&&c("promiseDone")(c("updateEphemeralDuration")(e,m,!0,function(){void d("WALoggerDeferred").LOG(k(),e,b.ephemeralExpirationInSec)},function(){void d("WALoggerDeferred").LOG(j(),e,b.ephemeralExpirationInSec)},a))}):(h||(h=b("Promise"))).resolve()}g["default"]=a}),98);
__d("MAWSecureThreadDetailWrapper.react",["CometPageletWithDiv.react","FBLogger","I64","Int64Hooks","LSAuthorityLevel","LSFactory","LSInitiateThreadMigrationStoredProcedure","LSIntEnum","MAWSecureThreadDetail_DEPRECATED.react","MAWSecureThreadQPContainer.react","MAWThreadCutover","MWEnsureCutoverOpenThreadExists","MWThreadErrorBoundary.react","MemoryUtils","QPLUserFlow","WAHex","cr:1957","justknobx","logMessengerWebFalcoEvent","qpl","react","useAsyncReStore","useMAWMaybeInsertDualThreadCutoverAdminMessage","useMAWMaybeResetEphemeralSettings"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=h||(h=d("react"));e=h;var l=e.useCallback,m=e.useEffect,n=e.useRef,o=e.useState;function p(a,b){var e=(i||(i=d("I64"))).to_int32(a);d("Int64Hooks").useEffectInt64(function(){c("QPLUserFlow").start(c("qpl")._(25306607,"1883"),{annotations:{string:{entryPoint:b,thread_id:(i||(i=d("I64"))).to_string(a)}},instanceKey:e})},[b,e,a]);var f=l(function(a){c("QPLUserFlow").addPoint(c("qpl")._(25306607,"1883"),a,{instanceKey:e})},[e]),g=l(function(a){c("QPLUserFlow").endSuccess(c("qpl")._(25306607,"1883"),{annotations:{string:{is_cutover:String(a)}},instanceKey:e})},[e]),h=l(function(a){c("QPLUserFlow").addAnnotations(c("qpl")._(25306607,"1883"),{string:a},{instanceKey:e})},[e]),j=l(function(a){c("QPLUserFlow").addAnnotations(c("qpl")._(25306607,"1883"),{"int":a},{instanceKey:e})},[e]),k=l(function(a,b){c("QPLUserFlow").endFailure(c("qpl")._(25306607,"1883"),a,{annotations:{string:{is_cutover:String(b)}},instanceKey:e})},[e]);return{addQplAnnotations:h,addQPLAnnotationsInt:j,addQplPoint:f,qplEndFailure:k,qplEndSuccess:g}}function q(a,b,c){if(c!=null)return"show_od_cutover";if(a==null)return"not_cutover_thread";return b!=null?a.showOpenMessageHistory===!1?"dual_thread_cutover":"show":"loading"}function r(a){var e=a.entryPoint,g=a.messageListRef,h=a.thread;a=p(h.threadKey,e);var r=a.addQplAnnotations,s=a.addQPLAnnotationsInt,t=a.addQplPoint,u=a.qplEndFailure,v=a.qplEndSuccess;c("useMAWMaybeResetEphemeralSettings")(h.threadKey);c("useMAWMaybeInsertDualThreadCutoverAdminMessage")(h.threadKey);var w=n(""),x=l(function(a){switch(a){case"loading":return;case"show":case"show_od_cutover":r({showOpenHistory:"show"});v(!0);return;case"not_cutover_thread":v(!1);return;case"dual_thread_cutover":v(!1);return;case"error":u(w.current,!0);return;default:a;throw c("FBLogger")("messenger_web_entrypoints").mustfixThrow("[MiActMapping] Unreachable showOpenMsgHistoryState: %s",a)}},[r,u,v]),y=c("useAsyncReStore")(),z=l(function(a,b){return y.then(function(e){return e.runInTransaction(function(e){return c("LSInitiateThreadMigrationStoredProcedure")(c("LSFactory")(e),{armadilloThreadKey:b,openMessageThreadKey:a,shouldCopyMessages:!1,traceId:d("WAHex").randomHex(8)})},"readwrite",void 0,void 0,f.id+":265")})},[y]),A=d("MAWThreadCutover").useGetCutoverMapping(h.threadKey),B=d("MAWThreadCutover").useCutoverOpenThread(h.threadKey);d("MWEnsureCutoverOpenThreadExists").useMWEnsureCutoverOpenThreadExists(h.threadKey);var C=d("MAWThreadCutover").useODCutoverEligibleOpenOneToOneThread(h.threadKey);a=o(q(A,B,C));var D=a[0],E=a[1];d("Int64Hooks").useEffectInt64(function(){x(D);if(D==="show"||D==="dual_thread_cutover")return;if(C!=null)return E("show_od_cutover");if(A==null)return;if(B==null)return E("loading");else if(A.showOpenMessageHistory!==!1)return E("show");else return E("dual_thread_cutover")},[A,B,x,C,D]);var F=n(!1);a=(i||(i=d("I64"))).ge(h.authorityLevel,(j||(j=d("LSIntEnum"))).ofNumber(c("LSAuthorityLevel").AUTHORITATIVE));a=a&&c("justknobx")._("2274")?k.jsx(c("MAWSecureThreadQPContainer.react"),{}):null;m(function(){if((A==null?void 0:A.armadilloThreadId)==null||(A==null?void 0:A.openThreadId)==null)return;if(F.current===!0)return;F.current=!0;t("thread_migration_initiating_start");var a=d("MemoryUtils").getCurrentMemory();a=a.usedJSHeapSize;s({usedJSHeapSizeStart:a});r();z(A.openThreadId,A.armadilloThreadId).then(function(){F.current=!1;t("thread_migration_initiating_end");var a=d("MemoryUtils").getCurrentMemory();a=a.usedJSHeapSize;s({usedJSHeapSizeEnd:a})})["catch"](function(a){F.current=!1,w.current="fail_to_init_thread_migration",E("error"),c("FBLogger")("messenger_web_entrypoints").catching(a).mustfix("fail_to_init_thread_migration"),u(w.current,!0)})},[s,r,t,A==null?void 0:A.armadilloThreadId,A==null?void 0:A.openThreadId,z,u,v]);var G=B!=null;d("Int64Hooks").useEffectInt64(function(){var a;if(w.current==="")return;c("logMessengerWebFalcoEvent")({threadKey:h.threadKey,threadType:h.threadType},"no_open_messages_in_cutover_thread",e,{cutoverThreadKey:(i||(i=d("I64"))).to_string((a=A==null?void 0:A.openThreadId)!=null?a:(i||(i=d("I64"))).neg_one),hasCutoverOpenThread:G.toString(),reason:w.current,showOpenMsgHistoryState:D});x(D)},[A,e,D,G,h.threadKey,h.threadType,x]);return k.jsx(c("MWThreadErrorBoundary.react"),{message:"Error while loading secure thread messages",threadKey:h.threadKey,children:k.jsxs(k.Fragment,{children:[a,b("cr:1957")!=null?k.jsx(b("cr:1957"),{cutoverOpenThread:D==="show_od_cutover"?C:D==="show"?B:void 0,entryPoint:e,messageListRef:g,thread:h}):k.jsx(d("MAWSecureThreadDetail_DEPRECATED.react").MAWSecureThreadDetail_DEPRECATED,{cutoverOpenThread:D==="show"?B:void 0,entryPoint:e,messageListRef:g,openThreadLoadingHoldReason:D==="loading"?"loadingOpenThread":null,thread:h})]})})}r.displayName=r.name+" [from "+f.id+"]";function a(a){var b=a.entryPoint,c=a.messageListRef;a=a.thread;return k.jsx(d("CometPageletWithDiv.react").Div,{className:"x78zum5 xdt5ytf x1iyjqo2 x5yr21d",name:"MAWSecureThreadDetailWrapper",children:k.jsx(r,{entryPoint:b,messageListRef:c,thread:a})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MAWSecureViewOnceMessageBubble.react",["MWViewOnceMessageIcon","MWXIconStrict.react","MWXMessageBubble.react","MWXText.react","MessengerWebUXLogger","gkx","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||c("react"),k=(h||(h=d("react"))).useEffect,l=c("gkx")("23219");function a(a){var b=a.connectBottom,d=a.connectTop,e=a.label,f=a.mediaRenderQpl;a=a.outgoing;k(function(){f==null?void 0:f.addPoint("render-tombstoned-message",{bool:{outgoing_or_has_seen:!0}}),f==null?void 0:f.endSuccess()},[f]);var g=c("MessengerWebUXLogger").useImpressionLoggerRef({eventName:"view_once_message_bubble_rendered"});return j.jsx(c("MWXMessageBubble.react"),{align:a?"right":"left",color:a?"outgoing":"incoming",connectBottom:b,connectTop:d,variant:"opaque",children:j.jsxs("div",babelHelpers["extends"]({className:"x6s0dn4 x78zum5"},{"data-testid":void 0,ref:g,children:[j.jsx("div",babelHelpers["extends"]({className:"x1lliihq x1w0mnb xbyyjgo"},{children:j.jsx(c("MWXIconStrict.react"),{color:a?"white":"primary",icon:c("MWViewOnceMessageIcon"),isDecorative:!0,size:18})})),j.jsx(c("MWXText.react"),{color:a?l?"primaryOnMedia":"secondaryOnMedia":"secondary",type:"bodyLink3",children:e})]}))})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MAWSecureViewOnceAttachmentContent.react",["fbt","I64","LSIntEnum","MAWLocalizationType","MAWSecureViewOnceMessageBubble.react","MWV2TombstonedMessage.react","MWViewOnceMessageIcon","MWXIconStrict.react","MessagingAttachmentType","MessengerWebUXLogger","RavenMessagingState","getMAWLocalizedFallbackMsgSnippet","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k,l=i||d("react");function a(a){var b=a.connectBottom,e=a.connectTop,f=a.dbAttachment,g=a.mediaRenderQpl;a=a.outgoing;var i=(j||(j=d("I64"))).equal(f.attachmentType,(k||(k=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").EPHEMERAL_IMAGE));f=f.ephemeralMediaState!=null&&(j||(j=d("I64"))).equal(f.ephemeralMediaState,(k||(k=d("LSIntEnum"))).ofNumber(c("RavenMessagingState").SEEN));var m=c("MessengerWebUXLogger").useImpressionLoggerRef({eventName:"view_once_message_tombstoned_rendered"});return a||f?l.jsx(c("MAWSecureViewOnceMessageBubble.react"),{connectBottom:b,connectTop:e,label:i?h._(/*BTDS*/"__JHASH__ZUGF0BOPIS7__JHASH__"):h._(/*BTDS*/"__JHASH___qBQkB3_Go4__JHASH__"),mediaRenderQpl:g,outgoing:a}):l.jsx(c("MWV2TombstonedMessage.react"),{isOutgoing:a,mediaRenderQpl:g,children:l.jsxs("div",babelHelpers["extends"]({className:"x6s0dn4 x78zum5"},{"data-testid":void 0,ref:m,children:[l.jsx("div",babelHelpers["extends"]({className:"x1lliihq x1w0mnb xzbario"},{children:l.jsx(c("MWXIconStrict.react"),{color:"primary",icon:c("MWViewOnceMessageIcon"),isDecorative:!0,size:18})})),c("getMAWLocalizedFallbackMsgSnippet")(i?d("MAWLocalizationType").LOCALIZATION_TYPE.VIEW_ONCE_PHOTO_MESSAGE:d("MAWLocalizationType").LOCALIZATION_TYPE.VIEW_ONCE_VIDEO_MESSAGE)]}))})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("MW3PBotCommandsPill.react",["fbt","JSResourceForInteraction","MWXPressable.react","MWXText.react","ReQL","ReQLSuspense","react","useMWXLazyDialog","useReStore"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=j||d("react"),l=c("JSResourceForInteraction")("MW3PBotCommandsDialog.react").__setRef("MW3PBotCommandsPill.react"),m={commandsPill:{backgroundColor:"x1qhmfi1",borderTopStartRadius:"xfh8nwu",borderTopEndRadius:"xoqspk4",borderBottomEndRadius:"x12v9rci",borderBottomStartRadius:"x138vmkv",paddingTop:"x1yrsyyn",paddingBottom:"x10b6aqq",paddingStart:"x1sln4lm",paddingEnd:"x1iji9kk",paddingLeft:null,paddingRight:null,$$css:!0}};function a(a){var b=a.threadKey,e=(i||(i=c("useReStore")))(),g=d("ReQLSuspense").useArray(function(){return d("ReQL").fromTableAscending(e.tables.custom_thread_commands.index("rank")).getKeyRange(b).filter(function(a){return!a.isOpenPersistentMenu})},[e,b],f.id+":46");a=c("useMWXLazyDialog")(l);var j=a[0];return g.length===0?null:k.jsx("div",babelHelpers["extends"]({className:"x78zum5 xl56j7k xyamay9 x1l90r2v"},{children:k.jsx(c("MWXPressable.react"),{onPress:function(){return j({commands:g})},overlayRadius:"inherit",xstyle:m.commandsPill,children:k.jsx(c("MWXText.react"),{align:"center",type:"headline4",children:h._(/*BTDS*/"__JHASH__ey53XOJ4uK9__JHASH__",[h._plural(g.length,"number")])})})}))}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("MWXIconFriendGenericAdd",["MWXSvgIcon","SVGIcon","cr:12439","gkx"],(function(a,b,c,d,e,f,g){"use strict";a=d("MWXSvgIcon").mwxSvgIcon(d("SVGIcon").svgIcon(b("cr:12439")),c("gkx")("23219"));g["default"]=a}),98);
__d("MWAddMemberToGroupCircleButton.react",["MWXCircleButton.react","MWXIconFriendGenericAdd","MessengerWebUXLogger","react","useMWAddParticipantDialog","vulture"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=a.label,d=a.testid,e=a.threadKey,f=a.threadType;c("vulture")("111PIS9lHgn");var g=c("useMWAddParticipantDialog")(e,f),h=c("MessengerWebUXLogger").useInteractionLogger();d=function(){g(),h==null?void 0:h({eventName:"open_add_members_dialog",threadKey:e,threadType:f})};return i.jsx(c("MWXCircleButton.react"),{icon:c("MWXIconFriendGenericAdd"),label:b,onPress:d,size:36,testid:void 0})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWCMAutoJoinNotifNUX.react",["fbt","CometErrorBoundary.react","CometPlaceholder.react","FDSContextualMessage.react","JSResourceForInteraction","LSCommunityBitOffset","MWInboxPersistedUIState","MWXButtonGroup.react","ReQL","ReQLSuspense","react","useMWXLazyDialog","useReStore","useVisibilityObserver"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=j||(j=d("react"));b=j;var l=b.useRef,m=b.useState,n=c("JSResourceForInteraction")("LSMuteThreadDialog.react").__setRef("MWCMAutoJoinNotifNUX.react");function o(a){var b=a.thread;a=c("useMWXLazyDialog")(n);var e=a[0];a=m(!1);var f=a[0],g=a[1];a=d("MWInboxPersistedUIState").usePersistedUIState(0,"__MWCMAutoJoinNotifNuxBanner.showBanner__");var i=a[0],j=a[1];a=l(i);var o=l(!1);i=c("useVisibilityObserver")({onVisible:function(){o.current||(o.current=!0,j(function(a){return a+1}))}});return a.current<3&&!f?k.jsx("div",babelHelpers["extends"]({className:"xcrg951 x7m3og9 x10l6tqk xh8yej3 x1vjfegm"},{ref:i,children:k.jsx(c("FDSContextualMessage.react"),{addOnPrimary:k.jsx(c("MWXButtonGroup.react"),{align:"justify",paddingHorizontal:12,primary:{label:h._(/*BTDS*/"__JHASH__7NhHq3FFyid__JHASH__"),onPress:function(){e({threadKey:b.threadKey},function(){})},padding:"wide",type:"secondary"}}),body:h._(/*BTDS*/"__JHASH__y4SjVH1sWqP__JHASH__"),headline:h._(/*BTDS*/"__JHASH__Y1eNmRtGK12__JHASH__",[h._param("param",b.threadName)]),level:4,onClose:function(){g(!0)}})})):null}o.displayName=o.name+" [from "+f.id+"]";function p(a){var b=a.thread,e=(i||(i=c("useReStore")))();a=d("ReQLSuspense").useFirst(function(){return d("ReQL").fromTableAscending(e.tables.community_folders).getKeyRange(b.parentThreadKey)},[e,b.parentThreadKey],f.id+":126");if(a){a=d("LSCommunityBitOffset").has(39,a);return a?k.jsx(o,{thread:b}):null}else return null}p.displayName=p.name+" [from "+f.id+"]";function a(a){a=a.thread;return k.jsx(c("CometErrorBoundary.react"),{children:k.jsx(c("CometPlaceholder.react"),{fallback:null,name:"MWCMAutoJoinNotifNUX",children:k.jsx(p,{thread:a})})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("MWChannelInviteDialog.entrypoint",["JSResourceForInteraction"],(function(a,b,c,d,e,f,g){"use strict";a={getPreloadProps:function(){return{}},root:c("JSResourceForInteraction")("MWChannelInviteDialog.react").__setRef("MWChannelInviteDialog.entrypoint")};g["default"]=a}),98);
__d("MWPChatConnectionStatusCard.react",["fbt","I64","LSIntEnum","LSInternetConnectionState","ReQL","ReQLSuspense","react","useReStore"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k,l,m=l||d("react");function n(a){var b=a.connectionStatus;a=a.renderWrapper;if(b==="Connected")return null;else if(b==="Disconnected")return a(h._(/*BTDS*/"__JHASH__vs4VWaH-KyB__JHASH__"));else if(b==="Connecting")return a(h._(/*BTDS*/"__JHASH__t43xAFuvvRz__JHASH__"));else return null}n.displayName=n.name+" [from "+f.id+"]";function a(a){a=a.renderWrapper;var b=(i||(i=c("useReStore")))(),e=d("ReQLSuspense").useFirst(function(){return d("ReQL").fromTableDescending(b.tables.connectivity_status).map(function(a){return(j||(j=d("I64"))).equal(a.internetConnectionState,(k||(k=d("LSIntEnum"))).ofNumber(c("LSInternetConnectionState").CONNECTED))?"Connected":"Disconnected"})},[b],f.id+":54");return m.jsx(n,{connectionStatus:(e=e)!=null?e:"Connected",renderWrapper:a})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("MWChatConnectionStatusCard.react",["MWPChatConnectionStatusCard.react","MWXText.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function j(a){return i.jsx("div",babelHelpers["extends"]({className:"x5p7y74 x1562eck x1q0q8m5 xso031l x1lliihq xds687c x17qophe xz9dl7a xsag5q8 x10l6tqk x2b8uid x13vifvy x1vjfegm"},{children:i.jsx(c("MWXText.react"),{type:"meta4",children:a})}))}j.displayName=j.name+" [from "+f.id+"]";function a(){return i.jsx(c("MWPChatConnectionStatusCard.react"),{renderWrapper:j})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWChatInthreadBannerIcon.react",["MWXIconStrict.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){a=a.icon;return a==null?null:i.jsx("div",babelHelpers["extends"]({className:"x6s0dn4 x4tc44c x14yjl9h xudhj91 x18nykt9 xww2gxu x78zum5 xl56j7k x1yrsyyn xsyo7zv x10b6aqq x16hj40l"},{children:i.jsx(c("MWXIconStrict.react"),{color:"white",icon:a.icon,size:12})}))}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWChatInthreadIconParser.react",["MWPXMAIconParser","MWXIconFriendGenericAdd","recoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";function h(a){switch(a){case"friend-woman-add":return c("MWXIconFriendGenericAdd");default:c("recoverableViolation")("Unknown XMA Icon: "+a,"messenger_web_sharing");return}}function a(a){a=d("MWPXMAIconParser").parse(a);if(a==null)return;if(typeof a==="string")return a;var b=a.color;a=a.icon;a=h(a);if(a!=null)return{color:b,icon:a}}g.parse=a}),98);
__d("MWChatInThreadBanner.react",["FDSButton.react","FDSProfilePhoto.react","MWChatInthreadBannerIcon.react","MWChatInthreadIconParser.react","MWLSThreadDisplayContext","MWXIconChevronRight","MWXIconStrict.react","MWXLink.react","MWXPressable.react","MWXRow.react","MWXRowItem.react","MWXText.react","MWXTextPairing.react","react","recoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react"),j={grow:{flexGrow:"x1iyjqo2",$$css:!0},linkBanner:{width:"xh8yej3",$$css:!0}};function k(a){var b=a.action;a=a.button;var d=a.ctaTitle;switch(b.type){case"link":return i.jsx(c("MWXRowItem.react"),{xstyle:j.grow,children:i.jsx(c("FDSButton.react"),{label:d,linkProps:{url:b.url},type:"secondary"})});case"action":return i.jsx(c("MWXRowItem.react"),{xstyle:j.grow,children:i.jsx(c("FDSButton.react"),{label:d,onPress:b.onPress,ref:b.contextRef,type:"secondary"})});case"popover":return i.jsx(c("MWXRowItem.react"),{xstyle:j.grow,children:b.popoverTrigger(function(a,b){return i.jsx(c("FDSButton.react"),{label:d,onPress:function(){return b()},ref:a,type:"secondary"})})});case"unimplemented":c("recoverableViolation")("In thread banner cta not implemented, CTA type: "+a.ctaType+" CTA Title: "+a.ctaTitle,"messenger_web_sharing");return null}}k.displayName=k.name+" [from "+f.id+"]";function a(a){var b,e,f=a.banner,g=a.ctaParser;a=a.impressionRef;b=d("MWChatInthreadIconParser.react").parse((b=f.banner.iconUrl)!=null?b:"");var h=f.banner.chevronCtaType!=null,l=d("MWLSThreadDisplayContext").useMWLSThreadDisplayContext();l=l==="Inbox";b=b!=null?typeof b==="string"?i.jsx(c("MWXRowItem.react"),{expanding:!1,children:i.jsx("div",babelHelpers["extends"]({className:"x11i5rnm"},{children:i.jsx(c("FDSProfilePhoto.react"),{shape:"circle",size:24,source:{uri:b}})}))}):i.jsx(c("MWXRowItem.react"),{expanding:!1,children:i.jsx("div",{className:[j.grow,"x78zum5 xdt5ytf x1iyjqo2 xl56j7k"],children:i.jsx(c("MWChatInthreadBannerIcon.react"),{icon:b})})}):null;var m=f.banner.heading!=null?i.jsx(c("MWXRowItem.react"),{expanding:!0,children:i.jsx("span",babelHelpers["extends"]({className:"x1yrsyyn x10b6aqq"},{children:i.jsxs(c("MWXText.react"),{type:"meta3",children:[f.banner.heading," ",i.jsx(c("MWXText.react"),{color:"blueLink",type:"meta3",children:i.jsx(c("MWXLink.react"),{href:"https://www.facebook.com/help/869846945085345?ref=ipl",target:"_blank",children:f.banner.cta1Title})})]})}))}):null;e=i.jsx(c("MWXRowItem.react"),{expanding:!0,children:i.jsx(c("MWXTextPairing.react"),{body:((e=f.banner.titleSectionOne)!=null?e:"")+((e=f.banner.titleSectionTwo)!=null?e:""),bodyLineLimit:1,level:4,meta:f.banner.heading,metaLineLimit:1,metaLocation:"above"})});var n=f.banner.infoLabel!=null?i.jsx(c("MWXRowItem.react"),{children:i.jsx(c("MWXText.react"),{type:"meta1",children:i.jsx("span",babelHelpers["extends"]({className:"x1qhmfi1 x1lcm9me x1yr5g0i xrt01vj x10y3i5r x6ikm8r x10wlt62 x4p5aij x150jy0e x1j85h84 x1e558r4 xlyipyv xuxw1ft"},{children:f.banner.infoLabel}))})}):null,o=f.leftButton,p=f.rightButton,q;if(o!=null&&p!=null)q=i.jsxs(c("MWXRow.react"),{paddingTop:8,spacing:4,wrap:"forward",children:[i.jsx(k,{action:g(f,o),button:o}),i.jsx(k,{action:g(f,p),button:p})]});else{o=(o=o)!=null?o:p;o!=null&&(q=i.jsx(c("MWXRow.react"),{paddingTop:8,children:i.jsx(k,{action:g(f,o),button:o})}))}p=h?i.jsx(c("MWXRowItem.react"),{verticalAlign:"center",children:i.jsx(c("MWXIconStrict.react"),{icon:c("MWXIconChevronRight"),size:12})}):null;var r=i.jsxs("div",babelHelpers["extends"]({className:"x1a8lsjc xh8yej3"},{children:[i.jsxs(c("MWXRow.react"),{paddingTop:10,children:[b,f.banner.cta1Type==="fbvr_dma_learn_more"?m:e,n,p]}),q]}));o=f.bannerAction!=null?g(f,f.bannerAction):void 0;var s;if(o!=null)switch(o.type){case"link":s=i.jsx(c("MWXPressable.react"),{expanding:!0,linkProps:{target:"_blank",url:o.url},xstyle:function(){return[j.linkBanner]},children:r});break;case"action":s=i.jsx(c("MWXPressable.react"),{expanding:!0,onPress:o.onPress,ref:o.contextRef,children:r});break;case"popover":s=o.popoverTrigger(function(a,b){return i.jsx(c("MWXPressable.react"),{expanding:!0,onPress:function(){return b()},ref:a,children:r})});break;case"unimplemented":m=(b=(h=f.bannerAction)==null?void 0:h.ctaType)!=null?b:"";m!=="member_requests_view"&&c("recoverableViolation")("In thread banner cta not implemented: "+m,"messenger_web_ia");s=r;break}else s=r;return i.jsxs("div",babelHelpers["extends"]({className:"xfpmyvw x1n2onr6"},{ref:a,children:[l?i.jsx("div",{className:"xwwskcc x1q0q8m5 xso031l"}):null,i.jsx("div",babelHelpers["extends"]({className:"x80vd3b x1q0q8m5 xso031l"},{"data-testid":void 0,children:s}))]}))}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWChatUnsendNUX.react",["cr:2884","cr:4186","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){a=a.senderUnsendNUXEnabled;return i.jsxs(i.Fragment,{children:[b("cr:2884")==null?null:i.jsx(b("cr:2884"),{}),b("cr:4186")!=null&&a?i.jsx(b("cr:4186"),{}):null]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWChatUnsendNUXReceiverBanner.react",["fbt","ix","FDSButton.react","FDSSkittleIcon.react","JSResourceForInteraction","MDSRow.react","MDSRowItem.react","MWXText.react","fbicon","react","useMWXLazyDialog"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j,k=j||d("react"),l=c("JSResourceForInteraction")("MWChatUnsendNUXInterstitialDialog.react").__setRef("MWChatUnsendNUXReceiverBanner.react"),m={button:{flexBasis:"x1r8uery",flexGrow:"x1iyjqo2",$$css:!0},imageRow:{paddingTop:"x1nn3v0j",$$css:!0}};function a(a){var b,e=a.onDismiss,f=a.onView;a=h._(/*BTDS*/"__JHASH__7PesNdiLm6N__JHASH__");var g=h._(/*BTDS*/"__JHASH__jjSY-Fh1rGw__JHASH__"),j={},n=c("useMWXLazyDialog")(l),o=n[0],p=function(){return o(j,function(){})};return k.jsxs("div",babelHelpers["extends"]({className:"xcrg951 x7m3og9 x10l6tqk xh8yej3 x1vjfegm"},{children:[k.jsxs(n=c("MDSRow.react"),{paddingHorizontal:12,paddingTop:12,children:[k.jsx(b=c("MDSRowItem.react"),{xstyle:m.imageRow,children:k.jsx(c("FDSSkittleIcon.react"),{color:"gray",icon:d("fbicon")._(i("685851"),16),size:36})}),k.jsxs(b,{expanding:!0,children:[k.jsx(n,{paddingHorizontal:0,paddingTop:0,children:k.jsx(b,{children:k.jsx(c("MWXText.react"),{color:"primary",type:"headline4",children:a})})}),k.jsx(n,{paddingHorizontal:0,paddingTop:8,children:k.jsx(b,{children:k.jsx(c("MWXText.react"),{color:"secondary",type:"body4",children:g})})})]})]}),k.jsxs(n,{paddingHorizontal:12,paddingTop:8,paddingVertical:12,wrap:"forward",children:[k.jsx(b,{xstyle:m.button,children:k.jsx(c("FDSButton.react"),{label:h._(/*BTDS*/"__JHASH__W_KwwnBzw9K__JHASH__"),onPress:function(){p();return f()},type:"secondary"})}),k.jsx(b,{xstyle:m.button,children:k.jsx(c("FDSButton.react"),{label:h._(/*BTDS*/"__JHASH__CqytfJoYvSJ__JHASH__"),onPress:e,type:"secondary"})})]})]}))}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("isMessageUnsentInLastTenSeconds",["I64"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a){return Date.now()-(h||(h=d("I64"))).to_float((a=a.unsentTimestampMs)!=null?a:(h||(h=d("I64"))).zero)<=1e4}g["default"]=a}),98);
__d("useMessengerUnsendNUXQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="4823686477743600"}),null);
__d("useMessengerUnsendNUXQuery.graphql",["useMessengerUnsendNUXQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"id"}],c=[{kind:"Variable",name:"nux_id",variableName:"id"}],d={alias:null,args:null,kind:"ScalarField",name:"should_show",storageKey:null};return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"useMessengerUnsendNUXQuery",selections:[{alias:null,args:c,concreteType:null,kind:"LinkedField",name:"nux",plural:!1,selections:[d],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"useMessengerUnsendNUXQuery",selections:[{alias:null,args:c,concreteType:null,kind:"LinkedField",name:"nux",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},d,{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null}]},params:{id:b("useMessengerUnsendNUXQuery_facebookRelayOperation"),metadata:{},name:"useMessengerUnsendNUXQuery",operationKind:"query",text:null}}}();e.exports=a}),null);
__d("useMessengerUnsendNUX",["CometDismissFBNuxMutation","CometLogImpressionFBNuxMutation","CometRelay","RelayHooks","promiseDone","react","useMessengerUnsendNUXQuery.graphql"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=(i||d("react")).useCallback,k=h!==void 0?h:h=b("useMessengerUnsendNUXQuery.graphql");function a(a){var b=d("RelayHooks").useRelayEnvironment(),e=j(function(e){c("promiseDone")(d("CometRelay").fetchQuery(b,k,{id:a}).toPromise(),function(a){a=(a=a==null?void 0:(a=a.nux)==null?void 0:a.should_show)!=null?a:!1;e(a)},null)},[b,a]),f=j(function(){d("CometDismissFBNuxMutation").commit(b,a)},[b,a]),g=j(function(){d("CometLogImpressionFBNuxMutation").commit(b,a)},[b,a]);return[e,f,g]}g["default"]=a}),98);
__d("MWChatUnsendNUXReceiver.react",["I64","Int64Hooks","LSMessagingThreadTypeUtil","MWChatUnsendNUXReceiverBanner.react","MWLSThread","MWPActor.react","MWThreadKey.react","ReQL","isMessageUnsentInLastTenSeconds","react","useMessengerUnsendNUX","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=j||(j=d("react"));b=j;var l=b.useCallback,m=b.useRef,n=b.useState;function a(){var a=d("MWPActor.react").useActor(),b=d("MWThreadKey.react").useMWThreadKeyMemoizedExn(),e=d("MWLSThread").useThread(b,function(a){return a.threadType});e=e!=null&&d("LSMessagingThreadTypeUtil").isDiscoverableChannel(e);var f=(h||(h=c("useReStore")))(),g=n(!1),j=g[0],o=g[1],p=m(!1),q=m(!1),r=m();g=c("useMessengerUnsendNUX")(8568);var s=g[0],t=g[1],u=g[2],v=l(function(){var a=r.current;if(a!=null){a();r.current=void 0;return}},[]);g=l(function(){q.current=!0;t();v();return o(!1)},[t,v]);var w=l(function(a){var b=!j&&!p.current;if(b&&c("isMessageUnsentInLastTenSeconds")(a)){p.current=!0;return s(function(a){p.current=!1;if(a)return o(!0);else{v();q.current=!0;return}})}},[j,s,v]);d("Int64Hooks").useEffectInt64(function(){if(q.current)return;r.current=d("ReQL").fromTableAscending(f.tables.messages).getKeyRange(b).filter(function(b){if(b.isUnsent)return!(i||(i=d("I64"))).equal(b.senderId,a);else return!1}).subscribe(function(a,b){b.operation!=="delete"&&w(b.value)});return function(){v();if(j&&!q.current)return u()}},[f,a,j,u,w,b,v]);if(j&&!e)return k.jsx(c("MWChatUnsendNUXReceiverBanner.react"),{onDismiss:g,onView:g});else return null}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWChatUnsendNUXSender.react",["I64","JSResourceForInteraction","MWPActor.react","MWThreadKey.react","ReQL","isMessageUnsentInLastTenSeconds","react","useMWXLazyDialog","useMessengerUnsendNUX","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j;b=j||d("react");var k=b.useCallback,l=b.useEffect,m=b.useRef;function a(){var a=d("MWPActor.react").useActor(),b=d("MWThreadKey.react").useMWThreadKeyMemoizedExn(),e=(h||(h=c("useReStore")))(),f=m(!1),g=m(!1),j=m(!1),n=m(),o=c("useMessengerUnsendNUX")(8598),p=o[0],q=o[1],r=k(function(){var a=n.current;if(a!=null){a();n.current=void 0;return}},[]),s=k(function(){if(!j.current){j.current=!0;r();return q()}},[]);o=c("useMWXLazyDialog")(c("JSResourceForInteraction")("MWChatUnsendNUXSenderDialog.react").__setRef("MWChatUnsendNUXSender.react"));var t=o[0],u=k(function(a){var b=!f.current&&!g.current;if(b&&c("isMessageUnsentInLastTenSeconds")(a)){f.current=!0;return p(function(a){f.current=!1,a?(t({onView:s},function(){}),g.current=!0):(r(),j.current=!0)})}},[a,r]);l(function(){n.current=d("ReQL").fromTableAscending(e.tables.messages).getKeyRange(b).filter(function(b){return b.isUnsent&&(i||(i=d("I64"))).equal(b.senderId,a)}).subscribe(function(a,b){b.operation!=="delete"&&u(b.value)});return r},[b,u,r]);return null}g["default"]=a}),98);
__d("MWChatXACSunsettingBanner.react",["fbt","ix","MWXButton.react","MWXImage.react","MWXRow.react","MWXRowItem.react","MWXText.react","goURIOnWindow","react"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j,k=j||d("react"),l="https://www.facebook.com/help/messenger-app/619453488713104?ref=learn_more",m={button:{flexBasis:"x1r8uery",flexGrow:"x1iyjqo2",$$css:!0},imageRow:{paddingTop:"x1nn3v0j",$$css:!0}};function a(){var a,b,d=h._(/*BTDS*/"__JHASH__TDoMKgQOS58__JHASH__"),e=h._(/*BTDS*/"__JHASH__9PUf24O7tfB__JHASH__");return k.jsxs("div",babelHelpers["extends"]({className:"xcrg951 x7m3og9 x10l6tqk xh8yej3 x1vjfegm"},{children:[k.jsxs(a=c("MWXRow.react"),{paddingHorizontal:12,paddingTop:12,children:[k.jsx(b=c("MWXRowItem.react"),{xstyle:m.imageRow,children:k.jsx(c("MWXImage.react"),{src:i("331359")})}),k.jsxs(b,{expanding:!0,children:[k.jsx(a,{paddingHorizontal:0,paddingTop:0,children:k.jsx(b,{children:k.jsx(c("MWXText.react"),{color:"primary",type:"headline4",children:d})})}),k.jsx(a,{paddingHorizontal:0,paddingTop:8,children:k.jsx(b,{children:k.jsx(c("MWXText.react"),{color:"secondary",type:"body4",children:e})})})]})]}),k.jsx(a,{paddingHorizontal:12,paddingTop:8,paddingVertical:12,wrap:"forward",children:k.jsx(b,{xstyle:m.button,children:k.jsx(c("MWXButton.react"),{label:h._(/*BTDS*/"__JHASH__W_KwwnBzw9K__JHASH__"),onPress:function(){c("goURIOnWindow")(window.open("","_blank"),l)},type:"primary"})})})]}))}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("MWContextBannerQuickActionsEditChatInfo.react",["MWXCircleButton.react","react","useMWCMEditChatInfoDialogEntrypoint"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=a.icon,d=a.label;a=a.threadKey;var e=c("useMWCMEditChatInfoDialogEntrypoint")(a);return i.jsx(c("MWXCircleButton.react"),{icon:b,label:d,onPress:function(){return e()},size:36})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWCopyLinkPublicChatQuickAction.react",["fbt","MWPBumpEntityKey","MWVerticalRhythm","MWXCircleButton.react","MWXIconLink","MWXText.react","cometPushToast","react","useCopyText"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||(i=d("react")),k=i.useCallback,l=h._(/*BTDS*/"__JHASH__6ygymPD56Yw__JHASH__"),m=h._(/*BTDS*/"__JHASH__NNt0oNKP6tq__JHASH__");function a(a){a=a.threadInviteLink;a=c("useCopyText")({value:a});a[0];a[1];var b=a[2];a=k(function(){d("MWPBumpEntityKey").bumpEntityKeyWithAppId("mw.infobar","copy_link"),b(),d("cometPushToast").cometPushSimpleToast(m)},[b]);return j.jsxs("li",babelHelpers["extends"]({className:"x6s0dn4 x78zum5 xdt5ytf x187xtus"},{children:[j.jsx(c("MWXCircleButton.react"),{icon:c("MWXIconLink"),label:l,onPress:a,size:36}),j.jsx(c("MWVerticalRhythm"),{height:8}),j.jsx(c("MWXText.react"),{align:"center",color:"primary",numberOfLines:1,type:"body4",children:l})]}))}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("MWEditThreadNameDialogTrigger.react",["JSResourceForInteraction","promiseDone","react","useMWXLazyDialog","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i;i||(i=d("react"));var j=i.useRef,k=c("JSResourceForInteraction")("MWV2ThreadNameDialog.react").__setRef("MWEditThreadNameDialogTrigger.react");function a(a){var b=a.children,d=a.threadKey;a=j(null);var e=(h||(h=c("useReStore")))(),f=c("useMWXLazyDialog")(k),g=f[0];f=function(){c("promiseDone")(e.tables.threads.get(d),function(a){if(a==null)return;g({thread:a})})};return b(f,a)}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWShareThreadQuickActionButton.react",["fbt","MWXCircleButton.react","MWXColumnItem.react","MWXIconShare","MWXText.react","MWXTooltip.react","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react"),k=h._(/*BTDS*/"__JHASH__zzzD0_ypABg__JHASH__");function a(a){a=a.onPress;return j.jsxs(c("MWXTooltip.react"),{align:"middle",position:"above",tooltip:k,children:[j.jsx(c("MWXColumnItem.react"),{children:j.jsx(c("MWXCircleButton.react"),{icon:c("MWXIconShare"),label:k,onPress:a,size:36})}),j.jsx(c("MWXColumnItem.react"),{paddingTop:8,children:j.jsx(c("MWXText.react"),{align:"center",color:"primary",numberOfLines:1,type:"body4",children:k})})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("MWSharePublicChatQuickAction.react",["ChannelShareDialogLoggingContext","MWChannelInviteDialog.entrypoint","MWShareThreadQuickActionButton.react","react","useMWXEntryPointDialog"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=a.thread;a=c("useMWXEntryPointDialog")(c("MWChannelInviteDialog.entrypoint"),{});var d=a[0];return i.jsx("li",babelHelpers["extends"]({className:"x6s0dn4 x78zum5 xdt5ytf x187xtus"},{children:i.jsx(c("MWShareThreadQuickActionButton.react"),{onPress:function(){d({channelThread:b,loggingContext:c("ChannelShareDialogLoggingContext").CONTEXT_BANNER_QUICK_ACTION})}})}))}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWContextBannerQuickActions.react",["fbt","CommunityMessagingEnableState","I64","LSCommunityBitOffset","LSIntEnum","LSMessagingThreadTypeUtil","LSThreadBitOffset","MWAddMemberToGroupCircleButton.react","MWCMBulkInviteDialog.entrypoint","MWCMShortLinkShare.react","MWCMThreadTypes.react","MWContextBannerQuickActionsEditChatInfo.react","MWCopyLinkPublicChatQuickAction.react","MWEditChannelDialogTrigger.react","MWEditThreadNameDialogTrigger.react","MWGroupLimitContainer.react","MWInboxInfoMembersSectionStorageKey","MWInboxPersistedUIState","MWLSGroupMembershipDialog.entrypoint","MWPBumpEntityKey","MWSharePublicChatQuickAction.react","MWVerticalRhythm","MWXCircleButton.react","MWXIconFriendGenericAdd","MWXIconGroup","MWXIconLink","MWXIconPencil","MWXText.react","MessengerWebUXLogger","WebUXLoggingSurfaceContextProvider","canMWAddMemberToGroupThread","emptyFunction","isFeatureLimitEnabled","justknobx","mwCMIsAnyCMThread","mwCMisStandAloneCommunity","promiseDone","react","useCommunityFolder","useCommunityMembers","useIsReadOnlyFeatureLimitedWithThreadType","useMWXEntryPointDialog","vulture"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k,l=i||(i=d("react"));b=i;var m=b.useMemo,n=b.useRef,o=h._(/*BTDS*/"__JHASH__4Z6iwQf0KqP__JHASH__"),p=h._(/*BTDS*/"__JHASH__a3y4zGfm_2Z__JHASH__");function q(a){var b=a.thread;c("vulture")("7i0T7GxX4vy");a=n(null);var e=c("useCommunityFolder")(b),f=c("mwCMIsAnyCMThread")(b.threadType),g=c("mwCMisStandAloneCommunity")(e==null?void 0:e.communityType),i=d("MWCMThreadTypes.react").isBroadcastThread(b.threadType),q=d("LSMessagingThreadTypeUtil").isDiscoverableChannel(b.threadType),r=d("LSMessagingThreadTypeUtil").isArmadilloSecure(b.threadType);r=c("useIsReadOnlyFeatureLimitedWithThreadType")(b.threadType)&&(!r||c("isFeatureLimitEnabled")());var s=d("useCommunityMembers").useClearMemberList(),t=m(function(){if(e!=null&&f)return[e.enableState,d("LSThreadBitOffset").has(120,b),d("LSCommunityBitOffset").has(17,e),e.fbGroupId];else return[void 0,!1,!1,(j||(j=d("I64"))).zero]},[f,e,b]),u=t[0],v=t[1];t=t[2];u=f&&(j||(j=d("I64"))).equal((u=u)!=null?u:(k||(k=d("LSIntEnum"))).ofNumber(c("CommunityMessagingEnableState").ENABLED),(k||(k=d("LSIntEnum"))).ofNumber(c("CommunityMessagingEnableState").DISABLE_REQUESTED));var w=d("MWInboxPersistedUIState").usePersistedUIState(!1,d("MWInboxInfoMembersSectionStorageKey").storageKey),x=w[0];w=c("useMWXEntryPointDialog")(c("MWCMBulkInviteDialog.entrypoint"),{});var y=w[0];w=c("useMWXEntryPointDialog")(c("MWLSGroupMembershipDialog.entrypoint"),{groupID:(j||(j=d("I64"))).to_string((w=e==null?void 0:e.fbGroupId)!=null?w:(j||(j=d("I64"))).zero)});var z=w[0];w=m(function(){return[f?h._(/*BTDS*/"__JHASH__6ygymPD56Yw__JHASH__"):h._(/*BTDS*/"__JHASH__5q5wieIjbh7__JHASH__"),f?h._(/*BTDS*/"__JHASH__um66LGyp2bC__JHASH__"):h._(/*BTDS*/"__JHASH___jI2RJo8mJV__JHASH__"),e!=null&&i?h._(/*BTDS*/"__JHASH__1cAdDa3Rt1T__JHASH__"):h._(/*BTDS*/"__JHASH__1Av2Yy1o2_Y__JHASH__")]},[i,f,e]);var A=w[0],B=w[1];w=w[2];var C=d("LSThreadBitOffset").has(60,b),D=d("LSThreadBitOffset").has(81,b);r=c("canMWAddMemberToGroupThread")(b,r);var E=d("LSThreadBitOffset").has(26,b),F=d("LSThreadBitOffset").has(108,b),G=C&&D,H=c("MessengerWebUXLogger").useInteractionLogger();return l.jsx(d("WebUXLoggingSurfaceContextProvider").WebUXLoggingSurfaceContextProvider,{value:"thread_context_banner",children:l.jsxs("ul",babelHelpers["extends"]({className:"x6s0dn4 x78zum5 xl56j7k xsag5q8 x1y1aw1k"},{children:[f&&!u?v?l.jsxs("li",babelHelpers["extends"]({className:"x6s0dn4 x78zum5 xdt5ytf x187xtus"},{children:[l.jsx(c("MWXCircleButton.react"),{icon:c("MWXIconFriendGenericAdd"),label:o,onPress:function(){d("MWPBumpEntityKey").bumpEntityKeyWithAppId("mw.infobar","quick_actions_direct_invite");return y({fbThreadId:(j||(j=d("I64"))).to_string(b.threadKey),parentSurface:"thread_view",source:"invite_button",surface:"thread_view"},c("emptyFunction"))},size:36}),l.jsx(c("MWVerticalRhythm"),{height:8}),l.jsx(c("MWXText.react"),{align:"center",color:"primary",numberOfLines:1,type:"body4",children:o})]})):l.jsx(c("MWCMShortLinkShare.react"),{thread:b,children:function(a,b){return l.jsxs("li",babelHelpers["extends"]({className:"x6s0dn4 x78zum5 xdt5ytf x187xtus"},{children:[l.jsx(c("MWXCircleButton.react"),{icon:c("MWXIconLink"),label:A,onPress:b,size:36}),l.jsx(c("MWVerticalRhythm"),{height:8}),l.jsx(c("MWXText.react"),{align:"center",color:"primary",numberOfLines:1,type:"body4",children:A})]}))}}):null,!f&&q&&F&&(j||(j=d("I64"))).equal(b.threadInvitesEnabledV2,(k||(k=d("LSIntEnum"))).ofNumber(1))?l.jsxs(l.Fragment,{children:[b.threadInviteLink!=null&&l.jsx(c("MWSharePublicChatQuickAction.react"),{thread:b}),b.threadInviteLink!=null&&l.jsx(c("MWCopyLinkPublicChatQuickAction.react"),{threadInviteLink:b.threadInviteLink})]}):null,!f&&r?l.jsx(c("MWGroupLimitContainer.react"),{groupLimitReachedContent:null,thread:b,children:l.jsxs("li",babelHelpers["extends"]({className:"x6s0dn4 x78zum5 xdt5ytf x187xtus"},{children:[l.jsx(c("MWAddMemberToGroupCircleButton.react"),{label:A,threadKey:b.threadKey,threadType:b.threadType}),l.jsx(c("MWVerticalRhythm"),{height:8}),l.jsx(c("MWXText.react"),{align:"center",color:"primary",numberOfLines:1,type:"body4",children:A})]}))}):null,q&&G?l.jsxs("li",babelHelpers["extends"]({className:"x6s0dn4 x78zum5 xdt5ytf x187xtus"},{children:[l.jsx(c("MWEditChannelDialogTrigger.react"),{threadKey:b.threadKey,children:function(a,b){return l.jsx(c("MWXCircleButton.react"),{icon:c("MWXIconPencil"),label:p,onPress:function(){return a()},ref:b,size:36})}}),l.jsx(c("MWVerticalRhythm"),{height:8}),l.jsx(c("MWXText.react"),{align:"center",color:"primary",numberOfLines:1,type:"body4",children:p})]})):null,!f&&C&&!G?l.jsxs("li",babelHelpers["extends"]({className:"x6s0dn4 x78zum5 xdt5ytf x187xtus"},{children:[l.jsx(c("MWEditThreadNameDialogTrigger.react"),{threadKey:b.threadKey,children:function(a,d){return l.jsx(c("MWXCircleButton.react"),{icon:c("MWXIconPencil"),label:B,onPress:function(){a(),H==null?void 0:H({eventName:"open_edit_thread_name_dialog",threadKey:b.threadKey,threadType:b.threadType})},ref:d,size:36})}}),l.jsx(c("MWVerticalRhythm"),{height:8}),l.jsx(c("MWXText.react"),{align:"center",color:"primary",numberOfLines:1,type:"body4",children:B})]})):null,f&&D&&!u&&t&&!g?l.jsxs("li",babelHelpers["extends"]({className:"x6s0dn4 x78zum5 xdt5ytf x187xtus"},{children:[l.jsx(c("MWContextBannerQuickActionsEditChatInfo.react"),{icon:c("MWXIconPencil"),label:p,threadKey:b.threadKey}),l.jsx(c("MWVerticalRhythm"),{height:8}),l.jsx(c("MWXText.react"),{align:"center",color:"primary",numberOfLines:1,type:"body4",children:p})]})):c("justknobx")._("1116")?null:E?l.jsxs("li",babelHelpers["extends"]({className:"x6s0dn4 x78zum5 xdt5ytf x187xtus"},{children:[l.jsx(c("MWXCircleButton.react"),{icon:c("MWXIconGroup"),label:w,onPress:function(){return z({folder:e},function(){f&&!x&&c("promiseDone")(s())})},ref:a,size:36}),l.jsx(c("MWVerticalRhythm"),{height:8}),l.jsx(c("MWXText.react"),{align:"center",color:"primary",numberOfLines:1,type:"body4",children:w})]})):null]}))})}q.displayName=q.name+" [from "+f.id+"]";function a(a){c("vulture")("8Ke7UlXKUyg");return l.jsx(d("WebUXLoggingSurfaceContextProvider").WebUXLoggingSurfaceContextProvider,{value:"thread_context_banner",children:l.jsx(q,babelHelpers["extends"]({},a))})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("MWEBRestoreInThreadScrollPersistentBanner.react",["fbt","MAWEncryptedBackupsRestoreDialog.entrypoint","MWChatEncryptedBackupsQPLEvents","MWChatEncryptedBackupsQPLSource.enum","MWEncryptedBackupsRetrieveQplLoggingAnnotations","MWXLink.react","MWXText.react","QPLUserFlow","promiseDone","react","requireDeferred","useLabyrinthLogging","useMWXEntryPointDialog","useReStore","useVisibilityObserver","vulture"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=j||(j=d("react")),l=j.useRef,m=c("requireDeferred")("mwEBCheckIfEBKeysExistInDisk").__setRef("MWEBRestoreInThreadScrollPersistentBanner.react");function a(){c("vulture")("97oQBj5Ce1S");var a=c("useMWXEntryPointDialog")(c("MAWEncryptedBackupsRestoreDialog.entrypoint"),{}),b=a[0];a=d("useLabyrinthLogging").useLabyrinthLoggingFlow();var e=a.startFlow,f=(i||(i=c("useReStore")))(),g=l(!1),j=c("MWChatEncryptedBackupsQPLSource.enum").IN_THREAD_SCROLL_PERSISTENT_BANNER,n=function(a){d("MWEncryptedBackupsRetrieveQplLoggingAnnotations").encryptedBackupsRetrieveQplLoggingAnnotations({db:f,onFetch:function(b){var f=b.ebsmWiped,h=b.firstUpsellTime,i=b.hasEbKeysLocally,k=b.hasEBSM,l=b.hasPDB,n=b.hasUserRestoredBefore;b=b.hasUserRestoredBeforeTemp;e({additionalAnnotations:{eb_session_identifier:h,ebsm_wiped:f,has_eb_keys_locally:i,has_ebsm:k,has_pdb:l,has_user_restored_before:n,has_user_restored_before_temp:b,restore_upsell_first_impression_time:h},event:d("MWChatEncryptedBackupsQPLEvents").restoreQplEvent,source:j});c("QPLUserFlow").addPoint(d("MWChatEncryptedBackupsQPLEvents").restoreQplEvent,a);g.current===!1&&(g.current=!0,c("promiseDone")(m.load(),function(a){return a(i)}))}})};a=c("useVisibilityObserver")({onVisible:function(){n("RESTORE_IN_THREAD_PERSISTENT_BANNER_IMPRESSION")}});return k.jsx("div",babelHelpers["extends"]({className:"xfpmyvw x80vd3b x1q0q8m5 xso031l xt0psk2 x1o1nzlu x10b6aqq x889kno x10l6tqk x1wo2wf3 xh8yej3 x1vjfegm"},{ref:a,children:k.jsxs(c("MWXText.react"),{align:"center",color:"secondary",numberOfLines:2,type:"meta4",children:[h._(/*BTDS*/"__JHASH__4WMqcKoHbeS__JHASH__")," ",k.jsx(c("MWXText.react"),{color:"blueLink",type:"bodyLink4",children:k.jsx(c("MWXLink.react"),{onClick:function(){n("RESTORE_IN_THREAD_PERSISTENT_BANNER_CTA_CLICKED"),b({source:j})},target:"_blank",testid:void 0,weight_DEPRECATED:"semibold",children:k.jsx("div",{style:{color:"var(--mwp-header-button-color)",display:"inline"},children:h._(/*BTDS*/"__JHASH__KfRv84gajDv__JHASH__")})})})]})}))}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("MWEBRestoreInThreadScrollPersistentBannerWrapper.react",["MWEBEntrypointsKillswitch.enum","MWEBRestoreInThreadScrollPersistentBanner.react","react","useCometRouterState","useMWEBBackupState","useMWEBGetUpsellState","vulture"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(){c("vulture")("6iK6UHRmCP3");var a=c("useCometRouterState")();a=a==null?void 0:a.main.route.tabKey;var b=c("useMWEBBackupState")({entrypoint:c("MWEBEntrypointsKillswitch.enum").IN_THREAD_SCROLL_BANNER}),d=c("useMWEBGetUpsellState")();d=d.isRestoreUpsellsDismissed;return a!=="messenger"&&b===4&&d===!1?i.jsx(c("MWEBRestoreInThreadScrollPersistentBanner.react"),{}):null}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWEBRestoreInThreadScrollPersistentBannerWrapperWithEBCheck.react",["cr:9932"],(function(a,b,c,d,e,f,g){"use strict";g["default"]=b("cr:9932")}),98);
__d("MWXIconChevronDown",["MWXSvgIcon","SVGIcon","cr:12364","gkx"],(function(a,b,c,d,e,f,g){"use strict";a=d("MWXSvgIcon").mwxSvgIcon(d("SVGIcon").svgIcon(b("cr:12364")),c("gkx")("23219"));g["default"]=a}),98);
__d("MWXIconPushpin",["MWXSvgIcon","SVGIcon","cr:12545","gkx"],(function(a,b,c,d,e,f,g){"use strict";a=d("MWXSvgIcon").mwxSvgIcon(d("SVGIcon").svgIcon(b("cr:12545")),c("gkx")("23219"));g["default"]=a}),98);
__d("useMWFetchMessageByPinnedMessageId",["FBLogger","I64","LSFactory","LSMessagePointQueryStoredProcedure","LSMessagingThreadTypeUtil","MAWThreadCutover","ReQL","ReQLSuspense","asyncToGeneratorRuntime","promiseDone","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function j(a,b,c){return k.apply(this,arguments)}function k(){k=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,e){var g;g=(i||(i=d("I64"))).to_int32((g=b.syncGroup)!=null?g:(i||(i=d("I64"))).neg_one);if(g!==-1&&g===95){c("FBLogger")("messenger_web_messaging").mustfix("useMWFetchMessageByPinnedMessageId: incorrect call to MPQ with secure mailbox");return}yield a.runInTransaction(function(a){return c("LSMessagePointQueryStoredProcedure")(c("LSFactory")(a),{messageId:e,threadKey:b.threadKey,threadType:b.threadType})},"readwrite",void 0,void 0,f.id+":53")});return k.apply(this,arguments)}function a(a){var b=(h||(h=c("useReStore")))(),e=d("ReQLSuspense").useFirst(function(){return d("ReQL").fromTableAscending(b.tables.threads,["threadType"]).getKeyRange(a)},[b,a],f.id+":66"),g=d("MAWThreadCutover").useGetCutoverOpenThreadKey(a),i=g!=null,k=g||a;g=d("MAWThreadCutover").useIsDualThreadCutoverOpenThread(g);e=e!=null&&d("LSMessagingThreadTypeUtil").isArmadilloSecure(e.threadType);var l=e&&(!i||g),m=d("ReQLSuspense").useFirst(function(){return d("ReQL").fromTableDescending(b.tables.threads,["threadKey","threadType","syncGroup"]).getKeyRange(k)},[b,k],f.id+":86");e=d("ReQLSuspense").useArray(function(){return l?d("ReQL").empty():d("ReQL").fromTableDescending(b.tables.msg_pinned_messages_v2.index("pinnedMessageDisplayOrder")).getKeyRange(k).map(function(a){a=a.messageId;var e=d("ReQLSuspense").first(d("ReQL").fromTableDescending(b.tables.messages.index("messageId")).getKeyRange(a),f.id+":105");m!=null&&e==null&&c("promiseDone")(j(b,m,a));return{message:e,pinnedMessageId:a}})},[b,k,l,m],f.id+":96");return e.map(function(a){return a.message})}g["default"]=a}),98);
__d("useMWJumpToMessageWrapper",["useMWJumpToMessage"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return c("useMWJumpToMessage")(a.source)}g["default"]=a}),98);
__d("MWInboxPinnedMessagesBanner.react",["fbt","BaseMiddot.react","CometErrorBoundary.react","CometPageletWithDiv.react","FBLogger","I64","JSResourceForInteraction","LSIntEnum","LSMessagingThreadTypeUtil","MWBroadcastChannelLoggingShapes","MWLSThreadDisplayContext","MWLogBroadcastChannelFalcoEvent","MWPActor.react","MWUnvaultedText","MWXColumn.react","MWXColumnItem.react","MWXIconChevronDown","MWXIconForListCell.react","MWXIconPushpin","MWXIconStrict.react","MWXPressable.react","MWXRow.react","MWXRowItem.react","MWXText.react","ReQL","ReQLSuspense","cr:697","isMWBumpMessage","react","useMWFetchMessageByPinnedMessageId","useMWJumpToMessageWrapper","useMWXLazyDialog","useReStore","useStringWithSubstitutions"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k,l,m=j||(j=d("react")),n=j.useMemo;function a(a){return[]}var o=(b=b("cr:697"))!=null?b:a,p={pinnedMessagesWrapper:{alignItems:"x6s0dn4",display:"x78zum5",$$css:!0},pinnedMessagesWrapperChatTabs:{borderBottomColor:"x80vd3b",borderBottomStyle:"x1q0q8m5",borderBottomWidth:"xso031l",$$css:!0},pinnedMessagesWrapperInbox:{borderTopColor:"x1pdss0j",borderTopStyle:"x13fuv20",borderTopWidth:"x178xt8z",$$css:!0},row:{height:"x10wjd1d",marginTop:"xdj266r",marginEnd:"x11i5rnm",marginBottom:"xat24cr",marginStart:"x1mh8g0r",$$css:!0},rowText:{height:"xlup9mm",$$css:!0}},q=c("JSResourceForInteraction")("MWPinnedMessagesDialog.react").__setRef("MWInboxPinnedMessagesBanner.react");function r(a,b,e){var f=a==null?void 0:a.text,g=b&&a!=null?(k||(k=d("I64"))).equal(e,a.threadKey):!1;b=n(function(){var b;return new Set(g?(b=a==null?void 0:(b=a.mentionIds)==null?void 0:b.split==null?void 0:b.split(","))!=null?b:[]:[])},[g,a==null?void 0:a.mentionIds]);f=d("MWUnvaultedText").getMWUnvaultedText(g,f);b=(b=(b=d("useStringWithSubstitutions").useStringWithMentionSubstitutionsAndUpdatedRanges(f,[],b,e))==null?void 0:b.textWithSubstitutions)!=null?b:f;e=(e=d("useStringWithSubstitutions").useStringWithSubstitutions(f,e))!=null?e:f;f=c("isMWBumpMessage")(a);return f?e:b}function s(a){if(a==null)return"";if((k||(k=d("I64"))).equal(a.displayedContentTypes,(l||(l=d("LSIntEnum"))).ofNumber(2)))return h._(/*BTDS*/"__JHASH__xgjHlv2kQPY__JHASH__");else if((k||(k=d("I64"))).equal(a.displayedContentTypes,(l||(l=d("LSIntEnum"))).ofNumber(4)))return h._(/*BTDS*/"__JHASH__X9DncealQbJ__JHASH__");else if((k||(k=d("I64"))).equal(a.displayedContentTypes,(l||(l=d("LSIntEnum"))).ofNumber(4096))||(k||(k=d("I64"))).equal(a.displayedContentTypes,(l||(l=d("LSIntEnum"))).ofNumber(134217728)))return h._(/*BTDS*/"__JHASH__rZqTMZ7dJmB__JHASH__");else if((k||(k=d("I64"))).equal(a.displayedContentTypes,(l||(l=d("LSIntEnum"))).ofNumber(16384)))return h._(/*BTDS*/"__JHASH__qqvxkP_nlPB__JHASH__");else if((k||(k=d("I64"))).equal(a.displayedContentTypes,(l||(l=d("LSIntEnum"))).ofNumber(64)))return h._(/*BTDS*/"__JHASH__BbHS9IlclMk__JHASH__");return h._(/*BTDS*/"__JHASH__KsTQ68TZNpQ__JHASH__")}function t(a){c("FBLogger")("messenger_web_pinned_messages").catching(a).mustfix("uncaught exception in MWInboxPinnedMessagesBanner.react. Error:%s",a.message)}function e(a){a=a.thread;return m.jsx(c("CometErrorBoundary.react"),{fallback:function(){return null},onError:t,children:m.jsx(d("CometPageletWithDiv.react").Placeholder,{fallback:null,name:"MWPinnedMessagesBanner",children:m.jsx(u,{thread:a})})})}e.displayName=e.name+" [from "+f.id+"]";function u(a){var b=a.thread;a=c("useMWXLazyDialog")(q);var e=a[0],g=(i||(i=c("useReStore")))();a=c("useMWFetchMessageByPinnedMessageId")(b.threadKey);var j=o(b.threadKey);j=j.concat(a);a=[];var l=j.reduce(function(a,b){return b!=null?[].concat(a,[b]):a},a);j=d("MWPActor.react").useActor();var t=c("useMWJumpToMessageWrapper")({source:"Pinned"}),u=(l==null?void 0:l.length)>0?l[0]:null;a=d("ReQLSuspense").useFirst(function(){return(u==null?void 0:u.senderId)!=null?d("ReQL").fromTableAscending(g.tables.contacts).getKeyRange(u.senderId):d("ReQL").empty()},[u==null?void 0:u.senderId,g],f.id+":251");var v=d("LSMessagingThreadTypeUtil").isArmadilloSecure(b.threadType),w=r(u,v,b.threadKey);v=n(function(){return w!=null&&w!==""?w:s(u)},[u,w]);var x=d("MWLSThreadDisplayContext").useMWLSThreadDisplayContext()==="Inbox";if(l.length===0)return null;var y={eventName:"open_view_pinned_messages_dialog",threadKey:b.threadKey,threadType:b.threadType},z=d("LSMessagingThreadTypeUtil").isDiscoverablePublicBroadcastChannel(b.threadType);a=(u==null?void 0:u.senderId)!=null&&(k||(k=d("I64"))).equal(j,u.senderId)?"You":(j=a==null?void 0:a.name)!=null?j:"";return m.jsx(c("MWXPressable.react"),{"aria-label":z?h._(/*BTDS*/"__JHASH__uKLUxuQU_CD__JHASH__",[h._param("lastPinnedMessage",v)]):h._(/*BTDS*/"__JHASH__YIRbXxGdt3C__JHASH__",[h._param("lastPinnedMessage",v)]),display:"inline",expanding:!0,loggingEvent:y,onPress:function(){if(l.length===1){var a=l[0];a!=null&&a.messageId!=null&&a.timestampMs!=null&&t(a.messageId,a.timestampMs)}else e({threadKey:b.threadKey});z&&d("MWLogBroadcastChannelFalcoEvent").logBroadcastChannelFalcoEvent(babelHelpers["extends"]({},d("MWBroadcastChannelLoggingShapes").VIEW_PINNED_MESSAGES_FROM_THREAD_VIEW_BANNER,{clientExtras:{isDialogOpened:(l.length>1).toString()},threadFbid:b.threadKey}))},overlayDisabled:!0,overlayFocusRingPosition:"inset",testid:void 0,xstyle:[p.pinnedMessagesWrapper,x?p.pinnedMessagesWrapperInbox:p.pinnedMessagesWrapperChatTabs],children:m.jsxs(c("MWXRow.react"),{expanding:!0,paddingHorizontal:8,paddingVertical:0,verticalAlign:"center",xstyle:p.row,children:[m.jsx(c("MWXRowItem.react"),{verticalAlign:"center",children:m.jsx(c("MWXIconForListCell.react"),{color:"secondary",icon:c("MWXIconPushpin"),size:"medium"})}),m.jsx(c("MWXRowItem.react"),{expanding:!0,verticalAlign:"center",children:m.jsxs(c("MWXColumn.react"),{children:[m.jsx(c("MWXColumnItem.react"),{verticalAlign:"center",xstyle:p.rowText,children:m.jsx(c("MWXText.react"),{color:"secondary",numberOfLines:1,type:"meta3",children:z?h._(/*BTDS*/"__JHASH__Dezv4EV21yi__JHASH__",[h._param("channel_creator_name",a),h._param("middot",m.jsx(c("BaseMiddot.react"),{}))]):h._(/*BTDS*/"__JHASH__5htmo3zfvNj__JHASH__",[h._param("message_sender_name",a)])})}),m.jsx(c("MWXColumnItem.react"),{verticalAlign:"center",xstyle:p.rowText,children:m.jsx(c("MWXText.react"),{numberOfLines:1,type:"bodyLink4",children:v})})]})}),l.length>1&&m.jsx(c("MWXRowItem.react"),{children:m.jsx(c("MWXIconStrict.react"),{color:"secondary",icon:c("MWXIconChevronDown"),size:16})})]})})}u.displayName=u.name+" [from "+f.id+"]";g["default"]=e}),226);
__d("useInThreadBannerWithCta",["I64","ReQL","ReQLSuspense","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=function(a,b){return b!=null?a.get((i||(i=d("I64"))).to_string(b)):null};function k(a,b,c){return{banner:a,bannerAction:j(b,a.bannerCtaId),leftButton:j(b,a.cta1Id),overflowMenuActions:(c!=null?[c.cta1Id,c.cta2Id,c.cta3Id,c.cta4Id,c.cta5Id]:[]).map(function(a){return j(b,a)}).filter(Boolean),rightButton:j(b,a.cta2Id)}}function a(a,b){var e=(h||(h=c("useReStore")))(),g=d("ReQLSuspense").useFirst(function(){return d("ReQL").fromTableAscending(e.tables.in_thread_banner_overflow_menu).getKeyRange(b,a.bannerId)},[e,b,a.bannerId],f.id+":67"),j=new Map(d("ReQLSuspense").useArray(function(){return d("ReQL").fromTableAscending(e.tables.in_thread_banner_ctas).getKeyRange(a.bannerId).map(function(a){return[(i||(i=d("I64"))).to_string(a.ctaId),a]})},[e,a.bannerId],f.id+":74"));return k(a,j,g)}g.createBanner=k;g.useInThreadBannerWithCta=a}),98);
__d("useMWLSEnsureAdContextExists",["LSFactory","LSRequestAdContextFromThreadKeyStoredProcedure","MWThreadKey.react","promiseDone","react","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=(i||d("react")).useEffect;function a(){var a=(h||(h=c("useReStore")))(),b=d("MWThreadKey.react").useMWThreadKeyMemoizedExn();j(function(){c("promiseDone")(a.runInTransaction(function(a){return c("LSRequestAdContextFromThreadKeyStoredProcedure")(c("LSFactory")(a),{threadKey:b})},"readwrite",void 0,void 0,f.id+":24"))},[b,a])}g["default"]=a}),98);
__d("useMWLSEnsureInThreadBannerExists",["LSFactory","LSFetchBannersStoredProcedure","MWThreadKey.react","promiseDone","react","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=(i||d("react")).useEffect;function a(){var a=(h||(h=c("useReStore")))(),b=d("MWThreadKey.react").useMWThreadKeyMemoizedExn();j(function(){var d=a.runInTransaction(function(a){return c("LSFetchBannersStoredProcedure")(c("LSFactory")(a),{threadKey:b})},"readwrite",void 0,void 0,f.id+":23");c("promiseDone")(d)},[b,a])}g["default"]=a}),98);
__d("useMWCMMemberRequestsCtaParser.react",["GroupsCometChatsEngagementLogger","I64","MWCMMemberRequestsDialog.entrypoint","MWInboxInfoPanelContext.react","MWLSThreadDisplayContext","useMWXEntryPointDialog"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(){var a=d("MWInboxInfoPanelContext.react").useMWInboxInfoPanelContext(),b=a.isOnMemberRequestsPageRef,e=a.pushMemberRequestsPage,f=a.setShouldNavToMemberRequests,g=a.setThreadInfoVisible,i=a.threadInfoVisible;a=d("MWLSThreadDisplayContext").useMWLSThreadDisplayContext();var j=a==="ChatTab";a=c("useMWXEntryPointDialog")(c("MWCMMemberRequestsDialog.entrypoint"),{});var k=a[0],l=function(a){k({parentSurface:"request_to_join_activity_banner",threadKey:a})};return function(a,c){var k=function(){d("GroupsCometChatsEngagementLogger").log({action:"tap",client_extras:{member_join_request_enabled:"1"},event:"request_to_join_banner",source:"request_to_join_activity_banner",surface:"thread_view",thread_id:(h||(h=d("I64"))).to_string(a.banner.threadKey)})};if(c.ctaType!=="cm_thread_member_requests_view")return{type:"unimplemented"};return j?{onPress:function(){k(),l(a.banner.threadKey)},type:"action"}:{onPress:function(){k();if(b.current===!0)return;i===!0?e("request_to_join_activity_banner"):(f(!0),g(!0))},type:"action"}}}g["default"]=a}),98);
__d("useMWLSAdContextCtaParser",["JSResourceForInteraction","useMWXLazyDialog"],(function(a,b,c,d,e,f,g){"use strict";function a(){var a=c("useMWXLazyDialog")(c("JSResourceForInteraction")("MWCTMAdContextDialog.react").__setRef("useMWLSAdContextCtaParser")),b=a[0];return function(a,c){return c.ctaType!=="ads_context"?{type:"unimplemented"}:{onPress:function(){return b({adId:c.ctaId,threadKey:a.banner.threadKey})},type:"action"}}}g["default"]=a}),98);
__d("useMWLSExecuteInThreadBannerCta",["LSExecuteCTAStoredProcedure","LSFactory","promiseDone","react","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=(i||d("react")).useCallback;function a(){var a=(h||(h=c("useReStore")))();return j(function(b){c("promiseDone")(a.runInTransaction(function(a){return c("LSExecuteCTAStoredProcedure")(c("LSFactory")(a),{ctaId:b})},"readwrite",void 0,void 0,f.id+":34"))},[a])}g["default"]=a}),98);
__d("useMWLSMarketplaceServerMutationCta",["LSFactory","LSServerMutationCtaStoredProcedure","promiseDone","react","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=(i||d("react")).useCallback;function a(){var a=(h||(h=c("useReStore")))();return j(function(b,d){c("promiseDone")(a.runInTransaction(function(a){return c("LSServerMutationCtaStoredProcedure")(c("LSFactory")(a),{marketplaceCtaType:d,threadKey:b})},"readwrite",void 0,void 0,f.id+":28"))},[a])}g["default"]=a}),98);
__d("useMWLSMarketplaceCtaParser",["CometMarketplaceConfirmMarkAsPaidDialog.entrypoint","CometMarketplaceCreateDiscountedPriceDialog.entrypoint","CometMarketplaceInboxLabelChatDialog.entrypoint","CometMarketplaceLogger","FBLogger","I64","JSResourceForInteraction","MWPActor.react","MWThreadKey.react","MWXLazyPopoverTrigger.react","ReQL","ReQLSuspense","react","recoverableViolation","useMWLSExecuteInThreadBannerCta","useMWLSMarketplaceServerMutationCta","useMWXEntryPointDialog","useMWXLazyDialog","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=j||(j=d("react")),l=j.useMemo;b=["marketplace_mark_as_available","marketplace_mark_as_pending","marketplace_mark_as_sold","marketplace_mark_as_sold_scaled","marketplace_mark_as_sold_with_txn_survey","marketplace_mark_as_sold_with_txn_survey_scaled","marketplace_mark_as_sold_with_select_buyer","marketplace_mark_as_sold_with_select_buyer_scaled"];var m=new Set(b);e=new Set(b.concat(["marketplace_rate_buyer","marketplace_scaled_rate_buyer","marketplace_rate_seller","marketplace_scaled_rate_seller","marketplace_report_buyer","marketplace_report_seller","marketplace_see_details","marketplace_request_payment","marketplace_send_payment","marketplace_find_similar","marketplace_more_options","marketplace_p2m_request_payment","marketplace_xma_call_function","marketplace_label_chat","marketplace_mark_as_paid","marketplace_view_profile","marketplace_create_discount","marketplace_server_mutation","marketplace_banner_open_native"]));function n(a){var b=(h||(h=c("useReStore")))(),e=d("MWPActor.react").useActor();return d("ReQLSuspense").useFirst(function(){return d("ReQL").fromTableAscending(b.tables.participants,["contactId"]).getKeyRange(a).filter(function(a){return!(i||(i=d("I64"))).equal(a.contactId,e)}).map(function(a){return(i||(i=d("I64"))).to_string(a.contactId)})},[e,a,b],f.id+":81")}function a(){var a=d("MWThreadKey.react").useMWThreadKeyMemoizedExn(),b=c("useMWLSMarketplaceServerMutationCta")(),e=c("useMWLSExecuteInThreadBannerCta")(),f=n(a),g=c("useMWXLazyDialog")(c("JSResourceForInteraction")("CometFRX_DEPRECATED.react").__setRef("useMWLSMarketplaceCtaParser")),h=g[0],j=(i||(i=d("I64"))).to_string(a);g=c("useMWXEntryPointDialog")(c("CometMarketplaceInboxLabelChatDialog.entrypoint"),{thread_id:j});var o=g[0];a=c("useMWXEntryPointDialog")(c("CometMarketplaceConfirmMarkAsPaidDialog.entrypoint"),{threadId:j});var p=a[0];g=c("useMWXEntryPointDialog")(c("CometMarketplaceCreateDiscountedPriceDialog.entrypoint"),{threadId:j});var q=g[0];return l(function(){var a=function a(g,l){var n=l.ctaId,r=l.ctaType,s=l.deeplinkUrl,t=l.webviewUrl;if(r==="marketplace_see_details"||r==="marketplace_banner_open_native"){var u;u=(u=t)!=null?u:s;if(u!=null)return{type:"link",url:u};c("recoverableViolation")("Marketplace see details cta without url","mp_messaging")}if(r==="marketplace_view_profile"){u=(u=t)!=null?u:s;if(u!=null)return{type:"link",url:u};c("recoverableViolation")("Marketplace view profile cta without url","mp_messaging")}if(r==="marketplace_scaled_rate_seller"&&t!=null)return{type:"link",url:t};if(r==="marketplace_more_options"&&g.overflowMenuActions.length>0)return{popoverTrigger:function(b){return k.jsx(c("MWXLazyPopoverTrigger.react"),{align:"end",popoverProps:{ctaParser:function(b){return a(g,b)},menu:g.overflowMenuActions},popoverResource:c("JSResourceForInteraction")("MWLSMarketplacePopoverMenu.react").__setRef("useMWLSMarketplaceCtaParser"),children:b})},type:"popover"};if(r==="marketplace_report_buyer"||r==="marketplace_report_seller"){if(f!=null)return{onPress:function(){return h({entryPoint:"REPORT_BUTTON",id:f,location:r==="marketplace_report_buyer"?"marketplace_messenger_report_buyer":"marketplace_messenger_report_seller"},function(){})},type:"action"};c("recoverableViolation")("Haven't implemented report buyer/seller for threads with more than 1 person","mp_messaging")}if(m.has(r))return{onPress:function(){return e(n)},type:"action"};if(r==="marketplace_label_chat")return{onPress:function(){return o({threadID:j},function(){return e(n)})},type:"action"};if(r==="marketplace_mark_as_paid")return{onPress:function(){return p({threadID:j},function(){return e(n)})},type:"action"};if(r==="marketplace_create_discount")return{onPress:function(){d("CometMarketplaceLogger").logClick("create_discount","messenger_thread_view");return q({},function(){return e(n)})},type:"action"};if(r==="marketplace_server_mutation"){s=l.actionContentBlob;var v="";if(s!=null){t=((u=JSON.parse(s))!=null?u:{}).marketplace_cta_type;typeof t==="string"?v=t:c("FBLogger")("mp_messaging").mustfix("blob marketplace_cta_type is not a valid string type")}return{onPress:function(){return b((i||(i=d("I64"))).of_string(j),v)},type:"action"}}return{type:"unimplemented"}};return a},[e,b,f,h,q,o,p,j])}g.marketplaceCta=e;g.useMWLSMarketplaceCtaParser=a}),98);
__d("useMWLSInThreadBannerCtaParser",["useMWCMMemberRequestsCtaParser.react","useMWLSAdContextCtaParser","useMWLSMarketplaceCtaParser"],(function(a,b,c,d,e,f,g){"use strict";function a(){var a=d("useMWLSMarketplaceCtaParser").useMWLSMarketplaceCtaParser(),b=c("useMWLSAdContextCtaParser")(),e=c("useMWCMMemberRequestsCtaParser.react")();return function(c,f){var g=f.ctaType;if(d("useMWLSMarketplaceCtaParser").marketplaceCta.has(g))return a(c,f);else if(g==="ads_context")return b(c,f);else if(g==="cm_thread_member_requests_view")return e(c,f);return{type:"unimplemented"}}}g["default"]=a}),98);
__d("MWLSInThreadBannerComponent.react",["GroupsCometChatsEngagementLogger","I64","MWChatInThreadBanner.react","ReQL","ReQLSuspense","react","useInThreadBannerWithCta","useMWLSEnsureAdContextExists","useMWLSEnsureInThreadBannerExists","useMWLSInThreadBannerCtaParser","useReStore","useSinglePartialViewImpression","vulture"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=j||d("react");function l(a){var b=a.banner,e=a.impressionRef;a=a.threadKey;b=d("useInThreadBannerWithCta").useInThreadBannerWithCta(b,a);a=c("useMWLSInThreadBannerCtaParser")();return k.jsx(c("MWChatInThreadBanner.react"),{banner:b,ctaParser:a,impressionRef:e})}l.displayName=l.name+" [from "+f.id+"]";function a(a){var b=a.threadKey;c("vulture")("1mTn5s2a63q");c("useMWLSEnsureInThreadBannerExists")();c("useMWLSEnsureAdContextExists")();var e=(h||(h=c("useReStore")))(),g=d("ReQLSuspense").useFirst(function(){return d("ReQL").fromTableAscending(e.tables.in_thread_banner).getKeyRange(b)},[e,b],f.id+":58");a=g==null?void 0:g.cta1Type;var j=g==null?void 0:g.cta2Type,m=c("useSinglePartialViewImpression")({onImpressionStart:function(){(g==null?void 0:g.bannerCtaType)==="cm_thread_member_requests_view"&&d("GroupsCometChatsEngagementLogger").log({action:"impression",client_extras:{member_join_request_enabled:"1"},event:"request_to_join_banner",source:"request_to_join_activity_banner",surface:"thread_view",thread_id:(i||(i=d("I64"))).to_string(b)})}});return g==null||a==="proactive_warning_affirmative"||a==="proactive_warning_negative"||j==="proactive_warning_affirmative"||j==="proactive_warning_negative"||a==="ctx_whatsapp_redirect_banner"||j==="ctx_whatsapp_redirect_banner"?null:k.jsx(l,{banner:g,impressionRef:m,threadKey:b})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWMDotMeReferrerContext.react",["react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));c=h;e=c.createContext;var j=c.useContext,k=e();function a(a){var b=a.children;a=a.referrer;return i.jsx(k.Provider,{value:a,children:b})}a.displayName=a.name+" [from "+f.id+"]";function b(){return j(k)}g.MWMDotMeReferrerContextProvider=a;g.useMDotMeReferrer=b}),98);
__d("MWV2ThreadNullstatePill.react",["MWXPressable.react","react","useCurrentDisplayMode"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react"),j={dark_mode_legible_text_pill:{alignItems:"x6s0dn4",backgroundColor:"xmd5bsh",borderTopStartRadius:"xfh8nwu",borderTopEndRadius:"xoqspk4",borderBottomEndRadius:"x12v9rci",borderBottomStartRadius:"x138vmkv",boxShadow:"x1vnslfi",boxSizing:"x9f619",color:"xi81zsa",display:"x3nfvp2",fontSize:"x6prxxf",fontWeight:"xo1l8bm",justifyContent:"xl56j7k",marginTop:"xr9ek0c",marginEnd:"x1emribx",marginBottom:"xjpr12u",marginStart:"x1i64zmx",overflowWrap:"x1mzt3pk",paddingTop:"x123j3cw",paddingBottom:"xs9asl8",paddingStart:"x1ye3gou",paddingEnd:"xn6708d",paddingLeft:null,paddingRight:null,wordBreak:"x13faqbe",$$css:!0},pill:{alignItems:"x6s0dn4",backgroundColor:"x1eb86dx",borderTopStartRadius:"xfh8nwu",borderTopEndRadius:"xoqspk4",borderBottomEndRadius:"x12v9rci",borderBottomStartRadius:"x138vmkv",boxShadow:"x1vnslfi",boxSizing:"x9f619",color:"xxq4lyh",display:"x3nfvp2",fontSize:"x6prxxf",fontWeight:"xo1l8bm",justifyContent:"xl56j7k",marginTop:"xr9ek0c",marginEnd:"x1emribx",marginBottom:"xjpr12u",marginStart:"x1i64zmx",overflowWrap:"x1mzt3pk",paddingTop:"x123j3cw",paddingBottom:"xs9asl8",paddingStart:"x1ye3gou",paddingEnd:"xn6708d",paddingLeft:null,paddingRight:null,wordBreak:"x13faqbe",$$css:!0}};function a(a){var b=a.children;a=a.onClick;var d=c("useCurrentDisplayMode")()==="dark";return i.jsx(c("MWXPressable.react"),{onPress:a,overlayDisabled:!0,xstyle:function(){return[d?j.dark_mode_legible_text_pill:j.pill]},children:b})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("useMWV2SendIcebreakerMessage",["I64","Int64Hooks","LSFactory","LSIntEnum","LSMailboxType","LSNullstateCTAType","LSOptimisticSendMessageV2StoredProcedure","LSShape","LSThreadAttributionTypeUtil","LsBotComposerQuickReplyTappedFalcoEvent","LsBusinessWelcomePageGetStartedButtonTappedFalcoEvent","LsFalcoEventEntryPoint","MWMDotMeReferrerContext.react","MWPActor.react","MessagePowerUp","MessageSendClickFalcoEvent","gkx","promiseDone","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j;function a(a,b,e,g){var k=(j||(j=c("useReStore")))(),l=d("MWPActor.react").useActor(),m=d("MWMDotMeReferrerContext.react").useMDotMeReferrer();return d("Int64Hooks").useCallbackInt64(function(j,n){var o=d("LSThreadAttributionTypeUtil").getSource(a,e),p=j!=null?(h||(h=d("I64"))).equal(j.ctaType,(i||(i=d("LSIntEnum"))).ofNumber(c("LSNullstateCTAType").GET_STARTED))&&j.ctaId===n.ctaId:!1;j=c("gkx")("6771")&&j!=null&&(h||(h=d("I64"))).equal(j.ctaType,(i||(i=d("LSIntEnum"))).ofNumber(c("LSNullstateCTAType").ICEBREAKER))&&j.ctaId===n.ctaId;var q=p||j?m:void 0;c("promiseDone")(k.runInTransaction(function(e){return c("LSOptimisticSendMessageV2StoredProcedure")(c("LSFactory")(e),{extraSendMessageParams:d("LSShape").ofRecord({calculate_denormalizations:!0,initiating_source:(e=g)!=null?e:void 0,mark_read:!0,platform_ref:q,platform_token:n.platformToken,power_up_style:(i||(i=d("LSIntEnum"))).ofNumber(c("MessagePowerUp").NONE),source:o}),mailboxType:i.ofNumber(c("LSMailboxType").MESSENGER),senderId:l,text:n.title,threadKey:a,threadType:b})},"readwrite",void 0,void 0,f.id+":76"));var r=(h||(h=d("I64"))).to_string(a);if(p)c("LsBusinessWelcomePageGetStartedButtonTappedFalcoEvent").log(function(){return{page:{id:r}}});else{var s=(j=n.ctaIdentifier)!=null?j:"";c("LsBotComposerQuickReplyTappedFalcoEvent").log(function(){return{display:void 0,page:{id:r},quick_reply:{id:s,type:64}}})}c("MessageSendClickFalcoEvent").log(function(){return{message_send_source:{entry_point:d("LsFalcoEventEntryPoint").icebreaker}}})},[a,e,m,k,l,b,g])}g["default"]=a}),98);
__d("MWPersistentIcebreakers",["I64","Int64Hooks","LsBotComposerQuickReplyDisplayedFalcoEvent","MWV2ThreadNullstatePill.react","ReQL","ReQLSuspense","ServerTime","react","useMWV2SendIcebreakerMessage","useReStore","useStable","useVisibilityObserver"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=i||(i=d("react")),l=i.useState;function m(a){var b=a.initiatingSource,e=a.lsSource;e=e===void 0?"unknown":e;var f=a.nullstateCtas,g=a.threadKey;a=a.threadType;var h=c("useMWV2SendIcebreakerMessage")(g,a,e,b),i=f.map(function(a){return a.ctaIdentifier});a=l(!1);var m=a[0],n=a[1];e=c("useVisibilityObserver")({onVisible:d("Int64Hooks").useCallbackInt64(function(){if(!m&&i.length>0){n(!0);var a=(j||(j=d("I64"))).to_string(g);c("LsBotComposerQuickReplyDisplayedFalcoEvent").log(function(){return{displayed_quick_reply:{item_ids:i,num_items:i.length,type:60},page:{id:a}}})}},[m,i,g])});return k.jsx("div",babelHelpers["extends"]({className:"x1n2onr6 xh8yej3 x1eb86dx"},{ref:e,children:k.jsx("ul",babelHelpers["extends"]({className:"xuk3077 x1eb86dx x78zum5 xdt5ytf xm7lytj"},{children:f.map(function(a){if(a.ctaType==="nullstate_icebreaker")return k.createElement("li",babelHelpers["extends"]({className:"xamitd3 xsag5q8 xn6708d x1ye3gou x2b8uid"},{key:(j||(j=d("I64"))).to_string(a.ctaId)}),k.jsx(c("MWV2ThreadNullstatePill.react"),{onClick:function(){return h(void 0,a)},children:a.title}));else return null})}))}))}m.displayName=m.name+" [from "+f.id+"]";function a(a){var b=c("useStable")(function(){return d("ServerTime").getMillis()}),e=(h||(h=c("useReStore")))(),g=d("ReQLSuspense").useFirst(function(){return d("ReQL").fromTableAscending(e.tables.threads,["lastActivityTimestampMs"]).getKeyRange(a.threadKey)},[e,a.threadKey],f.id+":127");if(g==null)return null;return a.nullstateCtas.length===0||b-(j||(j=d("I64"))).to_int32(g.lastActivityTimestampMs)<216e5?null:k.jsx(m,babelHelpers["extends"]({},a))}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWQuickPromotionThreadViewBanner_eligiblePromotions.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"MWQuickPromotionThreadViewBanner_eligiblePromotions",selections:[{alias:null,args:null,concreteType:"QuickPromotion",kind:"LinkedField",name:"nodes",plural:!0,selections:[{alias:null,args:null,concreteType:"CometQuickPromotionSections",kind:"LinkedField",name:"comet_qp_sections",plural:!1,selections:[{alias:null,args:[{kind:"Literal",name:"supported",value:"3bJogu"}],concreteType:null,kind:"LinkedField",name:"renderer_strategy",plural:!1,selections:[{kind:"InlineFragment",selections:[{args:null,documentName:"MWQuickPromotionThreadViewBanner_eligiblePromotions",fragmentName:"CometQuickPromotionInboxThreadViewBannerRendererStrategy_promotion",fragmentPropName:"promotion",kind:"ModuleImport"}],type:"CometQuickPromotionInboxThreadViewBannerRendererStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"MWQuickPromotionThreadViewBanner_eligiblePromotions",fragmentName:"CometQuickPromotionChatTabNotificationSettingsBannerRendererStrategy_promotion",fragmentPropName:"promotion",kind:"ModuleImport"}],type:"CometQuickPromotionChatTabNotificationSettingsBannerRendererStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"MWQuickPromotionThreadViewBanner_eligiblePromotions",fragmentName:"CometQuickPromotionThemesThreadViewBannerRendererStrategy_promotion",fragmentPropName:"promotion",kind:"ModuleImport"}],type:"CometQuickPromotionThemesThreadViewBannerRendererStrategy",abstractKey:null}],storageKey:'renderer_strategy(supported:"3bJogu")'}],storageKey:null}],storageKey:null}],type:"ViewerEligibleQuickPromotionsConnection",abstractKey:null};e.exports=a}),null);
__d("MWQuickPromotionThreadViewBanner.react",["CometQuickPromotionLoggerContext.react","CometRelay","MWQuickPromotionThreadViewBanner_eligiblePromotions.graphql","react","useQuickPromotionFalcoEvent"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||d("react");function a(a){a=a.eligiblePromotions;a=d("CometRelay").useFragment(h!==void 0?h:h=b("MWQuickPromotionThreadViewBanner_eligiblePromotions.graphql"),a);a=a==null?void 0:(a=a.nodes[0])==null?void 0:(a=a.comet_qp_sections)==null?void 0:a.renderer_strategy;var e=c("useQuickPromotionFalcoEvent")({context_surface_id:8783,context_trigger:"messenger_thread_open"});return a==null?null:j.jsx(c("CometQuickPromotionLoggerContext.react").Provider,{value:e,children:j.jsx(d("CometRelay").MatchContainer,{match:a})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWQuickPromotionThreadViewBannerContainerQuery.graphql",["relay-runtime"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"community_id"},{defaultValue:null,kind:"LocalArgument",name:"fb_group_id"},{defaultValue:null,kind:"LocalArgument",name:"thread_id"},{defaultValue:null,kind:"LocalArgument",name:"trigger"}],b=[{kind:"Literal",name:"surface_nux_id",value:10999},{kind:"Variable",name:"trigger",variableName:"trigger"},{fields:[{fields:[{kind:"Variable",name:"community_id",variableName:"community_id"},{kind:"Variable",name:"fb_group_id",variableName:"fb_group_id"},{kind:"Variable",name:"thread_id",variableName:"thread_id"}],kind:"ObjectValue",name:"community_messaging_context"}],kind:"ObjectValue",name:"trigger_context_v2"}];return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"MWQuickPromotionThreadViewBannerContainerQuery",selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:null,args:b,concreteType:"ViewerEligibleQuickPromotionsConnection",kind:"LinkedField",name:"eligible_promotions",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"MWQuickPromotionThreadViewBanner_eligiblePromotions"}],storageKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"MWQuickPromotionThreadViewBannerContainerQuery",selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:null,args:b,concreteType:"ViewerEligibleQuickPromotionsConnection",kind:"LinkedField",name:"eligible_promotions",plural:!1,selections:[{alias:null,args:null,concreteType:"QuickPromotion",kind:"LinkedField",name:"nodes",plural:!0,selections:[{alias:null,args:null,concreteType:"CometQuickPromotionSections",kind:"LinkedField",name:"comet_qp_sections",plural:!1,selections:[{alias:null,args:[{kind:"Literal",name:"supported",value:"3bJogu"}],concreteType:null,kind:"LinkedField",name:"renderer_strategy",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"MWQuickPromotionThreadViewBanner_eligiblePromotions",fragmentName:"CometQuickPromotionInboxThreadViewBannerRendererStrategy_promotion",fragmentPropName:"promotion",kind:"ModuleImport"}],type:"CometQuickPromotionInboxThreadViewBannerRendererStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"MWQuickPromotionThreadViewBanner_eligiblePromotions",fragmentName:"CometQuickPromotionChatTabNotificationSettingsBannerRendererStrategy_promotion",fragmentPropName:"promotion",kind:"ModuleImport"}],type:"CometQuickPromotionChatTabNotificationSettingsBannerRendererStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"MWQuickPromotionThreadViewBanner_eligiblePromotions",fragmentName:"CometQuickPromotionThemesThreadViewBannerRendererStrategy_promotion",fragmentPropName:"promotion",kind:"ModuleImport"}],type:"CometQuickPromotionThemesThreadViewBannerRendererStrategy",abstractKey:null}],storageKey:'renderer_strategy(supported:"3bJogu")'}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}]},params:{id:"25202797479365985",metadata:{},name:"MWQuickPromotionThreadViewBannerContainerQuery",operationKind:"query",text:null}}}();b("relay-runtime").PreloadableQueryRegistry.set(a.params.id,a);e.exports=a}),null);
__d("MWQuickPromotionThreadViewBannerContainer.react",["CometErrorBoundary.react","CometPlaceholder.react","CometRelay","I64","MWCMGetValidId","MWLSThreadDisplayContext","MWQuickPromotionThreadViewBanner.react","MWQuickPromotionThreadViewBannerContainerQuery.graphql","emptyFunction","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=i||d("react"),l="CHAT_TAB_OPEN",m="MESSENGER_THREAD_OPEN";function n(a){switch(a){case"ChatTab":return l;default:return m}}function o(a){var e=a.communityId,f=a.fbGroupId;a=a.threadId;var g=d("MWLSThreadDisplayContext").useMWLSThreadDisplayContext();g=n(g);e=d("CometRelay").useLazyLoadQuery(h!==void 0?h:h=b("MWQuickPromotionThreadViewBannerContainerQuery.graphql"),{community_id:e!=null?(j||(j=d("I64"))).to_string(e):null,fb_group_id:d("MWCMGetValidId").MWCMHasValidFbGroupId(f)?(j||(j=d("I64"))).to_string(f):null,thread_id:(j||(j=d("I64"))).to_string(a),trigger:g});a=e==null?void 0:(f=e.viewer)==null?void 0:f.eligible_promotions;return a==null?null:k.jsx(c("MWQuickPromotionThreadViewBanner.react"),{eligiblePromotions:a})}o.displayName=o.name+" [from "+f.id+"]";function a(a){return k.jsx(c("CometErrorBoundary.react"),{fallback:c("emptyFunction"),children:k.jsx(c("CometPlaceholder.react"),{fallback:null,name:"MWQuickPromotionThreadViewBannerContainer",children:k.jsx(o,babelHelpers["extends"]({},a))})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWThreadNullstateGreetingAndInstruction.react",["fbt","MWPreloadedText","MWXText.react","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||(i=d("react")),k=i.useContext;function a(a){var b=a.nullstate;a=a.nullstateCtas;b=b.welcomeText;var d=k(c("MWPreloadedText")),e=h._(/*BTDS*/"__JHASH__zLWQrS74qZX__JHASH__");a=b!==e.toString()&&a.length>0;return d.text!=null||!a&&b==null?null:j.jsxs("div",babelHelpers["extends"]({className:"xurb0ha x1sxyh0"},{children:[b!=null&&j.jsx("div",babelHelpers["extends"]({className:"x1hhzuzn"},{children:j.jsx(c("MWXText.react"),{align:"center",color:"secondary",type:"headline4",children:b})})),a&&j.jsx("div",babelHelpers["extends"]({className:"x1hhzuzn"},{children:j.jsx(c("MWXText.react"),{align:"center",color:"secondary",type:"headline4",children:e})}))]}))}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("MWThreadNullstatePrivacyText.react",["fbt","I64","JSResourceForInteraction","LSIntEnum","LSNullstateCTAType","MWPreloadedText","MWXLink.react","MWXText.react","P2bDifferentiationPrivacyDisclosureOpenClickWebFalcoEvent","gkx","react","useMWXLazyDialog"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k,l=i||(i=d("react")),m=i.useContext;function a(a){var b=a.nullstate,e=a.threadKey;a=a.threadTitle;var f=m(c("MWPreloadedText")),g=b.privacyText,i=b.privacyTextCtaTitle,n=b.privacyTextNonWelcomeScreen;a=h._(/*BTDS*/"__JHASH__pMA_7iE0GY1__JHASH__",[h._param("name",a),h._param("= public info link",l.jsx(c("MWXLink.react"),{color_DEPRECATED:"primary",href:"https://www.facebook.com/help/messenger-app/719578818758231",role:"link",target:"_blank",children:l.jsx(c("MWXText.react"),{type:"body4",children:h._(/*BTDS*/"__JHASH__WAqQCKR95Tr__JHASH__")})}))]);var o=c("useMWXLazyDialog")(c("JSResourceForInteraction")("MWPrivacyDisclosureDialog.react").__setRef("MWThreadNullstatePrivacyText.react")),p=o[0];o=l.jsx(c("MWXLink.react"),{color_DEPRECATED:"primary",onClick:function(){p({entryPoint:"NULL_STATE",threadKey:e},function(){}),c("P2bDifferentiationPrivacyDisclosureOpenClickWebFalcoEvent").log(function(){return{consumer_id:"0",entry_point:"NULL_STATE",page_id:(j||(j=d("I64"))).to_string(e)}})},role:"link",target:"_blank",children:i!=null?l.jsx(c("MWXText.react"),{color:"blueLink",type:"body4",children:i}):null});i=f.text!=null&&!!n;f=i||g!=null?l.jsx(c("MWXText.react"),{color:"secondary",type:"body4",children:i?n:g}):null;return l.jsx(c("MWXText.react"),{align:"center",color:"secondary",type:"body4",children:c("gkx")("24144")&&(j||(j=d("I64"))).equal(b.privacyTextCtaType,(k||(k=d("LSIntEnum"))).ofNumber(c("LSNullstateCTAType").PRIVACY_DISCLOSURE))?l.jsxs(l.Fragment,{children:[f," ",o]}):a})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("MWV2ThreadNullstateCTAs.react",["I64","Int64Hooks","LSIntEnum","LSNullstateCTAType","LsBotComposerQuickReplyDisplayedFalcoEvent","MWV2ThreadNullstatePill.react","react","stylex","useMWV2SendIcebreakerMessage","useVisibilityObserver"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k,l=i||(i=d("react")),m=i.useState,n={cta_list_item:{alignSelf:"xamitd3",paddingBottom:"xsag5q8",paddingEnd:"xn6708d",paddingStart:"x1ye3gou",textAlign:"x2b8uid",$$css:!0},cta_list_item_center:{alignSelf:"xamitd3",paddingStart:"x1ye3gou",paddingEnd:"xn6708d",$$css:!0}};function a(a){var b=a.initiatingSource,e=a.lsSource,f=a.nullstate,g=a.nullstateCtas,i=a.threadKey;a=a.threadType;var o=c("useMWV2SendIcebreakerMessage")(i,a,e,b),p=g.map(function(a){return a.ctaIdentifier}).filter(Boolean);a=m(!1);var q=a[0],r=a[1];e=c("useVisibilityObserver")({onVisible:d("Int64Hooks").useCallbackInt64(function(){if(!q&&p.length>0){r(!0);var a=(j||(j=d("I64"))).to_string(i);c("LsBotComposerQuickReplyDisplayedFalcoEvent").log(function(){return{displayed_quick_reply:{item_ids:p,num_items:String(p.length),type:60},page:{id:a}}})}},[q,p,i])});return l.jsx("ul",babelHelpers["extends"]({className:"xuk3077 x78zum5 xdt5ytf xl56j7k xdj266r x11i5rnm xat24cr x1mh8g0r"},{ref:e,children:g.map(function(a){var b=(j||(j=d("I64"))).equal(f.ctaType,(k||(k=d("LSIntEnum"))).ofNumber(c("LSNullstateCTAType").GET_STARTED))&&f.ctaId!=null&&(j||(j=d("I64"))).equal(f.ctaId,a.ctaId);return l.createElement("li",babelHelpers["extends"]({},(h||(h=c("stylex"))).props(n.cta_list_item,b?n.cta_list_item_center:!1),{key:(j||(j=d("I64"))).to_string(a.ctaId)}),l.jsx(c("MWV2ThreadNullstatePill.react"),{onClick:function(){return o(f,a)},children:a.title}))})}))}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWV2ThreadNullstate.react",["Int64Hooks","LSThreadTitle.react","MWPreloadedText","MWThreadNullstateGreetingAndInstruction.react","MWThreadNullstatePrivacyText.react","MWV2ThreadNullstateCTAs.react","MWXScrollableArea.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react")),j=h.useContext,k={privacy_text_offset:{backgroundColor:"x1eb86dx",paddingBottom:"xg8j3zb",paddingTop:"x1iorvi4",$$css:!0}};function a(a){var b=a.initiatingSource,d=a.lsSource;d=d===void 0?"unknown":d;var e=a.nullstate,f=a.nullstateCtas,g=a.threadKey,h=a.threadName;a=a.threadType;var l=j(c("MWPreloadedText")),m=e.privacyText;l=i.jsxs("div",{children:[i.jsx(c("MWThreadNullstateGreetingAndInstruction.react"),{nullstate:e,nullstateCtas:f}),l.text!=null?null:i.jsx(c("MWV2ThreadNullstateCTAs.react"),{initiatingSource:b,lsSource:d,nullstate:e,nullstateCtas:f,threadKey:g,threadType:a}),m!=null?i.jsx("div",babelHelpers["extends"]({className:"xx6bls6 xurb0ha x1sxyh0"},{children:i.jsx(c("MWThreadNullstatePrivacyText.react"),{nullstate:e,threadKey:g,threadTitle:i.jsx(c("LSThreadTitle.react"),{thread:{threadKey:g,threadName:h,threadType:a},wrapOutput:function(a,b){return b}})})})):null]});return i.jsx(c("MWXScrollableArea.react"),{xstyle:k.privacy_text_offset,children:l})}a.displayName=a.name+" [from "+f.id+"]";b=i.memo(a,d("Int64Hooks").mostlyShallowEqual);g["default"]=b}),98);
__d("MWOpenThreadDetail.react",["CometDebounce","CometPageletWithDiv.react","CometPlaceholder.react","I64","Int64Hooks","LSAuthorityLevel","LSFactory","LSFetchAdditionalThreadDataStoredProcedure","LSIntEnum","LSMessagingThreadTypeUtil","LSThreadBitOffset","MWCMAutoJoinNotifNUX.react","MWCMThreadTypes.react","MWChatUnsendNUX.react","MWChatXACSunsettingBanner.react","MWContextBanner.react","MWLSThreadDisplayContext","MWMessageList","MWPActor.react","MWPMessageListColumn.react","MWPQuickReplies.react","MWPersistentIcebreakers","MWPreloadableQueries","MWQuickPromotionThreadViewBannerContainer.react","MWV2ThreadNullstate.react","Promise","ReQL","ReQLSuspense","asyncToGeneratorRuntime","cr:1598","cr:1600","cr:1690","cr:4723","cr:488","cr:5483","cr:9056","gkx","logMessengerWebFalcoEvent","promiseDone","react","useCommunityFolder","useLSMessagingInitiatingSource","useMWReportThreadOpenOnMountAndFocusWithLogger","usePageletMetadata","useReStore","vulture"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k,l,m=l||d("react"),n=c("CometDebounce")(c("logMessengerWebFalcoEvent"));function o(a){var b=(k||(k=c("useReStore")))(),e=d("ReQLSuspense").useFirst(function(){return d("MWPreloadableQueries").threadNullStateQuery(b,a)},[b,a],f.id+":97"),g=d("ReQLSuspense").useArray(function(){return d("MWPreloadableQueries").threadNullStateCtaQuery(b,a)},[b,a],f.id+":104");return[e,g]}function p(a,e){var f=(k||(k=c("useReStore")))();d("Int64Hooks").useEffectInt64(function(){c("promiseDone")(b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var c=(yield (h||(h=b("Promise"))).all([d("ReQL").firstAsync(d("ReQL").fromTableDescending(f.tables.threads).getKeyRange(a)),d("ReQL").firstAsync(d("ReQL").fromTableDescending(f.tables.messages).getKeyRange(a)),d("ReQL").toArrayAsync(d("ReQL").fromTableDescending(f.tables.reactions).getKeyRange(a).take(20))])),g=c[0],j=c[1];c=c[2];if(j==null||g==null)return;c=c.reduce(function(a,b){return(i||(i=d("I64"))).max(a,(a=b.reactionCreationTimestampMs)!=null?a:(i||(i=d("I64"))).zero)},(i||(i=d("I64"))).zero);j=i.max(j.timestampMs,c);c=i.compare(j,g.lastActivityTimestampMs)>-1;n({threadKey:g.threadKey,threadType:g.threadType},"thread_and_message_list_last_activity_mismatch",e,{hasMissingMessage:!c,threadLastActivityTimeMs:i.to_string(g.lastActivityTimestampMs),threadLastMessageTimeMs:i.to_string(j)})})())},[f,e,a])}function q(a){var e,g=a.entryPoint,h=a.messageListRef,l=a.thread;c("vulture")("4bWI2NjdIkz");var n=(k||(k=c("useReStore")))();a=o(l.threadKey);var q=a[0],r=a[1];a=d("ReQLSuspense").useFirst(function(){return d("ReQL").fromTableAscending(n.tables.cm_channel_list.index("threadIdCommunityId"),["channelPrivacy"]).getKeyRange(l.threadKey)},[n,l.threadKey],f.id+":197");e=(e=d("ReQLSuspense").useFirst(function(){return d("ReQL").fromTableAscending(n.tables.threads,["lastActivityTimestampMs"]).getKeyRange(l.threadKey).map(function(a){a=a.lastActivityTimestampMs;return!(i||(i=d("I64"))).equal(a,i.zero)})},[n,l.threadKey],f.id+":206"))!=null?e:!1;c("usePageletMetadata")("threadType",(i||(i=d("I64"))).to_string(l.threadType));var s=d("MWPActor.react").isAPPlus(),t=d("LSMessagingThreadTypeUtil").isDiscoverablePublicBroadcastChannel(l.threadType),u=c("useLSMessagingInitiatingSource")(),v=b("cr:9056")!=null?m.jsx(b("cr:9056"),{thread:l}):null,w=d("MWCMThreadTypes.react").isJoinedCMThread(l.threadType),x=d("LSThreadBitOffset").has(167,l)&&w,y=d("LSThreadBitOffset").has(193,l);d("Int64Hooks").useEffectInt64(function(){x&&c("promiseDone")(n.runInTransaction(function(a){return c("LSFetchAdditionalThreadDataStoredProcedure")(c("LSFactory")(a),{threadKey:l.threadKey})},"readwrite",void 0,void 0,f.id+":241"))},[n,l.threadKey,x]);var z=d("Int64Hooks").useCallbackInt64(function(){return m.jsxs(m.Fragment,{children:[m.jsx(c("MWPQuickReplies.react"),{threadKey:l.threadKey}),m.jsx(c("MWPersistentIcebreakers"),{initiatingSource:u,lsSource:"inboxInThread",nullstateCtas:r,threadKey:l.threadKey,threadType:l.threadType})]})},[l.threadKey,l.threadType,r,u]),A=d("Int64Hooks").useCallbackInt64(function(){return m.jsxs(d("MWPMessageListColumn.react").MWPMessageListColumnGrowJustified,{children:[m.jsx(d("MWPMessageListColumn.react").MWPMessageListColumnVerticalRhythm,{height:20}),m.jsx(c("MWContextBanner.react"),{threadKey:l.threadKey,threadType:l.threadType}),m.jsx(d("MWPMessageListColumn.react").MWPMessageListColumnVerticalRhythm,{height:10})]})},[l.threadKey,l.threadType]);p(l.threadKey,g);var B=c("useCommunityFolder")(l),C=d("MWLSThreadDisplayContext").useMWLSThreadDisplayContext();C=C!=null&&C==="ChatTab";a=(a==null?void 0:a.channelPrivacy)!=null&&(i||(i=d("I64"))).equal(a==null?void 0:a.channelPrivacy,(j||(j=d("LSIntEnum"))).ofNumber(2));var D=c("gkx")("23433"),E=c("gkx")("23434"),F=i.ge(l.authorityLevel,(j||(j=d("LSIntEnum"))).ofNumber(c("LSAuthorityLevel").AUTHORITATIVE));C=b("cr:4723")!=null&&!C?m.jsx(b("cr:4723"),{thread:l}):null;var G=b("cr:1690")!=null?m.jsx(b("cr:1690"),{thread:l}):null;y=c("MWChatXACSunsettingBanner.react")!=null&&y?m.jsx(c("MWChatXACSunsettingBanner.react"),{}):null;var H=b("cr:5483")!=null&&w&&!a?m.jsx(c("CometPlaceholder.react"),{fallback:null,name:"MWOpenThreadDetail.CommunityMessagingNUXDialog",children:m.jsx(b("cr:5483"),{folderId:l.parentThreadKey})}):null;D=b("cr:1598")!=null&&w&&a&&D?m.jsx(b("cr:1598"),{groupId:l.parentThreadKey,threadId:l.threadKey}):null;w=b("cr:488")!=null&&w&&a&&E?m.jsx(b("cr:488"),{groupId:l.parentThreadKey,threadId:l.threadKey}):null;a=F?m.jsx(c("MWQuickPromotionThreadViewBannerContainer.react"),{communityId:B==null?void 0:B.folderId,fbGroupId:B==null?void 0:B.fbGroupId,threadId:l.threadKey}):null;E=c("useMWReportThreadOpenOnMountAndFocusWithLogger")(l);return q!=null&&!e?m.jsxs(m.Fragment,{children:[E,a,v,m.jsx(c("MWCMAutoJoinNotifNUX.react"),{thread:l}),G,H,D,w,y,C,m.jsx(c("MWContextBanner.react"),{threadKey:l.threadKey,threadType:l.threadType}),m.jsx(d("MWPMessageListColumn.react").MWPMessageListColumnGrow,{children:null}),m.jsx(c("MWV2ThreadNullstate.react"),{initiatingSource:u,lsSource:"inboxInThread",nullstate:q,nullstateCtas:r,threadKey:l.threadKey,threadName:l.threadName,threadType:l.threadType})]}):m.jsxs(m.Fragment,{children:[E,a,v,m.jsx(c("MWCMAutoJoinNotifNUX.react"),{thread:l}),G,y,H,D,w,m.jsx(c("MWChatUnsendNUX.react"),{senderUnsendNUXEnabled:!0}),C,m.jsx(c("MWMessageList"),{entryPoint:g,ref:h,renderFooter:z,renderHeader:A,thread:l}),s&&t&&b("cr:1600")!=null?m.jsx(b("cr:1600"),{thread:l}):null]})}q.displayName=q.name+" [from "+f.id+"]";function a(a){var b=a.entryPoint,e=a.messageListRef;a=a.thread;c("vulture")("6oYKuD2y7ib");return m.jsx(d("CometPageletWithDiv.react").Div,{className:"x78zum5 xdt5ytf x1iyjqo2 x5yr21d",name:"MWOpenThreadDetail",children:m.jsx(q,{entryPoint:b,messageListRef:e,thread:a})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWOpenAndSecureThreadView.react",["I64","LSIntEnum","LSMessagingThreadTypeUtil","MWLSDatabaseLazySync","MWOpenThreadDetail.react","MWPAudioPlaybackThreadContext.react","MWPThreadGradientBackground.react","MessengerWebUXLogger","cr:2441","cr:9772","promiseDone","react","useGroupsCometChatsEngagementImpressionLogger","useIsChatPreviewsEnabled","useIsReactionsV2Enabled","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k,l=k||(k=d("react"));e=k;var m=e.memo,n=e.useEffect;function a(a){var e=a.entryPoint,f=a.isMinimizedChatTab;f=f===void 0?!1:f;var g=a.messageListRef;a=a.thread;var k=(h||(h=c("useReStore")))(),m=d("useIsReactionsV2Enabled").useIsReactionsV2Enabled(a.threadKey),o=c("MessengerWebUXLogger").useImpressionLoggerRef({eventName:"thread_view_impression"}),p=c("useGroupsCometChatsEngagementImpressionLogger")({client_extras:e?{entry_point:e}:void 0,community_id:(i||(i=d("I64"))).to_string(a.parentThreadKey),event:"chat_preview_open",surface:"chat_preview",thread_id:i.to_string(a.threadKey)});n(function(){m&&c("promiseDone")(d("MWLSDatabaseLazySync").sync(k,(j||(j=d("LSIntEnum"))).ofNumber(118)))},[k,m]);var q=d("LSMessagingThreadTypeUtil").isArmadilloSecure(a.threadType),r=d("useIsChatPreviewsEnabled").useIsChatPreviewsEnabled(a.threadKey);return l.jsx("div",babelHelpers["extends"]({className:"x78zum5 xdt5ytf x1iyjqo2"},{ref:r?p:o,children:l.jsx(d("MWPThreadGradientBackground.react").MWPThreadGradientBackground,{children:l.jsxs(d("MWPAudioPlaybackThreadContext.react").MWPAudioPlaybackThreadContextProvider,{threadKey:a.threadKey,children:[b("cr:9772")==null||!q?l.jsx(c("MWOpenThreadDetail.react"),{entryPoint:e,messageListRef:g,thread:a}):l.jsx(b("cr:9772"),{entryPoint:e,messageListRef:g,thread:a}),b("cr:2441")&&l.jsx(b("cr:2441"),{isMinimizedChatTab:f,threadKey:a.threadKey})]})})}))}a.displayName=a.name+" [from "+f.id+"]";e=m(a);g["default"]=e}),98);
__d("MWPNewMessageAnnouncementForScreenReaders.react",["fbt","CometAccessibilityAnnouncementForDynamicContent.react","CometErrorBoundary.react","CometPageletWithDiv.react","I64","Int64Hooks","LSAuthorityLevel","LSIntEnum","LSMessageReplySourceTypeV2","MWPActor.react","MWPAttachmentDataContext","MWPForwardedContent","Promise","ReQL","ServerTime","clearTimeout","cr:2472","getMWPAttachmentMessageAnnouncement","mwpMessageHasAttachment","promiseDone","react","setTimeout","useReStore","vulture"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k,l,m,n=k||(k=d("react"));e=k;var o=e.useCallback,p=e.useEffect,q=e.useRef,r=e.useState;function s(a){var b=a.message;a=a.outgoing;b=d("MWPForwardedContent").useTitle(b,a);return h._(/*BTDS*/"__JHASH__Q9FyIHvWIxM__JHASH__",[h._param("forward title",b)])}s.displayName=s.name+" [from "+f.id+"]";function t(a){var b=a.message,e=a.participant;a=a.sender;var f=d("MWPActor.react").useActor();f=(l||(l=d("I64"))).equal(a.id,f);var g=b.replySourceTypeV2!=null&&(l||(l=d("I64"))).equal(b.replySourceTypeV2,(m||(m=d("LSIntEnum"))).ofNumber(c("LSMessageReplySourceTypeV2").FORWARD));e=(e=(e=e==null?void 0:e.nickname)!=null?e:a.firstName)!=null?e:a.name;if(g)return n.jsx(s,{message:b,outgoing:f});a=b.replySnippet;if(a!=null)return h._(/*BTDS*/"__JHASH__LPdQYmdaw5d__JHASH__",[h._param("reply snippet",a)]);else if(f)return h._(/*BTDS*/"__JHASH__1b0bN0cduWX__JHASH__");else return h._(/*BTDS*/"__JHASH__3ymXOGN3z8-__JHASH__",[h._param("name of sender",e)])}t.displayName=t.name+" [from "+f.id+"]";function u(a){a=a.message;a=d("MWPAttachmentDataContext").useMWPGetAttachments(a);return c("getMWPAttachmentMessageAnnouncement")(a)}u.displayName=u.name+" [from "+f.id+"]";function v(a){var d=a.message,e=a.participant;a=a.sender;var f=r(!1),g=f[0],h=f[1];p(function(){var a=c("setTimeout")(function(){return h(!0)},100);return function(){c("clearTimeout")(a)}},[]);if(!g)return null;f=d.text!=null&&b("cr:2472")!=null?b("cr:2472").unvault(d.text):d.text;return n.jsxs(c("CometAccessibilityAnnouncementForDynamicContent.react"),{children:[n.jsx(t,{message:d,participant:e,sender:a}),f!=null?f:null,c("mwpMessageHasAttachment")(d)?n.jsx(u,{message:d}):null]})}v.displayName=v.name+" [from "+f.id+"]";function w(a,e){var f=(j||(j=c("useReStore")))(),g=d("MWPActor.react").useActor(),h=q(d("ServerTime").getMillis()),k=e.threadKey;d("Int64Hooks").useEffectInt64(function(){return d("ReQL").fromTableAscending(f.tables.messages).getKeyRange(k).subscribe(function(e,g){if(g.operation!=="add")return;var j=g.value;(l||(l=d("I64"))).to_float(j.timestampMs)>h.current&&(h.current=(l||(l=d("I64"))).to_float(j.timestampMs),c("promiseDone")((i||(i=b("Promise"))).all([d("ReQL").firstAsync(d("ReQL").fromTableAscending(f.tables.contacts).getKeyRange(j.senderId)),d("ReQL").firstAsync(d("ReQL").fromTableAscending(f.tables.participants).getKeyRange(j.threadKey,j.senderId))]),function(b){var c=b[0];b=b[1];if(c!=null)return a(j,c,b)}))})},[f,g,a,k])}function x(a){a=a.thread;c("vulture")("4cEduO4NbCx");var b=r(null),e=b[0],f=b[1];b=o(function(a,b,e){if((l||(l=d("I64"))).equal(a.authorityLevel,(m||(m=d("LSIntEnum"))).ofNumber(c("LSAuthorityLevel").AUTHORITATIVE)))return f(function(){return n.jsx(v,{message:a,participant:e,sender:b})})},[]);w(b,a);return e}x.displayName=x.name+" [from "+f.id+"]";function a(a){a=babelHelpers["extends"]({},a);c("vulture")("akazvddMzB5");return n.jsx(c("CometErrorBoundary.react"),{fallback:void 0,children:n.jsx(d("CometPageletWithDiv.react").Placeholder,{fallback:null,name:"MWPNewMessageAnnouncementForScreenReaders",children:n.jsx(x,babelHelpers["extends"]({},a))})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("MWXIconPlusCircle",["MWXSvgIcon","SVGIcon","cr:12533","gkx"],(function(a,b,c,d,e,f,g){"use strict";a=d("MWXSvgIcon").mwxSvgIcon(d("SVGIcon").svgIcon(b("cr:12533")),c("gkx")("23219"));g["default"]=a}),98);
__d("XPlatWebAudioPlaybackContextProvider.react",["cr:6234","react"],(function(a,b,c,d,e,f,g){"use strict";var h;h||d("react");function a(a){a=a.children;return a}a.displayName=a.name+" [from "+f.id+"]";e=(c=b("cr:6234")==null?void 0:b("cr:6234").MWPAudioPlaybackContextProvider)!=null?c:a;d=e;g["default"]=d}),98);
__d("useC4gEngagementImpressionLogging",["GroupsCometChatsEngagementLogger","I64","Int64Hooks","MWV2IsTabFocusedContext.react","mwCMIsAnyCMThread","mwCMIsCMSubthread","useC4GEngagementSurface"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a){var b=a.isSubthreadDisplayed,e=b===void 0?!1:b,f=a.threadKey,g=a.threadType,i=d("MWV2IsTabFocusedContext.react").useIsTabFocused(),j=c("useC4GEngagementSurface")();d("Int64Hooks").useEffectInt64(function(){i&&(c("mwCMIsAnyCMThread")(g)||c("mwCMIsCMSubthread")(g)&&e)&&d("GroupsCometChatsEngagementLogger").log({action:"impression",client_extras:c("mwCMIsCMSubthread")(g)?{is_subthread:"1"}:void 0,event:"thread_focus",source:"thread_view",surface:j,thread_id:(h||(h=d("I64"))).to_string(f)})},[f,g,i,j,e])}g["default"]=a}),98);
__d("useMAWFetchSecureMessageByPinnedExternalId",["LSMEBTaskCreationSource","MAWBridgeSendAndReceive","MAWMiActOnActThreadReady","MAWPutMessagesToDB","MAWStateContext.react","MWEBEntrypointsKillswitch.enum","ReQL","ReQLSuspense","WAJids","WAStanzaUtils","asyncToGeneratorRuntime","promiseDone","react","requireDeferred","useMWEBBackupState","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=(i||d("react")).useContext,k=c("requireDeferred")("MAWBridgeIssuePointQueryHandler").__setRef("useMAWFetchSecureMessageByPinnedExternalId");function l(a){return m.apply(this,arguments)}function m(){m=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=a.config;a=a.externalId;return babelHelpers["extends"]({},yield d("MAWBridgeSendAndReceive").sendAndReceive("backend","loadMsgsByExternalId",{config:b,externalId:d("WAStanzaUtils").toStanzaId(a)}))});return m.apply(this,arguments)}function n(a,b,c,d,e){return o.apply(this,arguments)}function o(){o=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,e,g,h,i){e=(yield d("MAWMiActOnActThreadReady").waitForACTThreadReady(a.tables,e,"MAWFetchPinnedMessage"));var j=e.chatJid;e=(yield l({config:{admin:!0,editMsgHistory:!1,media:!0,reactions:!1,receiverFetch:!0,xma:!0},externalId:g}));yield d("MAWPutMessagesToDB").insertMessageResponseIntoDatabaseByExternalId(a,e,i);if(e.msgs.length>0||!h)return;var m=(yield k.load());return a.runInTransaction(function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){yield m.call(a,{jid:j,messageId:g,taskSource:c("LSMEBTaskCreationSource").EB_POINT_QUERY_PINNED_MESSAGES,threadId:d("WAJids").threadIdForChatJid(j)})});return function(b){return a.apply(this,arguments)}}(),"readwrite",void 0,void 0,f.id+":105")});return o.apply(this,arguments)}function a(a){var b=(h||(h=c("useReStore")))(),e=j(d("MAWStateContext.react").MAWDispatchContext),g=c("useMWEBBackupState")({entrypoint:c("MWEBEntrypointsKillswitch.enum").PINNED_MESSAGES}),i=g===3;g=d("ReQLSuspense").useArray(function(){return d("ReQL").fromTableDescending(b.tables.client_web_pinned_messages.index("pinnedMessageDisplayOrder")).getKeyRange(a).map(function(g){g=g.offlineThreadingId;var h=d("ReQLSuspense").first(d("ReQL").fromTableDescending(b.tables.messages.index("optimistic")).getKeyRange(g),f.id+":136");h==null&&c("promiseDone")(n(b,a,g,i,e));return{message:h,pinnedOfflineThreadingId:g}})},[b,a,i,e],f.id+":126");return g.map(function(a){return a.message}).filter(function(a){return!(a==null?void 0:a.isUnsent)})}g["default"]=a}),98);
__d("useMWInboxMessageSearchRestoreTrigger",["Int64Hooks","MAWFTSRestoreSyncDeferred","MAWMiActOnActThreadReadyDeferred","MWLSThreadDisplayContext","Promise","justknobx","promiseDone","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=(i||d("react")).useRef,k=c("justknobx")._("2655");function a(a,e){var f=j(null),g=d("MWLSThreadDisplayContext").useMWLSThreadDisplayContext();d("Int64Hooks").useEffectInt64(function(){if(g!=="Inbox")return;f.current!=null&&window.clearTimeout(f.current);f.current=window.setTimeout(function(){c("promiseDone")(d("MAWFTSRestoreSyncDeferred").getInstance().then(function(d){c("promiseDone")(c("MAWMiActOnActThreadReadyDeferred")(a,e,"useMWInboxMessageSearchRestoreTrigger",function(a,e){d.setActiveThreadId(e);c("promiseDone")(d.startSyncingLoop());return(h||(h=b("Promise"))).resolve()}))}))},k);return function(){c("promiseDone")(d("MAWFTSRestoreSyncDeferred").getInstance().then(function(a){a.setActiveThreadId(null)})),f.current!=null&&window.clearTimeout(f.current)}},[a,g,e])}g["default"]=a}),98);